{
  "title": "Tailscale",
  "content": "import { Callout } from 'fumadocs-ui/components/callout';\n\nTailscale creates a secure, private network that connects your devices and servers using WireGuard. This allows you to access your Dokploy applications and servers securely without opening ports on your firewall or exposing services to the public internet.\n\n**Tailscale is particularly useful for preventing unauthorized access to your services.** By keeping your Dokploy instance and applications on a private network, only devices that are explicitly added to your Tailscale network can access them. This means your services remain completely private and invisible to the public internet, significantly reducing the attack surface and preventing unauthorized users from discovering or accessing your infrastructure.\n\n## What is Tailscale?\n\nTailscale is a zero-config VPN that creates a mesh network between your devices and servers. It uses the WireGuard protocol to establish encrypted connections, making it easy to access your infrastructure securely from anywhere.\n\n* **Zero-Config VPN**: Automatic key management and network setup\n* **No Port Forwarding**: Access services without opening firewall ports\n* **Secure by Default**: All traffic is encrypted end-to-end\n* **Private Services**: Keep your services completely private and prevent unauthorized access\n* **Easy Access**: Connect from any device with Tailscale installed\n* **Private IPs**: Each device gets a private IP address (100.x.x.x)\n* **Free Tier Available**: Up to 100 devices for personal use\n* **ACLs**: Fine-grained access control lists for security\n\nBefore setting up Tailscale with Dokploy, ensure you have:\n\n* A Tailscale account (free tier works)\n* Dokploy installed and running\n* Access to your server via SSH or console\n* Tailscale installed on your client devices (optional, for accessing services)\n\n<Callout type=\"info\">\n  Tailscale works great for accessing Dokploy's admin interface and your applications from anywhere, without exposing them to the public internet. This keeps your services private and prevents unauthorized users from discovering or accessing them.\n</Callout>\n\nThis guide will walk you through setting up Tailscale to securely access your Dokploy server and applications through a private network.\n\n### Step 1: Prerequisites\n\nBefore starting, ensure you have:\n\n1. **Dokploy installed and running** - Follow the [installation guide](/docs/core/installation) if needed\n2. **A Tailscale account** - Create one at [tailscale.com](https://login.tailscale.com/login) (free tier works)\n\n### Step 2: Get Docker Network Subnet\n\nFirst, we need to identify the Docker network subnet that Dokploy uses. This will be advertised to the Tailscale network to allow access to your containers.\n\nRun the following command on your Dokploy server:\n\nYou should see output like this:\n\nCopy the subnet value (e.g., `10.254.0.0/24`) - you'll need it in the next step.\n\n### Step 3: Configure Tailscale Server\n\nNow we'll set up Tailscale on your Dokploy server with subnet routing enabled.\n\n#### 3.1: Create Server in Tailscale Admin\n\n1. Go to [Tailscale Admin Console](https://login.tailscale.com/admin/machines/new-linux)\n2. Click **Add a device** → **Linux**\n3. Scroll down and click **Generate install script**\n\nYou'll see a script like this:\n\n#### 3.2: Modify the Install Command\n\nWe need to modify this command to:\n\n* Enable SSH access with the `--ssh` flag\n* Advertise the Docker subnet with `--advertise-routes` flag\n\nReplace `subnet-of-docker` with the subnet you copied in Step 2:\n\n<Callout type=\"warn\">\n  Replace `10.254.0.0/24` with your actual Docker network subnet from Step 2.\n</Callout>\n\n#### 3.3: Run the Command\n\nExecute the modified command on your Dokploy server terminal.\n\n#### 3.4: Approve Subnet Routes\n\nAfter running the command, you need to approve the subnet routes in Tailscale:\n\n1. Go to [Tailscale Admin Console](https://login.tailscale.com/admin/machines/)\n2. Find your server and approve the advertised routes\n\n#### 3.5: Verify Server Connection\n\nVerify that your server is connected to Tailscale:\n\nYou should see your server listed. Get the server's Tailscale IP address:\n\nThis will return something like:\n\nCopy this IPv4 address - you'll use it to access your server and Dokploy.\n\n### Step 4: Configure Client Devices\n\nNow you'll set up client devices (your computer, phone, etc.) to connect to the Tailscale network.\n\n#### 4.1: Add Client Device\n\n1. Go to [Tailscale Admin Console](https://login.tailscale.com/admin/machines)\n2. Click **Add a device** → **Client device**\n3. Select your device type:\n   * Windows\n   * macOS\n   * Linux\n   * Android\n   * iPhone & iPad\n   * Synology\n\n#### 4.2: Install Tailscale on Client\n\n* Download the native app from [tailscale.com/download/macos](https://tailscale.com/download/macos)\n* Install and authenticate with your Tailscale account\n\n**For other platforms:**\n\n* Visit [tailscale.com/download](https://tailscale.com/download) for your specific platform\n* Follow the installation instructions\n\nLogin to your Tailscale account and you should see both your server and client device connected to the network it will also display in the tailscale dashboard.\n\n### Step 5: Access Dokploy via Tailscale\n\nNow you can access Dokploy and your applications through the Tailscale network.\n\n#### Access Dokploy Dashboard\n\n1. Use your server's Tailscale IP address (from Step 3.5):\n   \n   Replace `100.100.100.100` with your actual Tailscale IP.\n\n2. Or use the Tailscale hostname (if MagicDNS is enabled):\n\nYou can also SSH into your server using the Tailscale IP:\n\nReplace `100.100.100.100` with your server's Tailscale IP address.\n\n<Callout type=\"info\">\n  With this setup, you can access Dokploy and your applications without any port forwarding or exposing services to the public internet. Only devices in your Tailscale network can access these services, ensuring they remain private and protected from unauthorized access.\n</Callout>\n\n## Configuring Applications\n\n### Accessing Applications via Tailscale\n\nOnce Tailscale is set up, you can access your Dokploy applications through the Tailscale network:\n\n1. **Using Tailscale IP**: Access applications directly using your server's Tailscale IP and the port configured in Dokploy\n2. **Using Tailscale DNS**: Use your server's Tailscale hostname (e.g., `your-server.tailscale.ts.net`)\n\n### Example: Accessing an Application\n\nIf you have an application running on port `8080`:\n\n1. Get your server's Tailscale IP:\n\n2. Access your application your application/compose should expose the port:\n\nYou can access from your client device or any device in the Tailscale network.\n\n## Advanced Configuration\n\n### Enabling MagicDNS\n\nMagicDNS provides automatic DNS resolution for devices in your Tailscale network:\n\n1. Go to [Tailscale Admin Console](https://login.tailscale.com/admin/dns)\n2. Enable **MagicDNS**\n3. Optionally add custom DNS names for your devices\n\nWith MagicDNS enabled, you can access your server using its hostname.\n\nFor example, to access the Dokploy dashboard (which runs on port 3000):\n\n### Using Custom Domains with MagicDNS\n\nIf you want to use a custom domain for your Dokploy server, you'll need to find the Full Domain assigned by Tailscale:\n\n1. Go to [Tailscale Admin Console](https://login.tailscale.com/admin/machines/)\n2. Navigate to **Machines** and search for your server\n3. Scroll down to find the **Full Domain** field\n4. The Full Domain will look something like: `ubuntu-2gb-ash-4.tail1ff529.ts.net`\n\nOnce you have the Full Domain, you can use it to access your Dokploy server:\n\n<Callout type=\"info\">\n  Replace `ubuntu-2gb-ash-4.tail1ff529.ts.net` with your actual server's Full Domain from the Tailscale admin console.\n</Callout>\n\n## Securing Your Server with UFW\n\nOnce Tailscale is configured, you can further enhance your server's security by using UFW (Uncomplicated Firewall) to block all public internet traffic and only allow connections through Tailscale. This prevents unauthorized access attempts and bot attacks that are common on public-facing servers.\n\n<Callout type=\"warn\">\n  **Important**: Before proceeding, ensure you can SSH into your server using the Tailscale IP address (from Step 3.5). If you lock down SSH access and lose Tailscale connectivity, you may need console access to your server to regain access.\n</Callout>\n\n### Why Use UFW with Tailscale?\n\nServers on the public internet are constantly scanned and attacked by bots looking for vulnerabilities. By using UFW to block all public traffic and only allowing Tailscale connections, you:\n\n* **Eliminate attack surface**: Your server becomes invisible to attackers on the public internet\n* **Prevent bot scans**: No more failed login attempts in your logs\n* **Maintain easy access**: You can still access everything through your private Tailscale network\n* **Keep services private**: Dokploy (port 3000) and Traefik (ports 80/443) are only accessible through Tailscale\n\n### Step 1: SSH Over Tailscale\n\nBefore locking down public access, verify you can SSH using your Tailscale IP:\n\n1. Get your server's Tailscale IP:\n\n2. Exit your current SSH session and reconnect using the Tailscale IP:\n\nIf you can successfully connect, you're ready to proceed.\n\n### Step 2: Enable UFW\n\nUFW comes pre-installed on Ubuntu. Enable it:\n\n### Step 3: Configure Default Rules\n\nSet UFW to deny all incoming traffic by default, but allow all outgoing traffic:\n\n### Step 4: Allow Tailscale Traffic\n\nAllow all traffic on the Tailscale interface (`tailscale0`):\n\nThis ensures all Tailscale connections work properly, including:\n\n* SSH access\n* Dokploy dashboard (port 3000)\n* Traefik (ports 80/443)\n* All your applications\n\n### Step 5: Review and Remove Public Access Rules\n\nCheck your current firewall rules:\n\nYou might see rules like:\n\nSince we're using Tailscale for all access, your server is now configured to only accept connections through the Tailscale network. This means:\n\n* ✅ **SSH access**: Only available via Tailscale IP\n* ✅ **Dokploy dashboard**: Only accessible via Tailscale IP\n* ✅ **Traefik**: Only accessible via Tailscale IP\n* ✅ **All applications**: Only accessible via Tailscale IP\n\n<Callout type=\"warn\">\n  **Important Note About Docker and UFW**: Docker directly manipulates `iptables`, which can bypass UFW rules. This means Docker-published ports (like Dokploy on port 3000 or Traefik on ports 80/443) might still be accessible from the public internet even with UFW configured.\n\n1. **Use your VPS provider's firewall** (recommended): Configure your cloud provider's firewall to block public access to ports 22, 80, 443, and 3000. This operates before Docker's iptables rules.\n\n2. **Use ufw-docker utility**: This tool integrates Docker with UFW properly. However, with Tailscale and subnet routing, this is usually not necessary since all access goes through Tailscale.\n\n3. **Bind Docker ports to localhost**: Modify Docker services to bind to `127.0.0.1` instead of `0.0.0.0`, but this may break Tailscale access unless configured carefully.\n\nFor Dokploy with Tailscale, the recommended approach is to use your VPS provider's firewall to block public access, as this provides the most reliable protection.\n</Callout>\n\nWith this configuration, your server is now protected from public internet access. All services (SSH, Dokploy, Traefik, and applications) are only accessible through your private Tailscale network, ensuring they remain secure and invisible to unauthorized users.",
  "code_samples": [
    {
      "code": "docker network inspect dokploy-network | grep Subnet",
      "language": "bash"
    },
    {
      "code": "\"Subnet\": \"10.254.0.0/24\",",
      "language": "unknown"
    },
    {
      "code": "curl -fsSL https://tailscale.com/install.sh | sh && sudo tailscale up --auth-key=tskey-auth-something-random",
      "language": "bash"
    },
    {
      "code": "curl -fsSL https://tailscale.com/install.sh | sh && sudo tailscale up --ssh --advertise-routes=10.254.0.0/24 --auth-key=tskey-auth-something-random",
      "language": "bash"
    },
    {
      "code": "sudo tailscale status",
      "language": "bash"
    },
    {
      "code": "sudo tailscale ip -4",
      "language": "bash"
    },
    {
      "code": "100.100.100.100",
      "language": "unknown"
    },
    {
      "code": "http://100.100.100.100:3000",
      "language": "unknown"
    },
    {
      "code": "http://your-server-name.tailscale.ts.net:3000",
      "language": "unknown"
    },
    {
      "code": "ssh root@100.100.100.100",
      "language": "bash"
    },
    {
      "code": "sudo tailscale ip -4",
      "language": "bash"
    },
    {
      "code": "http://YOUR_TAILSCALE_IP:8080",
      "language": "unknown"
    },
    {
      "code": "http://your-server-name.tailscale.ts.net:3000",
      "language": "unknown"
    },
    {
      "code": "http://ubuntu-2gb-ash-4.tail1ff529.ts.net:3000",
      "language": "unknown"
    },
    {
      "code": "sudo tailscale ip -4",
      "language": "bash"
    },
    {
      "code": "exit\n   ssh <username>@<tailscale-ip>",
      "language": "bash"
    },
    {
      "code": "sudo ufw enable",
      "language": "bash"
    },
    {
      "code": "sudo ufw default deny incoming\nsudo ufw default allow outgoing",
      "language": "bash"
    },
    {
      "code": "sudo ufw allow in on tailscale0",
      "language": "bash"
    },
    {
      "code": "sudo ufw status verbose",
      "language": "bash"
    },
    {
      "code": "To                          Action      From\n--                         ------      ----\nAnywhere on tailscale0     ALLOW       Anywhere                  \nAnywhere (v6) on tailscale0 ALLOW       Anywhere (v6)",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "What is Tailscale?",
      "id": "what-is-tailscale?"
    },
    {
      "level": "h3",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Tailscale Setup",
      "id": "tailscale-setup"
    },
    {
      "level": "h3",
      "text": "Step 1: Prerequisites",
      "id": "step-1:-prerequisites"
    },
    {
      "level": "h3",
      "text": "Step 2: Get Docker Network Subnet",
      "id": "step-2:-get-docker-network-subnet"
    },
    {
      "level": "h3",
      "text": "Step 3: Configure Tailscale Server",
      "id": "step-3:-configure-tailscale-server"
    },
    {
      "level": "h3",
      "text": "Step 4: Configure Client Devices",
      "id": "step-4:-configure-client-devices"
    },
    {
      "level": "h3",
      "text": "Step 5: Access Dokploy via Tailscale",
      "id": "step-5:-access-dokploy-via-tailscale"
    },
    {
      "level": "h2",
      "text": "Configuring Applications",
      "id": "configuring-applications"
    },
    {
      "level": "h3",
      "text": "Accessing Applications via Tailscale",
      "id": "accessing-applications-via-tailscale"
    },
    {
      "level": "h3",
      "text": "Example: Accessing an Application",
      "id": "example:-accessing-an-application"
    },
    {
      "level": "h2",
      "text": "Advanced Configuration",
      "id": "advanced-configuration"
    },
    {
      "level": "h3",
      "text": "Enabling MagicDNS",
      "id": "enabling-magicdns"
    },
    {
      "level": "h3",
      "text": "Using Custom Domains with MagicDNS",
      "id": "using-custom-domains-with-magicdns"
    },
    {
      "level": "h2",
      "text": "Securing Your Server with UFW",
      "id": "securing-your-server-with-ufw"
    },
    {
      "level": "h3",
      "text": "Why Use UFW with Tailscale?",
      "id": "why-use-ufw-with-tailscale?"
    },
    {
      "level": "h3",
      "text": "Step 1: SSH Over Tailscale",
      "id": "step-1:-ssh-over-tailscale"
    },
    {
      "level": "h3",
      "text": "Step 2: Enable UFW",
      "id": "step-2:-enable-ufw"
    },
    {
      "level": "h3",
      "text": "Step 3: Configure Default Rules",
      "id": "step-3:-configure-default-rules"
    },
    {
      "level": "h3",
      "text": "Step 4: Allow Tailscale Traffic",
      "id": "step-4:-allow-tailscale-traffic"
    },
    {
      "level": "h3",
      "text": "Step 5: Review and Remove Public Access Rules",
      "id": "step-5:-review-and-remove-public-access-rules"
    }
  ],
  "url": "llms-txt#tailscale",
  "links": []
}