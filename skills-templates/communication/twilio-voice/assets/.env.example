# Twilio Voice + AI Integration - Environment Variables
# Copy this file to .env and fill in your credentials

# =================================================================
# TWILIO CREDENTIALS
# Get these from: https://console.twilio.com
# =================================================================
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_PHONE_NUMBER=+1234567890

# =================================================================
# OPENAI CONFIGURATION (if using OpenAI)
# Get API key from: https://platform.openai.com/api-keys
# =================================================================
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-4        # or gpt-3.5-turbo for faster/cheaper

# =================================================================
# LANGFLOW CONFIGURATION (if using Langflow)
# =================================================================
LANGFLOW_URL=http://localhost:7860     # Or your deployed Langflow URL
LANGFLOW_FLOW_ID=your-flow-id-here     # Get from Langflow UI
LANGFLOW_API_KEY=your-langflow-api-key # Optional, for auth

# =================================================================
# SERVER CONFIGURATION
# =================================================================
PORT=3000
NODE_ENV=development

# =================================================================
# NGROK CONFIGURATION (for local development)
# Install: npm install -g ngrok
# Run: ngrok http 3000
# Copy the https URL below (without the protocol)
# =================================================================
NGROK_URL=https://your-subdomain.ngrok.io

# =================================================================
# CONVERSATION RELAY SETTINGS
# =================================================================
# Voice options: Polly.Joanna, Polly.Matthew, Polly.Ivy, etc.
# See: https://www.twilio.com/docs/voice/twiml/say/text-speech#amazon-polly
VOICE_NAME=Polly.Joanna

# Language options: en-US, es-ES, fr-FR, etc.
LANGUAGE=en-US

# Transcription provider: deepgram, google
TRANSCRIPTION_PROVIDER=deepgram

# TTS sample rate: 8000, 16000, 24000
TTS_SAMPLE_RATE=24000

# =================================================================
# OPTIONAL: CUSTOM LLM ENDPOINT
# For self-hosted models or other providers
# =================================================================
# CUSTOM_LLM_URL=http://localhost:11434/api/generate
# CUSTOM_LLM_MODEL=llama2
# CUSTOM_LLM_API_KEY=your-api-key

# =================================================================
# LOGGING & DEBUGGING
# =================================================================
LOG_LEVEL=debug            # debug, info, warn, error
SAVE_TRANSCRIPTS=true      # Save conversation logs to file
TRANSCRIPT_DIR=./logs/conversations

# =================================================================
# SECURITY SETTINGS
# =================================================================
# Validate Twilio webhook signatures (recommended for production)
VALIDATE_TWILIO_SIGNATURE=true

# Allowed caller IDs (comma-separated, optional)
# ALLOWED_CALLERS=+1234567890,+0987654321

# Rate limiting (max calls per phone number per hour)
RATE_LIMIT_MAX_CALLS=10
RATE_LIMIT_WINDOW_HOURS=1

# =================================================================
# PRODUCTION DEPLOYMENT
# =================================================================
# For production, replace NGROK_URL with your actual domain
# Example:
# PRODUCTION_URL=https://voice.yourdomain.com

# SSL certificates (if not using a reverse proxy)
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# =================================================================
# FEATURE FLAGS
# =================================================================
ENABLE_STREAMING=false     # Enable streaming AI responses
ENABLE_INTERRUPTIONS=true  # Allow user to interrupt AI
ENABLE_FUNCTION_CALLING=false  # Enable OpenAI function calling
SAVE_CALL_RECORDINGS=false     # Record calls (check legal requirements)

# =================================================================
# MONITORING & ANALYTICS
# =================================================================
# Sentry for error tracking
# SENTRY_DSN=https://your-sentry-dsn-here

# Datadog for monitoring
# DATADOG_API_KEY=your-datadog-api-key

# =================================================================
# DATABASE (optional, for conversation persistence)
# =================================================================
# DATABASE_URL=postgresql://user:pass@localhost:5432/twilio_voice
# REDIS_URL=redis://localhost:6379  # For session management
