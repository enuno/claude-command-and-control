{
  "title": "Trigger a Workflow from the CLI, and pass (optional) parameters as an event to the Workflow.",
  "content": "npx wrangler@latest workflows trigger workflows-tutorial --params={\"email\": \"user@example.com\", \"metadata\": {\"id\": \"1\"}}\njsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"workflows\": [\n      {\n        \"name\": \"workflows-starter\",\n        \"binding\": \"MY_WORKFLOW\",\n        \"class_name\": \"MyWorkflow\"\n      }\n    ]\n  }\n  toml\n  [[workflows]]\n  # name of your workflow\n  name = \"workflows-starter\"\n  # binding name env.MY_WORKFLOW\n  binding = \"MY_WORKFLOW\"\n  # this is class that extends the Workflow class in src/index.ts\n  class_name = \"MyWorkflow\"\n  ts\n// Import the Workflow definition\nimport { WorkflowEntrypoint, WorkflowStep, WorkflowEvent} from 'cloudflare:workers';\n\ninterface Env {\n  // Matches the binding definition in your Wrangler configuration file\n  MY_WORKFLOW: Workflow;\n}\n\nexport default {\n  async fetch(req: Request, env: Env): Promise<Response> {\n    let id = new URL(req.url).searchParams.get('instanceId');\n\n// Get the status of an existing instance, if provided\n    if (id) {\n      let instance = await env.MY_WORKFLOW.get(id);\n      return Response.json({\n        status: await instance.status(),\n      });\n    }\n\n// Spawn a new instance and return the ID and status\n    let instance = await env.MY_WORKFLOW.create();\n    return Response.json({\n      id: instance.id,\n      details: await instance.status(),\n    });\n  },\n};\nsh\nnpx wrangler@latest workflows instances describe workflows-starter latest",
  "code_samples": [
    {
      "code": "Refer to the [events and parameters documentation](https://developers.cloudflare.com/workflows/build/events-and-parameters/) to understand how events are passed to Workflows.\n\n### Worker binding\n\nYou can [bind to a Workflow](https://developers.cloudflare.com/workers/runtime-apis/bindings/#what-is-a-binding) from any handler in a Workers script, allowing you to programatically trigger and pass parameters to a Workflow instance from your own application code.\n\nTo bind a Workflow to a Worker, you need to define a `[[workflows]]` binding in your Wrangler configuration:\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "You can then invoke the methods on this binding directly from your Worker script's `env` parameter. The `Workflow` type has methods for:\n\n* `create()` - creating (triggering) a new instance of the Workflow, returning the ID.\n* `createBatch()` - creating (triggering) a batch of new instances of the Workflow, returning the IDs.\n* `get()`- retrieve a Workflow instance by its ID.\n* `status()` - get the current status of a unique Workflow instance.\n\nFor example, the following Worker will fetch the status of an existing Workflow instance by ID (if supplied), else it will create a new Workflow instance and return its ID:",
      "language": "unknown"
    },
    {
      "code": "Refer to the [triggering Workflows](https://developers.cloudflare.com/workflows/build/trigger-workflows/) documentation for how to trigger a Workflow from other Workers' handler functions.\n\n## 4. Manage Workflows\n\nNote\n\nThe `wrangler workflows` command requires Wrangler version `3.83.0` or greater. Use `npx wrangler@latest` to always use the latest Wrangler version when invoking commands.\n\nThe `wrangler workflows` command group has several sub-commands for managing and inspecting Workflows and their instances:\n\n* List Workflows: `wrangler workflows list`\n* Inspect the instances of a Workflow: `wrangler workflows instances list YOUR_WORKFLOW_NAME`\n* View the state of a running Workflow instance by its ID: `wrangler workflows instances describe YOUR_WORKFLOW_NAME WORKFLOW_ID`\n\nYou can also view the state of the latest instance of a Workflow by using the `latest` keyword instead of an ID:",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h3",
      "text": "Worker binding",
      "id": "worker-binding"
    },
    {
      "level": "h2",
      "text": "4. Manage Workflows",
      "id": "4.-manage-workflows"
    }
  ],
  "url": "llms-txt#trigger-a-workflow-from-the-cli,-and-pass-(optional)-parameters-as-an-event-to-the-workflow.",
  "links": []
}