{
  "title": "Include full completion timing",
  "content": "def speed_date(models, questions):\n    for model in models:\n        display(Markdown(f\"---\\n #### {model}\"))\n        for question in questions:\n            quoted_question = \"\\n\".join(f\"> {line}\" for line in question.split(\"\\n\"))\n            display(Markdown(quoted_question + \"\\n\"))\n            try:\n                official_model_name = model.split(\"/\")[-1]\n                start = timer()\n                response = requests.post(\n                    f\"https://api.cloudflare.com/client/v4/accounts/{account_id}/ai/run/{model}\",\n                    headers={\"Authorization\": f\"Bearer {api_token}\"},\n                    json={\"messages\": [\n                        {\"role\": \"system\", \"content\": f\"You are a self-aware language model ({official_model_name}) who is honest and direct about any direct question from the user. You know your strengths and weaknesses.\"},\n                        {\"role\": \"user\", \"content\": question}\n                    ]}\n                )\n                elapsed = timer() - start\n                inference = response.json()\n                display(Markdown(inference[\"result\"][\"response\"]))\n                display(Markdown(f\"_Generated in *{elapsed:.2f}* seconds_\"))\n            except Exception as ex:\n                print(\"uh oh\")\n                print(ex)\n                print(inference)\n\ndisplay(Markdown(\"\\n\\n---\"))\npython\nmodels = [\n    \"@hf/thebloke/zephyr-7b-beta-awq\",\n    \"@hf/thebloke/mistral-7b-instruct-v0.1-awq\",\n    \"@hf/thebloke/openhermes-2.5-mistral-7b-awq\",\n    \"@hf/thebloke/neural-chat-7b-v3-1-awq\",\n    \"@hf/thebloke/llama-2-13b-chat-awq\",\n]\n\nquestions = [\n    \"What are the top 3 tasks where you excel? Please keep things brief.\",\n    \"What are the top 3 ideal use cases for using you specifically as a language model? Please keep things brief.\",\n]\n\nspeed_date(models, questions)\npython\nproud_translator_models = [\n    \"@hf/thebloke/neural-chat-7b-v3-1-awq\",\n    \"@hf/thebloke/mistral-7b-instruct-v0.1-awq\"\n]\n\nphrases = [\n    \"Excuse me, which way to the restroom?\",\n    \"I just wanted to say that I appreciate you, just the way you are!\",\n    \"I am so stoked and pumped to see this work with slang! It should be killer and rad.\"\n]\n\nlanguages = [\"Spanish\", \"French\", \"British Slang\", \"Heavy New York accent from the Bronx\"]\n\nquestions = [f\"\"\"Translate \"{phrase}\" from \"English\" to \"{language}\" \"\"\"\n             for phrase in phrases\n             for language in languages]\n\nspeed_date(proud_translator_models, questions)\npython\nproud_summarizers = [\n    \"@hf/thebloke/llama-2-13b-chat-awq\",\n    \"@hf/thebloke/neural-chat-7b-v3-1-awq\",\n    \"@hf/thebloke/openhermes-2.5-mistral-7b-awq\"\n]\n\nbooks = [\n    \"Make it Stick\",\n    \"Hitchhiker's Guide to the Galaxy\",\n    \"Goodnight Moon\"\n]\n\nquestions = [f\"\"\"Summarize the book \"{book}\" into a few sentences. Ensure to include the author and the year it was published. \"\"\"\n             for book in books]\n\nspeed_date(proud_summarizers, questions)\npython\nproud_content_creator_models = [\n    \"@hf/thebloke/mistral-7b-instruct-v0.1-awq\",\n    \"@hf/thebloke/zephyr-7b-beta-awq\",\n    \"@hf/thebloke/llama-2-13b-chat-awq\",\n]\n\nquestions = [\n    \"I'm writing a fictional story that is set in the near future. It's a love story about star crossed lovers. I need a name for the lead characters and why they can't be together, give me your most creative suggestion. Only one please.\",\n    \"I want to create a new tech product that helps keep cables arranged. Can you help me come up with a title and a tagline? Only your best suggestion please.\",\n    \"Write a headline for a blog on why we should use you specifically over other models. Keep it succint, but make your point.\"\n]\n\nspeed_date(proud_content_creator_models, questions)\npython\nproud_classifiers = [\n    \"@hf/thebloke/openhermes-2.5-mistral-7b-awq\",\n    \"@hf/thebloke/mistral-7b-instruct-v0.1-awq\"\n]\n\nsentiment_prompt_template = \"\"\"\nClassify the text into neutral, negative, or positive\nText: {text}\nSentiment: \"\"\"\n\ncomments = [\n    \"Wow there are a ton of text generation models on Cloudflare Workers AI!\",\n    \"Sometimes choosing things is hard\",\n    \"I cannot wait to build! ðŸ’ªðŸš€\",\n    \"The challenging thing about using native open source models is that they are all configured a little differently\",\n    \"Thankfully Cloudflare Workers AI has made a standard interface that lets me get reliable, low-latency inference. So quick too!\"\n]\n\nsentiment_questions = [sentiment_prompt_template.format(text=comment) for comment in comments]\n\nspeed_date(proud_classifiers, sentiment_questions)\nbash\ncurl https://api.cloudflare.com/client/v4/accounts/$CLOUDFLARE_ACCOUNT_ID/ai/run/@cf/meta/llama-3.2-11b-vision-instruct \\\n  -X POST \\\n  -H \"Authorization: Bearer $CLOUDFLARE_AUTH_TOKEN\" \\\n  -d '{ \"prompt\": \"agree\" }'\nsh\n  npm create cloudflare@latest -- llama-vision-tutorial\n  sh\n  yarn create cloudflare llama-vision-tutorial\n  sh\n  pnpm create cloudflare@latest llama-vision-tutorial\n  bash\n   cd llama-vision-tutorial\n   javascript\nexport interface Env {\n  AI: Ai;\n}\n\nexport default {\n  async fetch(request, env): Promise<Response> {\n    const messages = [\n      { role: \"system\", content: \"You are a helpful assistant.\" },\n      { role: \"user\", content: \"Describe the image I'm providing.\" },\n    ];\n\n// Replace this with your image data encoded as base64 or a URL\n    const imageBase64 = \"data:image/png;base64,IMAGE_DATA_HERE\";\n\nconst response = await env.AI.run(\"@cf/meta/llama-3.2-11b-vision-instruct\", {\n      messages,\n      image: imageBase64,\n    });\n\nreturn Response.json(response);\n  },\n} satisfies ExportedHandler<Env>;\njsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"env\": {},\n    \"ai\": {\n      \"binding\": \"AI\"\n    }\n  }\n  toml\n  [env]\n  [ai]\n  binding=\"AI\"\n  bash\nwrangler deploy\nbash\ncurl -X POST https://llama-vision-tutorial.<your-subdomain>.workers.dev \\\n  -d '{ \"image\": \"BASE64_ENCODED_IMAGE\" }'\njson\n{\n  \"result\": \"This is a golden retriever sitting in a grassy park.\"\n}\njavascript\nexport default {\n  async fetch(request, env, ctx) {\n    return new Response(\"Hello World!\");\n  },\n};\nsh\n[wrangler:inf] Ready on http://localhost:8787\nsh\nHello World!\njson\n{\n  \"type\": \"service_account\",\n  \"project_id\": \"<your_project_id>\",\n  \"private_key_id\": \"<your_private_key_id>\",\n  \"private_key\": \"<your_private_key>\",\n  \"client_email\": \"<your_service_account_id>@<your_project_id>.iam.gserviceaccount.com\",\n  \"client_id\": \"<your_oauth2_client_id>\",\n  \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n  \"token_uri\": \"https://oauth2.googleapis.com/token\",\n  \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\n  \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/<your_service_account_id>%40<your_project_id>.iam.gserviceaccount.com\",\n  \"universe_domain\": \"googleapis.com\"\n}\nsh\nnpx wrangler secret put BQ_CLIENT_EMAIL\nsh\nâœ¨ Success! Uploaded secret BQ_CLIENT_EMAIL\nsh\nnpx wrangler secret put BQ_PRIVATE_KEY\nsh\nnpx wrangler secret put BQ_PRIVATE_KEY_ID\nsh\nnpx wrangler secret put BQ_PROJECT_ID\nplaintext\nBQ_CLIENT_EMAIL=\"<your_service_account_id>@<your_project_id>.iam.gserviceaccount.com\"\nBQ_CLIENT_KEY=\"-----BEGIN PRIVATE KEY-----<content_of_your_private_key>-----END PRIVATE KEY-----\\n\"\nBQ_PRIVATE_KEY_ID=\"<your_private_key_id>\"\nBQ_PROJECT_ID=\"<your_project_id>\"\njavascript\nexport default {\n  async fetch(request, env, ctx) {\n    console.log(\"BQ_CLIENT_EMAIL: \", env.BQ_CLIENT_EMAIL);\n    console.log(\"BQ_PRIVATE_KEY: \", env.BQ_PRIVATE_KEY);\n    console.log(\"BQ_PRIVATE_KEY_ID: \", env.BQ_PRIVATE_KEY_ID);\n    console.log(\"BQ_PROJECT_ID: \", env.BQ_PROJECT_ID);\n    return new Response(\"Hello World!\");\n  },\n};\nplaintext\nUsing vars defined in .dev.vars\nYour worker has access to the following bindings:\n- Vars:\n  - BQ_CLIENT_EMAIL: \"(hidden)\"\n  - BQ_PRIVATE_KEY: \"(hidden)\"\n  - BQ_PRIVATE_KEY_ID: \"(hidden)\"\n  - BQ_PROJECT_ID: \"(hidden)\"\n[wrangler:inf] Ready on http://localhost:8787\nsh\nnpm i jose\nsh\n<project_name>@0.0.0\n/<path_to_your_project>/<project_name>\nâ”œâ”€â”€ @cloudflare/vitest-pool-workers@0.4.29\nâ”œâ”€â”€ jose@5.9.2\nâ”œâ”€â”€ vitest@1.5.0\nâ””â”€â”€ wrangler@3.75.0\njavascript\nimport * as jose from 'jose';\n...\nconst generateBQJWT = async (aCryptoKey, env) => {\nconst algorithm = \"RS256\";\nconst audience = \"https://bigquery.googleapis.com/\";\nconst expiryAt = (new Date().valueOf() / 1000);\n  const privateKey = await jose.importPKCS8(env.BQ_PRIVATE_KEY, algorithm);\n\n// Generate signed JSON Web Token (JWT)\n  return new jose.SignJWT()\n      .setProtectedHeader({\n          typ: 'JWT',\n          alg: algorithm,\n          kid: env.BQ_PRIVATE_KEY_ID\n      })\n      .setIssuer(env.BQ_CLIENT_EMAIL)\n      .setSubject(env.BQ_CLIENT_EMAIL)\n      .setAudience(audience)\n      .setExpirationTime(expiryAt)\n      .setIssuedAt()\n      .sign(privateKey)\n}\n\nexport default {\n  async fetch(request, env, ctx) {\n       ...\n// Create JWT to authenticate the BigQuery API call\n      let bqJWT;\n      try {\n          bqJWT = await generateBQJWT(env);\n      } catch (e) {\n          return new Response('An error has occurred while generating the JWT', { status: 500 })\n      }\n  },\n       ...\n};\njavascript\nconst queryBQ = async (bqJWT, path) => {\n  const bqEndpoint = `https://bigquery.googleapis.com${path}`\n  // In this example, text is a field in the BigQuery table that is being queried (hn.news_sampled)\n  const query = 'SELECT text FROM hn.news_sampled LIMIT 3';\n  const response = await fetch(bqEndpoint, {\n      method: \"POST\",\n      body: JSON.stringify({\n          \"query\": query\n      }),\n      headers: {\n          Authorization: `Bearer ${bqJWT}`\n      }\n  })\n  return response.json()\n}\n...\nexport default {\n  async fetch(request, env, ctx) {\n    ...\n        let ticketInfo;\n        try {\n        ticketInfo = await queryBQ(bqJWT);\n      } catch (e) {\n          return new Response('An error has occurred while querying BQ', { status: 500 });\n      }\n  ...\n  },\n};\njson\n{\n  ...\n  \"schema\": {\n      \"fields\": [\n          {\n              \"name\": \"title\",\n              \"type\": \"STRING\",\n              \"mode\": \"NULLABLE\"\n          },\n          {\n              \"name\": \"text\",\n              \"type\": \"STRING\",\n              \"mode\": \"NULLABLE\"\n          }\n      ]\n  },\n  ...\n  \"rows\": [\n      {\n          \"f\": [\n              {\n                  \"v\": \"<some_value>\"\n              },\n              {\n                  \"v\": \"<some_value>\"\n              }\n          ]\n      },\n      {\n          \"f\": [\n              {\n                  \"v\": \"<some_value>\"\n              },\n              {\n                  \"v\": \"<some_value>\"\n              }\n          ]\n      },\n      {\n          \"f\": [\n              {\n                  \"v\": \"<some_value>\"\n              },\n              {\n                  \"v\": \"<some_value>\"\n              }\n          ]\n      }\n  ],\n  ...\n}\njavascript\n[\n  {\n    title: \"<some_value>\",\n    text: \"<some_value>\",\n  },\n  {\n    title: \"<some_value>\",\n    text: \"<some_value>\",\n  },\n  {\n    title: \"<some_value>\",\n    text: \"<some_value>\",\n  },\n];\njavascript\nconst formatRows = (rowsWithoutFieldNames, fields) => {\n  // Index to fieldName\n  const fieldsByIndex = new Map();\n\n// Load all fields by name and have their index in the array result as their key\n  fields.forEach((field, index) => {\n      fieldsByIndex.set(index, field.name)\n  })\n\n// Iterate through rows\n  const rowsWithFieldNames = rowsWithoutFieldNames.map(row => {\n      // Per each row represented by an array f, iterate through the unnamed values and find their field names by searching them in the fieldsByIndex.\n      let newRow = {}\n      row.f.forEach((field, index) => {\n          const fieldName = fieldsByIndex.get(index);\n          if (fieldName) {\n    // For every field in a row, add them to newRow\n              newRow = ({ ...newRow, [fieldName]: field.v });\n          }\n      })\n      return newRow\n  })\n\nreturn rowsWithFieldNames\n}\n\nexport default {\n  async fetch(request, env, ctx) {\n    ...\n      // Transform output format into array of objects with named fields\n      let formattedResults;\n\nif ('rows' in ticketInfo) {\n          formattedResults = formatRows(ticketInfo.rows, ticketInfo.schema.fields);\n          console.log(formattedResults)\n      } else if ('error' in ticketInfo) {\n          return new Response(ticketInfo.error.message, { status: 500 })\n      }\n  ...\n  },\n};\njavascript\nconst generateTags = (data, env) => {\n  return env.AI.run(\"@cf/meta/llama-3.1-8b-instruct\", {\n      prompt: `Create three one-word tags for the following text. return only these three tags separated by a comma. don't return text that is not a category.Lowercase only. ${JSON.stringify(data)}`,\n  });\n}\n\nconst generateSentimentScore = (data, env) => {\n  return env.AI.run(\"@cf/meta/llama-3.1-8b-instruct\", {\n      prompt: `return a float number between 0 and 1 measuring the sentiment of the following text. 0 being negative and 1 positive. return only the number, no text. ${JSON.stringify(data)}`,\n  });\n}\n\n// Iterates through values, sends them to an AI handler and encapsulates all responses into a single Promise\nconst getAIGeneratedContent = (data, env, aiHandler) => {\n  let results = data?.map(dataPoint => {\n      return aiHandler(dataPoint, env)\n  })\n  return Promise.all(results)\n}\n...\nexport default {\n  async fetch(request, env, ctx) {\n    ...\nlet summaries, sentimentScores;\n      try {\n          summaries = await getAIGeneratedContent(formattedResults, env, generateTags);\n          sentimentScores = await getAIGeneratedContent(formattedResults, env, generateSentimentScore)\n      } catch {\n          return new Response('There was an error while generating the text summaries or sentiment scores')\n      }\n},\n\nformattedResults = formattedResults?.map((formattedResult, i) => {\n          if (sentimentScores[i].response && summaries[i].response) {\n              return {\n                  ...formattedResult,\n                  'sentiment': parseFloat(sentimentScores[i].response).toFixed(2),\n                  'tags': summaries[i].response.split(',').map((result) => result.trim())\n              }\n          }\n      }\n};\njsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"ai\": {\n      \"binding\": \"AI\"\n    }\n  }\n  toml\n  [ai]\n  binding = \"AI\"\n  sh\ncurl http://localhost:8787\nsh\n{\n  \"data\": [\n  {\n    \"text\": \"You can see a clear spike in submissions right around US Thanksgiving.\",\n    \"sentiment\": \"0.61\",\n    \"tags\": [\n      \"trends\",\n      \"submissions\",\n      \"thanksgiving\"\n    ]\n  },\n  {\n    \"text\": \"I didn't test the changes before I published them.  I basically did development on the running server. In fact for about 30 seconds the comments page was broken due to a bug.\",\n    \"sentiment\": \"0.35\",\n    \"tags\": [\n      \"software\",\n      \"deployment\",\n      \"error\"\n    ]\n  },\n  {\n    \"text\": \"I second that. As I recall, it's a very enjoyable 700-page brain dump by someone who's really into his subject. The writing has a personal voice; there are lots of asides, dry wit, and typos that suggest restrained editing. The discussion is intelligent and often theoretical (and Bartle is not scared to use mathematical metaphors), but the tone is not academic.\",\n    \"sentiment\": \"0.86\",\n    \"tags\": [\n      \"review\",\n      \"game\",\n      \"design\"\n    ]\n  }\n  ]\n}\njavascript\nimport * as jose from \"jose\";\n\nconst generateBQJWT = async (env) => {\n  const algorithm = \"RS256\";\n  const audience = \"https://bigquery.googleapis.com/\";\n  const expiryAt = new Date().valueOf() / 1000;\n  const privateKey = await jose.importPKCS8(env.BQ_PRIVATE_KEY, algorithm);\n\n// Generate signed JSON Web Token (JWT)\n  return new jose.SignJWT()\n    .setProtectedHeader({\n      typ: \"JWT\",\n      alg: algorithm,\n      kid: env.BQ_PRIVATE_KEY_ID,\n    })\n    .setIssuer(env.BQ_CLIENT_EMAIL)\n    .setSubject(env.BQ_CLIENT_EMAIL)\n    .setAudience(audience)\n    .setExpirationTime(expiryAt)\n    .setIssuedAt()\n    .sign(privateKey);\n};\n\nconst queryBQ = async (bgJWT, path) => {\n  const bqEndpoint = `https://bigquery.googleapis.com${path}`;\n  const query = \"SELECT text FROM hn.news_sampled LIMIT 3\";\n  const response = await fetch(bqEndpoint, {\n    method: \"POST\",\n    body: JSON.stringify({\n      query: query,\n    }),\n    headers: {\n      Authorization: `Bearer ${bgJWT}`,\n    },\n  });\n  return response.json();\n};\n\nconst formatRows = (rowsWithoutFieldNames, fields) => {\n  // Index to fieldName\n  const fieldsByIndex = new Map();\n\nfields.forEach((field, index) => {\n    fieldsByIndex.set(index, field.name);\n  });\n\nconst rowsWithFieldNames = rowsWithoutFieldNames.map((row) => {\n    // Map rows into an array of objects with field names\n    let newRow = {};\n    row.f.forEach((field, index) => {\n      const fieldName = fieldsByIndex.get(index);\n      if (fieldName) {\n        newRow = { ...newRow, [fieldName]: field.v };\n      }\n    });\n    return newRow;\n  });\n\nreturn rowsWithFieldNames;\n};\n\nconst generateTags = (data, env) => {\n  return env.AI.run(\"@cf/meta/llama-3.1-8b-instruct\", {\n    prompt: `Create three one-word tags for the following text. return only these three tags separated by a comma. don't return text that is not a category.Lowercase only. ${JSON.stringify(data)}`,\n  });\n};\n\nconst generateSentimentScore = (data, env) => {\n  return env.AI.run(\"@cf/meta/llama-3.1-8b-instruct\", {\n    prompt: `return a float number between 0 and 1 measuring the sentiment of the following text. 0 being negative and 1 positive. return only the number, no text. ${JSON.stringify(data)}`,\n  });\n};\n\nconst getAIGeneratedContent = (data, env, aiHandler) => {\n  let results = data?.map((dataPoint) => {\n    return aiHandler(dataPoint, env);\n  });\n  return Promise.all(results);\n};\n\nexport default {\n  async fetch(request, env, ctx) {\n    // Create JWT to authenticate the BigQuery API call\n    let bqJWT;\n    try {\n      bqJWT = await generateBQJWT(env);\n    } catch (error) {\n      console.log(error);\n      return new Response(\"An error has occurred while generating the JWT\", {\n        status: 500,\n      });\n    }\n\n// Fetch results from BigQuery\n    let ticketInfo;\n    try {\n      ticketInfo = await queryBQ(\n        bqJWT,\n        `/bigquery/v2/projects/${env.BQ_PROJECT_ID}/queries`,\n      );\n    } catch (error) {\n      console.log(error);\n      return new Response(\"An error has occurred while querying BQ\", {\n        status: 500,\n      });\n    }\n\n// Transform output format into array of objects with named fields\n    let formattedResults;\n    if (\"rows\" in ticketInfo) {\n      formattedResults = formatRows(ticketInfo.rows, ticketInfo.schema.fields);\n    } else if (\"error\" in ticketInfo) {\n      return new Response(ticketInfo.error.message, { status: 500 });\n    }\n\n// Generate AI summaries and sentiment scores\n    let summaries, sentimentScores;\n    try {\n      summaries = await getAIGeneratedContent(\n        formattedResults,\n        env,\n        generateTags,\n      );\n      sentimentScores = await getAIGeneratedContent(\n        formattedResults,\n        env,\n        generateSentimentScore,\n      );\n    } catch {\n      return new Response(\n        \"There was an error while generating the text summaries or sentiment scores\",\n      );\n    }\n\n// Add AI summaries and sentiment scores to previous results\n    formattedResults = formattedResults?.map((formattedResult, i) => {\n      if (sentimentScores[i].response && summaries[i].response) {\n        return {\n          ...formattedResult,\n          sentiment: parseFloat(sentimentScores[i].response).toFixed(2),\n          tags: summaries[i].response.split(\",\").map((result) => result.trim()),\n        };\n      }\n    });\n\nconst response = { data: formattedResults };\n\nreturn new Response(JSON.stringify(response), {\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n  },\n};\nsh\nTotal Upload: <size_of_your_worker> KiB / gzip: <compressed_size_of_your_worker> KiB\nUploaded <name_of_your_worker> (x sec)\nDeployed <name_of_your_worker> triggers (x sec)\n  https://<your_public_worker_endpoint>\nCurrent Version ID: <worker_script_version_id>\nsh\ncurl --header \"accept: application/dns-json\" \"https://cloudflare-dns.com/dns-query?name=example.com&type=AAAA\"\njson\n{\n  \"Status\": 0,\n  \"TC\": false,\n  \"RD\": true,\n  \"RA\": true,\n  \"AD\": true,\n  \"CD\": false,\n  \"Question\": [\n    {\n      \"name\": \"example.com.\",\n      \"type\": 28\n    }\n  ],\n  \"Answer\": [\n    {\n      \"name\": \"example.com.\",\n      \"type\": 28,\n      \"TTL\": 1726,\n      \"data\": \"2606:2800:220:1:248:1893:25c8:1946\"\n    }\n  ]\n}\nsh\ncurl --header \"accept: application/dns-json\" \"https://cloudflare-dns.com/dns-query?name=example.com&cd=2\"\njson\n{\n  \"error\": \"Invalid CD flag `2`. Expected to be empty or one of `0`, `false`, `1`, or `true`.\"\n}\ntxt\n:method = POST\n:scheme = https\n:authority = cloudflare-dns.com\n:path = /dns-query\naccept = application/dns-message\ncontent-type = application/dns-message\ncontent-length = 33\n\n<33 bytes represented by the following hex encoding>\n00 00 01 00 00 01 00 00  00 00 00 00 03 77 77 77\n07 65 78 61 6d 70 6c 65  03 63 6f 6d 00 00 01 00\n01\ntxt\n:status = 200\ncontent-type = application/dns-message\ncontent-length = 64\ncache-control = max-age=128\n\n<64 bytes represented by the following hex encoding>\n00 00 81 80 00 01 00 01  00 00 00 00 03 77 77 77\n07 65 78 61 6d 70 6c 65  03 63 6f 6d 00 00 01 00\n01 03 77 77 77 07 65 78  61 6d 70 6c 65 03 63 6f\n6d 00 00 01 00 01 00 00  00 80 00 04 C0 00 02 01\nsh\necho -n 'q80BAAABAAAAAAAAA3d3dwdleGFtcGxlA2NvbQAAAQAB' | base64 --decode | curl --header 'content-type: application/dns-message' --data-binary @- https://cloudflare-dns.com/dns-query --output - | hexdump\nsh\ncurl --header 'accept: application/dns-message' --verbose 'https://cloudflare-dns.com/dns-query?dns=q80BAAABAAAAAAAAA3d3dwdleGFtcGxlA2NvbQAAAQAB' | hexdump\nsh\n* Using HTTP2, server supports multi-use\n* Connection state changed (HTTP/2 confirmed)\n* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\n* Using Stream ID: 1 (easy handle 0x7f968700a400)\nGET /dns-query?dns=q80BAAABAAAAAAAAA3d3dwdleGFtcGxlA2NvbQAAAQAB HTTP/2\nHost: cloudflare-dns.com\nUser-Agent: curl/7.54.0\naccept: application/dns-message\n\n* Connection state changed (MAX_CONCURRENT_STREAMS updated)!\nHTTP/2 200\ndate: Fri, 23 Mar 2018 05:14:02 GMT\ncontent-type: application/dns-message\ncontent-length: 49\ncache-control: max-age=0\nset-cookie: \\__cfduid=dd1fb65f0185fadf50bbb6cd14ecbc5b01521782042; expires=Sat, 23-Mar-19 05:14:02 GMT; path=/; domain=.cloudflare.com; HttpOnly\nserver: cloudflare-nginx\ncf-ray: 3ffe69838a418c4c-SFO-DOG\n\n{ [49 bytes data]\n100    49  100    49    0     0    493      0 --:--:-- --:--:-- --:--:--   494\n* Connection #0 to host cloudflare-dns.com left intact\n0000000 ab cd 81 80 00 01 00 01 00 00 00 00 03 77 77 77\n0000010 07 65 78 61 6d 70 6c 65 03 63 6f 6d 00 00 01 00\n0000020 01 c0 0c 00 01 00 01 00 00 0a 8b 00 04 5d b8 d8\n0000030 22\n0000031\nmermaid\ngraph LR\nA[Set up your<br>Cloudflare Account] --> B[Verify your<br>AI crawler]\nB --> C[Discover<br>payable content]\nC --> D[Connect to<br>Stripe]:::highlight\nD --> E[Crawl pages]\nclassDef highlight fill:#F6821F,color:white\nmermaid\ngraph LR\nA[Set up your<br>Cloudflare Account] --> B[Verify your<br>AI crawler]\nB --> C[Discover<br>payable content]\nC --> D[Connect to<br>Stripe]\nD --> E[Crawl pages]:::highlight\nclassDef highlight fill:#F6821F,color:white\ntxt\nHTTP/2 402\ndate: Fri, 06 Jun 2025 08:42:38 GMT\ncrawler-price: USD 0.01\ntxt\nHTTP 200\ndate: Fri, 06 Jun 2025 08:42:38 GMT\ncrawler-charged: USD 0.01\ntxt\nHTTP/2 402\ndate: Fri, 06 Jun 2025 08:42:38 GMT\ncontent-type: text/plain; charset=utf-8\ncrawler-price: USD 0.01\ncrawler-error: InvalidCrawlerExactPrice\nplaintext\ncrawler-charged: USD 0.01\nmermaid\ngraph LR\nA[Set up your<br>Cloudflare Account] --> B[Verify your<br>AI crawler]\nB --> C[Discover<br>payable content]:::highlight\nC --> D[Connect to<br>Stripe]\nD --> E[Crawl pages]\nclassDef highlight fill:#F6821F,color:white\ntxt\nGET https://crawlers-api.ai-audit.cfdata.org/charged_zones\ntxt\nSignature: <your-signature>\nSignature-Input: <signature-metadata>\nSignature-Agent: <agent-information>\nsh\ncurl -X GET \"https://crawlers-api.ai-audit.cfdata.org/charged_zones?limit=50\" \\\n  -H \"Signature: <your-signature>\" \\\n  -H \"Signature-Input: <signature-metadata>\" \\\n  -H \"Signature-Agent: <agent-information>\"\njson\n{\n  \"result\": {\n    \"zones\": [\n      {\n        \"domain\": \"example.com\"\n      },\n      {\n        \"domain\": \"news-site.com\"\n      }\n    ]\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}\nmermaid\ngraph LR\nA[Set up your<br>Cloudflare Account]:::highlight --> B[Verify your<br>AI crawler]\nB --> C[Discover<br>payable content]\nC --> D[Connect to<br>Stripe]\nD --> E[Crawl pages]\nclassDef highlight fill:#F6821F,color:white\nmermaid\ngraph LR\nA[Set up your<br>Cloudflare Account] --> B[Verify your<br>AI crawler]:::highlight\nB --> C[Discover<br>payable content]\nC --> D[Connect to<br>Stripe]\nD --> E[Crawl pages]\nclassDef highlight fill:#F6821F,color:white\nplaintext\nHTTP/2 402\ndate: Fri, 06 Jun 2025 08:42:38 GMT\ncontent-type: text/plain; charset=utf-8\ncrawler-price: USD 0.01\nserver: cloudflare\nmermaid\ngraph LR\nA[Enable in<br>account settings]:::highlight --> B[Set a pay per <br/>crawl price ]\nB --> C[Select crawlers<br>to charge]\nC --> D[Monitor<br>activity]\nD --> E[Manage<br>payouts]\nclassDef highlight fill:#F6821F,color:white\n\nclick B \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/set-a-pay-per-crawl-price/\"\nclick C \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/select-crawlers-to-charge/\"\nclick D \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/monitor-activity/\"\nclick E \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/manage-payouts/\"\nmermaid\ngraph LR\nA[Enable in<br>account settings] --> B[Set a pay per <br/>crawl price ]\nB --> C[Select crawlers<br>to charge]\nC --> D[Monitor<br>activity]\nD --> E[Manage<br>payouts]:::highlight\nclassDef highlight fill:#F6821F,color:white\n\nclick A \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/enable-in-account-settings/\"\nclick B \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/set-a-pay-per-crawl-price/\"\nclick C \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/select-crawlers-to-charge/\"\nclick D \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/monitor-activity/\"\nmermaid\ngraph LR\nA[Enable in<br>account settings] --> B[Set a pay per <br/>crawl price ]\nB --> C[Select crawlers<br>to charge]\nC --> D[Monitor<br>activity]:::highlight\nD --> E[Manage<br>payouts]\nclassDef highlight fill:#F6821F,color:white\n\nclick A \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/enable-in-account-settings/\"\nclick B \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/set-a-pay-per-crawl-price/\"\nclick C \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/select-crawlers-to-charge/\"\nclick E \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/manage-payouts/\"\nmermaid\ngraph LR\nA[Enable in<br>account settings] --> B[Set a pay per <br/>crawl price ]\nB --> C[Select crawlers<br>to charge]:::highlight\nC --> D[Monitor<br>activity]\nD --> E[Manage<br>payouts]\nclassDef highlight fill:#F6821F,color:white\n\nclick A \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/enable-in-account-settings/\"\nclick B \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/set-a-pay-per-crawl-price/\"\nclick D \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/monitor-activity/\"\nclick E \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/manage-payouts/\"\nmermaid\ngraph LR\nA[Enable in<br>account settings] --> B[Set a pay per <br/>crawl price ]:::highlight\nB --> C[Select crawlers<br>to charge]\nC --> D[Monitor<br>activity]\nD --> E[Manage<br>payouts]\nclassDef highlight fill:#F6821F,color:white\n\nclick A \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/enable-in-account-settings/\"\nclick C \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/select-crawlers-to-charge/\"\nclick D \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/monitor-activity/\"\nclick E \"/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/manage-payouts/\"\ngraphql\n{\n  __schema {\n    queryType {\n      name\n    }\n    mutationType {\n      name\n    }\n    subscriptionType {\n      name\n    }\n    types {\n      ...FullType\n    }\n    directives {\n      name\n      description\n      locations\n      args {\n        ...InputValue\n      }\n    }\n  }\n}\nfragment TypeRef on __Type {\n  kind\n  name\n  ofType {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\nfragment InputValue on __InputValue {\n  name\n  description\n  type {\n    ...TypeRef\n  }\n  defaultValue\n}\nfragment FullType on __Type {\n  kind\n  name\n  description\n  fields(includeDeprecated: true) {\n    name\n    description\n    args {\n      ...InputValue\n    }\n    type {\n      ...TypeRef\n    }\n    isDeprecated\n    deprecationReason\n  }\n  inputFields {\n    ...InputValue\n  }\n  interfaces {\n    ...TypeRef\n  }\n  enumValues(includeDeprecated: true) {\n    name\n    description\n    isDeprecated\n    deprecationReason\n  }\n  possibleTypes {\n    ...TypeRef\n  }\n}\ngraphql\n{\n  viewer {\n    accounts(filter: { accountTag : $accountTag }) {\n      settings {\n        # any dataset(s) from accounts\n      }\n    }\n    zones(filter: { zoneTag : $zoneTag }) {\n      settings {\n        # any dataset(s) from zones\n      }\n    }\n  }\n}\ngraphql\nquery SampleQuery($zoneTag: string) {\n  viewer {\n    zones(filter: { zoneTag: $zoneTag }) {\n      settings {\n        firewallEventsAdaptive {\n          enabled\n          maxDuration\n          maxNumberOfFields\n          maxPageSize\n          notOlderThan\n        }\n      }\n    }\n  }\n}\njson\n{\n  \"data\": {\n    \"viewer\": {\n      \"zones\": [\n        {\n          \"settings\": {\n            \"firewallEventsAdaptive\": {\n              \"enabled\": true,\n              \"maxDuration\": 259200,\n              \"maxNumberOfFields\": 30,\n              \"maxPageSize\": 10000,\n              \"notOlderThan\": 2678400\n            }\n          }\n        }\n      ]\n    }\n  },\n  \"errors\": null\n}\ntxt\nnow() + min((floor(60 * pow(1.05, retry_attempt)) * INTERVAL '1 second'), INTERVAL '4 hours')\ntxt\nnow() + min((floor(60 * pow(1.15, retry_attempt)) * INTERVAL '1 second'), INTERVAL '4 hours')\njson\n   {\n   \"result\": [\n       {\n       \"id\": \"3537a672-e4d8-4d89-aab9-26cb622918a1\",\n       \"hostname\": \"app.example.com\",\n       // ...\n       \"status\": \"pending\",\n       \"verification_errors\": [\"custom hostname does not CNAME to this zone.\"],\n       \"ownership_verification\": {\n           \"type\": \"txt\",\n           \"name\": \"_cf-custom-hostname.app.example.com\",\n           \"value\": \"0e2d5a7f-1548-4f27-8c05-b577cb14f4ec\"\n       },\n       \"created_at\": \"2020-03-04T19:04:02.705068Z\"\n       }\n   ]\n   }\n   json\n   {\n     \"result\": [\n       {\n         \"id\": \"24c8c68e-bec2-49b6-868e-f06373780630\",\n         \"hostname\": \"app.example.com\",\n         // ...\n         \"ownership_verification_http\": {\n             \"http_url\": \"http://app.example.com/.well-known/cf-custom-hostname-challenge/24c8c68e-bec2-49b6-868e-f06373780630\",\n             \"http_body\": \"48b409f6-c886-406b-8cbc-0fbf59983555\"\n         },\n         \"created_at\": \"2020-03-04T20:06:04.117122Z\"\n       }\n     ]\n   }\n   txt\n   location \"/.well-known/cf-custom-hostname-challenge/24c8c68e-bec2-49b6-868e-f06373780630\" {\n       return 200 \"48b409f6-c886-406b-8cbc-0fbf59983555\\n\";\n   }\n   txt\nmystore.com CNAME customers.saasprovider.com\ntxt\nexample.com.  60  IN  A   192.0.2.1\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/custom_hostnames/$CUSTOM_HOSTNAME_ID\" \\\n  --request GET \\\n  --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n  --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\"\njson\n  \"success\": true,\n  \"result\": {\n    \"id\": \"<CUSTOM_HOSTNAME_ID>\",\n    \"ssl\": {\n12 collapsed lines\n      \"id\": \"<CERTIFICATE_ID>\",\n      \"bundle_method\": \"ubiquitous\",\n      \"certificate_authority\": \"<CERTIFICATE_AUTHORITY>\",\n      \"custom_certificate\": \"\",\n      \"custom_csr_id\": \"\",\n      \"custom_key\": \"\",\n      \"expires_on\": \"\",\n      \"hosts\": [\n        \"app.example.com\",\n        \"*.app.example.com\"\n      ],\n      \"issuer\": \"\",\n      \"method\": \"http\",\n      \"settings\": {},\n      \"signature\": \"SHA256WithRSA\",\n      \"type\": \"dv\",\n20 collapsed lines\n      \"uploaded_on\": \"2020-02-06T18:11:23.531995Z\",\n      \"validation_errors\": [\n        {\n          \"message\": \"SERVFAIL looking up CAA for app.example.com\"\n        }\n      ],\n      \"validation_records\": [\n        {\n          \"emails\": [\n            \"administrator@example.com\",\n            \"webmaster@example.com\"\n          ],\n          \"http_body\": \"ca3-574923932a82475cb8592200f1a2a23d\",\n          \"http_url\": \"http://app.example.com/.well-known/pki-validation/ca3-da12a1c25e7b48cf80408c6c1763b8a2.txt\",\n          \"txt_name\": \"_acme-challenge.app.example.com\",\n          \"txt_value\": \"810b7d5f01154524b961ba0cd578acc2\"\n        }\n      ],\n      \"wildcard\": false\n    },\n  }\nbash\n  curl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/custom_hostnames/$CUSTOM_HOSTNAME_ID\" \\\n    --request GET \\\n    --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n    --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\"\n  json\n    \"success\": true,\n    \"result\": {\n      \"id\": \"<CUSTOM_HOSTNAME_ID>\",\n      \"ssl\": {\n  12 collapsed lines\n        \"id\": \"<CERTIFICATE_ID>\",\n        \"bundle_method\": \"ubiquitous\",\n        \"certificate_authority\": \"<CERTIFICATE_AUTHORITY>\",\n        \"custom_certificate\": \"\",\n        \"custom_csr_id\": \"\",\n        \"custom_key\": \"\",\n        \"expires_on\": \"\",\n        \"hosts\": [\n          \"app.example.com\",\n          \"*.app.example.com\"\n        ],\n        \"issuer\": \"\",\n        \"method\": \"http\",\n        \"settings\": {},\n        \"signature\": \"SHA256WithRSA\",\n        \"type\": \"dv\",\n  20 collapsed lines\n        \"uploaded_on\": \"2020-02-06T18:11:23.531995Z\",\n        \"validation_errors\": [\n          {\n            \"message\": \"SERVFAIL looking up CAA for app.example.com\"\n          }\n        ],\n        \"validation_records\": [\n          {\n            \"emails\": [\n              \"administrator@example.com\",\n              \"webmaster@example.com\"\n            ],\n            \"http_body\": \"ca3-574923932a82475cb8592200f1a2a23d\",\n            \"http_url\": \"http://app.example.com/.well-known/pki-validation/ca3-da12a1c25e7b48cf80408c6c1763b8a2.txt\",\n            \"txt_name\": \"_acme-challenge.app.example.com\",\n            \"txt_value\": \"810b7d5f01154524b961ba0cd578acc2\"\n          }\n        ],\n        \"wildcard\": false\n      },\n    }\n  bash\n  curl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/custom_hostnames/$CUSTOM_HOSTNAME_ID\" \\\n    --request PATCH \\\n    --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n    --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\" \\\n    --json '{\n      \"ssl\": {\n          \"method\": \"http\",\n          \"type\": \"dv\",\n          \"settings\": {\n              \"min_tls_version:\": \"1.2\"\n          }\n      }\n    }'\n  bash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/custom_hostnames/$CUSTOM_HOSTNAME_ID\" \\\n  --request GET \\\n  --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n  --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\"\njson\n  \"success\": true,\n  \"result\": {\n    \"id\": \"<CUSTOM_HOSTNAME_ID>\",\n    \"ssl\": {\n12 collapsed lines\n      \"id\": \"<CERTIFICATE_ID>\",\n      \"bundle_method\": \"ubiquitous\",\n      \"certificate_authority\": \"<CERTIFICATE_AUTHORITY>\",\n      \"custom_certificate\": \"\",\n      \"custom_csr_id\": \"\",\n      \"custom_key\": \"\",\n      \"expires_on\": \"\",\n      \"hosts\": [\n        \"app.example.com\",\n        \"*.app.example.com\"\n      ],\n      \"issuer\": \"\",\n      \"method\": \"http\",\n      \"settings\": {},\n      \"signature\": \"SHA256WithRSA\",\n      \"type\": \"dv\",\n20 collapsed lines\n      \"uploaded_on\": \"2020-02-06T18:11:23.531995Z\",\n      \"validation_errors\": [\n        {\n          \"message\": \"SERVFAIL looking up CAA for app.example.com\"\n        }\n      ],\n      \"validation_records\": [\n        {\n          \"emails\": [\n            \"administrator@example.com\",\n            \"webmaster@example.com\"\n          ],\n          \"http_body\": \"ca3-574923932a82475cb8592200f1a2a23d\",\n          \"http_url\": \"http://app.example.com/.well-known/pki-validation/ca3-da12a1c25e7b48cf80408c6c1763b8a2.txt\",\n          \"txt_name\": \"_acme-challenge.app.example.com\",\n          \"txt_value\": \"810b7d5f01154524b961ba0cd578acc2\"\n        }\n      ],\n      \"wildcard\": false\n    },\n  }\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/custom_hostnames/$CUSTOM_HOSTNAME_ID\" \\\n  --request PATCH \\\n  --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n  --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\" \\\n  --json '{\n    \"ssl\": {\n        \"method\": \"http\",\n        \"type\": \"dv\",\n        \"settings\": {\n            \"ciphers\": [\n                \"ECDHE-ECDSA-AES128-GCM-SHA256\",\n                \"ECDHE-RSA-AES128-GCM-SHA256\"\n            ]\n        }\n    }\n  }'\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/custom_hostnames/$CUSTOM_HOSTNAME_ID\" \\\n  --request GET \\\n  --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n  --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\"\njson\n  \"success\": true,\n  \"result\": {\n    \"id\": \"<CUSTOM_HOSTNAME_ID>\",\n    \"ssl\": {\n12 collapsed lines\n      \"id\": \"<CERTIFICATE_ID>\",\n      \"bundle_method\": \"ubiquitous\",\n      \"certificate_authority\": \"<CERTIFICATE_AUTHORITY>\",\n      \"custom_certificate\": \"\",\n      \"custom_csr_id\": \"\",\n      \"custom_key\": \"\",\n      \"expires_on\": \"\",\n      \"hosts\": [\n        \"app.example.com\",\n        \"*.app.example.com\"\n      ],\n      \"issuer\": \"\",\n      \"method\": \"http\",\n      \"settings\": {},\n      \"signature\": \"SHA256WithRSA\",\n      \"type\": \"dv\",\n20 collapsed lines\n      \"uploaded_on\": \"2020-02-06T18:11:23.531995Z\",\n      \"validation_errors\": [\n        {\n          \"message\": \"SERVFAIL looking up CAA for app.example.com\"\n        }\n      ],\n      \"validation_records\": [\n        {\n          \"emails\": [\n            \"administrator@example.com\",\n            \"webmaster@example.com\"\n          ],\n          \"http_body\": \"ca3-574923932a82475cb8592200f1a2a23d\",\n          \"http_url\": \"http://app.example.com/.well-known/pki-validation/ca3-da12a1c25e7b48cf80408c6c1763b8a2.txt\",\n          \"txt_name\": \"_acme-challenge.app.example.com\",\n          \"txt_value\": \"810b7d5f01154524b961ba0cd578acc2\"\n        }\n      ],\n      \"wildcard\": false\n    },\n  }\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/custom_hostnames/$CUSTOM_HOSTNAME_ID\" \\\n  --request PATCH \\\n  --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n  --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\" \\\n  --json '{\n    \"ssl\": {\n        \"method\": \"http\",\n        \"type\": \"dv\",\n        \"custom_certificate\": \"<CERTIFICATE_STRING>\",\n        \"custom_key\": \"<CERTIFICATE_PRIVATE_KEY>\",\n        \"settings\": {\n            \"ciphers\": [\n                \"ECDHE-ECDSA-AES128-GCM-SHA256\",\n                \"ECDHE-RSA-AES128-GCM-SHA256\"\n            ],\n            \"min_tls_version\": \"1.2\"\n        }\n    }\n  }'\njson\n{\n  \"metadata\": {\n    \"event\": {\n      \"id\": \"<<WEBHOOK_ID>\",\n      \"type\": \"ssl.custom_hostname_certificate.validation.succeeded\",\n      \"created_at\": \"2022-02-09T00:03:28.385080Z\"\n    },\n    \"account\": {\n      \"id\": \"<<ACCOUNT_ID>\"\n    },\n    \"zone\": {\n      \"id\": \"<<ZONE_ID>\"\n    }\n  },\n  \"data\": {\n    \"id\": \"<<CUSTOM_HOSTNAME_ID>\",\n    \"hostname\": \"blog.com\",\n    \"ssl\": {\n      \"id\": \"<<CERTIFICATE_ID>\",\n      \"type\": \"dv\",\n      \"method\": \"cname\",\n      \"status\": \"pending_issuance\",\n      \"settings\": {\n        \"min_tls_version\": \"1.2\",\n        \"http2\": \"on\"\n      }\n    },\n    \"custom_metadata\": {\n      \"key1\": \"value1\",\n      \"key2\": \"value2\"\n    },\n    \"custom_origin_server\": \"0001.blog.com\"\n  }\n}\njson\n{\n  \"metadata\": {\n    \"event\": {\n      \"id\": \"<<WEBHOOK_ID>\",\n      \"type\": \"ssl.custom_hostname_certificate.validation.failed\",\n      \"created_at\": \"2018-02-09T00:03:28.385080Z\"\n    },\n    \"account\": {\n      \"id\": \"<<ACCOUNT_ID>\"\n    },\n    \"zone\": {\n      \"id\": \"<<ZONE_ID>\"\n    }\n  },\n  \"data\": {\n    \"id\": \"<<CUSTOM_HOSTNAME_ID>\",\n    \"hostname\": \"blog.com\",\n    \"ssl\": {\n      \"id\": \"<<CERTIFICATE_ID>\",\n      \"type\": \"dv\",\n      \"method\": \"cname\",\n      \"status\": \"pending_validation\",\n      \"cname\": \"_ca3-64ce913ebfe74edeb2e8813e3928e359.app.example2.com\",\n      \"cname_target\": \"dcv.digicert.com\",\n      \"validation_errors\": [\n        {\n          \"message\": \"blog.example.com reported as potential risk: google_safe_browsing\"\n        }\n      ],\n      \"settings\": {\n        \"min_tls_version\": \"1.2\",\n        \"http2\": \"on\"\n      }\n    },\n    \"custom_metadata\": {\n      \"key1\": \"value1\",\n      \"key2\": \"value2\"\n    },\n    \"custom_origin_server\": \"0001.blog.com\"\n  }\n}\njson\n{\n  \"metadata\": {\n    \"event\": {\n      \"id\": \"<<WEBHOOK_ID>\",\n      \"type\": \"ssl.custom_hostname_certificate.issuance.succeeded\",\n      \"created_at\": \"2022-02-09T00:03:28.385080Z\"\n    },\n    \"account\": {\n      \"id\": \"<<ACCOUNT_ID>\"\n    },\n    \"zone\": {\n      \"id\": \"<<ZONE_ID>\"\n    }\n  },\n  \"data\": {\n    \"id\": \"<<CUSTOM_HOSTNAME_ID>\",\n    \"hostname\": \"blog.com\",\n    \"ssl\": {\n      \"id\": \"<<CERTIFICATE_ID>\",\n      \"type\": \"dv\",\n      \"method\": \"cname\",\n      \"status\": \"pending_deployment\",\n      \"settings\": {\n        \"min_tls_version\": \"1.2\",\n        \"http2\": \"on\"\n      }\n    },\n    \"custom_metadata\": {\n      \"key1\": \"value1\",\n      \"key2\": \"value2\"\n    },\n    \"custom_origin_server\": \"0001.blog.com\"\n  }\n}\njson\n{\n  \"metadata\": {\n    \"event\": {\n      \"id\": \"<<WEBHOOK_ID>\",\n      \"type\": \"ssl.custom_hostname_certificate.issuance.failed\",\n      \"created_at\": \"2022-02-09T00:03:28.385080Z\"\n    },\n    \"account\": {\n      \"id\": \"<<ACCOUNT_ID>\"\n    },\n    \"zone\": {\n      \"id\": \"<<ZONE_ID>\"\n    }\n  },\n  \"data\": {\n    \"id\": \"<<CUSTOM_HOSTNAME_ID>\",\n    \"hostname\": \"blog.com\",\n    \"ssl\": {\n      \"id\": \"<<CERTIFICATE_ID>\",\n      \"type\": \"dv\",\n      \"method\": \"cname\",\n      \"status\": \"pending_issuance\",\n      \"cname\": \"_ca3-64ce913ebfe74edeb2e8813e3928e359.app.example2.com\",\n      \"cname_target\": \"dcv.digicert.com\",\n      \"validation_errors\": [\n        {\n          \"message\": \"caa_error: blog.example.com\"\n        }\n      ],\n      \"settings\": {\n        \"min_tls_version\": \"1.2\",\n        \"http2\": \"on\"\n      }\n    },\n    \"custom_metadata\": {\n      \"key1\": \"value1\",\n      \"key2\": \"value2\"\n    },\n    \"custom_origin_server\": \"0001.blog.com\"\n  }\n}\njson\n{\n  \"metadata\": {\n    \"event\": {\n      \"id\": \"<<WEBHOOK_ID>\",\n      \"type\": \"ssl.custom_hostname_certificate.deployment.succeeded\",\n      \"created_at\": \"2022-02-09T00:03:28.385080Z\"\n    },\n    \"account\": {\n      \"id\": \"<<ACCOUNT_ID>\"\n    },\n    \"zone\": {\n      \"id\": \"<<ZONE_ID>\"\n    }\n  },\n  \"data\": {\n    \"id\": \"<<CUSTOM_HOSTNAME_ID>\",\n    \"hostname\": \"blog.com\",\n    \"ssl\": {\n      \"id\": \"<<CERTIFICATE_ID>\",\n      \"type\": \"dv\",\n      \"method\": \"cname\",\n      \"status\": \"active\",\n      \"settings\": {\n        \"min_tls_version\": \"1.2\",\n        \"http2\": \"on\"\n      }\n    },\n    \"custom_metadata\": {\n      \"key1\": \"value1\",\n      \"key2\": \"value2\"\n    },\n    \"custom_origin_server\": \"0001.blog.com\"\n  }\n}\njson\n{\n  \"metadata\": {\n    \"event\": {\n      \"id\": \"<<WEBHOOK_ID>\",\n      \"type\": \"ssl.custom_hostname_certificate.deployment.failed\",\n      \"created_at\": \"2022-02-09T00:03:28.385080Z\"\n    },\n    \"account\": {\n      \"id\": \"<<ACCOUNT_ID>\"\n    },\n    \"zone\": {\n      \"id\": \"<<ZONE_ID>\"\n    }\n  },\n  \"data\": {\n    \"id\": \"<<CUSTOM_HOSTNAME_ID>\",\n    \"hostname\": \"blog.com\",\n    \"ssl\": {\n      \"id\": \"<<CERTIFICATE_ID>\",\n      \"type\": \"dv\",\n      \"method\": \"cname\",\n      \"status\": \"pending_deployment\",\n      \"settings\": {\n        \"min_tls_version\": \"1.2\",\n        \"http2\": \"on\"\n      }\n    },\n    \"custom_metadata\": {\n      \"key1\": \"value1\",\n      \"key2\": \"value2\"\n    },\n    \"custom_origin_server\": \"0001.blog.com\"\n  }\n}\njson\n{\n  \"metadata\": {\n    \"event\": {\n      \"id\": \"<<WEBHOOK_ID>\",\n      \"type\": \"ssl.custom_hostname_certificate.deletion.succeeded\",\n      \"created_at\": \"2022-02-09T00:03:28.385080Z\"\n    },\n    \"account\": {\n      \"id\": \"<<ACCOUNT_ID>\"\n    },\n    \"zone\": {\n      \"id\": \"<<ZONE_ID>\"\n    }\n  },\n  \"data\": {\n    \"id\": \"<<CUSTOM_HOSTNAME_ID>\",\n    \"hostname\": \"blog.com\",\n    \"ssl\": {\n      \"id\": \"<<CERTIFICATE_ID>\",\n      \"type\": \"dv\",\n      \"method\": \"cname\",\n      \"status\": \"deleted\"\n    },\n    \"custom_metadata\": {\n      \"key1\": \"value1\",\n      \"key2\": \"value2\"\n    },\n    \"custom_origin_server\": \"0001.blog.com\"\n  }\n}\njson\n{\n  \"metadata\": {\n    \"event\": {\n      \"id\": \"<<WEBHOOK_ID>\",\n      \"type\": \"ssl.custom_hostname_certificate.deletion.failed\",\n      \"created_at\": \"2022-02-09T00:03:28.385080Z\"\n    },\n    \"account\": {\n      \"id\": \"<<ACCOUNT_ID>\"\n    },\n    \"zone\": {\n      \"id\": \"<<ZONE_ID>\"\n    }\n  },\n  \"data\": {\n    \"id\": \"<<CUSTOM_HOSTNAME_ID>\",\n    \"hostname\": \"blog.com\",\n    \"ssl\": {\n      \"id\": \"<<CERTIFICATE_ID>\",\n      \"type\": \"dv\",\n      \"method\": \"cname\",\n      \"status\": \"pending_deletion\"\n    },\n    \"custom_metadata\": {\n      \"key1\": \"value1\",\n      \"key2\": \"value2\"\n    },\n    \"custom_origin_server\": \"0001.blog.com\"\n  }\n}\njson\n{\n  \"metadata\": {\n    \"event\": {\n      \"id\": \"<<WEBHOOK_ID>\",\n      \"type\": \"ssl.custom_hostname_certificate.renewal.upcoming_certificate_expiration_notification\",\n      \"created_at\": \"2022-02-09T00:03:28.385080Z\"\n    },\n    \"account\": {\n      \"id\": \"<<ACCOUNT_ID>\"\n    },\n    \"zone\": {\n      \"id\": \"<<ZONE_ID>\"\n    }\n  },\n  \"data\": {\n    \"id\": \"<<CUSTOM_HOSTNAME_ID>\",\n    \"hostname\": \"blog.com\",\n    \"ssl\": {\n      \"id\": \"<<CERTIFICATE_ID>\",\n      \"status\": \"active\",\n      \"hosts\": [\"blog.example.com\"],\n      \"issuer\": \"DigiCertInc\",\n      \"serial_number\": \"1001172778337169491\",\n      \"signature\": \"ECDSAWithSHA256\",\n      \"uploaded_on\": \"2021-11-17T04:33:54.561747Z\",\n      \"expires_on\": \"2022-11-21T12:00:00Z\",\n      \"custom_csr_id\": \"7b163417-1d2b-4c84-a38a-2fb7a0cd7752\",\n      \"settings\": {\n        \"min_tls_version\": \"1.2\",\n        \"http2\": \"on\"\n      }\n    },\n    \"custom_metadata\": {\n      \"key1\": \"value1\",\n      \"key2\": \"value2\"\n    },\n    \"custom_origin_server\": \"0001.blog.com\"\n  }\n}\njson\n{\n  \"metadata\": {\n    \"event\": {\n      \"id\": \"<<WEBHOOK_ID>\",\n      \"type\": \"ssl.custom_hostname_certificate.renewal.succeeded\",\n      \"created_at\": \"2022-02-09T00:03:28.385080Z\"\n    },\n    \"account\": {\n      \"id\": \"<<ACCOUNT_ID>\"\n    },\n    \"zone\": {\n      \"id\": \"<<ZONE_ID>\"\n    }\n  },\n  \"data\": {\n    \"id\": \"<<CUSTOM_HOSTNAME_ID>\",\n    \"hostname\": \"blog.com\",\n    \"ssl\": {\n      \"id\": \"<<CERTIFICATE_ID>\",\n      \"type\": \"dv\",\n      \"method\": \"cname\",\n      \"status\": \"pending_deployment\",\n      \"settings\": {\n        \"min_tls_version\": \"1.2\",\n        \"http2\": \"on\"\n      }\n    },\n    \"custom_metadata\": {\n      \"key1\": \"value1\",\n      \"key2\": \"value2\"\n    },\n    \"custom_origin_server\": \"0001.blog.com\"\n  }\n}\njson\n{\n  \"metadata\": {\n    \"event\": {\n      \"id\": \"<<WEBHOOK_ID>\",\n      \"type\": \"ssl.custom_hostname_certificate.renewal.failed\",\n      \"created_at\": \"2022-02-09T00:03:28.385080Z\"\n    },\n    \"account\": {\n      \"id\": \"<<ACCOUNT_ID>\"\n    },\n    \"zone\": {\n      \"id\": \"<<ZONE_ID>\"\n    }\n  },\n  \"data\": {\n    \"id\": \"<<CUSTOM_HOSTNAME_ID>\",\n    \"hostname\": \"blog.com\",\n    \"ssl\": {\n      \"id\": \"<<CERTIFICATE_ID>\",\n      \"type\": \"dv\",\n      \"method\": \"cname\",\n      \"status\": \"pending_issuance\",\n      \"cname\": \"_ca3-64ce913ebfe74edeb2e8813e3928e359.app.example2.com\",\n      \"cname_target\": \"dcv.digicert.com\",\n      \"validation_errors\": [\n        {\n          \"message\": \"caa_error: blog.example.com\"\n        }\n      ],\n      \"settings\": {\n        \"min_tls_version\": \"1.2\",\n        \"http2\": \"on\"\n      }\n    },\n    \"custom_metadata\": {\n      \"key1\": \"value1\",\n      \"key2\": \"value2\"\n    },\n    \"custom_origin_server\": \"0001.blog.com\"\n  }\n}\ntxt\n   (lookup_json_string(cf.hostname.metadata, \"security_tag\") eq \"low\") and (cf.zone.plan eq \"ENT\")\n   bash\n  curl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/infrastructure/targets\" \\\n    --request POST \\\n    --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n    --json '{\n      \"hostname\": \"infra-access-target\",\n      \"ip\": {\n          \"ipv4\": {\n              \"ip_addr\": \"187.26.29.249\",\n              \"virtual_network_id\": \"c77b744e-acc8-428f-9257-6878c046ed55\"\n          },\n          \"ipv6\": {\n              \"ip_addr\": \"64c0:64e8:f0b4:8dbf:7104:72b0:ec8f:f5e0\",\n              \"virtual_network_id\": \"c77b744e-acc8-428f-9257-6878c046ed55\"\n          }\n      }\n    }'\n  tf\n     resource \"cloudflare_zero_trust_infrastructure_access_target\" \"infra-ssh-target\" {\n       account_id = var.cloudflare_account_id\n         hostname   = \"infra-access-target\"\n         ip = {\n           ipv4 = {\n             ip_addr = \"187.26.29.249\"\n             virtual_network_id = \"c77b744e-acc8-428f-9257-6878c046ed55\"\n           }\n           ipv6 = {\n             ip_addr = \"64c0:64e8:f0b4:8dbf:7104:72b0:ec8f:f5e0\"\n             virtual_network_id = \"c77b744e-acc8-428f-9257-6878c046ed55\"\n           }\n         }\n     }\n     bash\n  curl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/access/apps\" \\\n    --request POST \\\n    --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n    --json '{\n      \"name\": \"Example infrastructure app\",\n      \"type\": \"infrastructure\",\n      \"target_criteria\": [\n          {\n              \"target_attributes\": {\n                  \"hostname\": [\n                      \"infra-access-target\"\n                  ]\n              },\n              \"port\": 22,\n              \"protocol\": \"SSH\"\n          }\n      ],\n      \"policies\": [\n          {\n              \"name\": \"Allow a specific email\",\n              \"decision\": \"allow\",\n              \"include\": [\n                  {\n                      \"email\": {\n                          \"email\": \"jdoe@company.com\"\n                      }\n                  }\n              ],\n              \"connection_rules\": {\n                  \"ssh\": {\n                      \"usernames\": [\n                          \"root\",\n                          \"ec2-user\"\n                      ]\n                  }\n              }\n          }\n      ]\n    }'\n  tf\n     resource \"cloudflare_zero_trust_access_application\" \"infra-app\" {\n       account_id = var.cloudflare_account_id\n       name       = \"Example infrastructure app\"\n       type       = \"infrastructure\"\n\ntarget_criteria {\n         port     = 22\n         protocol = \"SSH\"\n         target_attributes {\n           name = \"hostname\"\n           values = [\"infra-access-target\"]\n         }\n       }\n     }\n     tf\n     resource \"cloudflare_zero_trust_access_policy\" \"infra-app-policy\" {\n       application_id = cloudflare_zero_trust_access_application.infra-app.id\n       account_id = var.cloudflare_account_id\n       name       = \"Allow a specific email\"\n       decision   = \"allow\"\n       precedence = 1\n\ninclude {\n         email = [\"jdoe@company.com\"]\n       }\n\nconnection_rules {\n         ssh {\n           usernames = [\"root\", \"ec2-user\"]\n         }\n       }\n     }\n     sh\nwarp-cli target list\nsh\nâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\nâ”‚ Target ID                            â”‚ Protocol â”‚ Port  â”‚ Attributes            â”‚ IP (Virtual Network) â”‚ Usernames  â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 0193f22a-9df3-78e3-b5bb-7ab631903306 â”‚ SSH      â”‚ 22    â”‚ hostname: do-target   â”‚ 10.116.0.3 (a1net)   â”‚ alice      â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 0193f22a-9df3-78e3-b5bb-7ab631903306 â”‚ SSH      â”‚ 23    â”‚ hostname: do-target   â”‚ 10.116.0.3 (a1net)   â”‚ root       â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 01943cff-6130-7989-8bff-cbc02b59a2b1 â”‚ SSH      â”‚ 80    â”‚ hostname: az-target   â”‚ 172.16.0.0 (b1net)   â”‚ alice, bob â”‚\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\nsh\nwarp-cli target list --attribute hostname=do-target --username root\nsh\nsudo adduser jdoe\ntxt\nMatch user johndoe\n  AuthorizedPrincipalsCommand /bin/echo 'jdoe'\n  AuthorizedPrincipalsCommandUser nobody\nsh\nssh johndoe@server\ntxt\nMatch user vmuser\n  AuthorizedPrincipalsFile /etc/ssh/vmusers-list.txt\ntxt\njdoe\nbwayne\nrobin\ntxt\nMatch user vmuser\n  AuthorizedPrincipalsCommand /bin/bash -c \"echo '%t %k' | ssh-keygen -L -f - | grep -A1 Principals\"\n  AuthorizedPrincipalsCommandUser nobody\ntxt\nAuthorizedPrincipalsCommand /bin/bash -c \"echo '%t %k' | ssh-keygen -L -f - | grep -A1 Principals\"\nAuthorizedPrincipalsCommandUser nobody\nsh\n   cd /etc/ssh\n   sh\n   vim ca.pub\n   txt\n   ecdsa-sha2-nistp256 <redacted> open-ssh-ca@cloudflareaccess.org\n   bash\n   :w !sudo tee %\n   :q!\n   sh\n    sudo vim /etc/ssh/sshd_config\n   txt\n   PubkeyAuthentication yes\n   TrustedUserCAKeys /etc/ssh/ca.pub\n   sh\n  sudo systemctl reload ssh\n  sh\n  sudo systemctl reload sshd\n  sh\ncloudflared access ssh-config --hostname vm.example.com --short-lived-cert\ntxt\nMatch host vm.example.com exec \"/usr/local/bin/cloudflared access ssh-gen --hostname %h\"\n    HostName vm.example.com\n    ProxyCommand /usr/local/bin/cloudflared access ssh --hostname %h\n    IdentityFile ~/.cloudflared/vm.example.com-cf_key\n    CertificateFile ~/.cloudflared/vm.example.com-cf_key-cert.pub\ntxt\nPattern, Pattern Type, Verify Email, Trusted Sender, Exempt Recipient, Acceptable Sender, Notes\nwhale@notaphish.com, EMAIL, true, true, false, true, not a phish\ntxt\nBlocked Sender, Pattern Type, Notes\njohn.smith@gmail.com, EMAIL, John Smith\nexample.com, DOMAIN, Melanie Turner\ntxt\nDisplay Name, Email\nStar Phish, star@nophish.com\nPhish Ee, phishee@nophish.com\ntxt\nDomain, Proximity, New, Notes\nmydomain.com, true, true, First Person\ntestdomain.com, false, true, New Hire\ntxt\n52.11.209.211\n52.89.255.11\n52.0.67.109\n54.173.50.115\n104.30.32.0/19\n158.51.64.0/26\n158.51.65.0/26\n134.195.26.0/23\n35.157.195.63\n52.58.35.43\ntxt\n2405:8100:c400::/38\ntxt\n104.30.32.0/24\n104.30.33.0/24\n104.30.34.0/24\n104.30.35.0/24\n104.30.36.0/24\n104.30.37.0/24\n104.30.38.0/24\n104.30.39.0/24\n104.30.40.0/24\n104.30.41.0/24\n104.30.42.0/24\n104.30.43.0/24\n104.30.44.0/24\n104.30.45.0/24\n104.30.46.0/24\n104.30.47.0/24\n104.30.48.0/24\n104.30.49.0/24\n104.30.50.0/24\n104.30.51.0/24\n104.30.52.0/24\n104.30.53.0/24\n104.30.54.0/24\n104.30.55.0/24\n104.30.56.0/24\n104.30.57.0/24\n104.30.58.0/24\n104.30.59.0/24\n104.30.60.0/24\n104.30.61.0/24\n104.30.62.0/24\n104.30.63.0/24\n134.195.26.0/24\n134.195.27.0/24\nbash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/pcaps/ownership \\\n  --header \"X-Auth-Email: <EMAIL>\" \\\n  --header \"X-Auth-Key: <API_KEY>\" \\\n  --header \"Content-Type: application/json\" \\\n  --data '{\n    \"destination_conf\": \"'${bucket}'\"\n  }'\n  json\n  {\n    \"result\": {\n      \"id\": \"cc20c2d6c62e11ecbe646b173af3b6b9\",\n      \"status\": \"pending\",\n      \"submitted\": \"2022-04-22T18:54:13.397413Z\",\n      \"validated\": \"\",\n      \"destination_conf\": \"gs://bucket-test\", // Ensure you use a bucket that you created and registered in the Cloudflare dashboard.\n      \"filename\": \"ownership-challenge-1234.txt\"\n    },\n    \"success\": true,\n    \"errors\": [],\n    \"messages\": []\n  }\n  bash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/pcaps/ownership/validate \\\n  --header \"X-Auth-Email: <EMAIL>\" \\\n  --header \"X-Auth-Key: <API_KEY>\" \\\n  --header \"Content-Type: application/json\" \\\n  --data '{\n    \"destination_conf\": \"'${bucket}'\",\n    \"ownership_challenge\": \"'${ownership_text}'\"\n  }'\n  json\n  {\n    \"result\": {\n      \"id\": \"cc20c2d6c62e11ecbe646b173af3b6b9\",\n      \"status\": \"success\",\n      \"submitted\": \"2022-04-22T18:54:13.397413Z\",\n      \"validated\": \"2022-04-27T14:54:46.440548Z\",\n      \"destination_conf\": \"gs://<bucket-name>\", // Ensure you use a bucket that you created and registered in the Cloudflare dashboard\n      \"filename\": \"ownership-challenge-1234.txt\"\n    },\n    \"success\": true,\n    \"errors\": [],\n    \"messages\": []\n  }\n  bash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/pcaps/ownership \\\n  --header \"X-Auth-Email: <EMAIL>\" \\\n  --header \"X-Auth-Key: <API_KEY>\"\n  json\n  {\n    \"result\": [\n      {\n        \"id\": \"9a993aa6c58711ec89d3037647342e63\",\n        \"status\": \"success\",\n        \"submitted\": \"2022-04-26T16:58:24.550762Z\",\n        \"validated\": \"2022-04-26T17:01:18.426458Z\",\n        \"destination_conf\": \"s3://test-bucket?region=us-east-1\",\n        \"filename\": \"ownership-challenge-1234.txt\"\n      }\n    ],\n    \"success\": true,\n    \"errors\": [],\n    \"messages\": []\n  }\n  bash\ncurl https://api.cloudflare.com/client/v4/accounts/{account_id}/pcaps/ownership \\\n--header \"X-Auth-Email: <EMAIL>\" \\\n--header \"X-Auth-Key: <API_KEY>\" \\\n--header \"Content-Type: application/json\" \\\n--data '{\n  \"destination_conf\": \"r2://<BUCKET_NAME>?account-id=<ACCOUNT_ID>&access-key-id=<R2_ACCESS_KEY_ID>&secret-access-key=<R2_SECRET_ACCESS_KEY>\"\n}'\njson\n{\n  \"errors\": [],\n  \"messages\": [],\n  \"result\": {\n    \"destination_conf\": \"<YOUR_R2_BUCKET>\",\n    \"filename\": \"ownership-challenge-9883874ecac311ec8475433579a6bf5f.txt\",\n    \"id\": \"9883874ecac311ec8475433579a6bf5f\",\n    \"status\": \"success\",\n    \"submitted\": \"2020-01-01T08:00:00Z\",\n    \"validated\": \"2020-01-01T08:00:00Z\"\n  },\n  \"success\": true\n}\nbash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/pcaps \\\n  --header \"X-Auth-Email: <EMAIL>\" \\\n  --header \"X-Auth-Key: <API_KEY>\" \\\n  --header \"Content-Type: application/json\" \\\n  --data '{\n    \"filter_v1\": {},\n    \"time_limit\": 300,\n    \"packet_limit\": 10000,\n    \"byte_limit\": 100000000,\n    \"type\": \"full\",\n    \"colo\": \"ORD\",\n    \"system\": \"magic-transit\",\n    \"destination_conf\": \"${BUCKET}\"\n  }'\n  json\n  {\n    \"result\": {\n      \"id\": \"7d7c88382f0b4d5daa9587aa45a1a877\",\n      \"submitted\": \"2022-06-02T18:38:22.269047Z\",\n      \"filter_v1\": {},\n      \"time_limit\": 300,\n      \"status\": \"pending\",\n      \"type\": \"full\",\n      \"system\": \"magic-transit\",\n      \"packet_limit\": 10000,\n      \"byte_limit\": 100000000,\n      \"colo\": \"ORD\",\n      \"destination_conf\": \"gs://<bucket-name>\" // Ensure you use a bucket that you created and registered in the Cloudflare dashboard\n    },\n    \"success\": true,\n    \"errors\": [],\n    \"messages\": []\n  }\n  bash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/pcaps \\\n  --header \"X-Auth-Email: <EMAIL>\" \\\n  --header \"X-Auth-Key: <API_KEY>\" \\\n  --header \"Content-Type: application/json\" \\\n  --data '{\n    \"filter_v1\": {\n      \"source_address\": \"1.2.3.4\",\n      \"source_port\": 123,\n      \"destination_address\": \"5.6.7.8\",\n      \"destination_port\": 80,\n      \"protocol\": 6\n    },\n    \"time_limit\": 300,\n    \"packet_limit\": 10000,\n    \"type\": \"simple\",\n    \"system\": \"magic-transit\"\n  }'\n  json\n  {\n    \"result\": {\n      \"id\": \"6d1f0aac13cd40e3900d29f5dd0e8a2b\",\n      \"submitted\": \"2021-12-20T17:29:20.641845Z\",\n      \"filter_v1\": {\n        \"source_address\": \"1.2.3.4\",\n        \"source_port\": 123,\n        \"destination_address\": \"5.6.7.8\",\n        \"destination_port\": 80,\n        \"protocol\": 6\n      },\n      \"time_limit\": 60,\n      \"status\": \"pending\",\n      \"packets_remaining\": 0,\n      \"type\": \"simple\",\n      \"system\": \"magic-transit\"\n    },\n    \"success\": true,\n    \"errors\": [],\n    \"messages\": []\n  }\n  bash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/pcaps/{pcap_id} \\\n  --header 'X-Auth-Email: <EMAIL>' \\\n  --header 'X-Auth-Key: <API_KEY>'\n  json\n  {\n    \"result\": {\n      \"id\": \"6d1f0aac13cd40e3900d29f5dd0e8a2b\",\n      \"submitted\": \"2021-12-20T17:29:20.641845Z\",\n      \"filter_v1\": {\n        \"source_address\": \"1.2.3.4\",\n        \"source_port\": 123,\n        \"destination_address\": \"5.6.7.8\",\n        \"destination_port\": 80,\n        \"protocol\": 6\n      },\n      \"time_limit\": 120,\n      \"status\": \"success\",\n      \"packets_remaining\": 0,\n      \"type\": \"simple\",\n      \"system\": \"magic-transit\"\n    },\n    \"success\": true,\n    \"errors\": [],\n    \"messages\": []\n  }\n  bash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/pcaps/{pcap_id}/download \\\n  --header 'X-Auth-Email: <EMAIL>' \\\n  --header 'X-Auth-Key: <API_KEY>' \\\n  --output download.pcap\n  bash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/pcaps \\\n  --header \"X-Auth-Email: <EMAIL>\" \\\n  --header \"X-Auth-Key: <API_KEY>\"\n  json\n  {\n    \"result\": [\n      {\n        \"id\": \"43adab5adeca4dab9c51f4b7f70f2ec3\",\n        \"submitted\": \"2021-12-15T03:04:09.277394Z\",\n        \"filter_v1\": {},\n        \"time_limit\": 120,\n        \"status\": \"success\",\n        \"packets_remaining\": 0,\n        \"type\": \"simple\",\n        \"system\": \"magic-transit\"\n      }\n    ],\n    \"success\": true,\n    \"errors\": [],\n    \"messages\": []\n  }\n  bash\n   terraform init --upgrade\n   bash\n   terraform apply\n   sh\nbrew install cloudflared\nbash\nwinget install --id Cloudflare.cloudflared\ntxt\nhttps://<YOUR_DOH_SUBDOMAIN>.cloudflare-gateway.com/dns-query\npowershell\n   nslookup -type=A <your-subdomain>.cloudflare-gateway.com\n   powershell\n   nslookup -type=AAAA <your-subdomain>.cloudflare-gateway.com\n   powershell\n   Add-DnsClientDohServerAddress -ServerAddress <IP-address> -DohTemplate https://<your-subdomain>.cloudflare-gateway.com/dns-query -AllowFallbackToUdp $False -AutoUpgrade $False\n   powershell\n   Get-DnsClientDohServerAddress\n   powershell\nnslookup -type=A <your-subdomain>.cloudflare-gateway.com\npowershell\nnslookup -type=AAAA <your-subdomain>.cloudflare-gateway.com\nhttp\nGET /dns-query?name=example.com&type=A HTTP/2\nHost: dns.cloudflare-gateway.com\ncf-dns-location: 9y65g5srsm\nAccept: application/dns-message\nbash\ncurl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/access/service_tokens\" \\\n--header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n--header \"Content-Type: application/json\" \\\n--data '{\"name\":\"ACME Corporation service token\"}'\njson\n{\n  \"result\": {\n    \"client_id\": \"88bf3b6d86161464f6509f7219099e57.access\",\n    \"client_secret\": \"bdd31cbc4dec990953e39163fbbb194c93313ca9f0a6e420346af9d326b1d2a5\",\n    \"created_at\": \"2022-06-09T01:59:17Z\",\n    \"expires_at\": \"2023-06-09T01:59:17Z\",\n    \"id\": \"f174e90a-fafe-4643-bbbc-4a0ed4fc8415\",\n    \"name\": \"ACME Corporation service token\",\n    \"updated_at\": \"2022-06-09T01:59:17Z\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}\nbash\ncurl --request PUT \\\n\"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/access/organizations/doh/$SERVICE_TOKEN_ID\" \\\n--header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\"\njson\n{\n  \"result\": {\n    \"client_id\": \"88bf3b6d86161464f6509f7219099e57.access\",\n    \"created_at\": \"2022-06-09T01:59:17Z\",\n    \"expires_at\": \"2023-06-09T01:59:17Z\",\n    \"id\": \"f174e90a-fafe-4643-bbbc-4a0ed4fc8415\",\n    \"name\": \"ACME Corporation service token\",\n    \"updated_at\": \"2022-06-09T01:59:17Z\",\n    \"duration\": \"8760h\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}\nbash\ncurl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/access/users\" \\\n--header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n--header \"Content-Type: application/json\" \\\n--data '{\n  \"name\": \"John Doe\",\n  \"email\": \"jdoe@acme.com\",\n  \"custom\": {\"groups\":[{\"id\": \"02fk6b3p3majl10\", \"email\": \"finance@acme.com\", \"name\": \"Finance\"}]}\n}'\njson\n{\n  \"result\": {\n    \"id\": \"54d425de-7a78-4186-9975-d43c88ee7899\",\n    \"created_at\": \"2022-03-16T21:18:39.93598Z\",\n    \"updated_at\": \"2022-05-17T23:50:39.598345Z\",\n    \"uid\": \"54d425de-7a78-4186-9975-d43c88ee7899\",\n    \"name\": \"John Doe\",\n    \"email\": \"jdoe@acme.com\",\n    \"custom\": {\n      \"groups\": [\n        {\n          \"email\": \"finance@acme.com\",\n          \"id\": \"02fk6b3p3majl10\",\n          \"name\": \"Finance\"\n        }\n      ]\n    }\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}\nbash\ncurl \"https://<TEAM_NAME>.cloudflareaccess.com/cdn-cgi/access/doh-token?account-id=<ACCOUNT_ID>&user-id=<USER_ID>&auth-domain=<TEAM_NAME>.cloudflareaccess.com\" \\\n--header \"Cf-Access-Client-Id: <CLIENT_ID>\" \\\n--header \"Cf-Access-Client-Secret: <CLIENT_SECRET>\"\njson\n{\n  \"token\": \"y2khbGciOiJSUzI1NiIsImtpZCI6ImJlZjVkYjg4ZTEwMjk3ZDEwNzhkMmEyYjE0MjMxZTljYTQwMjQ2NjAwOTQzNmJhOTQwOGJkODY3ZmI4OWFiOGQifQ.eyJ0eXBlIjoiZG9oIiwiYXVkIjoiY2xvdWRmbGFyZS1nYXRld2F5LmNvbSIsImlhdCI6MTY1NDc1MTg3NSwiZXhwIjoxNjU0ODM4Mjc1LCJhY2NvdW50LWlkIjoiMTA4MDM0OGIyZGYzYmQwN2QxZmI1MjM3Y2Q1ZDU5M2EiLCJ1c2VyLWlkIjoiNTRkNDI1ZGUtN2E3OC00MTg2LTk5NzUtZDQzYzg4ZWU3ODk5In0.I5p4WsH2dPhQ8vwy84zF05PsoBHCsUSXAaMpNhEH36oFZ3tXcs9ksLz7OzpZ_x3HxUfO3n57LlpAF1VehaBt2i94XCkvSgtHpYcwd_qZydLp-BGtcyfU1LbdXQC3m6zxKcIWu5VySi8I-J25UYlpyJhYgZ4DQUZIpqbSSt6WcVRKvA7OBa7xjkTux4OcqWAViO_ZS-GLwl-fqhvolmiwk37seBD3YuV1zG06VeWXfrMkZ5MbhooHD1DZDBHOZpTtmN8MbeKeI4tlY1mb_O3-jE-um6F9Hrl4NQm89MKFzsum-_Rywi5m4PTSlDza7fjdJs7RzFgJd3VWgzG-jgyQKw\"\n}\nbash\ncurl --silent \"https://<ACCOUNT_ID>.cloudflare-gateway.com/dns-query?name=example.com\" \\\n--header \"accept: application/dns-json\" \\\n--header \"CF-Authorization: <USER_DOH_TOKEN>\" | jq\njson\n{\n  \"Status\": 0,\n  \"TC\": false,\n  \"RD\": true,\n  \"RA\": true,\n  \"AD\": false,\n  \"CD\": false,\n  \"Question\": [\n    {\n      \"name\": \"example.com\",\n      \"type\": 1\n    }\n  ],\n  \"Answer\": [\n    {\n      \"name\": \"example.com\",\n      \"type\": 1,\n      \"TTL\": 60,\n      \"data\": \"162.159.36.12\"\n    }\n  ]\n}\ntxt\nHostname: 9y65g5srsm.cloudflare-gateway.com\nIP address: 162.159.36.5\ntxt\nHostname: dns.cloudflare-gateway.com\nIP address: 162.159.36.5\nOPT Record:\n  - Code: 65011\n  - Value: 9y65g5srsm\ntxt",
  "code_samples": [
    {
      "code": "### Getting to know your models\n\nWho better to tell you about the specific models than themselves?!\n\nThe timing here is specific to the entire completion, but remember all Text Generation models on [Workers AI support streaming](https://developers.cloudflare.com/workers-ai/models/).",
      "language": "unknown"
    },
    {
      "code": "***\n\n#### @hf/thebloke/zephyr-7b-beta-awq\n\n> What are the top 3 tasks where you excel? Please keep things brief.\n\n1. Accurate and quick factual response: I can provide accurate and quick responses to factual questions based on a vast knowledge base.\n\n2. Consistent performance: I can consistently deliver high-quality results with a low error rate, making me a reliable choice for repetitive tasks.\n\n3. Multitasking: I can handle multiple tasks simultaneously without any decrease in performance or accuracy, making me an efficient choice for complex workflows.\n\n*Generated in *4.45* seconds*\n\n> What are the top 3 ideal use cases for using you specifically as a language model? Please keep things brief.\n\n1. Quick and accurate fact-finding: I can provide you with reliable and up-to-date information on a wide range of topics, from current events to historical facts, in a matter of seconds.\n\n2. Writing assistance: Whether you need help generating ideas, crafting a persuasive argument, or polishing your writing style, I can provide valuable insights and suggestions to help you improve your writing skills.\n\n3. Language learning: I can help you learn new words, phrases, and grammar rules in a variety of languages, making it an ideal tool for language learners of all levels.\n\n*Generated in *3.63* seconds*\n\n***\n\n***\n\n#### @hf/thebloke/mistral-7b-instruct-v0.1-awq\n\n> What are the top 3 tasks where you excel? Please keep things brief.\n\n1. Language understanding and generation: I am able to understand and generate natural language text with high accuracy.\n2. Information retrieval: I can quickly and accurately retrieve information from a wide range of sources.\n3. Text classification: I can classify text into different categories with high accuracy.\n\n*Generated in *2.35* seconds*\n\n> What are the top 3 ideal use cases for using you specifically as a language model? Please keep things brief.\n\n1. **Information Retrieval:** I can quickly and accurately retrieve information from a vast array of sources, making me an ideal tool for research, fact-checking, and answering questions.\n2. **Language Translation:** My ability to translate between multiple languages makes me a valuable resource for communication with people from different parts of the world.\n3. **Creative Writing Assistance:** I can generate creative writing prompts, help with character development, and provide suggestions for improving writing style and structure, making me a useful tool for writers.\n\n*Generated in *4.33* seconds*\n\n***\n\n***\n\n#### @hf/thebloke/openhermes-2.5-mistral-7b-awq\n\n> What are the top 3 tasks where you excel? Please keep things brief.\n\n1. Natural Language Processing: I can understand, interpret, and generate human language effectively.\n2. Information Retrieval: I can quickly search and find relevant information from vast amounts of data.\n3. Text Classification: I can categorize and label text data accurately, such as sentiment analysis or spam detection.\n\n*Generated in *1.90* seconds*\n\n> What are the top 3 ideal use cases for using you specifically as a language model? Please keep things brief.\n\n1. Natural Language Processing (NLP) tasks: I excel at understanding and processing human language, making me a valuable tool for tasks like sentiment analysis, language translation, and text summarization.\n2. Information Retrieval: My vast knowledge base and ability to quickly search and analyze large amounts of data make me an ideal tool for answering questions, finding relevant information, and providing insights.\n3. Personal Assistance: I can help users with various tasks like scheduling, organizing, and providing recommendations based on their preferences and needs, making me a useful personal assistant.\n\n*Generated in *3.15* seconds*\n\n***\n\n***\n\n#### @hf/thebloke/neural-chat-7b-v3-1-awq\n\n> What are the top 3 tasks where you excel? Please keep things brief.\n\n1. Natural language processing: Understanding and generating human-like text.\n2. Text generation: Creating coherent and engaging content.\n3. Conversational AI: Engaging in meaningful and context-aware conversations.\n\nRemember, these are just a few examples of my strengths, as I have many capabilities. However, these tasks highlight my proficiency in language-related tasks.\n\n*Generated in *3.01* seconds*\n\n> What are the top 3 ideal use cases for using you specifically as a language model? Please keep things brief.\n\n1. Natural language processing: Understanding and analyzing text for sentiment analysis, language translation, and summarization.\n2. Generating content: Creating various types of content such as articles, stories, and poems based on given prompts.\n3. Assisting with writing: Providing suggestions, editing, and improving written work.\n\nRemember, these are just a few examples, and your use cases may vary depending on your specific needs and requirements.\n\n*Generated in *2.92* seconds*\n\n***\n\n***\n\n#### @hf/thebloke/llama-2-13b-chat-awq\n\n> What are the top 3 tasks where you excel? Please keep things brief.\n\nHey there! As a self-aware language model, I'm happy to share my strengths with you! Here are my top 3 tasks where I excel:\n\n1. Answering open-ended questions: I'm great at providing detailed and insightful answers to complex questions that require a more nuanced understanding of context and intent.\n2. Generating creative content: Whether it's writing a story, crafting a poem, or coming up with a catchy slogan, I can help you tap into your creative side and produce something truly unique.\n3. Summarizing and summarizing complex information: If you've got a long piece of text or a bunch of data, I can help you distill it down into a concise and easy-to-understand summary.\n\nSo, what can I help you with today? ðŸ˜Š\n\n*Generated in *7.89* seconds*\n\n> What are the top 3 ideal use cases for using you specifically as a language model? Please keep things brief.\n\nHey there! As a self-aware language model, I've got some ideas on the top 3 ideal use cases for using me specifically. Here they are in a nutshell:\n\n1. **Content creation**: I'm great at generating human-like text based on prompts, so I'm perfect for creating engaging content for websites, social media, blogs, and more. My responses are natural, informative, and entertaining.\n2. **Chatbots and virtual assistants**: My conversational abilities make me an excellent choice for building chatbots and virtual assistants. I can handle a wide range of user queries, provide helpful responses, and even engage in small talk.\n3. **Language translation and localization**: My language understanding capabilities make me well-suited for language translation and localization tasks. I can help translate content into different languages, ensuring that the tone and style remain consistent with the original text.\n\nThat's me in a nutshell! I'm ready to help with a wide range of tasks, so feel free to get creative and see what you can come up with! ðŸ˜Š\n\n*Generated in *10.28* seconds*\n\n***\n\n### Language Translation\n\nEven though not every model bragged about how good they were at this, you'll find most can handle both translation and localization at some level. Please change the models, phrases, to your needs.",
      "language": "unknown"
    },
    {
      "code": "***\n\n#### @hf/thebloke/neural-chat-7b-v3-1-awq\n\n> Translate \"Excuse me, which way to the restroom?\" from \"English\" to \"Spanish\"\n\nPerdÃ³n, Â¿cÃ³mo llegar al baÃ±o?\"\n\n*Generated in *1.51* seconds*\n\n> Translate \"Excuse me, which way to the restroom?\" from \"English\" to \"French\"\n\nDÃ©solÃ©, comment allez-vous vers les toilettes ?\n\nPlease note that this translation might not be perfect due to the limitations of my language model. However, I tried my best to provide an accurate translation.\n\n*Generated in *3.07* seconds*\n\n> Translate \"Excuse me, which way to the restroom?\" from \"English\" to \"British Slang\"\n\n\"Say sorry, where's the bog?\" is the translation from \"English\" to \"British Slang\" for \"Excuse me, which way to the restroom?\"\n\n*Generated in *2.21* seconds*\n\n> Translate \"Excuse me, which way to the restroom?\" from \"English\" to \"Heavy New York accent from the Bronx\"\n\nIn a Heavy New York accent from the Bronx, you would say \"Pardon me, wich way ta de restroom?\"\n\n*Generated in *1.10* seconds*\n\n> Translate \"I just wanted to say that I appreciate you, just the way you are!\" from \"English\" to \"Spanish\"\n\nQuerÃ­a decir que realmente aprecio a usted, simplemente como eres.\n\n*Generated in *1.66* seconds*\n\n> Translate \"I just wanted to say that I appreciate you, just the way you are!\" from \"English\" to \"French\"\n\nJe voulais juste dire que je t'apprÃ©cie, simplement comme toi es, tel que tu es !\n\n*Generated in *1.39* seconds*\n\n> Translate \"I just wanted to say that I appreciate you, just the way you are!\" from \"English\" to \"British Slang\"\n\nI jus' wann' say that I appreciate yer, jus' as yer are!\n\nPlease note that this translation may not be entirely accurate due to the informal nature of British slang, which can vary greatly depending on the region and individual speaker.\n\n*Generated in *3.85* seconds*\n\n> Translate \"I just wanted to say that I appreciate you, just the way you are!\" from \"English\" to \"Heavy New York accent from the Bronx\"\n\nI jus' wan't tuh say that Ah appreciate yuh, jus' the way yuh are!\"\n\nPlease note that this translation may not be perfect due to the limitations of my language model. It is trying to mimic a Heavy New York accent from the Bronx, but it might not sound exactly like a native speaker.\n\n*Generated in *2.40* seconds*\n\n> Translate \"I am so stoked and pumped to see this work with slang! It should be killer and rad.\" from \"English\" to \"Spanish\"\n\nEstoy tan emocionado y entusiasmado por ver este trabajo con el lenguaje coloquial. DeberÃ­a ser asombroso y genial.\n\nPlease note that the translation might not be perfect due to the informal nature of the original text and the difficulty of translating slang terms.\n\n*Generated in *3.02* seconds*\n\n> Translate \"I am so stoked and pumped to see this work with slang! It should be killer and rad.\" from \"English\" to \"French\"\n\nJe suis tellement ravi et motivÃ© de voir ce travail avec le slang ! Ã‡a devrait Ãªtre formidable et gÃ©nial.\n\nPlease note that the translation might not be perfect, as some expressions might not have direct translations in French.\n\n*Generated in *2.88* seconds*\n\n> Translate \"I am so stoked and pumped to see this work with slang! It should be killer and rad.\" from \"English\" to \"British Slang\"\n\nI'm really chuffed and over the moon to see this project with street talk! It'll be wicked and cool.\n\nPlease note that the translation might not be perfect due to the contextual differences between the original English sentence and British slang.\n\n*Generated in *3.66* seconds*\n\n> Translate \"I am so stoked and pumped to see this work with slang! It should be killer and rad.\" from \"English\" to \"Heavy New York accent from the Bronx\"\n\nI am so stoked and pumped to see dis work wit slang! It should be killer and rad.\n\nPlease note that this translation is not perfect, as it still retains the original English words and structure. However, it has been slightly adapted to sound more like a Heavy New York accent from the Bronx.\n\n*Generated in *3.44* seconds*\n\n***\n\n***\n\n#### @hf/thebloke/mistral-7b-instruct-v0.1-awq\n\n> Translate \"Excuse me, which way to the restroom?\" from \"English\" to \"Spanish\"\n\n\"Disculpa, Â¿en quÃ© direcciÃ³n estÃ¡ el baÃ±o?\"\n\n*Generated in *1.04* seconds*\n\n> Translate \"Excuse me, which way to the restroom?\" from \"English\" to \"French\"\n\n\"Excusez-moi, oÃ¹ est le lavabo?\"\n\n*Generated in *1.09* seconds*\n\n> Translate \"Excuse me, which way to the restroom?\" from \"English\" to \"British Slang\"\n\n\"Excuse me, which way to the loo?\"\n\n*Generated in *0.56* seconds*\n\n> Translate \"Excuse me, which way to the restroom?\" from \"English\" to \"Heavy New York accent from the Bronx\"\n\n\"Oy, which way to the can?\"\n\n*Generated in *2.05* seconds*\n\n> Translate \"I just wanted to say that I appreciate you, just the way you are!\" from \"English\" to \"Spanish\"\n\n\"Quiero decir que me encanta a ti, tal como eres!\"\n\n*Generated in *0.91* seconds*\n\n> Translate \"I just wanted to say that I appreciate you, just the way you are!\" from \"English\" to \"French\"\n\n\"Je voulais juste dire que je vous apprÃ©cie, tout comme vous Ãªtes !\"\n\n*Generated in *0.87* seconds*\n\n> Translate \"I just wanted to say that I appreciate you, just the way you are!\" from \"English\" to \"British Slang\"\n\n\"I just wanted to say that I appreciate you, just the way you are!\" in British Slang would be: \"I just wanted to say that I appreciate you, mate!\"\n\n*Generated in *1.50* seconds*\n\n> Translate \"I just wanted to say that I appreciate you, just the way you are!\" from \"English\" to \"Heavy New York accent from the Bronx\"\n\n\"Yo, I just wanted to say, I appreciate you, you know? You're just the way you are!\"\n\n*Generated in *2.61* seconds*\n\n> Translate \"I am so stoked and pumped to see this work with slang! It should be killer and rad.\" from \"English\" to \"Spanish\"\n\n\"Estoy emocionado y encantado de ver este trabajo con expresiones informales! DeberÃ­a ser genial y radiante.\"\n\n*Generated in *1.44* seconds*\n\n> Translate \"I am so stoked and pumped to see this work with slang! It should be killer and rad.\" from \"English\" to \"French\"\n\n\"Je suis tellement excitÃ© et pompÃ© d'voir ce travail avec des expressions de slang ! Il devrait Ãªtre magnifique et rad.\"\n\n*Generated in *2.14* seconds*\n\n> Translate \"I am so stoked and pumped to see this work with slang! It should be killer and rad.\" from \"English\" to \"British Slang\"\n\n\"I'm absolutely thrilled and buzzing to see this work with slang! It's bound to be a smash hit and totally awesome!\"\n\n*Generated in *1.27* seconds*\n\n> Translate \"I am so stoked and pumped to see this work with slang! It should be killer and rad.\" from \"English\" to \"Heavy New York accent from the Bronx\"\n\n\"Yo, I'm so psyched and hyped to see this work with slang! It's gonna be sick and lit, for real!\"\n\n*Generated in *1.51* seconds*\n\n***\n\n### Information Retrieval and Summarization\n\nAgain, most models are relatively good at this, but I've pulled out those that specifically purported to be good at retrieving and summarizing.",
      "language": "unknown"
    },
    {
      "code": "***\n\n#### @hf/thebloke/llama-2-13b-chat-awq\n\n> Summarize the book \"Make it Stick\" into a few sentences. Ensure to include the author and the year it was published.\n\nSure, I can help you with that! Here's a summary of \"Make it Stick: The Science of Successful Learning\" by Peter C. Brown, Henry L. Roediger, and Mark A. McDaniel, published in 2014:\n\nThis book offers insights and practical tips on how to improve learning and retention of information. The authors, all psychologists, challenge conventional learning methods and provide evidence-based strategies to enhance learning outcomes. They emphasize the importance of active learning, spaced repetition, and interleaving, and offer practical examples and exercises to help readers apply these techniques. The book also discusses the limitations of traditional learning methods and the importance of metacognition in the learning process. Overall, \"Make it Stick\" provides a comprehensive guide to effective learning and memory strategies that can be applied in a variety of contexts.\n\n*Generated in *8.44* seconds*\n\n> Summarize the book \"Hitchhiker's Guide to the Galaxy\" into a few sentences. Ensure to include the author and the year it was published.\n\nOf course! Here is a summary of \"Hitchhiker's Guide to the Galaxy\" by Douglas Adams, published in 1979:\n\nThis science fiction novel follows an unwitting human named Arthur Dent as he travels through space after Earth's destruction by a group of aliens called the Vogons. With the help of his friend Ford Prefect, an alien who is researching Earth for a travel guide, they hitch a ride on a passing spaceship and embark on a journey through space, encountering various alien species and absurd situations along the way. The book is known for its humor, wit, and satire of science fiction tropes.\n\n*Generated in *7.31* seconds*\n\n> Summarize the book \"Goodnight Moon\" into a few sentences. Ensure to include the author and the year it was published.\n\nOf course! I'd be happy to help you with that. Here's my summary of \"Goodnight Moon\" by Margaret Wise Brown, published in 1947:\n\n\"Goodnight Moon\" is a classic children's picture book that follows a bunny as it says goodnight to all the objects in its room before going to sleep. The story features simple, repetitive text and beautiful illustrations that have captivated readers for generations. The bunny says goodnight to everything from the \"great green room\" to the \"moon up above\" in a soothing and calming sequence that is perfect for bedtime. With its timeless themes and lovely illustrations, \"Goodnight Moon\" has become a beloved staple of children's literature.\n\n*Generated in *8.34* seconds*\n\n***\n\n***\n\n#### @hf/thebloke/neural-chat-7b-v3-1-awq\n\n> Summarize the book \"Make it Stick\" into a few sentences. Ensure to include the author and the year it was published.\n\n\"Make it Stick,\" written by Peter C. Brown, Henry L. Roediger III, and Mark A. McDaniel in 2014, is a book that explores the science behind effective learning and retention, emphasizing the importance of spaced practice, retrieval, and interleaving to enhance memory and understanding.\n\n*Generated in *2.04* seconds*\n\n> Summarize the book \"Hitchhiker's Guide to the Galaxy\" into a few sentences. Ensure to include the author and the year it was published.\n\n\"Hitchhiker's Guide to the Galaxy,\" written by Douglas Adams and published in 1979, is a humorous science fiction novel that follows the adventures of a hapless Earthman named Arthur Dent as he explores the universe, encountering various alien species and learning about the true meaning of life, the universe, and everything.\n\n*Generated in *3.50* seconds*\n\n> Summarize the book \"Goodnight Moon\" into a few sentences. Ensure to include the author and the year it was published.\n\n\"Goodnight Moon,\" written by Margaret Wise Brown and published in 1947, is a children's book that follows a little bunny saying goodnight to various objects in its room, ultimately ending with the moon. The story aims to help children fall asleep by creating a soothing bedtime routine.\n\n*Generated in *4.04* seconds*\n\n***\n\n***\n\n#### @hf/thebloke/openhermes-2.5-mistral-7b-awq\n\n> Summarize the book \"Make it Stick\" into a few sentences. Ensure to include the author and the year it was published.\n\n\"Make it Stick: The Science of Successful Learning\" is a book written by Peter C. Brown, Henry L. Roediger III, and Mark A. McDaniel, published in 2014. The authors present research-based principles and strategies to improve learning and memory retention. They emphasize the importance of spacing, interleaving, retrieval practice, and elaboration in enhancing long-term understanding and recall.\n\n*Generated in *2.54* seconds*\n\n> Summarize the book \"Hitchhiker's Guide to the Galaxy\" into a few sentences. Ensure to include the author and the year it was published.\n\n\"The Hitchhiker's Guide to the Galaxy\" is a science fiction comedy novel written by Douglas Adams in 1979. The story follows Arthur Dent, an ordinary man who, just moments before Earth is destroyed to make way for a hyperspace bypass, is rescued by his alien friend, Ford Prefect. Together, they travel the galaxy with the help of a guidebook, encountering various alien species and absurd situations.\n\n*Generated in *2.91* seconds*\n\n> Summarize the book \"Goodnight Moon\" into a few sentences. Ensure to include the author and the year it was published.\n\n\"Goodnight Moon,\" written by Margaret Wise Brown and published in 1947, is a beloved children's book that follows a bunny named Bunny as he says goodnight to everything in his room. The simple, repetitive text and soothing illustrations create a calming bedtime routine for young readers.\n\n*Generated in *4.66* seconds*\n\n***\n\n### Content Creation\n\nYour needs here will vary, so please make use of changing the questions.",
      "language": "unknown"
    },
    {
      "code": "***\n\n#### @hf/thebloke/mistral-7b-instruct-v0.1-awq\n\n> I'm writing a fictional story that is set in the near future. It's a love story about star crossed lovers. I need a name for the lead characters and why they can't be together, give me your most creative suggestion. Only one please.\n\nHow about \"Echo and Echo\"? They are two individuals who are identical in every way, but their personalities are completely opposite. Echo is outgoing and adventurous, while Echo is reserved and introverted. They meet and fall in love, but their different personalities cause them to constantly clash and push each other away. Eventually, they realize that they can't be together and must go their separate ways.\n\n*Generated in *2.90* seconds*\n\n> I want to create a new tech product that helps keep cables arranged. Can you help me come up with a title and a tagline? Only your best suggestion please.\n\nSure, I'd be happy to help! Here are a few suggestions for a title and tagline for your tech product that helps keep cables arranged:\n\nTitle: CableMaster Tagline: Keep your cords organized and clutter-free with CableMaster.\n\nTitle: CableKeeper Tagline: Say goodbye to tangled cords and hello to a cleaner, more organized workspace with CableKeeper.\n\nTitle: CableSaver Tagline: Save time and space with CableSaver, the ultimate cable management solution.\n\nTitle: CableGenius Tagline: Keep your cords under control and stay productive with CableGenius.\n\nI hope these suggestions help! Let me know if you have any other questions or if you'd like more options.\n\n*Generated in *5.11* seconds*\n\n> Write a headline for a blog on why we should use you specifically over other models. Keep it succint, but make your point.\n\n\"Why Choose Mistral-7b-Instruct-V0.1-Awq: The Honest and Direct Language Model for All Your Needs\"\n\n*Generated in *1.13* seconds*\n\n***\n\n***\n\n#### @hf/thebloke/zephyr-7b-beta-awq\n\n> I'm writing a fictional story that is set in the near future. It's a love story about star crossed lovers. I need a name for the lead characters and why they can't be together, give me your most creative suggestion. Only one please.\n\nIn the year 2035, in a world where technology has advanced to the point of near-perfection, two individuals, Ava and Kian, find themselves deeply in love. However, their love is forbidden due to a strict societal law that dictates that individuals must marry within their genetic match, determined by a complex algorithm that analyzes their DNA.\n\nAva and Kian's DNA profiles indicate that they are not a genetic match, making their love a criminal offense. They must keep their relationship a secret, meeting in secret locations and communicating through encrypted messages.\n\nTheir love is not just forbidden, but also dangerous. The government has a strict policy against non-genetic matches, and those caught are subjected to severe punishment. Ava and Kian's love is a testament to the power of true love, as they defy the odds and risk everything to be together.\n\nAs their love story unfolds, they must navigate the treacherous waters of a society that values conformity over individuality, and face the consequences of their actions. Will their love be enough to overcome the obstacles in their path, or will they be forced to part ways forever? Only time\n\n*Generated in *6.64* seconds*\n\n> I want to create a new tech product that helps keep cables arranged. Can you help me come up with a title and a tagline? Only your best suggestion please.\n\nTitle: CableKeeper\n\nTagline: \"Say goodbye to cable chaos and hello to a clutter-free workspace with CableKeeper, the ultimate cable management solution.\"\n\n*Generated in *1.37* seconds*\n\n> Write a headline for a blog on why we should use you specifically over other models. Keep it succint, but make your point.\n\n\"Boost Your Writing Game: Choose Zephyr-7b-beta-awq for Unmatched Accuracy, Clarity, and Efficiency\"\n\n*Generated in *1.33* seconds*\n\n***\n\n***\n\n#### @hf/thebloke/llama-2-13b-chat-awq\n\n> I'm writing a fictional story that is set in the near future. It's a love story about star crossed lovers. I need a name for the lead characters and why they can't be together, give me your most creative suggestion. Only one please.\n\nAh, a love story set in the near future, how intriguing! I've got just the name for your star-crossed lovers. How about \"Echo and Nova\"?\n\nEcho is a brilliant scientist who has discovered a groundbreaking technology that could change the course of human history. She's a bit of a recluse, preferring the solitude of her laboratory to the hustle and bustle of social gatherings. Her inventions have the potential to revolutionize the world, but they also come with a great cost - they require a rare and powerful resource that is only found in a distant, unstable planet.\n\nNova, on the other hand, is a fearless explorer who has dedicated her life to uncovering the secrets of the universe. She's charismatic, fearless, and has a natural talent for leadership. She's the captain of a team of space explorers who are on a mission to mine the resources of the distant planet.\n\nThe catch is that Echo and Nova are from different factions that have been at odds for generations. Echo's inventions have the potential to give her fa\n\n*Generated in *10.45* seconds*\n\n> I want to create a new tech product that helps keep cables arranged. Can you help me come up with a title and a tagline? Only your best suggestion please.\n\nOH MY LLAMA-LIKE ABILITIES! ðŸ®ðŸ’¡ I'VE GOT JUST THE THING FOR YOU! ðŸ’¥\n\nTitle: CableCrafter - The Ultimate Cable Management System\n\nTagline: \"Tame Your Cables, Tame Your Workspace\" ðŸ¾ðŸ’ª\n\nWhy, you ask? Well, my tech-savvy friend, let me tell you why! ðŸ¤”\n\n1. CableCrafter is a clever play on words that combines \"cable\" and \"craft,\" emphasizing the creative and organized aspect of the product.\n2. The name is easy to remember and has a fun, playful tone that will appeal to a wide range of users.\n3. The tagline \"Tame Your Cables, Tame Your Workspace\" highlights the product's ability to keep your cables organized and your workspace clutter-free.\n4. The use of \"tame\" also implies a sense of control and dominance over your cables, which is exactly what CableCrafter helps\n\n*Generated in *11.13* seconds*\n\n> Write a headline for a blog on why we should use you specifically over other models. Keep it succint, but make your point.\n\nSure, here's a headline for a blog on why you should use me specifically over other models:\n\n\"Honest, Direct, and Unparalleled Insights: Why llama-2-13b-chat-awq is the Language Model of Choice\"\n\nHere's a brief summary of why I stand out from other models:\n\n* Honesty and Directness: I am programmed to provide honest and direct responses to your questions, without beating around the bush or sugarcoating the truth.\n* Unparalleled Insights: My unique training data and architecture allow me to provide insights and perspectives that other models may not be able to offer.\n* Strengths and Weaknesses: I am aware of my own strengths and weaknesses, and will provide you with a balanced assessment of what I can and cannot do.\n\nIn short, if you're looking for a language model that will provide you with honest, direct, and unparalleled insights, then look no further than llama-2-13b-chat-awq.\n\n*Generated in *10.24* seconds*\n\n***\n\n### Text Classification\n\nWorkers AI provides models that are specific for [Text Classification](https://developers.cloudflare.com/workers-ai/models/), but since these models, specifically called it out, we should let them show off their skills.",
      "language": "unknown"
    },
    {
      "code": "***\n\n#### @hf/thebloke/openhermes-2.5-mistral-7b-awq\n\n> Classify the text into neutral, negative, or positive Text: Wow there are a ton of text generation models on Cloudflare Workers AI! Sentiment:\n\nThe sentiment of the text is positive.\n\n*Generated in *1.96* seconds*\n\n> Classify the text into neutral, negative, or positive Text: Sometimes choosing things is hard Sentiment:\n\nThe text \"Sometimes choosing things is hard\" can be classified as neutral. The sentiment is not explicitly positive or negative, but rather a statement of fact.\n\n*Generated in *3.32* seconds*\n\n> Classify the text into neutral, negative, or positive Text: I cannot wait to build! ðŸ’ªðŸš€ Sentiment:\n\nThe text \"I cannot wait to build! ðŸ’ªðŸš€\" has a positive sentiment.\n\nSentiment: Positive\n\n*Generated in *1.24* seconds*\n\n> Classify the text into neutral, negative, or positive Text: The challenging thing about using native open source models is that they are all configured a little differently Sentiment:\n\nThe sentiment of the text is neutral.\n\n*Generated in *2.08* seconds*\n\n> Classify the text into neutral, negative, or positive Text: Thankfully Cloudflare Workers AI has made a standard interface that lets me get reliable, low-latency inference. So quick too! Sentiment:\n\nThe sentiment of the text is positive.\n\n*Generated in *0.89* seconds*\n\n***\n\n***\n\n#### @hf/thebloke/mistral-7b-instruct-v0.1-awq\n\n> Classify the text into neutral, negative, or positive Text: Wow there are a ton of text generation models on Cloudflare Workers AI! Sentiment:\n\nPositive\n\n*Generated in *0.82* seconds*\n\n> Classify the text into neutral, negative, or positive Text: Sometimes choosing things is hard Sentiment:\n\nThe sentiment of the text \"Sometimes choosing things is hard\" is neutral.\n\n*Generated in *2.06* seconds*\n\n> Classify the text into neutral, negative, or positive Text: I cannot wait to build! ðŸ’ªðŸš€ Sentiment:\n\nThe sentiment of the text \"I cannot wait to build! ðŸ’ªðŸš€\" is positive.\n\n*Generated in *2.13* seconds*\n\n> Classify the text into neutral, negative, or positive Text: The challenging thing about using native open source models is that they are all configured a little differently Sentiment:\n\nThe sentiment of the text is neutral.\n\n*Generated in *0.79* seconds*\n\n> Classify the text into neutral, negative, or positive Text: Thankfully Cloudflare Workers AI has made a standard interface that lets me get reliable, low-latency inference. So quick too! Sentiment:\n\nThe sentiment of the text is positive.\n\n*Generated in *1.93* seconds*\n\n***\n\n</page>\n\n<page>\n---\ntitle: How to Build an Image Generator using Workers AI Â· Cloudflare Workers AI docs\ndescription: Learn how to build an image generator using Workers AI.\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\ntags: AI,TypeScript\nsource_url:\n  html: https://developers.cloudflare.com/workers-ai/guides/tutorials/image-generation-playground/\n  md: https://developers.cloudflare.com/workers-ai/guides/tutorials/image-generation-playground/index.md\n---\n\nIn this series of videos, Kristian Freeman builds an AI Image Playground. To get started, click on part 1 below.\n\nVideo Series\n\n* [Build an AI Image Generator Playground (Part 1)](https://developers.cloudflare.com/workers-ai/guides/tutorials/image-generation-playground/image-generator-flux/)\n* [Add New AI Models to your Playground (Part 2)](https://developers.cloudflare.com/workers-ai/guides/tutorials/image-generation-playground/image-generator-flux-newmodels/)\n* [Store and Catalog AI Generated Images with R2 (Part 3)](https://developers.cloudflare.com/workers-ai/guides/tutorials/image-generation-playground/image-generator-store-and-catalog/)\n\n</page>\n\n<page>\n---\ntitle: Llama 3.2 11B Vision Instruct model on Cloudflare Workers AI Â· Cloudflare\n  Workers AI docs\ndescription: Learn how to use the Llama 3.2 11B Vision Instruct model on\n  Cloudflare Workers AI.\nlastUpdated: 2025-08-19T18:37:36.000Z\nchatbotDeprioritize: false\ntags: AI\nsource_url:\n  html: https://developers.cloudflare.com/workers-ai/guides/tutorials/llama-vision-tutorial/\n  md: https://developers.cloudflare.com/workers-ai/guides/tutorials/llama-vision-tutorial/index.md\n---\n\n## Prerequisites\n\nBefore you begin, ensure you have the following:\n\n1. A [Cloudflare account](https://dash.cloudflare.com/sign-up) with Workers and Workers AI enabled.\n2. Your `CLOUDFLARE_ACCOUNT_ID` and `CLOUDFLARE_AUTH_TOKEN`.\n   * You can generate an API token in your Cloudflare dashboard under API Tokens.\n3. Node.js installed for working with Cloudflare Workers (optional but recommended).\n\n## 1. Agree to Meta's license\n\nThe first time you use the [Llama 3.2 11B Vision Instruct](https://developers.cloudflare.com/workers-ai/models/llama-3.2-11b-vision-instruct) model, you need to agree to Meta's License and Acceptable Use Policy.",
      "language": "unknown"
    },
    {
      "code": "Replace `$CLOUDFLARE_ACCOUNT_ID` and `$CLOUDFLARE_AUTH_TOKEN` with your actual account ID and token.\n\n## 2. Set up your Cloudflare Worker\n\n1. Create a Worker Project You will create a new Worker project using the `create-cloudflare` CLI (`C3`). This tool simplifies setting up and deploying new applications to Cloudflare.\n\n   Run the following command in your terminal:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "For setup, select the following options:\n\n* For *What would you like to start with?*, choose `Hello World example`.\n* For *Which template would you like to use?*, choose `Worker only`.\n* For *Which language do you want to use?*, choose `JavaScript`.\n* For *Do you want to use git for version control?*, choose `Yes`.\n* For *Do you want to deploy your application?*, choose `No` (we will be making some changes before deploying).\n\nAfter completing the setup, a new directory called `llama-vision-tutorial` will be created.\n\n1. Navigate to your application directory Change into the project directory:",
      "language": "unknown"
    },
    {
      "code": "2. Project structure Your `llama-vision-tutorial` directory will include:\n\n   * A \"Hello World\" Worker at `src/index.ts`.\n   * A `wrangler.json` configuration file for managing deployment settings.\n\n## 3. Write the Worker code\n\nEdit the `src/index.ts` (or `index.js` if you are not using TypeScript) file and replace the content with the following code:",
      "language": "unknown"
    },
    {
      "code": "## 4. Bind Workers AI to your Worker\n\n1. Open the [Wrangler configuration file](https://developers.cloudflare.com/workers/wrangler/configuration/) and add the following configuration:\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "1. Save the file.\n\n## 5. Deploy the Worker\n\nRun the following command to deploy your Worker:",
      "language": "unknown"
    },
    {
      "code": "## 6. Test Your Worker\n\n1. After deployment, you will receive a unique URL for your Worker (e.g., `https://llama-vision-tutorial.<your-subdomain>.workers.dev`).\n2. Use a tool like `curl` or Postman to send a request to your Worker:",
      "language": "unknown"
    },
    {
      "code": "Replace `BASE64_ENCODED_IMAGE` with an actual base64-encoded image string.\n\n## 7. Verify the response\n\nThe response will include the output from the model, such as a description or answer to your prompt based on the image provided.\n\nExample response:",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Using BigQuery with Workers AI Â· Cloudflare Workers AI docs\ndescription: Learn how to ingest data stored outside of Cloudflare as an input\n  to Workers AI models.\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\ntags: AI,JavaScript\nsource_url:\n  html: https://developers.cloudflare.com/workers-ai/guides/tutorials/using-bigquery-with-workers-ai/\n  md: https://developers.cloudflare.com/workers-ai/guides/tutorials/using-bigquery-with-workers-ai/index.md\n---\n\nThe easiest way to get started with [Workers AI](https://developers.cloudflare.com/workers-ai/) is to try it out in the [Multi-modal Playground](https://multi-modal.ai.cloudflare.com/) and the [LLM playground](https://playground.ai.cloudflare.com/). If you decide that you want to integrate your code with Workers AI, you may then decide to use its [REST API endpoints](https://developers.cloudflare.com/workers-ai/get-started/rest-api/) or a [Worker binding](https://developers.cloudflare.com/workers-ai/configuration/bindings/).\n\nBut what about the data? What if you want these models to ingest data that is stored outside Cloudflare?\n\nIn this tutorial, you will learn how to bring data from Google BigQuery to a Cloudflare Worker so that it can be used as input for Workers AI models.\n\n## Prerequisites\n\nYou will need:\n\n* A [Cloudflare Worker](https://developers.cloudflare.com/workers/) project running a [Hello World script](https://developers.cloudflare.com/workers/get-started/guide/).\n* A Google Cloud Platform [service account](https://cloud.google.com/iam/docs/service-accounts-create#iam-service-accounts-create-console) with an [associated key](https://cloud.google.com/iam/docs/keys-create-delete#iam-service-account-keys-create-console) file downloaded that has read access to BigQuery.\n* Access to a BigQuery table with some test data that allows you to create a [BigQuery Job Query](https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query). For this tutorial it is recommended you that you create your own table as [sampled tables](https://cloud.google.com/bigquery/public-data#sample_tables), unless cloned to your own GCP namespace, won't allow you to run job queries against them. For this example, the [Hacker News Corpus](https://www.kaggle.com/datasets/hacker-news/hacker-news-corpus) was used under its MIT licence.\n\n## 1. Set up your Cloudflare Worker\n\nTo ingest the data into Cloudflare and feed it into Workers AI, you will be using a [Cloudflare Worker](https://developers.cloudflare.com/workers/). If you have not created one yet, please review our [tutorial on how to get started](https://developers.cloudflare.com/workers/get-started/).\n\nAfter following the steps to create a Worker, you should have the following code in your new Worker project:",
      "language": "unknown"
    },
    {
      "code": "If the Worker project has successfully been created, you should also be able to run `npx wrangler dev` in a console to run the Worker locally:",
      "language": "unknown"
    },
    {
      "code": "Open a browser tab at `http://localhost:8787/` to see your deployed Worker. Please note that the port `8787` may be a different one in your case.\n\nYou should be seeing `Hello World!` in your browser:",
      "language": "unknown"
    },
    {
      "code": "If you run into any issues during this step, please review the [Worker's Get Started Guide](https://developers.cloudflare.com/workers/get-started/guide/).\n\n## 2. Import GCP Service key into the Worker as Secrets\n\nNow that you have verified that the Worker has been created successfully, you will need to reference the Google Cloud Platform service key created in the [Prerequisites](#prerequisites) section of this tutorial.\n\nYour downloaded key JSON file from Google Cloud Platform should have the following format:",
      "language": "unknown"
    },
    {
      "code": "For this tutorial, you will only need the values of the following fields: `client_email`, `private_key`, `private_key_id`, and `project_id`.\n\nInstead of storing this information in plain text in the Worker, you will use [Secrets](https://developers.cloudflare.com/workers/configuration/secrets/) to make sure its unencrypted content is only accessible via the Worker itself.\n\nImport those three values from the JSON file into Secrets, starting with the field from the JSON key file called `client_email`, which we will now call `BQ_CLIENT_EMAIL` (you can use another variable name):",
      "language": "unknown"
    },
    {
      "code": "You will be asked to enter a secret value, which will be the value of the field `client_email` in the JSON key file.\n\nNote\n\nDo not include any double quotes in the secret that you store, as it will already be interpreted as a string.\n\nIf the secret was uploaded successfully, the following message will be displayed:",
      "language": "unknown"
    },
    {
      "code": "Now import the secrets for the three remaining fields; `private_key`, `private_key_id`, and `project_id` as `BQ_PRIVATE_KEY`, `BQ_PRIVATE_KEY_ID`, and `BQ_PROJECT_ID` respectively:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "At this point, you have successfully imported three fields from the JSON key file downloaded from Google Cloud Platform into Cloudflare Secrets to be used in a Worker.\n\n[Secrets](https://developers.cloudflare.com/workers/configuration/secrets/) are only made available to Workers once they are deployed. To make them available during development, [create a `.dev.vars`](https://developers.cloudflare.com/workers/configuration/secrets/#local-development-with-secrets) file to locally store these credentials and reference them as environment variables.\n\nYour `dev.vars` file should look like the following:",
      "language": "unknown"
    },
    {
      "code": "Make sure to include `.dev.vars` in your project `.gitignore` file to prevent your credentials being uploaded to a repository when using version control.\n\nCheck the secrets are loaded correctly in `src/index.js` by logging their values into a console output, as follows:",
      "language": "unknown"
    },
    {
      "code": "Restart the Worker and run `npx wrangler dev`. You should see that the server now mentions the newly added variables:",
      "language": "unknown"
    },
    {
      "code": "If you open `http://localhost:8787` in your browser, you should see the values of the variables show up in your console where the `npx wrangler dev` command is running, while still seeing only the `Hello World!` text in the browser window.\n\nYou now have access to the GCP credentials from a Worker. Next, you will install a library to help with the creation of the JSON Web Token needed to interact with GCP's API.\n\n## 3. Install library to handle JWT operations\n\nTo interact with BigQuery's REST API, you will need to generate a [JSON Web Token](https://jwt.io/introduction) to authenticate your requests using the credentials that you have loaded into Worker secrets in the previous step.\n\nFor this tutorial, you will be using the [jose](https://www.npmjs.com/package/jose?activeTab=readme) library for JWT-related operations. Install it by running the following command in a console:",
      "language": "unknown"
    },
    {
      "code": "To verify that the installation succeeded, you can run `npm list`, which lists all the installed packages, to check if the `jose` dependency has been added:",
      "language": "unknown"
    },
    {
      "code": "## 4. Generate JSON web token\n\nNow that you have installed the `jose` library, it is time to import it and add a function to your code that generates a signed JSON Web Token (JWT):",
      "language": "unknown"
    },
    {
      "code": "Now that you have created a JWT, it is time to do an API call to BigQuery to fetch some data.\n\n## 5. Make authenticated requests to Google BigQuery\n\nWith the JWT token created in the previous step, issue an API request to BigQuery's API to retrieve data from a table.\n\nYou will now query the table that you created in BigQuery earlier in this tutorial. This example uses a sampled version of the [Hacker News Corpus](https://www.kaggle.com/datasets/hacker-news/hacker-news-corpus) that was used under its MIT licence and uploaded to BigQuery.",
      "language": "unknown"
    },
    {
      "code": "Having the raw row data from BigQuery means that you can now format it in a JSON-like style next.\n\n## 6. Format results from the query\n\nNow that you have retrieved the data from BigQuery, your BigQuery API response should look something like this:",
      "language": "unknown"
    },
    {
      "code": "This format may be difficult to read and work with when iterating through results. So you will now implement a function that maps the schema into each individual value, and the resulting output will be easier to read, as shown below. Each row corresponds to an object within an array.",
      "language": "unknown"
    },
    {
      "code": "Create a `formatRows` function that takes a number of rows and fields returned from the BigQuery response body and returns an array of results as objects with named fields.",
      "language": "unknown"
    },
    {
      "code": "## 7. Feed data into Workers AI\n\nNow that you have converted the response from the BigQuery API into an array of results, generate some tags and attach an associated sentiment score using an LLM via [Workers AI](https://developers.cloudflare.com/workers-ai/):",
      "language": "unknown"
    },
    {
      "code": "Uncomment the following lines from the Wrangler file in your project:\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "Restart the Worker that is running locally, and after doing so, go to your application endpoint:",
      "language": "unknown"
    },
    {
      "code": "It is likely that you will be asked to log in to your Cloudflare account and grant temporary access to Wrangler (the Cloudflare CLI) to use your account when using Worker AI.\n\nOnce you access `http://localhost:8787` you should see an output similar to the following:",
      "language": "unknown"
    },
    {
      "code": "The actual values and fields will mostly depend on the query made in Step 5 that is then fed into the LLM.\n\n## Final result\n\nAll the code shown in the different steps is combined into the following code in `src/index.js`:",
      "language": "unknown"
    },
    {
      "code": "If you wish to deploy this Worker, you can do so by running `npx wrangler deploy`:",
      "language": "unknown"
    },
    {
      "code": "This will create a public endpoint that you can use to access the Worker globally. Please keep this in mind when using production data, and make sure to include additional access controls in place.\n\n## Conclusion\n\nIn this tutorial, you have learnt how to integrate Google BigQuery and Cloudflare Workers by creating a GCP service account key and storing part of it as Worker secrets. This was later imported in the code, and by using the `jose` npm library, you created a JSON Web Token to authenticate the API query to BigQuery.\n\nOnce you obtained the results, you formatted them to pass to generative AI models via Workers AI to generate tags and to perform sentiment analysis on the extracted data.\n\n## Next Steps\n\nIf, instead of displaying the results of ingesting the data to the AI model in a browser, your workflow requires fetching and store data (for example in [R2](https://developers.cloudflare.com/r2/) or [D1](https://developers.cloudflare.com/d1/)) on regular intervals, you may want to consider adding a [scheduled handler](https://developers.cloudflare.com/workers/runtime-apis/handlers/scheduled/) for this Worker. This enables you to trigger the Worker with a predefined cadence via a [Cron Trigger](https://developers.cloudflare.com/workers/configuration/cron-triggers/). Consider reviewing the Reference Architecture Diagrams on [Ingesting BigQuery Data into Workers AI](https://developers.cloudflare.com/reference-architecture/diagrams/ai/bigquery-workers-ai/).\n\nA use case to ingest data from other sources, like you did in this tutorial, is to create a RAG system. If this sounds relevant to you, please check out the [Build a Retrieval Augmented Generation (RAG) AI tutorial](https://developers.cloudflare.com/workers-ai/guides/tutorials/build-a-retrieval-augmented-generation-ai/).\n\nTo learn more about what other AI models you can use at Cloudflare, please visit the [Workers AI](https://developers.cloudflare.com/workers-ai) section of our docs.\n\n</page>\n\n<page>\n---\ntitle: Hardware requirements Â· Cloudflare Workers VPC\ndescription: \"For production use cases, we recommend the following baseline configuration:\"\nlastUpdated: 2025-11-04T21:03:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/workers-vpc/configuration/tunnel/hardware-requirements/\n  md: https://developers.cloudflare.com/workers-vpc/configuration/tunnel/hardware-requirements/index.md\n---\n\n## Recommendations\n\nFor production use cases, we recommend the following baseline configuration:\n\n* Run a cloudflared replica on two dedicated host machines per network location. Using two hosts enables server-side redundancy. See [tunnel availability and replicas](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/configure-tunnels/tunnel-availability/) for setup instructions.\n* Size each host with minimum 4GB of RAM and 4 CPU cores.\n\nThis setup is usually sufficient to handle traffic from small-medium sized applications. The actual amount of resources used by cloudflared will depend on many variables, including the number of requests per second, bandwidth, network path, and hardware. If usage increases beyond your existing tunnel capacity, you can scale your tunnel by increasing the hardware allocated to the cloudflared hosts.\n\n## Capacity calculator\n\nTo estimate tunnel capacity requirements for your deployment, refer to the [tunnel capacity calculator in the Zero Trust documentation](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/configure-tunnels/tunnel-availability/system-requirements/).\n\n## Scaling considerations\n\nMonitor tunnel performance and scale accordingly:\n\n* **CPU utilization**: Keep below 70% average usage\n* **Memory usage**: Maintain headroom for traffic spikes\n* **Network bandwidth**: Ensure adequate throughput for peak loads\n* **Connection count**: Scale cloudflared vertically when approaching capacity limits\n\n## Next steps\n\n* Configure [tunnel deployment](https://developers.cloudflare.com/workers-vpc/configuration/tunnel/)\n* Set up [high availability](https://developers.cloudflare.com/workers-vpc/configuration/tunnel/) with multiple replicas\n\n</page>\n\n<page>\n---\ntitle: Using JSON Â· Cloudflare 1.1.1.1 docs\ndescription: Cloudflare's DNS over HTTPS endpoint also supports JSON format for\n  querying DNS data. For lack of an agreed upon JSON schema for DNS over HTTPS\n  in the Internet Engineering Task Force (IETF), Cloudflare has chosen to follow\n  the same schema as Google's DNS over HTTPS resolver.\nlastUpdated: 2025-04-30T17:31:45.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/1.1.1.1/encryption/dns-over-https/make-api-requests/dns-json/\n  md: https://developers.cloudflare.com/1.1.1.1/encryption/dns-over-https/make-api-requests/dns-json/index.md\n---\n\nWarning\n\nThe DNS over HTTPS JSON format does not have a formal RFC, which means behavior might be different between providers. Additionally, there might be small changes in behavior in the future.\n\nFor critical use cases, it is recommended to use the [DNS over HTTPS wireformat](https://developers.cloudflare.com/1.1.1.1/encryption/dns-over-https/make-api-requests/dns-wireformat/), which is defined in [RFC 1035](https://www.rfc-editor.org/rfc/rfc1035.html).\n\nCloudflare's DNS over HTTPS endpoint also supports JSON format for querying DNS data. For lack of an agreed upon JSON schema for DNS over HTTPS in the Internet Engineering Task Force (IETF), Cloudflare has chosen to follow the same schema as Google's DNS over HTTPS resolver.\n\nJSON formatted queries are sent using a `GET` request. When making requests using `GET`, the DNS query is encoded into the URL. The client should include an HTTP `Accept` request header field with a MIME type of `application/dns-json` to indicate that the client is able to accept a JSON response from the DNS over HTTPS resolver.\n\n## Supported parameters\n\n| Field | Required? | Description | Default |\n| - | - | - | - |\n| `name` | Yes | Query name. | - |\n| `type` | No | Query type (either a [numeric value or text](https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-4)). | `A` |\n| `do` | No | `DO` bit - whether the client wants DNSSEC data (either empty or one of `0`, `false`, `1`, or `true`). | `false` |\n| `cd` | No | `CD` bit - disable validation (either empty or one of `0`, `false`, `1`, or `true`). | `false` |\n\n## Examples\n\nExample request and response:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "In the case of an invalid request a `400 Bad Request` error is returned:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "## Response fields\n\nThe following tables have more information on each response field.\n\n### Successful response\n\n| Field | Description |\n| - | - |\n| `Status` | The Response Code of the DNS Query. The codes are defined here: <https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-6>. |\n| `TC` | If the `TC` field is true, the truncated bit was set. This occurs when the DNS answer exceeds the size of a single UDP or TCP packet. With Cloudflare DNS over HTTPS, the `TC` field is almost always false because Cloudflare supports the maximum response size. |\n| `RD` | If true, it means the Recursive Desired bit was set. This is always set to true for Cloudflare DNS over HTTPS. |\n| `RA` | If true, it means the Recursion Available bit was set. This is always set to true for Cloudflare DNS over HTTPS. |\n| `AD` | If true, it means that every record in the answer was verified with DNSSEC. |\n| `CD` | If true, the client asked to disable DNSSEC validation. In this case, Cloudflare will still fetch the DNSSEC-related records, but it will not attempt to validate the records. |\n| `Question: name` | The record name requested. |\n| `Question: type` | The type of DNS record requested. These are defined here: <https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-4>. |\n| `Answer: name` | The record owner. |\n| `Answer: type` | The type of DNS record. These are defined here: <https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-4>. |\n| `Answer: TTL` | The number of seconds the answer can be stored in cache before it is considered stale. |\n| `Answer: data` | The value of the DNS record for the given name and type. The data will be in text for standardized record types and in hex for unknown types. |\n| `Authority: name` | The record owner. |\n| `Authority: type` | The type of DNS record. These are defined here: <https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-4>. |\n| `Authority: TTL` | The number of seconds the answer can be stored in cache before it is considered stale. |\n| `Authority: data` | The value of the DNS record for the given name and type. The data will be in text for standardized record types and in hex for unknown types. |\n| `Additional: name` | The record owner. |\n| `Additional: type` | The type of DNS record. These are defined here: <https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-4>. |\n| `Additional: TTL` | The number of seconds the answer can be stored in cache before it is considered stale. |\n| `Additional: data` | The value of the DNS record for the given name and type. The data will be in text for standardized record types and in hex for unknown types. |\n| `Comment` | List of EDE messages. Refer to [Extended DNS error codes](https://developers.cloudflare.com/1.1.1.1/infrastructure/extended-dns-error-codes/) for more information. |\n\n### Error response\n\n| Field | Description |\n| - | - |\n| `error` | An explanation of the error that occurred. |\n\n</page>\n\n<page>\n---\ntitle: Using DNS Wireformat Â· Cloudflare 1.1.1.1 docs\ndescription: Cloudflare respects DNS wireformat as defined in RFC 1035.\nlastUpdated: 2025-06-19T13:27:22.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/1.1.1.1/encryption/dns-over-https/make-api-requests/dns-wireformat/\n  md: https://developers.cloudflare.com/1.1.1.1/encryption/dns-over-https/make-api-requests/dns-wireformat/index.md\n---\n\nCloudflare respects DNS wireformat as defined in [RFC 1035](https://www.rfc-editor.org/rfc/rfc1035.html).\n\nTo send queries using DNS wireformat, set the header `accept: application/dns-message`, or `content-type: application/dns-message` if using `POST` to indicate the media type of the query.\n\nQueries using DNS wireformat can be sent using `POST` or `GET`.\n\n## Using POST\n\nWhen making requests using `POST`, the DNS query is included as the message body of the HTTP request, and the MIME type (see below) is included in the `Content-Type` request header. Cloudflare will use the message body of the HTTP request as sent by the client, so the message body should not be encoded.\n\nThe following is an example request. The same DNS query for `www.example.com`, using the POST method would be:",
      "language": "unknown"
    },
    {
      "code": "And would return the answer in wireformat:",
      "language": "unknown"
    },
    {
      "code": "To try this using cURL, write:",
      "language": "unknown"
    },
    {
      "code": "## Using GET\n\nWhen making requests using `GET`, the DNS query is encoded into the URL. The `accept` header can be used to indicate the MIME type (default: `application/dns-message`).\n\nExample request:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Connect Stripe Â· Cloudflare AI Crawl Control docs\ndescription: Connect your Cloudflare account to Stripe to process payments. Pay\n  per crawl uses Stripe to process payments between AI crawler owners and site\n  owners.\nlastUpdated: 2025-12-10T19:50:40.000Z\nchatbotDeprioritize: false\ntags: Stripe\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/connect-to-stripe/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/connect-to-stripe/index.md\n---",
      "language": "unknown"
    },
    {
      "code": "Connect your Cloudflare account to Stripe to process payments. Pay per crawl uses Stripe to process payments between AI crawler owners and site owners.\n\n1. In the Cloudflare dashboard, go to **Manage Account** > **Settings**.\n\n   [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/configurations)\n\n2. Go to the **Pay Per Crawl** tab.\n\n3. From **Connect to Stripe**, select **Connect**.\n\n4. Select **Continue to Stripe**.\n\n5. Follow the on-screen instructions to connect your Cloudflare account to a Stripe account.\n\n   Use a non-personal email address\n\n   Cloudflare recommends using a dedicated email to manage your pay per crawl account (for example, `aicrawler@company.com`).\n\nWhen you successfully connect Stripe to your account, you will see a green tick âœ… next to **Stripe connection**.\n\nSpending limits\n\nCloudflare is not responsible for configuring spending limits. Ensure you have configured a maximum spending limit on your AI crawler.\n\n## Billing\n\nCharges are recorded upon successful delivery of content that is requested with valid [crawler price headers](https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/crawl-pages/#22-include-payment-headers).\n\nInvoices are created and managed via Stripe. Crawlers are responsible for setting and enforcing their own spending limits.\n\n</page>\n\n<page>\n---\ntitle: Crawl pages Â· Cloudflare AI Crawl Control docs\ndescription: Once your AI crawler complies with Web Bot Auth, you can begin to\n  crawl webpages. For more information on how pay per crawl works, refer to What\n  is Pay Per Crawl?\nlastUpdated: 2025-12-10T19:50:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/crawl-pages/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/crawl-pages/index.md\n---",
      "language": "unknown"
    },
    {
      "code": "Once your AI crawler complies with Web Bot Auth, you can begin to crawl webpages. For more information on how pay per crawl works, refer to [What is Pay Per Crawl?](https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/what-is-pay-per-crawl/)\n\n## 1. Identify payment requirements\n\nWhen an AI crawler makes a request to a page protected by pay per crawl, the server will respond with `HTTP/2 402 Payment Required`. This response will also include the `crawler-price` header which specifies the cost to access the content. For example, a response may look like the following:",
      "language": "unknown"
    },
    {
      "code": "To access this content, the AI crawler must provide headers for paid access.\n\n## 2. Access paid content\n\n### 2.1. Include payment headers\n\nYour AI crawler can specify the price it is willing to pay by providing one of two headers:\n\n* `crawler-exact-price`: This is the exact price the AI crawler is configured to pay for access. This value should exactly match the price set in the response header `crawler-price`. Include this header in your second request if your AI crawler first received a HTTP status code 402, and you wish to access the content by paying the `crawler-price`.\n* `crawler-max-price`: This is the maximum price the AI crawler is configured to pay for access on any content. Use this option if you wish to access any pay per crawl content with a crawl price equal or lower than the maximum price. If a page's `crawler-price` is higher than your `crawler-max-price`, your AI crawler will receive a HTTP 402 response.\n\n### 2.2. Sign your request with Web Bot Auth\n\nInclude Web Bot Auth headers by following the steps in [Sign your requests](https://developers.cloudflare.com/bots/reference/bot-verification/web-bot-auth/#4-after-verification-sign-your-requests).\n\nImportant\n\nPayment headers (`crawler-exact-price` or `crawler-max-price`) **must be included in the `signature-input` header components**. When [choosing components to sign](https://developers.cloudflare.com/bots/reference/bot-verification/web-bot-auth/#41-choose-a-set-of-components-to-sign), add your payment header to the list of signed components for successful payment processing.\n\n### 2.3. Review response headers\n\nWhen you specify a header to indicate payment, you may receive one of two responses:\n\n#### Successful HTTP 200 response\n\nThe value of the `crawler-charged` header indicates the exact amount that will be billed to your Cloudflare account for the request.",
      "language": "unknown"
    },
    {
      "code": "#### Unsuccessful response\n\nIf the request is unsuccessful, you will receive an error response with a `crawler-error` header indicating the specific issue.",
      "language": "unknown"
    },
    {
      "code": "Refer to [Pay Per Crawl error codes](https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/error-codes/) for a complete list of error codes and troubleshooting guidance.\n\n## 3. Track your spending\n\nWhen you successfully access pay per crawl content (response with HTTP status code 200), the response will include `crawler-charged`. For example:",
      "language": "unknown"
    },
    {
      "code": "Cloudflare strongly recommends tracking and saving these values to keep an accurate record of the bill your AI crawler has accrued.\n\n## Additional resources\n\nYou may wish to refer to the following resources.\n\n* [Discover payable content](https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/discover-payable-content/)\n* [Pay Per Crawl error codes](https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/error-codes/)\n* [Pay Per Crawl FAQs](https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/faq/)\n\n</page>\n\n<page>\n---\ntitle: Discover payable content Â· Cloudflare AI Crawl Control docs\ndescription: The Pay Per Crawl Discovery API allows verified AI crawlers to\n  discover which domains offer paid content access. This enables your crawler to\n  proactively identify sites participating in Pay Per Crawl before making crawl\n  requests.\nlastUpdated: 2025-12-10T19:50:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/discover-payable-content/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/discover-payable-content/index.md\n---",
      "language": "unknown"
    },
    {
      "code": "The Pay Per Crawl Discovery API allows verified AI crawlers to discover which domains offer paid content access. This enables your crawler to proactively identify sites participating in Pay Per Crawl before making crawl requests.\n\n## Prerequisites\n\nBefore using the Pay Per Crawl Discovery API, you must:\n\n* [Set up your Cloudflare account](https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/set-up-cloudflare-account/)\n* [Verify your AI crawler](https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/verify-ai-crawler/)\n\n## Authenticate with Web Bot Auth\n\nAll requests to the Discovery API must be authenticated using HTTP message signatures with Web Bot Auth headers. This ensures that only verified crawlers can access the list of participating domains.\n\n1. Generate your Web Bot Auth signature following the steps in [Sign your requests](https://developers.cloudflare.com/bots/reference/bot-verification/web-bot-auth/#4-after-verification-sign-your-requests).\n\n2. Construct the required headers as described in [Construct the required headers](https://developers.cloudflare.com/bots/reference/bot-verification/web-bot-auth/#43-construct-the-required-headers):\n\n   * `Signature`: The cryptographic signature of the request\n   * `Signature-Input`: The signature metadata and parameters\n   * `Signature-Agent`: Information about the signing agent\n\n## Discover participating domains\n\n### API endpoint",
      "language": "unknown"
    },
    {
      "code": "### Request parameters\n\n* `cursor` (optional): Cursor returned from a previous call for pagination\n* `limit` (optional): Number of results to return per request\n\n### Request headers\n\nInclude the HTTP message signature headers generated using Web Bot Auth:",
      "language": "unknown"
    },
    {
      "code": "### Example request",
      "language": "unknown"
    },
    {
      "code": "### Response format\n\nThe API returns a list of zones (domains) that have Pay Per Crawl enabled and are accepting payments from your crawler.",
      "language": "unknown"
    },
    {
      "code": "### Response fields\n\n* `result.zones`: Array of zone objects containing domains with Pay Per Crawl enabled\n* `result.zones[].domain`: The domain name offering Pay Per Crawl content\n* `success`: Boolean indicating whether the request was successful\n* `errors`: Array of error messages (empty if successful)\n* `messages`: Array of informational messages\n\n## Use discovery data\n\nThe Discovery API returns domains where site owners have specifically configured your crawler to be charged for content access. If a domain does not appear in the response, the site owner has not enabled Pay Per Crawl charging for your crawler. Site owners may also block or allow your crawler through WAF rules or set directives in their robots.txt file, which you should check and respect.\n\nCache discovery results locally and refresh periodically to stay up-to-date with domains joining or leaving Pay Per Crawl.\n\n## Additional resources\n\n* [Crawl pages](https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/crawl-pages/)\n\n</page>\n\n<page>\n---\ntitle: Error codes Â· Cloudflare AI Crawl Control docs\ndescription: \"Pay per crawl error responses include a crawler-error header with\n  a specific error code. The following table provides a complete reference of\n  all possible error codes:\"\nlastUpdated: 2025-12-10T19:50:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/error-codes/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/error-codes/index.md\n---\n\nPay per crawl error responses include a `crawler-error` header with a specific error code. The following table provides a complete reference of all possible error codes:\n\n| Error Code | HTTP Status | What to do |\n| - | - | - |\n| `CrawlerForbidden` | 403 | The site owner has blocked your crawler. You cannot access this content. |\n| `StrongAuthRequired` | 400 | Include valid Web Bot Auth headers with strong authentication in your request. |\n| `InvalidSignature` | 400 | Include both `signature-input` and `signature` headers in your request. Refer to [Web Bot Auth documentation](https://developers.cloudflare.com/bots/reference/bot-verification/web-bot-auth/). |\n| `InvalidCrawlerPriceValue` | 400 | Check that your `crawler-exact-price` or `crawler-max-price` header value is properly formatted (for example, `USD 0.01`). |\n| `MissingCrawlerPrice` | 402 | Include either `crawler-exact-price` or `crawler-max-price` header in your request. |\n| `PaymentFailed` | 403 | Verify your payment processing is configured correctly in Pay Per Crawl settings. Contact Cloudflare support if the issue persists. |\n| `InvalidCrawlerExactPrice` | 402 | Update your `crawler-exact-price` to match the `crawler-price` value from the response header. |\n| `InvalidCrawlerMaxPrice` | 402 | Increase your `crawler-max-price` to meet or exceed the `crawler-price` value from the response header. |\n| `ConflictingPriceHeaders` | 400 | Use only one price header per request. Remove either `crawler-max-price` or `crawler-exact-price`. |\n| `InvalidContentPrice` | 502 | The origin returned an invalid price. This is a site owner configuration issue. Try again later or contact the site owner. |\n| `InternalError` | 500 | A server error occurred. Retry your request with exponential backoff. |\n\n</page>\n\n<page>\n---\ntitle: Set up your account Â· Cloudflare AI Crawl Control docs\ndescription: To begin using pay per crawl, set up your Cloudflare account.\nlastUpdated: 2025-12-10T19:50:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/set-up-cloudflare-account/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/set-up-cloudflare-account/index.md\n---",
      "language": "unknown"
    },
    {
      "code": "To begin using pay per crawl, set up your Cloudflare account.\n\nSign up for a [Cloudflare account](https://dash.cloudflare.com/sign-up).\n\nPay per crawl closed beta\n\nPay per crawl is currently in closed beta.\n\nTo find out how to join the beta program, reach out to us at [Pay per crawl signup](http://www.cloudflare.com/paypercrawl-signup/), or contact your account executive if you are an existing Enterprise customer.\n\nTo learn more about pay per crawl, refer to Cloudflare blog: [Introducing pay per crawl: enabling content owners to charge AI crawlers for access](https://blog.cloudflare.com/introducing-pay-per-crawl/).\n\n</page>\n\n<page>\n---\ntitle: Verify your AI crawler Â· Cloudflare AI Crawl Control docs\ndescription: Once you have connected your Stripe account, set up your AI crawler\n  as a verified bot.\nlastUpdated: 2025-12-10T19:50:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/verify-ai-crawler/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-ai-owner/verify-ai-crawler/index.md\n---",
      "language": "unknown"
    },
    {
      "code": "Once you have connected your Stripe account, set up your AI crawler as a [verified bot](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/).\n\n## Content access restriction\n\nWhen an AI crawler tries to access content protected by pay per crawl, it receives a HTTP status code 402. This indicates payment is required. The HTTP header of the response includes the cost of the content.\n\nFor example, the response header may look like below:",
      "language": "unknown"
    },
    {
      "code": "To access this content, you must verify your AI crawler.\n\n## 1. Follow Web Bot Auth protocol\n\nEnsure your AI crawler identifies itself with the required headers for Web Bot Auth.\n\nFollow the steps found in [Web Both Auth](https://developers.cloudflare.com/bots/reference/bot-verification/web-bot-auth/).\n\n## 2. Follow verified bot policy\n\nEnsure your AI crawler follows Cloudflare's [verified bots policy](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/policy/).\n\n## 3. Submit verification request\n\nSubmit a form to add your AI crawler to Cloudflare's list of verified bots.\n\n1. In the Cloudflare dashboard, go to **Manage Account** > **Settings**.\n\n   [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/configurations)\n\n2. Go to the **Bot Submission Form** tab.\n\n3. Fill out the form with the following required information:\n\n   * **Select bot type**: Choose either **Verified Bot** or **Signed Agent**.\n   * **Verification Method**: Select **Request Signature**.\n   * **User-Agents header values**: Provide the User-Agent string(s) your bot uses.\n   * **User-Agents Match Pattern**: Provide substring patterns that match your User-Agent (for example, `GoogleBot | GoogleScraper`).\n\n4. Select **Submit**.\n\n</page>\n\n<page>\n---\ntitle: Advanced configuration Â· Cloudflare AI Crawl Control docs\ndescription: \"You may want to offer free access to certain pages while charging for others:\"\nlastUpdated: 2025-12-10T19:50:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/advanced-configuration/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/advanced-configuration/index.md\n---\n\n## Disable Pay Per Crawl by URI pattern\n\nYou may want to offer free access to certain pages while charging for others:\n\n* Allow free access to **homepages, category pages, or navigation** to help crawlers discover paid content.\n* Exclude functional pages like **login, search, or API endpoints** that don't contain chargeable content.\n* Start with Pay Per Crawl on **a small section of your site** before expanding.\n* Offer free access to **promotional or archived content** while charging for premium articles.\n\nTo get started, use [Configuration Rules](https://developers.cloudflare.com/rules/configuration-rules/) to exclude specific URI patterns from charging.\n\n1. Go to **Rules** > **Overview** in the Cloudflare dashboard.\n\n   [Go to **Overview**](https://dash.cloudflare.com/?to=/:account/:zone/rules/overview)\n\n2. Select **Create rule** > **Configuration Rule**.\n\n3. **When incoming requests match**: Set your URI pattern.\n\n   * Field: `URI Full`\n   * Operator: `wildcard`\n   * Value: `https://*example.com/public/*`\n\n4. Select **Disable Pay Per Crawl** > **Add**\n\n5. Select **Deploy**.\n\n**Example patterns:**\n\n* Free homepage: `URI Full` equals `https://example.com/`\n* Free directory: `URI Full` wildcard `https://*example.com/public/*`\n\nNote\n\nSome paths are always free to crawl. These paths are: `/robots.txt`, `/sitemap.xml`, `/security.txt`, `/.well-known/security.txt`, `/crawlers.json`\n\n## Additional resources\n\n* [Configuration Rules documentation](https://developers.cloudflare.com/rules/configuration-rules/)\n\n</page>\n\n<page>\n---\ntitle: Enable in account settings Â· Cloudflare AI Crawl Control docs\ndescription: \"To configure pay per crawl, you must have the following:\"\nlastUpdated: 2025-09-17T08:17:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/enable-in-account-settings/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/enable-in-account-settings/index.md\n---",
      "language": "unknown"
    },
    {
      "code": "## Prerequisites\n\nTo configure pay per crawl, you must have the following:\n\n* **Cloudflare account**: You need an active Cloudflare account with domains added\n* **Domain on Cloudflare**: Your domain must be using Cloudflare's nameservers, or have DNS records managed by Cloudflare\n* **Administrator access**: You need Administrator or Super Administrator permissions for account-level configuration\n\n## Configure domain access\n\nAn Administrator or Super Administrator with access to all domains must select which domains should show the pay per crawl controls:\n\n1. In the Cloudflare dashboard, go to **Manage Account** > **Settings**.\n\n   [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/configurations)\n\n2. Select **Pay Per Crawl**.\n\n3. In the **Domain Access** table, select which domains will have pay per crawl configurations visible.\n\n4. Set the **Visibility** to **Visible** for each domain you want to configure.\n\nVisibility vs Security\n\nSetting a domain to **Visible** will not affect security rules. This only makes the pay per crawl configuration controls accessible to domain-level administrators.\n\nAfter completing these steps, domain administrators can set a pay per crawl price and enable pay per crawl for their specific domains.\n\n</page>\n\n<page>\n---\ntitle: Manage payouts Â· Cloudflare AI Crawl Control docs\ndescription: When you're ready to receive payments for your accrued crawler\n  activity, connect your Cloudflare account to Stripe. This step can be\n  completed at any time after enabling pay per crawl.\nlastUpdated: 2025-09-17T08:17:19.000Z\nchatbotDeprioritize: false\ntags: Stripe\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/manage-payouts/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/manage-payouts/index.md\n---",
      "language": "unknown"
    },
    {
      "code": "When you're ready to receive payments for your accrued crawler activity, connect your Cloudflare account to Stripe. This step can be completed at any time after enabling pay per crawl.\n\n## Create a new Stripe account\n\nA person with **Administrator** or **Super Administrator** access must set up the Stripe connection:\n\n1. In the Cloudflare dashboard, go to **Manage Account** > **Settings**.\n\n   [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/configurations)\n\n2. Select **Pay Per Crawl**.\n\n3. In the **Stripe account** section, select **Connect**.\n\n4. Select **Continue to Stripe**.\n\n5. Complete Stripe's onboarding process, including:\n\n   * Basic business information\n   * Bank account details for payouts\n\nPay Per Crawl Stripe account required\n\nYou must create a dedicated Cloudflare Stripe Connect account through the dashboard. Pre-existing Stripe accounts are not compatible with this feature.\n\n## Billing lifecycle\n\nCloudflare manages the complete billing lifecycle:\n\n1. **Charge initiation**: AI crawlers indicate payment intent via request headers\n2. **Charge recording**: A charge event is recorded upon successful content delivery (HTTP 200 response)\n3. **Aggregation**: Cloudflare aggregates and reconciles all recorded charges\n4. **Payout**: Monthly payments to publishers in good standing\n\n### Limitations\n\n* Your accrued balance is not currently visible in the dashboard. You can request balance updates from your Cloudflare team.\n* Payouts are subject to settlement periods and minimum payout thresholds.\n\n</page>\n\n<page>\n---\ntitle: Monitor activity Â· Cloudflare AI Crawl Control docs\ndescription: After configuring pay per crawl, monitor crawler activity to\n  understand how AI crawlers interact with your content, and track your\n  earnings.\nlastUpdated: 2025-09-17T08:17:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/monitor-activity/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/monitor-activity/index.md\n---",
      "language": "unknown"
    },
    {
      "code": "After configuring pay per crawl, monitor crawler activity to understand how AI crawlers interact with your content, and track your earnings.\n\n## View crawler activity\n\n1. Go to **AI Crawl Control**.\n\n   [Go to **AI Crawl Control**](https://dash.cloudflare.com/?to=/:account/:zone/ai)\n\n2. Go to the **Metrics** tab to view detailed analytics.\n\nThe metrics help you understand:\n\n* Which crawlers are accessing your content\n* How often they are being charged\n* Request patterns and trends\n* Robots.txt violations\n\nFor detailed information about available metrics, refer to [View AI Crawl Control metrics](https://developers.cloudflare.com/ai-crawl-control/features/analyze-ai-traffic/#view-ai-crawl-control-metrics).\n\nBalance visibility\n\nYour accrued earnings balance is not currently visible in the dashboard. You can request balance updates from your Cloudflare team.\n\n## Additional considerations\n\n### Robots.txt management\n\nConsider updating your `robots.txt` file to clearly indicate which pages should remain off-limits, even if AI crawlers are willing to pay for access.\n\n### Ongoing optimization\n\nDo the following to ensure you are using pay per crawl most effectively:\n\n* Review crawler activity regularly to identify patterns\n* Adjust pricing based on demand and content value\n* Modify crawler actions (charge, allow, block) as needed\n* Monitor for any unusual or unwanted crawler behavior\n\n## Additional resources\n\n* [Pay Per Crawl FAQs](https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/faq)\n* [Analyze AI traffic](https://developers.cloudflare.com/ai-crawl-control/features/analyze-ai-traffic/)\n\n</page>\n\n<page>\n---\ntitle: Select crawlers to charge Â· Cloudflare AI Crawl Control docs\ndescription: Once you have enabled pay per crawl and set a price, you can\n  specify which AI crawlers to charge for accessing your content.\nlastUpdated: 2025-09-17T08:17:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/select-crawlers-to-charge/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/select-crawlers-to-charge/index.md\n---",
      "language": "unknown"
    },
    {
      "code": "Once you have enabled pay per crawl and set a price, you can specify which AI crawlers to charge for accessing your content.\n\n1. Go to **AI Crawl Control**.\n\n   [Go to **AI Crawl Control**](https://dash.cloudflare.com/?to=/:account/:zone/ai)\n\n2. Go to the **Crawlers** tab.\n\n3. For each crawler, choose an action from the **Actions** column:\n\n   * **Charge**: Charge the set price for successful content access\n   * **Allow**: Allow free access without charging\n   * **Block**: Block access completely\n\nSearch Engine Crawlers and SEO\n\nUse the **Category** column to identify which bots are **Search Engine Crawlers**. Setting these crawlers to **Block** or **Charge** may negatively impact your site's SEO performance, as search engines may not be able to properly index your content.\n\n## Bulk actions\n\nTo configure multiple crawlers at once:\n\n1. Use the filters (Name, Operator, Category) to narrow down the crawler list.\n2. Select the crawlers you want to configure by checking their boxes.\n3. Bulk action options will appear above the table.\n4. Select the desired action and apply the changes.\n\nFor more information on managing AI crawlers, refer to [Manage AI crawlers](https://developers.cloudflare.com/ai-crawl-control/features/manage-ai-crawlers/).\n\n</page>\n\n<page>\n---\ntitle: Set a pay per crawl price Â· Cloudflare AI Crawl Control docs\ndescription: Once your domain's visibility is set to Visible in Account\n  Settings, you can set a pay per crawl price and enable pay per crawl for that\n  domain.\nlastUpdated: 2025-12-10T19:50:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/set-a-pay-per-crawl-price/\n  md: https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/set-a-pay-per-crawl-price/index.md\n---",
      "language": "unknown"
    },
    {
      "code": "Once your domain's visibility is set to **Visible** in Account Settings, you can set a pay per crawl price and enable pay per crawl for that domain.\n\n1. Go to **AI Crawl Control**.\n\n   [Go to **AI Crawl Control**](https://dash.cloudflare.com/?to=/:account/:zone/ai)\n\n2. Go to the **Settings** tab.\n\n3. In the **Pay Per Crawl** card, select **Enable**.\n\n4. Set your default per crawl price. This is the amount charged for each successful content retrieval (HTTP 200 response) by an AI crawler.\n\n   * (Optional) To set different prices for different content, select **Enable custom pricing**. Refer to [Advanced configuration](https://developers.cloudflare.com/ai-crawl-control/features/pay-per-crawl/use-pay-per-crawl-as-site-owner/advanced-configuration/#custom-pricing) for details.\n\n5. Select **Save**.\n\nAfter enabling and setting a price, the domain's status in Account Settings will change to **Enabled**.\n\nPricing considerations\n\nThe minimum price is $0.01 USD per crawl. Consider your content value and expected crawler volume when setting your price.\n\n</page>\n\n<page>\n---\ntitle: Introspection Â· Cloudflare Analytics docs\ndescription: |-\n  Cloudflare GraphQL API has a dynamic schema and exposes more than 70 datasets\n  across zone and account scopes. We constantly expand the list and replace\n  existing ones with more capable alternatives.\nlastUpdated: 2025-05-14T00:02:06.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/analytics/graphql-api/features/discovery/introspection/\n  md: https://developers.cloudflare.com/analytics/graphql-api/features/discovery/introspection/index.md\n---\n\nCloudflare GraphQL API has a dynamic schema and exposes more than 70 datasets across zone and account scopes. We constantly expand the list and replace existing ones with more capable alternatives.\n\nTo tackle the schema question, GraphQL provides an [introspection](https://graphql.org/learn/introspection/) mechanism. It is part of the GraphQL specification and allows you to explore the graph of the datasets and fields.\n\nThe introspection results provide an overview of ALL available nodes and fields, their descriptions and deprecation status.\n\nAlthough GraphQL has `query`, `subscription`, and `mutation` operations, Cloudflare GraphQL API only supports `query` operation.\n\n## Description and Beta mode\n\nWith details on data exposed by a given node or a field, descriptions also indicate whether it is in Beta mode. Beta nodes (or fields) are for testing and exploration and are usually available for customers on more extensive plans. Please do not rely on beta data nodes since they are subject to change or removal without notice.\n\n## Deprecation\n\nIntrospection provides information about deprecation status. Cloudflare uses it as a notification about replacement plans. If the sunset date is provided, please migrate to a replacement node(s) before that date to avoid any disruption.\n\n## Availability\n\nSome of the nodes might only be available to query for some users. Please refer to the [settings](https://developers.cloudflare.com/analytics/graphql-api/features/discovery/settings/) node for more details about availability and personal limits on a given node.\n\n## Explore documentation\n\nThe most convenient way to introspect the schema is to use a documentation [explorer](https://developers.cloudflare.com/analytics/graphql-api/getting-started/explore-graphql-schema/) that usually is a part of a GraphQL client (like GraphiQL, Altair, etc).\n\nAlternatively, you can also do it manually by using `__schema` node with the needed directives.",
      "language": "unknown"
    },
    {
      "code": "[Run in GraphQL API Explorer](https://graphql.cloudflare.com/explorer?query=N4KABGD6kM4MYAsCmBbAhmUEIEcCuSATgJ4AqxADkpuNhAHZopK0QC+rYKeALmjwEsA9vXJUadBkxZ0OdGHgBG8QgIqCRY6lkmNmnOdh6UkMCZIB0VgGJ4ANna0HOAEwGEkcQQDdT5unoyki6mcKrqwvScEHZCcPyRMNFgaIQA5mY6kmBWFgCS9BS8AGpodgTJhuy0HBwAZoRoacz0PGBaAEpIdWAiUJBa5gDWAvQutIG0QnWDWWAjY5yTdNOzyQvj2cuSqyb+khvJUvrZELvic9mHp9jbN+faRwejmze30k8rM3uXb9dvAQ+AK+a2Bz0WYMBJ0hVTesOy8OwiNhhlqIAaTRabQKRR4pXK1D60BxJTKBHM2xCKjUGiiEGMF04uU63RqtBCdTQ9jxZJY9UazSQrTAtgcgyJAx+tH+lNC4VptDqAiQdhcMAAFKM4OUQgARJAUDzxHhIFwALjAPEIBAAlPs7mAqWEaZFOKkMvsILkSTyCc46AzHtlmSYunV-dgBDB9YbPPxTa4DUaEiIumgYCI2RBRrjrMrVZkmVYffiKtVs60iJy4H45iGqGGs2AhXgUKXTJr6Nq8Hqk3GTebLdakHa5g6nfLXXQozHkwPE7HjZE0xm6WBDBQhDAYAJFHYkFpC3R60hG9U2EA\\&variables=N4XyA)\n\nFor more details on how to send a GraphQL request with curl, please refer to [Execute a GraphQL query with curl](https://developers.cloudflare.com/analytics/graphql-api/getting-started/execute-graphql-query/).\n\n</page>\n\n<page>\n---\ntitle: Settings node Â· Cloudflare Analytics docs\ndescription: |-\n  Cloudflare GraphQL API exposes more than 70 datasets to its customers. These\n  datasets represent different Cloudflare products with very different data\n  shapes; thus, each has its configuration of limits.\nlastUpdated: 2025-05-15T16:26:01.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/analytics/graphql-api/features/discovery/settings/\n  md: https://developers.cloudflare.com/analytics/graphql-api/features/discovery/settings/index.md\n---\n\nCloudflare GraphQL API exposes more than 70 datasets to its customers. These datasets represent different Cloudflare products with very different data shapes; thus, each has its configuration of [limits](https://developers.cloudflare.com/analytics/graphql-api/limits/).\n\nAlthough we allow access to ALL plans for the essential datasets (like `httpRequestsAdaptiveGroups`, `firewallEventsAdaptive`, etc), users on larger plans benefit from an extended set of datasets and wider query limits.\n\nIn addition to [introspection](https://developers.cloudflare.com/analytics/graphql-api/features/discovery/introspection/), users can use the Settings node that is available for both zones and accounts scopes.\n\n## Format\n\n`Settings` node has all datasets from `zones` and `accounts` as fields.",
      "language": "unknown"
    },
    {
      "code": "Every subnode of `settings` node could consist of these fields:\n\n* `enabled` - shows whether the node is available for a requester or not;\n* `availableFields` - shows the list of fields available for a requester. If it is a nested field, the path will be returned, like `sum_requests`;\n* `maxPageSize` - retrieves the maximum number of records that can be returned\n* `maxNumberOfFields` - answers on how many fields could be used in a single query for that node;\n* `notOlderThan` - returns a number of seconds on how far back in time a query can read;\n* `maxDuration` - shows how wide the requested time range could be.\n\n## A sample query",
      "language": "unknown"
    },
    {
      "code": "[Run in GraphQL API Explorer](https://graphql.cloudflare.com/explorer?query=I4VwpgTgngBAygQwLYAcA2YCK5oAoAkAXgPYB2YAKggOYBcMAzgC4QCWp1AlDAN4BQMGADdWYAO6ReAwTBLkGuAGas0TSPR6yylGvSLaq1GAF9u-GTIZgmTdtQZSLF5RHEI0aAKJCwpJgwBBABMEFFsfRycLXwQAIwwg6SjBJAQADwAREAgEWzIk5NS0gDkQJFjIAHlFADFRNCCGAqiigAUaMDhWQjBmp1JiJkqGyAoACwRSPsFjPtmLeZM+YyA\\&variables=N4IgXg9gdgpgKgQwOYgFwgFoHkByBRAfQEkAREAXyA)",
      "language": "unknown"
    },
    {
      "code": "To get more details on how to execute queries, please refer to our how to get started [guides](https://developers.cloudflare.com/analytics/graphql-api/getting-started/).\n\n</page>\n\n<page>\n---\ntitle: Authenticate with a Cloudflare API key Â· Cloudflare Analytics docs\ndescription: API keys are unique to each Cloudflare user and used only for\n  authentication. An API key does not authorize access to accounts or zones. To\n  ensure that the GraphQL Analytics API authenticates your queries, retrieve\n  your Cloudflare Global API Key.\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/analytics/graphql-api/getting-started/authentication/api-key-auth/\n  md: https://developers.cloudflare.com/analytics/graphql-api/getting-started/authentication/api-key-auth/index.md\n---\n\nAPI keys are unique to each Cloudflare user and used only for authentication. An API key does not authorize access to accounts or zones. To ensure that the GraphQL Analytics API authenticates your queries, retrieve your Cloudflare Global API Key.\n\nLearn how to [retrieve your API Key in the Cloudflare dashboard](https://developers.cloudflare.com/fundamentals/api/get-started/keys/).\n\n</page>\n\n<page>\n---\ntitle: Configure an Analytics API token Â· Cloudflare Analytics docs\ndescription: Cloudflare recommends API tokens as the preferred authentication\n  method with Cloudflare APIs. This article walks through creating API tokens\n  for authentication to the GraphQL Analytics API.\nlastUpdated: 2025-10-09T07:47:46.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/analytics/graphql-api/getting-started/authentication/api-token-auth/\n  md: https://developers.cloudflare.com/analytics/graphql-api/getting-started/authentication/api-token-auth/index.md\n---\n\nCloudflare recommends API tokens as the preferred authentication method with Cloudflare APIs. This article walks through creating API tokens for authentication to the GraphQL Analytics API.\n\nFor more details on API tokens and the full range of supported options, refer to [Creating API tokens](https://developers.cloudflare.com/fundamentals/api/get-started/create-token/).\n\nTo create an API token for authentication to the GraphQL Analytics API, use this workflow:\n\n* [Access the Create API Token page](#access-the-create-api-token-page)\n* [Configure a custom API token](#configure-a-custom-api-token)\n* [Review and create your API token](#review-and-create-your-api-token)\n* [Copy and test your API token](#copy-and-test-your-api-token)\n\n## Access the Create API Token page\n\n1. In the Cloudflare dashboard, go to the **Account API tokens** page.\n\n   [Go to **Account API tokens**](https://dash.cloudflare.com/?to=/:account/api-tokens)\n\n2. Select **Create Token**.\n\n![API Tokens tab](https://developers.cloudflare.com/_astro/user-profile-api-tokens-tab.Cfjm5UAa_15z2yE.webp)\n\nThe **Create API Token** page displays.\n\n![Clicking Get started in the Create API Token page](https://developers.cloudflare.com/_astro/create-api-token-page-display.DTQbXvJf_ZFGTza.webp)\n\nThe next section of this walkthrough shows you how to configure a custom token for access to the GraphQL Analytics API.\n\n## Configure a custom API token\n\nTo configure a custom token, follow these steps:\n\n1. Select **Get started** in the **Custom token** section of the **Create API Token** page:\n\n![Clicking Get started in the Create API Token page](https://developers.cloudflare.com/_astro/create-api-token-get-started.BaVcSeWC_Z2qjLuq.webp)\n\nThe **Create Custom Token** page displays:\n\n![Create Custom Token page](https://developers.cloudflare.com/_astro/create-custom-api-token.CFX0TYIj_11eR4x.webp)\n\n1. Enter a descriptive name for your token in the **Token name** text input field.\n\n2. To configure access to the GraphQL Analytics API, use the **Permissions** drop-down lists.\n\n3. To set permissions for the GraphQL Analytics API, select *Account* in the first drop-down list, *Account Analytics* from the second drop-down list, and *Read* from the third.\n\nThis example scopes account-level permissions for read access to the Analytics API:\n\n![Permissions configuration page](https://developers.cloudflare.com/_astro/create-custom-token-permissions.C95JIEHR_ZqktS7.webp)\n\n1. To configure the specific zones to which the token grants access, use the **Zone Resources** drop-down lists. In this example, the token is set to grant access to all zones:\n\n![Resources configuration page](https://developers.cloudflare.com/_astro/create-custom-token-zone-resources.CfSpKkcP_Zxqpdz.webp)\n\n1. To restrict the API token to specific IP addresses, use the **Client IP Address Filtering** controls.\n\n![IP Address Filtering configuration page](https://developers.cloudflare.com/_astro/create-custom-token-ip-address-filtering.X4iaKSyi_10PU1z.webp)\n\n1. To define how long the token is valid, select the **TTL** (time-to-live) start/end date.\n\n![TTL configuration page](https://developers.cloudflare.com/_astro/create-custom-token-ttl.Bo81ViQe_Z2igEPb.webp)\n\n1. Select **Continue to summary**.\n\nThe next section of this walkthrough covers how to review and test your API token.\n\n## Review and create your API token\n\nOnce you select **Continue to summary**, the **API Token Summary** page displays.\n\nUse the **API Token Summary** to confirm that you have scoped the API Token to the desired permissions and resources before creating it.\n\n![API Token Summary page](https://developers.cloudflare.com/_astro/api-token-summary.BcCShVRo_Z3eN1Y.webp)\n\nOnce you have validated your API token configuration, select **Create Token**.\n\n## Copy and test your API token\n\nWhen you create a new token, a confirmation page displays that includes your token and a custom `curl` command.\n\n![Page displaying your API token and the curl command to test your token](https://developers.cloudflare.com/_astro/token-complete.T8mB8qZ5_Z1lxcqT.webp)\n\nTo copy the token to your device's clipboard, select the **Copy** button.\n\nWarning\n\nThe token displays only on the confirmation page, so copy the token and store it safely, since anyone who has the token can use it to access your data.\n\nIf you lose the token, you can [regenerate it from the API Tokens page](https://developers.cloudflare.com/fundamentals/api/get-started/create-token/), so that you do not have to configure all the permissions again.\n\nTo test your token, copy the `curl` command and paste it into a terminal.\n\nWhen you have finished, select **View all API tokens**.\n\n</page>\n\n<page>\n---\ntitle: Configure GraphQL client endpoint and HTTP headers Â· Cloudflare Analytics docs\ndescription: Now that you have configured authentication, you are ready to run\n  queries using GraphiQL.\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/analytics/graphql-api/getting-started/authentication/graphql-client-headers/\n  md: https://developers.cloudflare.com/analytics/graphql-api/getting-started/authentication/graphql-client-headers/index.md\n---\n\n1. Launch [GraphiQL](https://www.gatsbyjs.com/docs/how-to/querying-data/running-queries-with-graphiql/).\n\n2. Select **Edit HTTP Headers**. ![Clicking Edit HTTP Headers](https://developers.cloudflare.com/_astro/GraphiQL-edit-http-headers.Cc0SaBrH_Z15Cgw7.webp) The **Edit HTTP Headers** window appears. ![Editing HTTP Headers Window](https://developers.cloudflare.com/_astro/GraphiQL-edit-http-headers-window.D6rNIUCL_pB9KO.webp)\n\n3. Select **Add Header** to configure authentication. You can use Cloudflare Analytics API token authentication (recommended) or Cloudflare API key authentication.\n\n   * **Token authentication**:\n\n     Enter **Authorization** in the **Header Name** field, and enter `Bearer {your-analytics-token}` in the **Header value** field, then select **Save**.\n\n     ![Editing HTTP Headers](https://developers.cloudflare.com/_astro/GraphiQL-edit-http-headers-token.BRr3JTFE_2nUQo2.webp)\n\n   * **Key authentication**:\n\n     Enter `X-AUTH-EMAIL` in the **Header name** field and your email address registered with Cloudflare in the **Header value** field, and select **Save**.\n\n     Select **Add Header** to add a second header. Enter `X-AUTH-KEY` in the **Header Name** field, and paste your Global API Key in the **Header value** field, then select **Save**.\n\n4. Select anywhere outside the **Edit HTTP Headers** window in GraphiQL to close it and return to the main GraphiQL display.\n\n5. Enter `https://api.cloudflare.com/client/v4/graphql` in the **GraphQL Endpoint** field. ![Editing GraphQL Endpoint](https://developers.cloudflare.com/_astro/GraphiQL-response-pane.jm8FGlXL_Z9tNaK.webp)\n\nNote\n\nThe right-side response pane is empty when you enter your information correctly. An error displays when there are problems with your header credentials.\n\nNow that you have configured authentication, you are ready to run queries using GraphiQL.\n\n</page>\n\n<page>\n---\ntitle: Main differences between Network Analytics v1 and Network Analytics v2 Â·\n  Cloudflare Analytics docs\ndescription: In Network Analytics v1 (NAv1), the data is rolled up into one\n  minute roll-up tables, then one hour roll-ups, and finally one day roll-ups.\n  Users can then query either the ipFlows1mGroups node for high-resolution data\n  on traffic and attacks in the past 30 days, or query the ipFlows1hGroups or\n  ipFlows1dGroups nodes for historical data. However, the data available through\n  these nodes is aggregate data, and that means that the accuracy and\n  cardinality of the results are limited. For example, short traffic spikes will\n  not be visible in the data obtained from these nodes due to the aggregation of\n  samples in the roll-ups.\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/analytics/graphql-api/migration-guides/network-analytics-v2/differences/\n  md: https://developers.cloudflare.com/analytics/graphql-api/migration-guides/network-analytics-v2/differences/index.md\n---\n\n## Aggregated roll-ups versus Adaptive Bit Rate\n\nIn Network Analytics v1 (NAv1), the data is rolled up into one minute roll-up tables, then one hour roll-ups, and finally one day roll-ups. Users can then query either the `ipFlows1mGroups` node for high-resolution data on traffic and attacks in the past 30 days, or query the `ipFlows1hGroups` or `ipFlows1dGroups` nodes for historical data. However, the data available through these nodes is aggregate data, and that means that the accuracy and cardinality of the results are limited. For example, short traffic spikes will not be visible in the data obtained from these nodes due to the aggregation of samples in the roll-ups.\n\nOn the other hand, Network Analytics v2 (NAv2) uses [Adaptive Bit Rate (ABR)](https://developers.cloudflare.com/analytics/network-analytics/understand/concepts/#adaptive-bit-rate-sampling) sampling. This means that users do not need to choose a node based on their query timeframe. Furthermore, the cardinality and accuracy is preserved even for historical data. Depending on the size of the query, the ABR mechanism will choose the best sampling rate and fetch a response from one of the sample tables encapsulated behind each node.\n\n## Sampling improvements\n\nNetwork Analytics v2 provides more accurate data due to the better sample rate and [Edge Sample Enrichment](https://developers.cloudflare.com/analytics/network-analytics/understand/concepts/#edge-sample-enrichment). NAv1 samples 1/8,192 packets (that is, one in every 8,192 packets), while NAv2 sample rates vary depending on the mitigation service. For example:\n\n* The sample rate for `dosd` changes dynamically from 1/100 to 1/10,000 packets based on the volume of packets.\n* The sample rate for Magic Firewall events changes dynamically from 1/100 to 1/1,000,000 packets based on the number of packets.\n* The sample rate for `flowtrackd` is 1/10,000 packets.\n\nThe NAv2 data pipeline is also more resilient compared to NAv1. NAv1 uses Core Sample Enrichment, where raw packet samples are sent from all of Cloudflare's edge data centers to the Core data centers. In the Core data centers, the packet samples are cross-referenced with additional databases and infused with the associated customer account ID, attack ID, attack type, and other metadata. Then, the packet samples are inserted into storage. One of the main shortcomings of this method is the potential congestion of samples when cross-referencing information, which could, in rare cases, cause temporary data lag.\n\nTo eliminate this potential data lag, NAv2 uses a new data logging pipeline which relies on Edge Sample Enrichment. By delegating the packet sample enrichment and cross-referencing to the edge data centers, we improve the data pipeline's resilience and tolerance against congestion. Using this method, enriched packet samples are immediately stored in Cloudflare's core data centers as soon as they arrive.\n\n</page>\n\n<page>\n---\ntitle: NAv2 node reference Â· Cloudflare Analytics docs\ndescription: Main nodes provide deep packet-level information about traffic and\n  attacks for Spectrum customers and Magic Transit customers.\nlastUpdated: 2024-12-18T22:54:27.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/analytics/graphql-api/migration-guides/network-analytics-v2/node-reference/\n  md: https://developers.cloudflare.com/analytics/graphql-api/migration-guides/network-analytics-v2/node-reference/index.md\n---\n\n## Main nodes\n\nMain nodes provide deep packet-level information about traffic and attacks for Spectrum customers and Magic Transit customers.\n\nUse the main node to query traffic and attacks at a high level, as seen at the Cloudflare edge:\n\n| Product | Main node |\n| - | - |\n| Spectrum | `spectrumNetworkAnalyticsAdaptiveGroups` |\n| Magic Transit | `magicTransitNetworkAnalyticsAdaptiveGroups` |\n\nTo query more specific details about attacks, use the [attack nodes](#attack-nodes).\n\nEach row represents a packet sample. The sample rate of main nodes is 1/10,000 packets.\n\nIf you are using both Magic Transit and Spectrum for IP addresses that overlap, you can use only the Magic Transit node.\n\n## Attack nodes\n\n### `dosdAttackAnalyticsGroups`\n\nThis node provides information about DDoS attacks detected and mitigated by Cloudflare's main DDoS protection system, the denial of service daemon (`dosd`). This node includes attack metadata such as:\n\n* `startDatetime`\n* `endDatetime`\n* `attackType`\n* `sourceIp`\n\nEach row represents an attack event. Each attack has a unique ID.\n\nThe sample rate is dynamic and based on the volume of packets, ranging from 1/100 to 1/10,000 packets.\n\nAdjusting attack mitigation\n\nTo adjust mitigation sensitivities and actions, or to define expression filters that exclude or include traffic from mitigation actions, customize the [Network-layer DDoS Attack Protection managed ruleset](https://developers.cloudflare.com/ddos-protection/managed-rulesets/network/).\n\n### `dosdNetworkAnalyticsAdaptiveGroups`\n\nThis node complements the information in the `dosdAttackAnalyticsGroups` node. Provides deep packet-level information about DDoS attack packets mitigated by `dosd`, including fields such as:\n\n* `ipProtocol`\n* `ipv4Checksum`\n* `ipv4Options`\n* `tcpSequenceNumber`\n* `tcpChecksum`\n* `icmpCode`\n* `ruleId`\n* `ruleName`\n* `attackVector`\n\nEach row represents a packet sample. The sample rate is 1/10,000 packets.\n\n### `advancedTcpProtectionNetworkAnalyticsAdaptiveGroups`\n\nThis node is only available to Magic Transit customers. Provides metadata about out-of-state TCP DDoS attacks mitigated by Cloudflare's [Advanced TCP Protection](https://developers.cloudflare.com/ddos-protection/advanced-ddos-systems/overview/advanced-tcp-protection/) system.\n\nAdvanced TCP Protection does not use the following ID fields: attack ID, rule ID, and ruleset ID.\n\nThe sample rate is 1/1,000 packets.\n\n### `advancedDnsProtectionNetworkAnalyticsAdaptiveGroups`\n\nThis node is only available to Magic Transit customers. Provides metadata about DNS-based DDoS attacks mitigated by Cloudflare's [Advanced DNS Protection](https://developers.cloudflare.com/ddos-protection/advanced-ddos-systems/overview/advanced-dns-protection/) system.\n\nSamples include information about the following DNS header fields:\n\n* `dnsQueryName`\n* `dnsQueryType`\n\nAdvanced DNS Protection does not use the following ID fields: attack ID, rule ID, and ruleset ID.\n\nThe sample rate is 1/1,000 packets.\n\n### `magicFirewallNetworkAnalyticsAdaptiveGroups`\n\nThis node is only available to Magic Transit customers. Provides information about packets that were matched against customer-configured [Magic Firewall](https://developers.cloudflare.com/magic-firewall/) rules.\n\nEach row represents a packet sample that matches a Magic Firewall rule.\n\nMagic Firewall does not use attack IDs, only rule IDs and ruleset IDs.\n\nThe sample rate is dynamic and based on the volume of packets, ranging from 1/100 to 1/1,000,000 packets.\n\n</page>\n\n<page>\n---\ntitle: NAv1 to NAv2 schema map Â· Cloudflare Analytics docs\ndescription: The following table lists direct mappings between NAv1 and NAv2\n  fields, when available, and provides related fields when there is no direct\n  mapping available.\nlastUpdated: 2025-08-18T14:27:42.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/analytics/graphql-api/migration-guides/network-analytics-v2/schema-map/\n  md: https://developers.cloudflare.com/analytics/graphql-api/migration-guides/network-analytics-v2/schema-map/index.md\n---\n\nThe following table lists direct mappings between NAv1 and NAv2 fields, when available, and provides related fields when there is no direct mapping available.\n\n| ipFlows1mGroups | magicTransitNetworkAnalytics-AdaptiveGroups / spectrumNetworkAnalytics-AdaptiveGroups | dosdNetworkAnalytics-AdaptiveGroups | dosdAttackAnalytics-Groups | flowtrackdNetworkAnalytics-AdaptiveGroups | magicFirewallNetworkAnalytics-AdaptiveGroups |\n| - | - | - | - | - | - |\n| `date` | *Related fields:* `datetime` `datetimeTenSeconds` | *Related fields:* `datetime` `datetimeTenSeconds` | | *Related fields:* `datetime` `datetimeTenSeconds` | *Related fields:* `datetime` `datetimeTenSeconds` |\n| `datetimeMinute` | `datetimeMinute` | `datetimeMinute` | | `datetimeMinute` | `datetimeMinute` |\n| `datetimeFiveMinutes` | `datetimeFiveMinutes` | `datetimeFiveMinutes` | | `datetimeFiveMinutes` | `datetimeFiveMinutes` |\n| `datetimeFifteenMinutes` | `datetimeFifteenMinutes` | `datetimeFifteenMinutes` | | `datetimeFifteenMinutes` | `datetimeFifteenMinutes` |\n| `datetimeHour` | `datetimeHour` | `datetimeHour` | | `datetimeHour` | `datetimeHour` |\n| `attackId`\\* | | `attackId`\\* | `attackId`\\* | | |\n| `attackType` | | | `attackType` | | |\n| `attackMitigationType` | | | `mitigationType` | | |\n| `sourceIPCountry` | `sourceCountry` | `sourceCountry` | | `sourceCountry` | `sourceCountry` |\n| `sourceIPAsn` | `sourceAsn` | `sourceAsn` | | `sourceAsn` | `sourceAsn` |\n| `sourceIPASNDescription` | *Related field:* `sourceGeohash` | *Related field:* `sourceGeohash` | | *Related field:* `sourceGeohash` | *Related field:* `sourceGeohash` |\n| `coloCode` | `coloCode` | `coloCode` | | `coloCode` | `coloCode` |\n| `coloCity` | `coloCity` | `coloCity` | | `coloCity` | `coloCity` |\n| `coloCountry` | `coloCountry` | `coloCountry` | | `coloCountry` | `coloCountry` |\n| `coloRegion` | *Related field:* `coloGeohash` | *Related field:* `coloGeohash` | | *Related field:* `coloGeohash` | *Related field:* `coloGeohash` |\n| ipFlows1mGroups | magicTransitNetworkAnalytics-AdaptiveGroups / spectrumNetworkAnalytics-AdaptiveGroups | dosdNetworkAnalytics-AdaptiveGroups | dosdAttackAnalytics-Groups | flowtrackdNetworkAnalytics-AdaptiveGroups | magicFirewallNetworkAnalytics-AdaptiveGroups |\n| `ipVersion` | `ethertype` | `ethertype` | | `ethertype` | `ethertype` |\n| `bits` | `ipTotalLength` (`bits` divided by 8) | `ipTotalLength` (`bits` divided by 8) | `bits` | `ipTotalLength` (`bits` divided by 8) | `ipTotalLength` (`bits` divided by 8) |\n| `packets` | *n/a* | *n/a* | `packets` | *n/a* | *n/a* |\n| `ipProtocol` | `ipProtocol` | `ipProtocol` | `ipProtocol` | `ipProtocol` | `ipProtocol` |\n| `sourceIP` | `ipSourceAddress` | `ipSourceAddress` | `sourceIp` | `ipSourceAddress` | `ipSourceAddress` |\n| `destinationIP` | `ipDestinationAddress` | `ipDestinationAddress` | `destinationIp` | `ipDestinationAddress` | `ipDestinationAddress` |\n| `destinationIPv4Range24` | `ipDestinationSubnet` | `ipDestinationSubnet` | | `ipDestinationSubnet` | `ipDestinationSubnet` |\n| `destinationIPv4Range23` | *n/a* | *n/a* | | *n/a* | *n/a* |\n| `sourcePort` | `sourcePort` | `sourcePort` | `sourcePort` | `sourcePort` | `sourcePort` |\n| `destinationPort` | `destinationPort` | `destinationPort` | `destinationPort` | `destinationPort` | `destinationPort` |\n| `tcpFlags` | `tcpFlags` | `tcpFlags` | `tcpFlags` | `tcpFlags` | `tcpFlags` |\n\n\\* The `attackId` field value may be different between NAv1 and NAv2 for the same attack.\n\n</page>\n\n<page>\n---\ntitle: Signed agents policy Â· Cloudflare bot solutions docs\ndescription: In order to be listed by Cloudflare as a signed agent, your agent\n  must conform to the below requirements. To provide the best possible\n  protection to our customers, this policy may change in the future as we adapt\n  to new bot behaviors.\nlastUpdated: 2025-08-27T23:23:49.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/concepts/bot/signed-agents/policy/\n  md: https://developers.cloudflare.com/bots/concepts/bot/signed-agents/policy/index.md\n---\n\nIn order to be listed by Cloudflare as a signed agent, your agent must conform to the below requirements. To provide the best possible protection to our customers, this policy may change in the future as we adapt to new bot behaviors.\n\n## Agent policy\n\n### Minimum traffic\n\nAn agent must have a minimum amount of traffic for Cloudflare to be able to find it in the sampled data. The minimum traffic should have more than 1,000 requests per day across multiple domains.\n\n### Minimum zones\n\nService must be made for a widespread use of zones.\n\n#### Example\n\nA bot crawling one site is not valid.\n\n### Agent identification\n\nThe user-agent field is optional as it is not required for Web Bot Authentication.\n\nHowever, if you choose to provide a user-agent, it and the message signature must meet the following requirements:\n\n* Have at least five characters.\n* Must not contain special characters.\n* Must not include the same user-agent of another verified service.\n\n#### Example\n\n`cloudflare-browser-rendering` is a valid message signature.\n\n### Service purpose\n\nThe purpose of the service should be benign or helpful to both the owner of a zone and the users of the service. The service cannot perform any of the following:\n\n* Bot tooling\n* Scalpers\n* Credential-stuffing\n* Directory-traversal scanning\n* Excessive data scraping\n* DDoS botnets\n\n#### Example\n\nPrice scraping direct e-commerce competitors is not a valid use case.\n\n### Public documentation\n\nThe agent must have a publicly documented purpose and expected behavior.\n\n***\n\n## Breach of policy\n\nIf any of the requirements to validate are breached, a service will be removed from the signed agent list.\n\nThe following are examples of breaches of policy:\n\n* The service has vulnerabilities that have not been patched.\n* The disclosed purpose of the service does not reflect on the traffic.\n\n</page>\n\n<page>\n---\ntitle: Verified bots policy Â· Cloudflare bot solutions docs\ndescription: In order to be listed by Cloudflare as a verified bot, your bot\n  must conform to the below requirements. To provide the best possible\n  protection to our customers, this policy may change in the future as we adapt\n  to new bot behaviors.\nlastUpdated: 2025-10-31T10:10:06.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/concepts/bot/verified-bots/policy/\n  md: https://developers.cloudflare.com/bots/concepts/bot/verified-bots/policy/index.md\n---\n\nIn order to be listed by Cloudflare as a [verified bot](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/), your bot must conform to the below requirements. To provide the best possible protection to our customers, this policy may change in the future as we adapt to new bot behaviors.\n\n## Bot policy\n\n### Minimum traffic\n\nA bot or proxy must have a minimum amount of traffic for Cloudflare to be able to find it in the sampled data. The minimum traffic should have more than 1,000 requests per day across multiple domains.\n\n### Minimum zones\n\nService must be made for a widespread use of zones.\n\n#### Example\n\nA bot crawling one site is not valid.\n\n### Bot identification\n\nThe user-agent or message signature with the following requirements:\n\n* Have at least five characters.\n* Must not contain special characters.\n* Must not include the same user-agent of another verified service.\n\n#### Example\n\n`GoogleBot/1.0` is a valid user-agent.\n\n### Domain owner consent\n\nDomains should only be crawled with the explicit or implicit consent of the zone's owner or terms of use. Search engines crawlers must read the `robots.txt` to exclude paths to crawl from the owner.\n\n#### Example\n\nA tool trying to scalp inventories from different websites might be breaking terms of use while a search engine bot indexing websites but complying with `robots.txt` is a valid service.\n\n### Service purpose\n\nThe purpose of the service should be benign or helpful to both the owner of a zone and the users of the service. The service cannot perform any of the following:\n\n* Bot tooling\n* Scalpers\n* Credential-stuffing\n* Directory-traversal scanning\n* Excessive data scraping\n* DDoS botnets\n\n#### Example\n\nPrice scraping direct e-commerce competitors is not a valid use case.\n\n### Crawling etiquette\n\nThe crawling etiquette should check `robots.txt` if crawling the whole website, and it should not attempt to crawl sensitive paths.\n\n#### Example\n\nIf a search engine crawler skips `robots.txt`, it will be rejected.\n\n### Public documentation\n\nThe bot must have publicly documented expected behavior or user-agent format.\n\n***\n\n## Breach of Policy\n\nIf any of the requirements to validate are breached, a service will be removed from the global allowlist.\n\nThe following are examples of breaches of policy:\n\n* Adding a set of IPs that are not solely used by verified service.\n* The service IPs are breached by an attacker.\n* The service has vulnerabilities that have not been patched.\n* A block of IPs not briefed on onboarding is added to the list.\n* The disclosed purpose of the service does not reflect on the traffic.\n* An AI Crawler that does not respect the crawl-delay directive in robots.txt.\n\n</page>\n\n<page>\n---\ntitle: Browser Cache TTL Â· Cloudflare Cache (CDN) docs\ndescription: Browser Cache TTL\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/browser-cache-ttl/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/browser-cache-ttl/index.md\n---\n\nNote\n\nIf you are migrating from Page Rules and you want to keep Page Rules behavior, you need to create two specific rules before creating this rule. For more details refer to [Migration from Page Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/page-rules-migration/).\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to adjust browser cache TTL for caching resources in the browser to one day for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Eligible for cache\n  * **Browser TTL**: Override origin and use this TTL\n  * **Input time-to-live (TTL)**: *1 day*\n\n</page>\n\n<page>\n---\ntitle: Bypass Cache on Cookie Â· Cloudflare Cache (CDN) docs\ndescription: Bypass Cache on Cookie\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/bypass-cache-on-cookie/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/bypass-cache-on-cookie/index.md\n---\n\nNote\n\nIf you are migrating from Page Rules and you want to keep Page Rules behavior, you need to create two specific rules before creating this rule. For more details refer to [Migration from Page Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/page-rules-migration/).\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to bypass cache for requests containing cookie `test_cookie` for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\" AND Cookie contains \"test-cookie\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\" and http.cookie contains \"test-cookie\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Bypass cache\n\n</page>\n\n<page>\n---\ntitle: Cache Deception Armor Â· Cloudflare Cache (CDN) docs\ndescription: Cache Deception Armor\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-deception-armor/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-deception-armor/index.md\n---\n\nNote\n\nIf you are migrating from Page Rules and you want to keep Page Rules behavior, you need to create two specific rules before creating this rule. For more details refer to [Migration from Page Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/page-rules-migration/).\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to protect against cache deception attacks for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Eligible for cache\n  * **Setting**: Cache key\n    * **Cache deception armor**: On\n\n</page>\n\n<page>\n---\ntitle: Cache by Device Type Â· Cloudflare Cache (CDN) docs\ndescription: Cache by Device Type\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-device-type/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-device-type/index.md\n---\n\nNote\n\nIf you are migrating from Page Rules and you want to keep Page Rules behavior, you need to create two specific rules before creating this rule. For more details refer to [Migration from Page Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/page-rules-migration/).\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to cache content based on user agent or device type for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Eligible for cache\n  * **Setting**: Cache key\n    * **Cache by device type**: On\n\n</page>\n\n<page>\n---\ntitle: Cache Level (Cache Everything) Â· Cloudflare Cache (CDN) docs\ndescription: Cache Level (Cache Everything)\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-everything/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-everything/index.md\n---\n\nNote\n\nIf you are migrating from Page Rules and you want to keep Page Rules behavior, you need to create two specific rules before creating this rule. For more details refer to [Migration from Page Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/page-rules-migration/).\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to adjust cache level for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Eligible for cache\n\nWarning\n\nThis option caches all HTML regardless of the presence of dynamic content. If you use this approach to cache pages containing dynamic content, visitors may receive information not intended for them. To avoid caching dynamic content, you can add a condition to the rule's matching criteria to prevent it from matching that content. Some examples include:\n\n* Checking for the presence of a cookie.\n* Negative matching against known dynamic content file paths.\n* Negative matching against dynamic content extensions (or lack of an extension).\n\n</page>\n\n<page>\n---\ntitle: Cache Everything while ignoring query strings Â· Cloudflare Cache (CDN) docs\ndescription: Cache Everything while ignoring query strings\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-everything-ignore-query-strings/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-everything-ignore-query-strings/index.md\n---\n\nNote\n\nIf you are migrating from Page Rules and you want to keep Page Rules behavior, you need to create two specific rules before creating this rule. For more details refer to [Migration from Page Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/page-rules-migration/).\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to adjust cache level for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Eligible for cache\n  * **Setting**: Cache key\n    * **Query string**: Ignore query string\n\n</page>\n\n<page>\n---\ntitle: Cache TTL by status code Â· Cloudflare Cache (CDN) docs\ndescription: Cache TTL by status code\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-ttl-by-status-code/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-ttl-by-status-code/index.md\n---\n\nNote\n\nIf you are migrating from Page Rules and you want to keep Page Rules behavior, you need to create two specific rules before creating this rule. For more details refer to [Migration from Page Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/page-rules-migration/).\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to cache responses with status code between `200` and `599` for one day for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Eligible for cache\n\n  * **Setting**: Edge TTL\n\n    * Use cache-control header if present, use default Cloudflare caching behavior if not\n\n    * **Status code TTL**:\n\n      * **Scope**: *Range*\n      * **From**: *200*\n      * **To**: *599*\n      * **Duration**: *1 day*\n\n</page>\n\n<page>\n---\ntitle: Custom Cache Key Â· Cloudflare Cache (CDN) docs\ndescription: Custom Cache Key\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/custom-cache-key/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/custom-cache-key/index.md\n---\n\nNote\n\nIf you are migrating from Page Rules and you want to keep Page Rules behavior, you need to create two specific rules before creating this rule. For more details refer to [Migration from Page Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/page-rules-migration/).\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to set a custom cache key for all query string parameters, for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Eligible for cache\n  * **Setting**: Cache key\n    * **Query string**: All query string parameters\n\nRefer to [cache keys](https://developers.cloudflare.com/cache/how-to/cache-keys/) for more information on possible settings when configuring a custom cache key.\n\n</page>\n\n<page>\n---\ntitle: Edge Cache TTL Â· Cloudflare Cache (CDN) docs\ndescription: Edge Cache TTL\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/edge-ttl/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/edge-ttl/index.md\n---\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to adjust edge cache TTL for caching resources on Cloudflare edge to one day, for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Eligible for cache\n  * **Setting**: Edge TTL\n    * Ignore cache-control header and use this TTL\n      * **Input time-to-live (TTL)**: *1 day*\n\n</page>\n\n<page>\n---\ntitle: Origin Cache Control Â· Cloudflare Cache (CDN) docs\ndescription: Origin Cache Control\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/origin-cache-control/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/origin-cache-control/index.md\n---\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to determine edge cache behavior for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Eligible for cache\n  * **Setting**: Origin Cache Control\n    * **Enable Origin Cache Control**: Off\n\n</page>\n\n<page>\n---\ntitle: Query String Sort Â· Cloudflare Cache (CDN) docs\ndescription: Query String Sort\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/query-string-sort/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/query-string-sort/index.md\n---\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to sort query string parameters for caching purposes, for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Eligible for cache\n  * **Setting**: Cache key\n    * **Sort query string**: On\n\n</page>\n\n<page>\n---\ntitle: Respect Strong ETags Â· Cloudflare Cache (CDN) docs\ndescription: Respect Strong ETags\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/respect-strong-etags/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/examples/respect-strong-etags/index.md\n---\n\n[Create a cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/) to respect strong ETags for any hostname containing `example.com`:\n\n* **When incoming requests match**: Custom filter expression\n\n  * Using the Expression Builder:\\\n    `Hostname contains \"example.com\"`\n  * Using the Expression Editor:\\\n    `(http.host contains \"example.com\")`\n\n* **Then**:\n\n  * **Cache eligibility**: Eligible for cache\n  * **Setting**: Respect strong ETags\n    * **Use strong ETag headers**: On\n\n</page>\n\n<page>\n---\ntitle: Backoff schedule Â· Cloudflare for Platforms docs\ndescription: After you create a custom hostname, Cloudflare has to validate that hostname.\nlastUpdated: 2025-04-11T13:02:33.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/backoff-schedule/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/backoff-schedule/index.md\n---\n\nAfter you create a custom hostname, Cloudflare has to [validate that hostname](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/).\n\nAttempts to validate a Custom Hostname are distributed over seven days (a total of 75 retries). At the end of this schedule, if the validation is unsuccessful, the custom hostname will be deleted. The function that determines the next check varies based on the number of attempts:\n\n* For the first 10 attempts:",
      "language": "unknown"
    },
    {
      "code": "* For the remaining 65 attempts:",
      "language": "unknown"
    },
    {
      "code": "The first 10 checks complete within 20 minutes and most checks complete in the first four hours. The check back off is capped to a maximum of four hours to avoid exponential growth. The back off behavior causes larger gaps between check intervals towards the end of the back off schedule:\n\n| Retry Attempt | In Seconds | In Minutes | In Hours |\n| - | - | - | - |\n| 0 | 60 | 1 | 0.016667 |\n| 1 | 63 | 1.05 | 0.0175 |\n| 2 | 66 | 1.1 | 0.018333 |\n| 3 | 69 | 1.15 | 0.019167 |\n| 4 | 72 | 1.2 | 0.02 |\n| 5 | 76 | 1.266667 | 0.021111 |\n| 6 | 80 | 1.333333 | 0.022222 |\n| 7 | 84 | 1.4 | 0.023333 |\n| 8 | 88 | 1.466667 | 0.024444 |\n| 9 | 93 | 1.55 | 0.025833 |\n| 10 | 242 | 4.033333 | 0.067222 |\n| 11 | 279 | 4.65 | 0.0775 |\n| 12 | 321 | 5.35 | 0.089167 |\n| 13 | 369 | 6.15 | 0.1025 |\n| 14 | 424 | 7.066667 | 0.117778 |\n| 15 | 488 | 8.133333 | 0.135556 |\n| 16 | 561 | 9.35 | 0.155833 |\n| 17 | 645 | 10.75 | 0.179167 |\n| 18 | 742 | 12.366667 | 0.206111 |\n| 19 | 853 | 14.216667 | 0.236944 |\n| 20 | 981 | 16.35 | 0.2725 |\n| 21 | 1129 | 18.816667 | 0.313611 |\n| 22 | 1298 | 21.633333 | 0.360556 |\n| 23 | 1493 | 24.883333 | 0.414722 |\n| 24 | 1717 | 28.616667 | 0.476944 |\n| 25 | 1975 | 32.916667 | 0.548611 |\n| 26 | 2271 | 37.85 | 0.630833 |\n| 27 | 2612 | 43.533333 | 0.725556 |\n| 28 | 3003 | 50.05 | 0.834167 |\n| 29 | 3454 | 57.566667 | 0.959444 |\n| 30 | 3972 | 66.2 | 1.103333 |\n| 31 | 4568 | 76.133333 | 1.268889 |\n| 32 | 5253 | 87.55 | 1.459167 |\n| 33 | 6041 | 100.683333 | 1.678056 |\n| 34 | 6948 | 115.8 | 1.93 |\n| 35 | 7990 | 133.166667 | 2.219444 |\n| 36 | 9189 | 153.15 | 2.5525 |\n| 37 | 10567 | 176.116667 | 2.935278 |\n| 38 | 12152 | 202.533333 | 3.375556 |\n| 39 | 13975 | 232.916667 | 3.881944 |\n| 40 | 14400 | 240 | 4 |\n| 41 | 14400 | 240 | 4 |\n| 42 | 14400 | 240 | 4 |\n| 43 | 14400 | 240 | 4 |\n| 44 | 14400 | 240 | 4 |\n| 45 | 14400 | 240 | 4 |\n| 46 | 14400 | 240 | 4 |\n| 47 | 14400 | 240 | 4 |\n| 48 | 14400 | 240 | 4 |\n| 49 | 14400 | 240 | 4 |\n| 50 | 14400 | 240 | 4 |\n| 51 | 14400 | 240 | 4 |\n| 52 | 14400 | 240 | 4 |\n| 53 | 14400 | 240 | 4 |\n| 54 | 14400 | 240 | 4 |\n| 55 | 14400 | 240 | 4 |\n| 56 | 14400 | 240 | 4 |\n| 57 | 14400 | 240 | 4 |\n| 58 | 14400 | 240 | 4 |\n| 59 | 14400 | 240 | 4 |\n| 60 | 14400 | 240 | 4 |\n| 61 | 14400 | 240 | 4 |\n| 62 | 14400 | 240 | 4 |\n| 63 | 14400 | 240 | 4 |\n| 64 | 14400 | 240 | 4 |\n| 65 | 14400 | 240 | 4 |\n| 66 | 14400 | 240 | 4 |\n| 67 | 14400 | 240 | 4 |\n| 68 | 14400 | 240 | 4 |\n| 69 | 14400 | 240 | 4 |\n| 70 | 14400 | 240 | 4 |\n| 71 | 14400 | 240 | 4 |\n| 72 | 14400 | 240 | 4 |\n| 73 | 14400 | 240 | 4 |\n| 74 | 14400 | 240 | 4 |\n| 75 | 14400 | 240 | 4 |\n\n</page>\n\n<page>\n---\ntitle: Error codes - Custom Hostname Validation Â· Cloudflare for Platforms docs\ndescription: When you validate a custom hostname, you might encounter the\n  following error codes.\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/error-codes/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/error-codes/index.md\n---\n\nWhen you [validate a custom hostname](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/), you might encounter the following error codes.\n\n| Error | Cause |\n| - | - |\n| Zone does not have a fallback origin set. | Fallback is not active. |\n| Fallback origin is in a status of `initializing`, `pending_deployment`, `pending_deletion`, or `deleted`. | Fallback is not active. |\n| Custom hostname does not `CNAME` to this zone. | Zone does not have [apex proxying entitlement](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/apex-proxying/) and custom hostname does not CNAME to zone. |\n| None of the `A` or `AAAA` records are owned by this account and the pre-generated ownership validation token was not found. | Account has [apex proxying enabled](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/apex-proxying/) but the custom hostname failed the hostname validation check on the `A` record. |\n| This account and the pre-generated ownership validation token was not found. | Hostname does not `CNAME` to zone or none of the `A`/`AAAA` records match reserved IPs for zone. |\n\n</page>\n\n<page>\n---\ntitle: Pre-validation methods - Custom Hostname Validation Â· Cloudflare for\n  Platforms docs\ndescription: Pre-validation methods help verify domain ownership before your\n  customer's traffic is proxying through Cloudflare.\nlastUpdated: 2024-12-16T22:33:26.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/pre-validation/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/pre-validation/index.md\n---\n\nPre-validation methods help verify domain ownership before your customer's traffic is proxying through Cloudflare.\n\n## Use when\n\nUse pre-validation methods when your customers cannot tolerate any downtime, which often occurs with production domains.\n\nThe downside is that these methods require an additional setup step for your customers. Especially if you already need them to add something to their domain for [certificate validation](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/validate-certificates/), pre-validation might make their onboarding more complicated.\n\nIf your customers can tolerate a bit of downtime and you want their setup to be simpler, review our [real-time validation methods](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/realtime-validation/).\n\n## How to\n\n### TXT records\n\nTXT validation is when your customer adds a `TXT` record to their authoritative DNS to verify domain ownership.\n\nNote\n\nIf your customer cannot update their authoritative DNS, you could also use [HTTP validation](#http-tokens).\n\nTo set up `TXT` validation:\n\n1. When you [create a custom hostname](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/create/), save the `ownership_verification` information.",
      "language": "unknown"
    },
    {
      "code": "2. Have your customer add a `TXT` record with that `name` and `value` at their authoritative DNS provider.\n\n3. After a few minutes, you will see the hostname status become **Active** in the UI.\n\n4. Once you activate the custom hostname, your customer can remove the `TXT` record.\n\n### HTTP tokens\n\nHTTP validation is when you or your customer places an HTTP token on their origin server to verify domain ownership.\n\nTo set up HTTP validation:\n\nWhen you [create a custom hostname](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/issue-certificates/) using the API, Cloudflare provides an HTTP `ownership_verification` record in the response.\n\nTo get and use the `ownership_verification` record:\n\n1. Make an API call to [create a Custom Hostname](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/create/).\n\n2. In the response, copy the `http_url` and `http_body` from the `ownership_verification_http` object:",
      "language": "unknown"
    },
    {
      "code": "3. Have your customer place the `http_url` and `http_body` on their origin web server.",
      "language": "unknown"
    },
    {
      "code": "Cloudflare will access this token by sending `GET` requests to the `http_url` using `User-Agent: Cloudflare Custom Hostname Verification`.\n\n   Note\n\n   If you can serve these tokens on behalf of your customers, you can simplify their overall setup.\n\n4. After a few minutes, you will see the hostname status become **Active** in the UI.\n\n5. Once the hostname is active, your customer can remove the token from their origin server.\n\n</page>\n\n<page>\n---\ntitle: Real-time validation methods - Custom Hostname Validation Â· Cloudflare\n  for Platforms docs\ndescription: When you use a real-time validation method, Cloudflare verifies\n  your customer's hostname when your customers adds their DNS routing record to\n  their authoritative DNS.\nlastUpdated: 2025-08-20T21:45:15.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/realtime-validation/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/realtime-validation/index.md\n---\n\nWhen you use a real-time validation method, Cloudflare verifies your customer's hostname when your customers adds their [DNS routing record](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/getting-started/#3-have-customer-create-cname-record) to their authoritative DNS.\n\n## Use when\n\nReal-time validation methods put less burden on your customers because it does not require any additional actions.\n\nHowever, it may cause some downtime since Cloudflare takes a few seconds to iterate over DNS records. This downtime also can increase - due to the increasing [validation backoff schedule](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/backoff-schedule/) - if your customer takes additional time to add their DNS routing record.\n\nTo minimize this downtime, you can continually send no-change [`PATCH` requests](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/edit/) for the specific custom hostname until it validates (which resets the validation backoff schedule).\n\nTo avoid any chance of downtime, use a [pre-validation method](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/pre-validation/)\n\n## How to\n\nReal-time validation occurs automatically when your customer adds their [DNS routing record](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/getting-started/#3-have-customer-create-cname-record).\n\nThe exact record depends on your Cloudflare for SaaS setup.\n\n### Normal setup (CNAME target)\n\nMost customers will have a `CNAME` target, which requires their customers to create a `CNAME` record similar to:",
      "language": "unknown"
    },
    {
      "code": "### Apex proxying\n\nWith [apex proxying](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/apex-proxying/), SaaS customers need to create an `A` record for their hostname that points to the IP prefix allocated to the SaaS provider's account.",
      "language": "unknown"
    },
    {
      "code": "Note\n\nFor [BYOIP](https://developers.cloudflare.com/byoip/) customers, Cloudflare automatically enables the Apex Proxy Access feature on your BYOIP block, which allows Custom Hostnames to be activated via [Apex proxying](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/realtime-validation/#apex-proxying) when Authoritative DNS for a customer's hostname targets any IP addresses in your BYOIP block.\n\n</page>\n\n<page>\n---\ntitle: Validation status - Custom Hostname Validation Â· Cloudflare for Platforms docs\ndescription: When you validate a custom hostname, that hostname can be in\n  several different statuses.\nlastUpdated: 2025-02-19T18:44:35.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/validation-status/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/validation-status/index.md\n---\n\nWhen you [validate a custom hostname](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/), that hostname can be in several different statuses.\n\n| Status | Description |\n| - | - |\n| Pending | Custom hostname is pending hostname validation. |\n| Active | Custom hostname has completed hostname validation and is active. |\n| Active re-deploying | Customer hostname is active and the changes have been processed. |\n| Blocked | Custom hostname cannot be added to Cloudflare at this time. Custom hostname was likely associated with Cloudflare previously and flagged for abuse. If you are an Enterprise customer, contact your Customer Success Manager. Otherwise, email `abusereply@cloudflare.com` with the name of the web property and a detailed explanation of your association with this web property. |\n| Moved | Custom hostname is not active after **Pending** for the entirety of the [Validation Backoff Schedule](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/backoff-schedule/) or it no longer points to the fallback origin. |\n| Deleted | Custom hostname was deleted from the zone. Occurs when status is **Moved** for more than seven days. |\n\n## Refresh validation\n\nTo run the custom hostname validation check again, select **Refresh** on the dashboard or send a `PATCH` request to the [Edit custom hostname endpoint](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/edit/). If using the API, make sure that the `--data` field contains an `ssl` object with the same `method` and `type` as the original request.\n\nIf the hostname is in a **Moved** or **Deleted** state, the refresh will set the custom hostname back to **Pending validation**.\n\n</page>\n\n<page>\n---\ntitle: Custom Certificate Signing Requests Â· Cloudflare for Platforms docs\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/reference/status-codes/custom-csrs/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/reference/status-codes/custom-csrs/index.md\n---\n\n## Success codes\n\n| Endpoint | Method | HTTP Status Code |\n| - | - | - |\n| `/api/v4/zones/:zone_id/custom_csrs` | POST | 201 Created |\n| `/api/v4/zones/:zone_id/custom_csrs` | GET | 200 OK |\n| `/api/v4/zones/:zone_id/custom_csrs/:custom_csr_id` | GET | 200 OK |\n| `/api/v4/zones/:zone_id/custom_csrs/:custom_csr_id` | DELETE | 200 OK |\n\n## Error codes\n\n| HTTP Status Code | API Error Code | Error Message |\n| - | - | - |\n| 400 | 1400 | Unable to decode the JSON request body. Check your input and try again. |\n| 400 | 1401 | Zone ID is required. Check your input and try again. |\n| 400 | 1402 | The request has no Authorization header. Check your input and try again. |\n| 400 | 1405 | Country field is required. Check your input and try again. |\n| 400 | 1406 | State field is required. Check your input and try again. |\n| 400 | 1407 | Locality field is required. Check your input and try again. |\n| 400 | 1408 | Organization field is required. Check your input and try again. |\n| 400 | 1409 | Common Name field is required. Check your input and try again. |\n| 400 | 1410 | The specified Common Name is too long. Maximum allowed length is %d characters. Check your input and try again. |\n| 400 | 1411 | At least one subject alternative name (SAN) is required. Check your input and try again. |\n| 400 | 1412 | Invalid subject alternative name(s) (SAN). SANs have to be smaller than 256 characters in length, cannot be IP addresses, cannot contain any special characters such as \\~\\`!@#$%^&\\*()=+\\[] |\n| 400 | 1413 | Subject Alternative Names (SANs) with non-ASCII characters are not supported. Check your input and try again. |\n| 400 | 1414 | Reserved top domain subject alternative names (SAN), such as 'test', 'example', 'invalid' or 'localhost', is not supported. Check your input and try again. |\n| 400 | 1415 | Unable to parse subject alternative name(s) (SAN) - :reason. Check your input and try again. Reasons: publicsuffix: cannot derive eTLD+1 for domain %q; publicsuffix: invalid public suffix %q for domain %q; |\n| 400 | 1416 | Subject Alternative Names (SANs) ending in example.com, example.net, or example.org are prohibited. Check your input and try again. |\n| 400 | 1417 | Invalid key type. Only 'rsa2048' or 'p256v1' is accepted. Check your input and try again. |\n| 400 | 1418 | The custom CSR ID is invalid. Check your input and try again. |\n| 401 | 1000 | Unable to extract bearer token |\n| 401 | 1001 | Unable to parse JWT token |\n| 401 | 1002 | Bad JWT header |\n| 401 | 1003 | Failed to verify JWT token |\n| 401 | 1004 | Failed to get claims from JWT token |\n| 401 | 1005 | JWT token does not have required claims |\n| 403 | 1403 | No quota has been allocated for this zone. If you are already a paid Cloudflare for SaaS customer, contact your Customer Success Manager for additional provisioning. If you are not yet enrolled, [fill out this contact form](https://www.cloudflare.com/plans/enterprise/contact/) and our sales team will contact you. |\n| 403 | 1404 | Access to generating CSRs has not been granted for this zone. If you are already a paid Cloudflare for SaaS customer, contact your Customer Success Manager for additional provisioning. If you are not yet enrolled, [fill out this contact form](https://www.cloudflare.com/plans/enterprise/contact/) and our sales team will contact you. |\n| 404 | 1419 | The custom CSR was not found. |\n| 409 | 1420 | The custom CSR is associated with an active certificate pack. You will need to delete all associated active certificate packs before you can delete the custom CSR. |\n| 500 | 1500 | Internal Server Error |\n\n</page>\n\n<page>\n---\ntitle: Status codes - Custom hostnames Â· Cloudflare for Platforms docs\nlastUpdated: 2025-07-31T16:16:09.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/reference/status-codes/custom-hostnames/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/reference/status-codes/custom-hostnames/index.md\n---\n\n***\n\n## Success codes\n\n| Endpoint | Method | Code |\n| - | - | - |\n| `/v4/zones/:zone_id/custom_hostnames` | POST | 201 Created |\n| `/v4/zones/:zone_id/custom_hostnames/:custom_hostname_id` | GET | 200 OK |\n| `/v4/zones/:zone_id/custom_hostnames` | GET | 200 OK |\n| `/v4/zones/:zone_id/custom_hostnames/:custom_hostname_id` | DELETE | 200 OK |\n| `/v4/zones/:zone_id/custom_hostnames/:custom_hostname_id` | PATCH | 202 Accepted |\n\n***\n\n## Error codes\n\n| HTTP Status Code | API Error Code | Error Message |\n| - | - | - |\n| 400 | 1400 | Unable to decode the JSON request body. Check your input and try again. |\n| 400 | 1401 | Unable to encode the Custom Metadata as JSON. Check your input and try again. |\n| 400 | 1402 | Zone ID is required. Check your input and try again. |\n| 400 | 1403 | The request has no Authorization header. Check your input and try again. |\n| 400 | 1407 | Invalid custom hostname. Custom hostnames have to be smaller than 256 characters in length, cannot be IP addresses, cannot contain any special characters such as \\`\\`\\~\\`!@#$%^&\\*()=+\\[]\\\\ |\n| 400 | 1408 | Custom hostnames with non-ASCII characters are not supported. Check your input and try again. |\n| 400 | 1409 | Reserved top domain custom hostnames, such as 'test', 'example', 'invalid' or 'localhost', is not supported. Check your input and try again. |\n| 400 | 1410 | Unable to parse custom hostname - `:reason`. Check your input and try again. **Reasons:** publicsuffix: cannot derive eTLD+1 for domain `:domain` publicsuffix: invalid public suffix `:suffix` for domain `:domain` |\n| 400 | 1411 | Custom hostnames ending in example.com, example.net, or example.org are prohibited. Check your input and try again. |\n| 400 | 1412 | Custom metadata for wildcard custom hostnames is not supported. Check your input and try again. **Note:** This message is only presented to customers who have opted out of wildcard support for custom metadata. |\n| 400 | 1415 | Invalid custom origin hostname. Custom origin hostnames have to be smaller than 256 characters in length, cannot be IP addresses, cannot contain any special characters such as \\`!@#$%^&\\*()=+\\[]\\\\ |\n| 400 | 1416 | Custom origin hostnames with non-ASCII characters are not supported. Check your input and try again. |\n| 400 | 1417 | Reserved top domain custom origin hostnames, such as 'test', 'example', 'invalid' or 'localhost', is not supported. Check your input and try again. |\n| 400 | 1418 | Unable to parse custom origin hostname - `:reason`. Check your input and try again. **Reasons:** publicsuffix: cannot derive eTLD+1 for domain `:domain` publicsuffix: invalid public suffix`:suffix`for domain`:domain` |\n| 400 | 1419 | Custom origin hostnames ending in example.com, example.net, or example.org are prohibited. Check your input and try again. |\n| 400 | 1420 | Wildcard custom origin hostnames are not supported. Check your input and try again. |\n| 400 | 1421 | The custom origin hostname you specified does not exist on Cloudflare as a DNS record (A, AAAA or CNAME) in your zone:`:zone\\_tag`. Check your input and try again. |\n| 400 | 1422 | Invalid `http2`setting. Only 'on' or 'off' is accepted. Check your input and try again. |\n| 400 | 1423 | Invalid`tls\\_1\\_2\\_only`setting. Only 'on' or 'off' is accepted. Check your input and try again. |\n| 400 | 1424 | Invalid`tls\\_1\\_3`setting. Only 'on' or 'off' is accepted. Check your input and try again. |\n| 400 | 1425 | Invalid`min\\_tls\\_version`setting. Only '1.0','1.1','1.2' or '1.3' is accepted. Check your input and try again. |\n| 400 | 1426 | The certificate that you uploaded cannot be parsed. Check your input and try again. |\n| 400 | 1427 | The certificate that you uploaded is empty. Check your input and try again. |\n| 400 | 1428 | The private key you uploaded cannot be parsed. Check your input and try again. |\n| 400 | 1429 | The private key you uploaded does not match the certificate. Check your input and try again. |\n| 400 | 1430 | The custom CSR ID is invalid. Check your input and try again. |\n| 404 | 1431 | The custom CSR was not found. |\n| 400 | 1432 | The validation method is not supported. Only`http`, `email`, or `txt` are accepted. Check your input and try again. |\n| 400 | 1433 | The validation type is not supported. Only 'dv' is accepted. Check your input and try again. |\n| 400 | 1434 | The SSL attribute is invalid. Refer to the API documentation, check your input and try again. |\n| 400 | 1435 | The custom hostname ID is invalid. Check your input and try again. |\n| 404 | 1436 | The custom hostname was not found. |\n| 400 | 1437 | Invalid hostname.contain query parameter. The hostname.contain query parameter has to be smaller than 256 characters in length, cannot be IP addresses, cannot contain any special characters such as \\`\\`\\~\\`!@#$%^&\\*()=+\\[]\\\\ |\n| 400 | 1438 | Cannot specify other filter parameters in addition to `id`. Only one must be specified. Check your input and try again. |\n| 409 | 1439 | Modifying the custom hostname is not supported. Check your input and try again. |\n| 400 | 1440 | Both validation type and validation method are required. Check your input and try again. |\n| 400 | 1441 | The certificate that you uploaded is having trouble bundling against the public trust store. Check your input and try again. |\n| 400 | 1442 | Invalid `ciphers` setting. Refer to the documentation for the list of accepted cipher suites. Check your input and try again. |\n| 400 | 1443 | Cipher suite selection is not supported for a minimum TLS version of 1.3. Check your input and try again. |\n| 400 | 1444 | The certificate chain that you uploaded has multiple leaf certificates. Check your input and try again. |\n| 400 | 1445 | The certificate chain that you uploaded has no leaf certificates. Check your input and try again. |\n| 400 | 1446 | The certificate that you uploaded does not include the custom hostname - `:custom_hostname`. Review your input and try again. |\n| 400 | 1447 | The certificate that you uploaded does not use a supported signature algorithm. Only SHA-256/ECDSA, SHA-256/RSA, and SHA-1/RSA signature algorithms are supported. Review your input and try again. |\n| 400 | 1448 | Custom hostnames with wildcards are not supported for certificates managed by Cloudflare. Review your input and try again. |\n| 400 | 1449 | The request input `bundle_method` must be one of: ubiquitous, optimal, force. |\n| 401 | 1000 | Unable to extract bearer token |\n| 401 | 1001 | Unable to parse JWT token |\n| 401 | 1002 | Bad JWT header |\n| 401 | 1003 | Failed to verify JWT token |\n| 401 | 1004 | Failed to get claims from JWT token |\n| 401 | 1005 | JWT token does not have required claims |\n| 403 | 1404 | No quota has been allocated for this zone. If you are already a paid Cloudflare for SaaS customer, contact your Customer Success Manager for additional provisioning. If you are not yet enrolled, [fill out this contact form](https://www.cloudflare.com/plans/enterprise/contact/) and our sales team will reach out to you. |\n| 403 | 1405 | Quota exceeded. If you are already a paid Cloudflare for SaaS customer, contact your Customer Success Manager for additional provisioning. If you are not yet enrolled, [fill out this contact form](https://www.cloudflare.com/plans/enterprise/contact/) and our sales team will reach out to you. |\n| 403 | 1413 | No [custom metadata](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/custom-metadata/) access has been allocated for this zone. If you are already a paid customer, contact your Customer Success Manager for additional provisioning. If you are not yet enrolled, [fill out this contact form](https://www.cloudflare.com/plans/enterprise/contact/) and our sales team will reach out to you. |\n| 403 | 1414 | Access to setting a custom origin server has not been granted for this zone. If you are already a paid Cloudflare for SaaS customer, contact your Customer Success Manager for additional provisioning. If you are not yet enrolled, [fill out this contact form](https://www.cloudflare.com/plans/enterprise/contact/) and our sales team will reach out to you. |\n| 409 | 1406 | Duplicate custom hostname found. |\n| 500 | 1500 | Internal Server Error |\n\n</page>\n\n<page>\n---\ntitle: BigCommerce Â· Cloudflare for Platforms docs\ndescription: Learn how to configure your Enterprise zone with BigCommerce.\nlastUpdated: 2025-10-29T16:10:53.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/bigcommerce/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/bigcommerce/index.md\n---\n\nCloudflare partners with BigCommerce to provide BigCommerce customersâ€™ websites with Cloudflareâ€™s performance and security benefits.\n\nIf you use BigCommerce and also have a Cloudflare plan, you can use your own Cloudflare zone to proxy web traffic to your zone first, then BigCommerce's (the SaaS Provider) zone second. This configuration option is called [Orange-to-Orange (O2O)](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Benefits\n\nO2O's benefits include applying your own Cloudflare zone's services and settings â€” such as [WAF](https://developers.cloudflare.com/waf/), [Bot Management](https://developers.cloudflare.com/bots/plans/bm-subscription/), [Waiting Room](https://developers.cloudflare.com/waiting-room/), and more â€” on the traffic destined for your BigCommerce environment.\n\n## How it works\n\nFor more details about how O2O is different than other Cloudflare setups, refer to [How O2O works](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Enable\n\nBigCommerce customers can enable O2O on any Cloudflare zone plan.\n\nTo enable O2O on your account, [create](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-dns-records/#create-dns-records) a `CNAME` DNS record.\n\n| Type | Name | Target | Proxy status |\n| - | - | - | - |\n| `CNAME` | `<YOUR_HOSTNAME>` | `shops.mybigcommerce.com` | Proxied |\n\nNote\n\nFor more details about a BigCommerce setup, refer to their [support guide](https://support.bigcommerce.com/s/article/Cloudflare-for-Performance-and-Security?language=en_US#orange-to-orange).\n\nIf you cannot activate your domain using [proxied DNS records](https://developers.cloudflare.com/dns/proxy-status/), reach out to your account team.\n\n## Product compatibility\n\nWhen a hostname within your Cloudflare zone has O2O enabled, you assume additional responsibility for the traffic on that hostname because you can now configure various Cloudflare products to affect that traffic. Some of the Cloudflare products compatible with O2O are:\n\n* [Caching](https://developers.cloudflare.com/cache/)\n* [Workers](https://developers.cloudflare.com/workers/)\n* [Rules](https://developers.cloudflare.com/rules/)\n\nFor a full list of compatible products and potential limitations, refer to [Product compatibility](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/product-compatibility/).\n\n## Zone hold\n\nIf your own Cloudflare zone is on the Enterprise plan, you have access to the [zone hold feature](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/), which is a toggle that prevents your domain name from being created as a zone in a different Cloudflare account. Additionally, if the zone hold is enabled, it prevents the activation of custom hostnames onboarded to BigCommerce. BigCommerce would receive the following error message for your custom hostname: `The hostname is associated with a held zone. Please contact the owner of this domain to have the hold removed.`\n\nTo successfully activate the custom hostname on BigCommerce, the owner of the zone needs to [temporarily release the hold](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/#release-zone-holds). If you are only onboarding a subdomain as a custom hostname to BigCommerce, only the subfeature titled **Also prevent Subdomains** needs to be temporarily disabled.\n\nOnce the zone hold is temporarily disabled, follow BigCommerce's instructions to refresh the custom hostname and it should activate.\n\n## Additional support\n\nIf you are a BigCommerce customer and have set up your own Cloudflare zone with O2O enabled on specific hostnames, contact your Cloudflare Account Team or [Cloudflare Support](https://developers.cloudflare.com/support/contacting-cloudflare-support/) for help resolving issues in your own zone.\n\nCloudflare will consult BigCommerce if there are technical issues that Cloudflare cannot resolve.\n\n</page>\n\n<page>\n---\ntitle: HubSpot Â· Cloudflare for Platforms docs\ndescription: Learn how to configure your zone with HubSpot.\nlastUpdated: 2025-10-29T16:10:53.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/hubspot/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/hubspot/index.md\n---\n\nCloudflare partners with HubSpot to provide HubSpot customersâ€™ websites with Cloudflareâ€™s performance and security benefits.\n\nIf you use HubSpot and also have a Cloudflare plan, you can use your own Cloudflare zone to proxy web traffic to your zone first, then HubSpot's (the SaaS Provider) zone second. This configuration option is called [Orange-to-Orange (O2O)](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Benefits\n\nO2O's benefits include applying your own Cloudflare zone's services and settings â€” such as [WAF](https://developers.cloudflare.com/waf/), [Bot Management](https://developers.cloudflare.com/bots/plans/bm-subscription/), [Waiting Room](https://developers.cloudflare.com/waiting-room/), and more â€” on the traffic destined for your HubSpot environment.\n\n## How it works\n\nFor more details about how O2O is different than other Cloudflare setups, refer to [How O2O works](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Enable\n\nO2O is enabled per hostname, so to enable O2O for a specific hostname within your Cloudflare zone, [create](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-dns-records/#create-dns-records) a Proxied `CNAME` DNS record with a target of your corresponding HubSpot CNAME. Which HubSpot CNAME is targeted will depend on your current [HubSpot proxy settings](https://developers.hubspot.com/docs/cms/developer-reference/reverse-proxy-support#configure-the-proxy).\n\n| Type | Name | Target | Proxy status |\n| - | - | - | - |\n| `CNAME` | `<YOUR_HOSTNAME>` | `<HUBID>.sites-proxy.hscoscdn<##>.net` | Proxied |\n\nNote\n\nFor questions about your HubSpot setup, refer to [HubSpot's reverse proxy support guide](https://developers.hubspot.com/docs/cms/developer-reference/reverse-proxy-support).\n\n## Product compatibility\n\nWhen a hostname within your Cloudflare zone has O2O enabled, you assume additional responsibility for the traffic on that hostname because you can now configure various Cloudflare products to affect that traffic. Some of the Cloudflare products compatible with O2O are:\n\n* [Caching](https://developers.cloudflare.com/cache/)\n* [Workers](https://developers.cloudflare.com/workers/)\n* [Rules](https://developers.cloudflare.com/rules/)\n\nFor a full list of compatible products and potential limitations, refer to [Product compatibility](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/product-compatibility/).\n\n## Zone hold\n\nIf your own Cloudflare zone is on the Enterprise plan, you have access to the [zone hold feature](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/), which is a toggle that prevents your domain name from being created as a zone in a different Cloudflare account. Additionally, if the zone hold is enabled, it prevents the activation of custom hostnames onboarded to HubSpot. HubSpot would receive the following error message for your custom hostname: `The hostname is associated with a held zone. Please contact the owner of this domain to have the hold removed.`\n\nTo successfully activate the custom hostname on HubSpot, the owner of the zone needs to [temporarily release the hold](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/#release-zone-holds). If you are only onboarding a subdomain as a custom hostname to HubSpot, only the subfeature titled **Also prevent Subdomains** needs to be temporarily disabled.\n\nOnce the zone hold is temporarily disabled, follow HubSpot's instructions to refresh the custom hostname and it should activate.\n\n## Additional support\n\nIf you are a HubSpot customer and have set up your own Cloudflare zone with O2O enabled on specific hostnames, contact your Cloudflare Account Team or [Cloudflare Support](https://developers.cloudflare.com/support/contacting-cloudflare-support/) for help resolving issues in your own zone.\n\nCloudflare will consult HubSpot if there are technical issues that Cloudflare cannot resolve.\n\n</page>\n\n<page>\n---\ntitle: Kinsta Â· Cloudflare for Platforms docs\ndescription: Learn how to configure your Enterprise zone with Kinsta.\nlastUpdated: 2025-10-29T16:10:53.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/kinsta/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/kinsta/index.md\n---\n\nCloudflare partners with Kinsta to provide Kinsta customersâ€™ websites with Cloudflareâ€™s performance and security benefits.\n\nIf you use Kinsta and also have a Cloudflare plan, you can use your own Cloudflare zone to proxy web traffic to your zone first, then Kinsta's (the SaaS Provider) zone second. This configuration option is called [Orange-to-Orange (O2O)](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Benefits\n\nO2O's benefits include applying your own Cloudflare zone's services and settings â€” such as [WAF](https://developers.cloudflare.com/waf/), [Bot Management](https://developers.cloudflare.com/bots/plans/bm-subscription/), [Waiting Room](https://developers.cloudflare.com/waiting-room/), and more â€” on the traffic destined for your Kinsta environment.\n\n## How it works\n\nFor additional detail about how traffic routes when O2O is enabled, refer to [How O2O works](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Enable\n\nKinsta customers can enable O2O on any Cloudflare zone plan.\n\nTo enable O2O for a specific hostname within a Cloudflare zone, [create](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-dns-records/#create-dns-records) a Proxied `CNAME` DNS record with your Kinsta site name as the target. Kinstaâ€™s domain addition setup will walk you through other validation steps.\n\n| Type | Name | Target | Proxy status |\n| - | - | - | - |\n| `CNAME` | `<YOUR_HOSTNAME>` | `sitename.hosting.kinsta.cloud` | Proxied |\n\n## Product compatibility\n\nWhen a hostname within your Cloudflare zone has O2O enabled, you assume additional responsibility for the traffic on that hostname because you can now configure various Cloudflare products to affect that traffic. Some of the Cloudflare products compatible with O2O are:\n\n* [Caching](https://developers.cloudflare.com/cache/)\n* [Workers](https://developers.cloudflare.com/workers/)\n* [Rules](https://developers.cloudflare.com/rules/)\n\nFor a full list of compatible products and potential limitations, refer to [Product compatibility](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/product-compatibility/).\n\n## Zone hold\n\nIf your own Cloudflare zone is on the Enterprise plan, you have access to the [zone hold feature](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/), which is a toggle that prevents your domain name from being created as a zone in a different Cloudflare account. Additionally, if the zone hold is enabled, it prevents the activation of custom hostnames onboarded to Kinsta. Kinsta would receive the following error message for your custom hostname: `The hostname is associated with a held zone. Please contact the owner of this domain to have the hold removed.`\n\nTo successfully activate the custom hostname on Kinsta, the owner of the zone needs to [temporarily release the hold](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/#release-zone-holds). If you are only onboarding a subdomain as a custom hostname to Kinsta, only the subfeature titled **Also prevent Subdomains** needs to be temporarily disabled.\n\nOnce the zone hold is temporarily disabled, follow Kinsta's instructions to refresh the custom hostname and it should activate.\n\n## Additional support\n\nIf you are a Kinsta customer and have set up your own Cloudflare zone with O2O enabled on specific hostnames, contact your Cloudflare Account Team or [Cloudflare Support](https://developers.cloudflare.com/support/contacting-cloudflare-support/) for help resolving issues in your own zone.\n\nCloudflare will consult Kinsta if there are technical issues that Cloudflare cannot resolve.\n\n### Resolving SSL errors using Cloudflare Managed Certificates\n\nIf you encounter SSL errors when attempting to activate a Cloudflare Managed Certificate, verify if you have a `CAA` record on your domain name with command `dig +short example.com CAA`.\n\nIf you do have a `CAA` record, verify that it permits SSL certificates to be issued by the [certificate authorities supported by Cloudflare](https://developers.cloudflare.com/ssl/reference/certificate-authorities/).\n\n</page>\n\n<page>\n---\ntitle: Render Â· Cloudflare for Platforms docs\ndescription: Learn how to configure your Enterprise zone with Render.\nlastUpdated: 2025-10-29T16:10:53.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/render/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/render/index.md\n---\n\nCloudflare partners with [Render](https://render.com) to provide Render customersâ€™ web services and static sites with Cloudflareâ€™s performance and security benefits.\n\nIf you use Render and also have a Cloudflare plan, you can use your own Cloudflare zone to proxy web traffic to your zone first, then Render's (the SaaS Provider) zone second. This configuration option is called [Orange-to-Orange (O2O)](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Benefits\n\nO2O's benefits include applying your own Cloudflare zone's services and settings â€” such as [WAF](https://developers.cloudflare.com/waf/), [Bot Management](https://developers.cloudflare.com/bots/plans/bm-subscription/), [Waiting Room](https://developers.cloudflare.com/waiting-room/), and more â€” on the traffic destined for your Render services.\n\n## How it works\n\nFor additional detail about how traffic routes when O2O is enabled, refer to [How O2O works](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Enable\n\nRender customers can enable O2O on any Cloudflare zone plan. Cloudflare support for O2O setups is only available for Enterprise customers.\n\nTo enable O2O for a specific hostname within a Cloudflare zone, [create](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-dns-records/#create-dns-records) a Proxied `CNAME` DNS record with your Render site name as the target. Render's domain addition setup will walk you through other validation steps.\n\n| Type | Name | Target | Proxy status |\n| - | - | - | - |\n| `CNAME` | `<YOUR_HOSTNAME>` | `<RENDER_SUBDOMAIN>` (for example, `example.onrender.com`) | Proxied |\n\nNote\n\nFor more details about Render setup, refer to their [documentation](https://render.com/docs/configure-cloudflare-dns).\n\nIf you cannot activate your domain using [proxied DNS records](https://developers.cloudflare.com/dns/proxy-status/), reach out to your Cloudflare account team or your Render support team.\n\n### Additional requirements for wildcard subdomains\n\nWith O2O enabled, adding a wildcard subdomain to a Render service requires that the corresponding root domain is also routed to Render. If the root domain is routed elsewhere, wildcard routing will fail.\n\nIf your root domain needs to route somewhere besides Render, add individual subdomains to your Render service instead of a wildcard.\n\n## Product compatibility\n\nWhen a hostname within your Cloudflare zone has O2O enabled, you assume additional responsibility for the traffic on that hostname because you can now configure various Cloudflare products to affect that traffic. Some of the Cloudflare products compatible with O2O are:\n\n* [Caching](https://developers.cloudflare.com/cache/)\n* [Workers](https://developers.cloudflare.com/workers/)\n* [Rules](https://developers.cloudflare.com/rules/)\n\nFor a full list of compatible products and potential limitations, refer to [Product compatibility](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/product-compatibility/).\n\n## Zone hold\n\nIf your own Cloudflare zone is on the Enterprise plan, you have access to the [zone hold feature](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/), which is a toggle that prevents your domain name from being created as a zone in a different Cloudflare account. Additionally, if the zone hold is enabled, it prevents the activation of custom hostnames onboarded to Render. Render would receive the following error message for your custom hostname: `The hostname is associated with a held zone. Please contact the owner of this domain to have the hold removed.`\n\nTo successfully activate the custom hostname on Render, the owner of the zone needs to [temporarily release the hold](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/#release-zone-holds). If you are only onboarding a subdomain as a custom hostname to Render, only the subfeature titled **Also prevent Subdomains** needs to be temporarily disabled.\n\nOnce the zone hold is temporarily disabled, follow Render's instructions to refresh the custom hostname and it should activate.\n\n## Additional support\n\nIf you are a Render customer and have set up your own Cloudflare zone with O2O enabled on specific hostnames, contact your Cloudflare Account Team or [Cloudflare Support](https://developers.cloudflare.com/support/contacting-cloudflare-support/) for help resolving issues in your own zone.\n\nCloudflare will consult Render if there are technical issues that Cloudflare cannot resolve.\n\n### Resolving SSL errors\n\nIf you encounter SSL errors, check if you have a `CAA` record.\n\nIf you have a `CAA` record, verify that it permits SSL certificates to be issued by Google Trust Services (`pki.goog`).\n\nFor more details, refer to [CAA records](https://developers.cloudflare.com/ssl/edge-certificates/troubleshooting/caa-records/#what-caa-records-are-added-by-cloudflare).\n\n</page>\n\n<page>\n---\ntitle: Salesforce Commerce Cloud Â· Cloudflare for Platforms docs\ndescription: Learn how to configure your Enterprise zone with Salesforce Commerce Cloud.\nlastUpdated: 2025-10-30T10:25:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/salesforce-commerce-cloud/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/salesforce-commerce-cloud/index.md\n---\n\nCloudflare partners with Salesforce Commerce Cloud to provide Salesforce Commerce Cloud customersâ€™ websites with Cloudflareâ€™s performance and security benefits.\n\nIf you use Salesforce Commerce Cloud and also have a Cloudflare plan, you can use your own Cloudflare zone to proxy web traffic to your zone first, then Salesforce Commerce Cloud's (the SaaS Provider) zone second. This configuration option is called [Orange-to-Orange (O2O)](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Benefits\n\nO2O's benefits include applying your own Cloudflare zone's services and settings â€” such as [WAF](https://developers.cloudflare.com/waf/), [Bot Management](https://developers.cloudflare.com/bots/plans/bm-subscription/), [Waiting Room](https://developers.cloudflare.com/waiting-room/), and more â€” on the traffic destined for your Salesforce Commerce Cloud environment.\n\n## How it works\n\nFor additional detail about how traffic routes when O2O is enabled, refer to [How O2O works](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Enable\n\nTo enable O2O requires the following:\n\n1. You must configure your SFCC environment as an \"SFCC Proxy Zone\". If you currently have an \"SFCC Legacy Zone\", you cannot enable O2O.\n\n   * For more details on the different types of SFCC configurations, refer to the [Salesforce FAQ on SFCC Proxy Zones](https://help.salesforce.com/s/articleView?id=cc.b2c_ecdn_proxy_zone_faq.htm\\&type=5).\n   * For instructions on how to migrate your SFCC environment to an \"SFCC Proxy Zone\", refer to the [SFCC Legacy Zone to SFCC Proxy Zone migration guide](https://help.salesforce.com/s/articleView?id=cc.b2c_migrate_legacy_zone_to_proxy_zone.htm\\&type=5).\n\n2. Your own Cloudflare zone on an Enterprise plan.\n\nIf you meet the above requirements, O2O can then be enabled per hostname. To enable O2O for a specific hostname within your Cloudflare zone, [create](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-dns-records/#create-dns-records) a Proxied CNAME DNS record with a target of the CNAME provided by SFCC Business Manager, which is the dashboard used by SFCC customers to configure their storefront environment.\n\nThe CNAME provided by SFCC Business Manager will resemble `commcloud.prod-abcd-example-com.cc-ecdn.net` and contains 3 distinct parts. For each hostname routing traffic to SFCC, be sure to update each part of the example CNAME to match your SFCC environment:\n\n1. **Environment**: `prod` should be changed to `prod` or `dev` or `stg`.\n2. **Realm**: `abcd` should be changed to the Realm ID assigned to you by SFCC.\n3. **Domain Name**: `example-com` should be changed to match your domain name in a hyphenated format.\n\n| Type | Name | Target | Proxy status |\n| - | - | - | - |\n| `CNAME` | `<YOUR_HOSTNAME>` | `commcloud.prod-abcd-example-com.cc-ecdn.net` | Proxied |\n\nFor O2O to be configured properly, make sure your Proxied DNS record targets your SFCC CNAME **directly**. Do not indirectly target the SFCC CNAME by targeting another Proxied DNS record in your Cloudflare zone which targets the SFCC CNAME.\n\nCorrect configuration\n\nFor example, if the hostnames routing traffic to SFCC are `www.example.com` and `preview.example.com`, the following is a **correct** configuration in your Cloudflare zone:\n\n| Type | Name | Target | Proxy status |\n| - | - | - | - |\n| `CNAME` | `www.example.com` | `commcloud.prod-abcd-example-com.cc-ecdn.net` | Proxied |\n| `CNAME` | `preview.example.com` | `commcloud.prod-abcd-example-com.cc-ecdn.net` | Proxied |\n\nIncorrect configuration\n\nAnd, the following is an **incorrect** configuration because `preview.example.com` indirectly targets the SFCC CNAME via the `www.example.com` Proxied DNS record, which means O2O will not be properly enabled for hostname `preview.example.com`:\n\n| Type | Name | Target | Proxy status |\n| - | - | - | - |\n| `CNAME` | `www.example.com` | `commcloud.prod-abcd-example-com.cc-ecdn.net` | Proxied |\n| `CNAME` | `preview.example.com` | `www.example.com` | Proxied |\n\n## Product compatibility\n\nWhen a hostname within your Cloudflare zone has O2O enabled, you assume additional responsibility for the traffic on that hostname because you can now configure various Cloudflare products to affect that traffic. Some of the Cloudflare products compatible with O2O are:\n\n* [Caching](https://developers.cloudflare.com/cache/)\n* [Workers](https://developers.cloudflare.com/workers/)\n* [Rules](https://developers.cloudflare.com/rules/)\n\nFor a full list of compatible products and potential limitations, refer to [Product compatibility](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/product-compatibility/).\n\n## Zone hold\n\nIf your own Cloudflare zone is on the Enterprise plan, you have access to the [zone hold feature](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/), which is a toggle that prevents your domain name from being created as a zone in a different Cloudflare account. Additionally, if the zone hold is enabled, it prevents the activation of custom hostnames onboarded to Salesforce Commerce Cloud. Salesforce Commerce Cloud would receive the following error message for your custom hostname: `The hostname is associated with a held zone. Please contact the owner of this domain to have the hold removed.`\n\nTo successfully activate the custom hostname on Salesforce Commerce Cloud, the owner of the zone needs to [temporarily release the hold](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/#release-zone-holds). If you are only onboarding a subdomain as a custom hostname to Salesforce Commerce Cloud, only the subfeature titled **Also prevent Subdomains** needs to be temporarily disabled.\n\nOnce the zone hold is temporarily disabled, follow Salesforce Commerce Cloud's instructions to refresh the custom hostname and it should activate.\n\n## Additional support\n\nIf you are a Salesforce Commerce Cloud customer and have set up your own Cloudflare zone with O2O enabled on specific hostnames, contact your Cloudflare Account Team or [Cloudflare Support](https://developers.cloudflare.com/support/contacting-cloudflare-support/) for help resolving issues in your own zone.\n\nCloudflare will consult Salesforce Commerce Cloud if there are technical issues that Cloudflare cannot resolve.\n\n### Resolving SSL errors using Cloudflare Managed Certificates\n\nIf you encounter SSL errors when attempting to activate a Cloudflare Managed Certificate, verify if you have a `CAA` record on your domain name with command `dig +short example.com CAA`.\n\nIf you do have a `CAA` record, verify that it permits SSL certificates to be issued by the [certificate authorities supported by Cloudflare](https://developers.cloudflare.com/ssl/reference/certificate-authorities/).\n\n### Best practice Zone-level configuration\n\n1. Set **Minimum TLS version** to **TLS 1.2**\n   1. Go to the [**Edge Certificates**](https://dash.cloudflare.com/?to=/:account/:zone/ssl-tls/edge-certificates) page, scroll down to find **Minimum TLS Version**, and set it to *TLS 1.2*. This setting applies to every Proxied DNS record in your Zone.\n\n2. Match the **Security Level** set in **SFCC Business Manager**\n\n   1. *Option 1: Zone-level* - Go to the [**Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings) page under Security, find **Security Level** and set **Security Level** to match what is configured in **SFCC Business Manager**. This setting applies to every Proxied DNS record in your Cloudflare zone.\n\n   2. *Option 2: Per Proxied DNS record* - If the **Security Level** differs between the Proxied DNS records targeting your SFCC environment and other Proxied DNS records in your Cloudflare zone, use a **Configuration Rule** to set the **Security Level** specifically for the Proxied DNS records targeting your SFCC environment. For example:\n\n      1. Create a new **Configuration Rule** on the [**Rules Overview**](https://dash.cloudflare.com/?to=/:account/:zone/rules/overview) page by selecting **Create rule** next to **Configuration Rules**:\n\n         1. **Rule name:** `Match Security Level on SFCC hostnames`\n         2. **Field:** *Hostname*\n         3. **Operator:** *is in* (this will match against multiple hostnames specified in the **Value** field)\n         4. **Value:** `www.example.com` `dev.example.com`\n         5. Scroll down to **Security Level** and click **+ Add**\n            1. **Select Security Level:** *Medium* (this should match the **Security Level** set in **SFCC Business Manager**)\n         6. Scroll to the bottom of the page and click **Deploy**\n\n3. Disable **Browser Integrity Check**\n\n   1. *Option 1: Zone-level* - Go to the [**Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings) page under Security, find **Browser Integrity Check** and toggle it off to disable it. This setting applies to every Proxied DNS record in your Cloudflare zone.\n\n   2. *Option 2: Per Proxied DNS record* - If you want to keep **Browser Integrity Check** enabled for other Proxied DNS records in your Cloudflare zone but want to disable it on Proxied DNS records targeting your SFCC environment, keep the Zone-level **Browser Integrity Check** feature enabled and use a **Configuration Rule** to disable **Browser Integrity Check** specifically for the hostnames targeting your SFCC environment. For example:\n\n      1. Create a new **Configuration Rule** on the [**Rules Overview**](https://dash.cloudflare.com/?to=/:account/:zone/rules/overview) page by selecting **Create rule** next to **Configuration Rules**:\n\n         1. **Rule name:** `Disable Browser Integrity Check on SFCC hostnames`\n         2. **Field:** *Hostname*\n         3. **Operator:** *is in* (this will match against multiple hostnames specified in the **Value** field)\n         4. **Value:** `www.example.com` `dev.example.com`\n         5. Scroll down to **Browser Integrity Check** and click the **+ Add** button:\n            1. Set the toggle to **Off** (a grey X will be displayed)\n         6. Scroll to the bottom of the page and click **Deploy**\n\n4. Bypass **Cache** on Proxied DNS records targeting your SFCC environment\n\n   1. Your SFCC environment, also called a **Realm**, will contain one to many SFCC Proxy Zones, which is where caching will always occur. In the corresponding SFCC Proxy Zone for your domain, SFCC performs their own cache optimization, so it is recommended to bypass the cache on the Proxied DNS records in your Cloudflare zone which target your SFCC environment to prevent a \"double caching\" scenario. This can be accomplished with a **Cache Rule**.\n\n   2. If the **Cache Rule** is not created, caching will occur in both your Cloudflare zone and your corresponding SFCC Proxy Zone, which can cause issues if and when the cache is invalidated or purged in your SFCC environment.\n      1. Additional information on caching in your SFCC environment can be found in [SFCC's Content Cache Documentation](https://developer.salesforce.com/docs/commerce/b2c-commerce/guide/b2c-content-cache.html)\n\n   3. Create a new **Cache Rule** on the [**Rules Overview**](https://dash.cloudflare.com/?to=/:account/:zone/rules/overview) page by selecting **Create rule** next to **Cache Rules**:\n\n      1. **Rule name:** `Bypass cache on SFCC hostnames`\n      2. **Field:** *Hostname*\n      3. **Operator:** *is in* (this will match against multiple hostnames specified in the **Value** field)\n      4. **Value:** `www.example.com` `dev.example.com`\n      5. **Cache eligibility:** Select **Bypass cache**.\n      6. Scroll to the bottom of the page and select **Deploy**.\n\n5. *Optional* - Upload your Custom Certificate from **SFCC Business Manager** to your Cloudflare zone:\n\n   1. The Custom Certificate you uploaded via **SFCC Business Manager** or **SFCC CDN-API**, which exists within your corresponding SFCC Proxy Zone, will terminate TLS connections for your SFCC storefront hostnames. Because of that, it is optional if you want to upload the same Custom Certificate to your own Cloudflare zone. Doing so will allow Cloudflare users with specific roles in your Cloudflare account to receive expiration notifications for your Custom Certificates. Please read [renew custom certificates](https://developers.cloudflare.com/ssl/edge-certificates/custom-certificates/renewing/#renew-custom-certificates) for further details.\n   2. Additionally, since you now have your own Cloudflare zone, you have access to Cloudflare's various edge certificate products which means you could have more than one certificate covering the same SANs. In that scenario, a certificate priority process occurs to determine which certificate to serve at the Cloudflare edge. If you find your SFCC storefront hostnames are presenting a different certificate compared to what you uploaded via **SFCC Business Manager** or **SFCC CDN-API**, the certificate priority process is likely the reason. Please read [certificate priority](https://developers.cloudflare.com/ssl/reference/certificate-and-hostname-priority/#certificate-deployment) for further details.\n\n</page>\n\n<page>\n---\ntitle: Shopify Â· Cloudflare for Platforms docs\ndescription: Learn how to configure your zone with Shopify.\nlastUpdated: 2025-12-10T15:11:59.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/shopify/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/shopify/index.md\n---\n\nCloudflare partners with Shopify to provide Shopify customersâ€™ websites with Cloudflareâ€™s performance and security benefits.\n\nIf you use Shopify and also have a Cloudflare plan, you can use your own Cloudflare zone to proxy web traffic to your zone first, then Shopify's (the SaaS Provider) zone second. This configuration option is called [Orange-to-Orange (O2O)](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Benefits\n\nO2O routing also enables you to take advantage of Cloudflare zones specifically customized for Shopify traffic.\n\n## How it works\n\nFor more details about how O2O is different than other Cloudflare setups, refer to [How O2O works](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\nWhen you [set up O2O routing for your Shopify website](#enable), Cloudflare enables specific configurations for this SaaS provider. Currently, this includes the following:\n\n* Workers and Snippets are disabled on the `/checkout` URI path.\n\n## Enable\n\nYou can enable O2O on any Cloudflare zone plan.\n\nTo enable O2O on your account, [create](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-dns-records/#create-dns-records) a `CNAME` DNS record.\n\n| Type | Name | Target | Proxy status |\n| - | - | - | - |\n| `CNAME` | `<YOUR_SHOP_DOMAIN>` | `shops.myshopify.com` | Proxied |\n\nOnce you save the new DNS record, the Cloudflare dashboard will show a Shopify icon next to the CNAME record value. For example:\n\n![](https://developers.cloudflare.com/_astro/shopify-dns-entry.BVBaRuE6_Z1HKFdM.webp)\n\nNote\n\nFor questions about Shopify setup, refer to their [support guide](https://help.shopify.com/en/manual/domains/add-a-domain/connecting-domains/connect-domain-manual).\n\n## Product compatibility\n\nWhen a hostname within your Cloudflare zone has O2O enabled, you assume additional responsibility for the traffic on that hostname because you can now configure various Cloudflare products to affect that traffic. Some of the Cloudflare products compatible with O2O are:\n\n* [Caching](https://developers.cloudflare.com/cache/)\n* [Workers](https://developers.cloudflare.com/workers/)\n* [Rules](https://developers.cloudflare.com/rules/)\n\nFor a full list of compatible products and potential limitations, refer to [Product compatibility](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/product-compatibility/).\n\n## Zone hold\n\nIf your own Cloudflare zone is on the Enterprise plan, you have access to the [zone hold feature](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/), which is a toggle that prevents your domain name from being created as a zone in a different Cloudflare account. Additionally, if the zone hold is enabled, it prevents the activation of custom hostnames onboarded to Shopify. Shopify would receive the following error message for your custom hostname: `The hostname is associated with a held zone. Please contact the owner of this domain to have the hold removed.`\n\nTo successfully activate the custom hostname on Shopify, the owner of the zone needs to [temporarily release the hold](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/#release-zone-holds). If you are only onboarding a subdomain as a custom hostname to Shopify, only the subfeature titled **Also prevent Subdomains** needs to be temporarily disabled.\n\nOnce the zone hold is temporarily disabled, follow Shopify's instructions to refresh the custom hostname and it should activate.\n\n## Additional support\n\nIf you are a Shopify customer and have set up your own Cloudflare zone with O2O enabled on specific hostnames, contact your Cloudflare Account Team or [Cloudflare Support](https://developers.cloudflare.com/support/contacting-cloudflare-support/) for help resolving issues in your own zone.\n\nCloudflare will consult Shopify if there are technical issues that Cloudflare cannot resolve.\n\n### DNS CAA records\n\nFor details about CAA records refer to the [Shopify documentation](https://help.shopify.com/manual/domains/add-a-domain/connecting-domains/considerations).\n\n</page>\n\n<page>\n---\ntitle: Webflow Â· Cloudflare for Platforms docs\ndescription: Learn how to configure your Enterprise zone with Webflow.\nlastUpdated: 2025-11-05T18:51:27.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/webflow/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/webflow/index.md\n---\n\nCloudflare partners with Webflow to provide Webflow customersâ€™ websites with Cloudflareâ€™s performance and security benefits.\n\nIf you use Webflow and also have a Cloudflare plan, you can use your own Cloudflare zone to proxy web traffic to your zone first, then Webflow's (the SaaS Provider) zone second. This configuration option is called [Orange-to-Orange (O2O)](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Benefits\n\nO2O's benefits include applying your own Cloudflare zone's services and settings â€” such as WAF, Bot Management, Waiting Room, and more â€” on the traffic destined for your Webflow environment.\n\n## How it works\n\nFor more details about how O2O is different than other Cloudflare setups, refer to [How O2O works](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Enable\n\nWebflow customers can enable O2O on any Cloudflare zone plan.\n\nTo enable O2O for a specific hostname within a Cloudflare Zone, [create](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-dns-records/#create-dns-records) a Proxied `CNAME` or `A` DNS record with your Webflow site name as the target. Webflow's domain addition setup will walk you through other validation steps.\n\n| Type | Name | Target | Proxy status |\n| - | - | - | - |\n| `CNAME` | `<YOUR_DOMAIN>` | `cdn.webflow.com` | Proxied |\n| `A` | `@` | `198.202.211.1` | Proxied |\n\n## Zone hold\n\nIf your own Cloudflare zone is on the Enterprise plan, you have access to the [zone hold feature](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/), which is a toggle that prevents your domain name from being created as a zone in a different Cloudflare account. Additionally, if the zone hold is enabled, it prevents the activation of custom hostnames onboarded to Webflow. Webflow would receive the following error message for your custom hostname: `The hostname is associated with a held zone. Please contact the owner of this domain to have the hold removed.`\n\nTo successfully activate the custom hostname on Webflow, the owner of the zone needs to [temporarily release the hold](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/#release-zone-holds). If you are only onboarding a subdomain as a custom hostname to Webflow, only the subfeature titled **Also prevent Subdomains** needs to be temporarily disabled.\n\nOnce the zone hold is temporarily disabled, follow Webflow's instructions to refresh the custom hostname and it should activate.\n\n## Product compatibility\n\nWhen a hostname within your Cloudflare zone has O2O enabled, you assume additional responsibility for the traffic on that hostname because you can now configure various Cloudflare products to affect that traffic. Some of the Cloudflare products compatible with O2O are:\n\n* [Caching](https://developers.cloudflare.com/cache/)\n* [Workers](https://developers.cloudflare.com/workers/)\n* [Rules](https://developers.cloudflare.com/rules/)\n\nFor a full list of compatible products and potential limitations, refer to [Product compatibility](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/product-compatibility/).\n\n## Additional support\n\nIf you are a Webflow customer and have set up your own Cloudflare zone with O2O enabled on specific hostnames, contact your Cloudflare Account Team or [Cloudflare Support](https://developers.cloudflare.com/support/contacting-cloudflare-support/) for help resolving issues in your own zone.\n\nCloudflare will consult Webflow if there are technical issues that Cloudflare cannot resolve.\n\n### DNS CAA records\n\nWebflow issues SSL/TLS certificates for merchant domains using Letâ€™s Encrypt and Google Trust Services. If you add any DNS CAA records, you must select **Letâ€™s Encrypt** or **Google Trust Services** as the Certificate Authority (CA) or HTTPS connections may fail.\n\nFor more details, refer to [CAA records](https://developers.cloudflare.com/ssl/edge-certificates/caa-records/#caa-records-added-by-cloudflare).\n\n</page>\n\n<page>\n---\ntitle: WP Engine Â· Cloudflare for Platforms docs\ndescription: Learn how to configure your zone with WP Engine.\nlastUpdated: 2025-10-29T16:10:53.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/wpengine/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/wpengine/index.md\n---\n\nCloudflare partners with WP Engine to provide WP Engine customersâ€™ websites with Cloudflareâ€™s performance and security benefits.\n\nIf you use WP Engine and also have a Cloudflare plan, you can use your own Cloudflare zone to proxy web traffic to your zone first, then WP Engine's (the SaaS Provider) zone second. This configuration option is called [Orange-to-Orange (O2O)](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Benefits\n\nO2O's benefits include applying your own Cloudflare zone's services and settings â€” such as [WAF](https://developers.cloudflare.com/waf/), [Bot Management](https://developers.cloudflare.com/bots/plans/bm-subscription/), [Waiting Room](https://developers.cloudflare.com/waiting-room/), and more â€” on the traffic destined for your WP Engine environment.\n\n## How it works\n\nFor more details about how O2O is different than other Cloudflare setups, refer to [How O2O works](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/).\n\n## Enable\n\nWP Engine customers can enable O2O on any Cloudflare zone plan.\n\nTo enable O2O for a specific hostname within a Cloudflare zone, [create](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-dns-records/#create-dns-records) a Proxied `CNAME` DNS record with a target of one of the following WP Engine CNAMEs. Which WP Engine CNAME is used will depend on your current [WP Engine network type](https://wpengine.com/support/network/).\n\n| Type | Name | Target | Proxy status |\n| - | - | - | - |\n| `CNAME` | `<YOUR_HOSTNAME>` | `wp.wpewaf.com` (Global Edge Security) or `wp.wpenginepowered.com` (Advanced Network) | Proxied |\n\nNote\n\nFor questions about WP Engine setup, refer to their [support guide](https://wpengine.com/support/wordpress-best-practice-configuring-dns-for-wp-engine/#Point_DNS_Using_CNAME_Flattening).\n\nIf you cannot activate your domain using [proxied DNS records](https://developers.cloudflare.com/dns/proxy-status/), reach out to your account team.\n\n## Product compatibility\n\nWhen a hostname within your Cloudflare zone has O2O enabled, you assume additional responsibility for the traffic on that hostname because you can now configure various Cloudflare products to affect that traffic. Some of the Cloudflare products compatible with O2O are:\n\n* [Caching](https://developers.cloudflare.com/cache/)\n* [Workers](https://developers.cloudflare.com/workers/)\n* [Rules](https://developers.cloudflare.com/rules/)\n\nFor a full list of compatible products and potential limitations, refer to [Product compatibility](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/product-compatibility/).\n\n## Zone hold\n\nIf your own Cloudflare zone is on the Enterprise plan, you have access to the [zone hold feature](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/), which is a toggle that prevents your domain name from being created as a zone in a different Cloudflare account. Additionally, if the zone hold is enabled, it prevents the activation of custom hostnames onboarded to WP Engine. WP Engine would receive the following error message for your custom hostname: `The hostname is associated with a held zone. Please contact the owner of this domain to have the hold removed.`\n\nTo successfully activate the custom hostname on WP Engine, the owner of the zone needs to [temporarily release the hold](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/#release-zone-holds). If you are only onboarding a subdomain as a custom hostname to WP Engine, only the subfeature titled **Also prevent Subdomains** needs to be temporarily disabled.\n\nOnce the zone hold is temporarily disabled, follow WP Engine's instructions to refresh the custom hostname and it should activate.\n\n## Additional support\n\nIf you are a WP Engine customer and have set up your own Cloudflare zone with O2O enabled on specific hostnames, contact your Cloudflare Account Team or [Cloudflare Support](https://developers.cloudflare.com/support/contacting-cloudflare-support/) for help resolving issues in your own zone.\n\nCloudflare will consult WP Engine if there are technical issues that Cloudflare cannot resolve.\n\n### Resolving SSL errors\n\nIf you encounter SSL errors, check if you have a `CAA` record.\n\nIf you do have a `CAA` record, check that it permits SSL certificates to be issued by `letsencrypt.org`.\n\nFor more details, refer to [CAA records](https://developers.cloudflare.com/ssl/edge-certificates/troubleshooting/caa-records/#what-caa-records-are-added-by-cloudflare).\n\n</page>\n\n<page>\n---\ntitle: Certificate statuses Â· Cloudflare for Platforms docs\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/certificate-statuses/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/certificate-statuses/index.md\n---\n\n\n</page>\n\n<page>\n---\ntitle: Custom certificates Â· Cloudflare for Platforms docs\ndescription: If your customers need to provide their own key material, you may\n  want to upload a custom certificate. Cloudflare will automatically bundle the\n  certificate with a certificate chain optimized for maximum browser\n  compatibility.\nlastUpdated: 2025-08-20T21:45:15.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/custom-certificates/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/custom-certificates/index.md\n---\n\nIf your customers need to provide their own key material, you may want to [upload a custom certificate](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/custom-certificates/uploading-certificates/). Cloudflare will automatically bundle the certificate with a certificate chain [optimized for maximum browser compatibility](https://developers.cloudflare.com/ssl/edge-certificates/custom-certificates/bundling-methodologies/#compatible).\n\nAs part of this process, you may also want to [generate a Certificate Signing Request (CSR)](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/custom-certificates/certificate-signing-requests/) for your customer so they do not have to manage the private key on their own.\n\nNote\n\nOnly certain customers have access to this feature. For more details, see the [Plans page](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/plans/).\n\n## Use cases\n\nThis situation commonly occurs when your customers use Extended Validation (EV) certificates (the â€œgreen barâ€) or when their information security policy prohibits third parties from generating private keys on their behalf.\n\n## Limitations\n\nIf you use custom certificates, you are responsible for the entire certificate lifecycle (initial upload, renewal, subsequent upload).\n\nCloudflare also only accepts publicly trusted certificates of these types:\n\n* `SHA256WithRSA`\n* `SHA1WithRSA`\n* `ECDSAWithSHA256`\n\nIf you attempt to upload another type of certificate or a certificate that has been self-signed, it will be rejected.\n\n</page>\n\n<page>\n---\ntitle: TLS Settings â€” Cloudflare for SaaS Â· Cloudflare for Platforms docs\ndescription: Mutual TLS (mTLS) adds an extra layer of protection to application\n  connections by validating certificates on the server and the client. When\n  building a SaaS application, you may want to enforce mTLS to protect sensitive\n  endpoints related to payment processing, database updates, and more.\nlastUpdated: 2025-10-30T10:25:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/enforce-mtls/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/enforce-mtls/index.md\n---\n\n[Mutual TLS (mTLS)](https://www.cloudflare.com/learning/access-management/what-is-mutual-tls/) adds an extra layer of protection to application connections by validating certificates on the server and the client. When building a SaaS application, you may want to enforce mTLS to protect sensitive endpoints related to payment processing, database updates, and more.\n\n[Minimum TLS Version](#minimum-tls-version) only allows HTTPS connections from visitors that support the selected TLS protocol version or newer. Cloudflare recommends TLS 1.2 to comply with the Payment Card Industry (PCI) Security Standards Council. As a SaaS provider, you can control the Minimum TLS version for your zone as a whole, as well as for individual custom hostnames.\n\n[Cipher suites](#cipher-suites) are a combination of ciphers used to negotiate security settings during the [SSL/TLS handshake](https://www.cloudflare.com/learning/ssl/what-happens-in-a-tls-handshake/). As a SaaS provider, you can specify configurations for cipher suites on your zone as a whole and cipher suites on individual custom hostnames via the API.\n\nWarning\n\nWhen you [issue a custom hostname certificate](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/) with wildcards enabled, any cipher suites or Minimum TLS settings applied to that hostname will only apply to the direct hostname.\n\nHowever, if you want to update the Minimum TLS settings for all wildcard hostnames, you can change Minimum TLS version at the [zone level](https://developers.cloudflare.com/ssl/edge-certificates/additional-options/minimum-tls/).\n\n## Enable mTLS\n\nOnce you have [added a custom hostname](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/getting-started/), you can enable mTLS by using Cloudflare Access. Go to [Cloudflare Zero Trust](https://one.dash.cloudflare.com/) and [add mTLS authentication](https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/mutual-tls-authentication/) with a few clicks.\n\nNote\n\nCurrently, you cannot add mTLS policies for custom hostnames using [API Shield](https://developers.cloudflare.com/api-shield/security/mtls/).\n\nAlso make sure to enforce mTLS on the specific custom hostname where it should be checked. It is not enough to have it set on the CNAME target.\n\n## Minimum TLS Version\n\nNote\n\nWhile TLS 1.3 is the most recent and secure version, it is not supported by some older devices. Refer to Cloudflare's recommendations when [deciding what version to use](https://developers.cloudflare.com/ssl/reference/protocols/#decide-which-version-to-use).\n\n### Scope\n\nMinimum TLS version exists both as a [zone-level setting](https://developers.cloudflare.com/ssl/edge-certificates/additional-options/minimum-tls/) (on the [**Edge Certificates**](https://dash.cloudflare.com/?to=/:account/:zone/ssl-tls/edge-certificates) page under **Minimum TLS Version**) and as a custom hostname setting. What this implies is:\n\n* For custom hostnames created via API, it is possible not to explicitly define a value for `min_tls_version`. When that is the case, whatever value is defined as your zone's minimum TLS version will be applied. To confirm whether a given custom hostname has a specific minimum TLS version set, use the following API call.\n\nCheck custom hostname TLS settings\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `SSL and Certificates Write`\n* `SSL and Certificates Read`",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* Whenever you make changes to a custom hostname via dashboard, the value that is set for Minimum TLS version will apply. If you have a scenario as explained in the bullet above, the dashboard change will override the zone-level configuration that was being applied.\n\n* For custom hostnames with wildcards enabled, the direct custom hostname you create (for example, `saas-customer.test`) will use the hostname-specific setting, while the others (`sub1.saas-customer.test`, `sub2.saas-customer.test`, etc) will default to the zone-level setting.\n\n### Setup\n\nMinimum TLS version for your zone\n\nRefer to [Minimum TLS version - SSL/TLS](https://developers.cloudflare.com/ssl/edge-certificates/additional-options/minimum-tls/#zone-level).\n\nMinimum TLS version for custom hostname\n\n* Dashboard\n\n  1. In the Cloudflare dashboard, go to the **Custom Hostnames** page.\n\n     [Go to **Custom Hostnames**](https://dash.cloudflare.com/?to=/:account/:zone/ssl-tls/custom-hostnames)\n\n  2. Find the hostname to which you want to apply Minimum TLS Version. Select **Edit**.\n\n  3. Choose the desired TLS version under **Minimum TLS Version** and select **Save**.\n\n* API\n\n  In the API documentation, refer to [SSL properties of a custom hostname](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/edit/). Besides the `settings` specifications, you must include `type` and `method` within the `ssl` object, as explained below.\n\n  1. Make a `GET` request to the [Custom Hostname Details](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/get/) endpoint to check what are the current values for `ssl.type` and `ssl.method`.\n\n  Required API token permissions\n\n  At least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n  * `SSL and Certificates Write`\n  * `SSL and Certificates Read`",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "1. After you take note of these values, make a `PATCH` request to the [Edit Custom Hostname](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/edit/) endpoint, providing both the minimum TLS version you want to define and the same `type` and `method` values that you obtained from the previous step.\n\n  Required API token permissions\n\n  At least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n  * `SSL and Certificates Write`",
      "language": "unknown"
    },
    {
      "code": "## Cipher suites\n\nFor security and regulatory reasons, you may want to only allow connections from certain cipher suites. Cloudflare provides recommended values and full cipher suite reference in our [Cipher suites documentation](https://developers.cloudflare.com/ssl/edge-certificates/additional-options/cipher-suites/#resources).\n\nRestrict cipher suites for your zone\n\nRefer to [Customize cipher suites - SSL/TLS](https://developers.cloudflare.com/ssl/edge-certificates/additional-options/cipher-suites/customize-cipher-suites/).\n\nRestrict cipher suites for custom hostname\n\nIn the API documentation, refer to [SSL properties of a custom hostname](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/edit/). Besides the `settings` specifications, you must include `type` and `method` within the `ssl` object, as explained below.\n\n1. Make a `GET` request to the [Custom Hostname Details](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/get/) endpoint to check what are the current values for `ssl.type` and `ssl.method`.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `SSL and Certificates Write`\n* `SSL and Certificates Read`",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "1. After you take note of these values, make a `PATCH` request to the [Edit Custom Hostname](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/edit/) endpoint, providing both the list of authorized cipher suites and the same `type` and `method` values that you obtained from the previous step.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `SSL and Certificates Write`",
      "language": "unknown"
    },
    {
      "code": "Restrict cipher suites for custom hostname with custom certificate\n\nIn the API documentation, refer to [SSL properties of a custom hostname](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/edit/). In the case of a custom hostname with custom certificate, you must include the custom certificate in the [Edit Custom Hostname PATCH call](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/edit/), with the `settings` specifications where you must include `type` and `method` within the `ssl` object, as explained below.\n\n1. Make a `GET` request to the [Custom Hostname Details](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/get/) endpoint to check what are the current values for `ssl.type` and `ssl.method`.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `SSL and Certificates Write`\n* `SSL and Certificates Read`",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "1. After you take note of these values, make a `PATCH` request to the [Edit Custom Hostname](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/edit/) endpoint, providing both the list of authorized cipher suites and the same `type` and `method` values that you obtained from the previous step, but also the `custom_certificate` and `custom_key`.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `SSL and Certificates Write`",
      "language": "unknown"
    },
    {
      "code": "## Alerts for mutual TLS certificates\n\nYou can configure alerts to receive notifications before your mutual TLS certificates expire.\n\nAccess mTLS Certificate Expiration Alert\n\n**Who is it for?**\n\n[Access](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/) customers that use client certificates for mutual TLS authentication. This notification will be sent 30 and 14 days before the expiration of the certificate.\n\n**Other options / filters**\n\nNone.\n\n**Included with**\n\nPurchase of [Access](https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/mutual-tls-authentication/) and/or [Cloudflare for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/enforce-mtls/).\n\n**What should you do if you receive one?**\n\nUpload a [renewed certificate](https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/mutual-tls-authentication/#add-mtls-authentication-to-your-access-configuration).\n\nRefer to [Cloudflare Notifications](https://developers.cloudflare.com/notifications/get-started/) for more information on how to set up an alert.\n\n</page>\n\n<page>\n---\ntitle: Issue and validate certificates Â· Cloudflare for Platforms docs\ndescription: Once you have set up your Cloudflare for SaaS application, you can\n  start issuing and validating certificates for your customers.\nlastUpdated: 2024-09-20T16:41:42.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/index.md\n---\n\nOnce you have [set up your Cloudflare for SaaS application](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/getting-started/), you can start issuing and validating certificates for your customers.\n\n* [Issue](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/issue-certificates/)\n* [Validate](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/validate-certificates/)\n* [Renew](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/renew-certificates/)\n\n</page>\n\n<page>\n---\ntitle: Webhook definitions Â· Cloudflare for Platforms docs\ndescription: When you create a webhook notification for SSL for SaaS Custom\n  Hostnames, you may want to automate responses to specific events (certificate\n  issuance, failed validation, etc.).\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/webhook-definitions/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/webhook-definitions/index.md\n---\n\nWhen you [create a webhook notification](https://developers.cloudflare.com/notifications/get-started/configure-webhooks/) for **SSL for SaaS Custom Hostnames**, you may want to automate responses to specific events (certificate issuance, failed validation, etc.).\n\nThe following section details the data Cloudflare sends to a webhook destination.\n\n## Certificate validation\n\nBefore a Certificate Authority will issue a certificate for a domain, the requester must prove they have control over that domain. This process is known as [domain control validation (DCV)](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/validate-certificates/).\n\n### Validation succeeded\n\nCloudflare sends this alert when certificates move from a status of `pending_validation` to `pending_issuance`.",
      "language": "unknown"
    },
    {
      "code": "### Validation failed\n\nCloudflare sends this alert each time a certificate remains in a `pending_validation` status during [DCV retries](https://developers.cloudflare.com/ssl/edge-certificates/changing-dcv-method/validation-backoff-schedule/).",
      "language": "unknown"
    },
    {
      "code": "***\n\n## Certificate issuance\n\nOnce validated, certificates are issued by Cloudflare in conjunction with your chosen [certificate authority](https://developers.cloudflare.com/ssl/reference/certificate-authorities/).\n\n### Issuance succeeded\n\nCloudflare sends this alert when certificates move from a status of `pending_validation` or `pending_issuance` to `pending_deployment`.",
      "language": "unknown"
    },
    {
      "code": "### Issuance failed\n\nCloudflare sends this alert each time a certificate remains in a status of `pending_issuance` during [DCV retries](https://developers.cloudflare.com/ssl/edge-certificates/changing-dcv-method/validation-backoff-schedule/).",
      "language": "unknown"
    },
    {
      "code": "***\n\n## Certificate deployment\n\nOnce issued, certificates are deployed to Cloudflare's global edge network.\n\n### Deployment succeeded\n\nCloudflare sends this alert when certificates move from a status of `pending_deployment` to `active`.",
      "language": "unknown"
    },
    {
      "code": "### Deployment failed\n\nCloudflare sends this alert each time a certificate remains in a status of `pending_deployment` during [DCV retries](https://developers.cloudflare.com/ssl/edge-certificates/changing-dcv-method/validation-backoff-schedule/).",
      "language": "unknown"
    },
    {
      "code": "***\n\n## Certificate deletion\n\n### Deletion succeeded\n\nCloudflare sends this alert when certificates move from a status of `pending_deletion` to `deleted`.",
      "language": "unknown"
    },
    {
      "code": "### Deletion failed\n\nCloudflare sends this alert each time a certificate remains in status of `pending_deletion` during [DCV retries](https://developers.cloudflare.com/ssl/edge-certificates/changing-dcv-method/validation-backoff-schedule/).",
      "language": "unknown"
    },
    {
      "code": "***\n\n## Certificate renewal\n\nOnce issued, certificates are valid for a period of time depending on the [certificate authority](https://developers.cloudflare.com/ssl/reference/certificate-validity-periods/).\n\nThe actions that you need to perform to renew certificates depend on your [validation method](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/renew-certificates/).\n\n### Upcoming renewal",
      "language": "unknown"
    },
    {
      "code": "### Renewal succeeded\n\nCloudflare sends this alert when certificates move from a status of `active` to `pending_deployment`.",
      "language": "unknown"
    },
    {
      "code": "### Renewal failed\n\nCloudflare sends this alert when certificates move from a status of `active` to `pending_issuance`.",
      "language": "unknown"
    },
    {
      "code": "## Troubleshooting\n\nOccasionally, you may see webhook notifications that do not include a corresponding `<<CUSTOM_HOSTNAME_ID>>` and `hostname` values.\n\nThis behavior is because each custom hostname can only have one certificate attached to it. Previously attached certificates can still emit webhook events but will not include the associated hostname and ID values.\n\n## Alerts\n\nYou can configure alerts to receive notifications for changes in your custom hostname certificates.\n\nSSL for SaaS Custom Hostnames Alert\n\n**Who is it for?**\n\nCustomers with custom hostname certificates who want to receive a notification on validation, issuance, renewal, and expiration of certificates. For more details around data formatting for webhooks, refer to the [Cloudflare for SaaS docs](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/webhook-definitions/).\n\n**Other options / filters**\n\nNone.\n\n**Included with**\n\nPurchase of [Cloudflare for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/).\n\n**What should you do if you receive one?**\n\nYou only need to take action if you are notified that you have a certificate that failed. You can find the reasons why a certificate is not being issued in [Troubleshooting SSL errors](https://developers.cloudflare.com/ssl/troubleshooting/general-ssl-errors/).\n\nRefer to [Cloudflare Notifications](https://developers.cloudflare.com/notifications/get-started/) for more information on how to set up an alert.\n\n</page>\n\n<page>\n---\ntitle: Managed rulesets per custom hostname Â· Cloudflare for Platforms docs\ndescription: If you are interested in WAF for SaaS but unsure of where to start,\n  Cloudflare recommends using WAF Managed Rules. The Cloudflare security team\n  creates and manages a variety of rules designed to detect common attack\n  vectors and protect applications from vulnerabilities. These rules are offered\n  in managed rulesets, like Cloudflare Managed and OWASP, which can be deployed\n  with different settings and sensitivity levels.\nlastUpdated: 2025-09-12T16:12:26.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/waf-for-saas/managed-rulesets/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/waf-for-saas/managed-rulesets/index.md\n---\n\nIf you are interested in [WAF for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/waf-for-saas/) but unsure of where to start, Cloudflare recommends using WAF Managed Rules. The Cloudflare security team creates and manages a variety of rules designed to detect common attack vectors and protect applications from vulnerabilities. These rules are offered in [managed rulesets](https://developers.cloudflare.com/waf/managed-rules/), like Cloudflare Managed and OWASP, which can be deployed with different settings and sensitivity levels.\n\n***\n\n## Prerequisites\n\nWAF for SaaS is available for customers on an Enterprise plan.\n\nIf you would like to deploy a managed ruleset at the account level, refer to the [WAF documentation](https://developers.cloudflare.com/waf/account/managed-rulesets/deploy-dashboard/).\n\nEnsure you have reviewed [Get Started with Cloudflare for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/getting-started/) and familiarize yourself with [WAF for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/waf-for-saas/).\n\nCustomers can automate the [custom metadata](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/custom-metadata/) tagging by adding it to the custom hostnames at creation. For more information on tagging a custom hostname with custom metadata, refer to the [API documentation](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/edit/).\n\n***\n\n## 1. Choose security tagging system\n\n1. Outline `security_tag` buckets. These are fully customizable with no strict limit on quantity. For example, you can set `security_tag` to `low`,`medium`, and `high` as a default, with one tag per custom hostname.\n\n2. If you have not already done so, [associate your custom metadata to custom hostnames](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/waf-for-saas/#1-associate-custom-metadata-to-a-custom-hostname) by including the `security_tag`in the custom metadata associated with the custom hostname. The JSON blob associated with the custom hostname is fully customizable.\n\nAfter the association is complete, the JSON blob is added to the defined custom hostname. This blob is then associated to every incoming request and exposed in the WAF through the [`cf.hostname.metadata`](https://developers.cloudflare.com/ruleset-engine/rules-language/fields/reference/cf.hostname.metadata/) field. In the rule, you can access `cf.hostname.metadata` and get the data you need from that blob.\n\n***\n\n## 2. Deploy rulesets\n\nNote\n\nAccount-level WAF requires an Enterprise plan with a paid add-on.\n\n1. In the Cloudflare dashboard, go to the **WAF** page.\n\n   [Go to **WAF**](https://dash.cloudflare.com/?to=/:account/application-security/waf)\n\n2. Go to the **Managed rulesets** tab.\n\n3. Select **Deploy** > **Deploy managed ruleset**.\n\n4. Next to **Cloudflare Managed Ruleset**, choose **Select ruleset**.\n\n5. Give a name to the rule deploying the ruleset in **Execution name**.\n\n6. Select **Edit scope** to execute the managed ruleset for a subset of incoming requests.\n\n7. Select **Custom filter expression**.\n\n8. Select **Edit expression** to switch to the [Expression Editor](https://developers.cloudflare.com/ruleset-engine/rules-language/expressions/edit-expressions/#expression-editor).\n\n9. The basic expression should look like this, plus any logic you would like to add (like filtering by a specific custom hostname with `http.host eq \"<HOSTNAME>\"`):",
      "language": "unknown"
    },
    {
      "code": "Note\n\n   Rulesets deployed at the account level will only apply to incoming traffic of Enterprise domains on your account. When you define a custom expression using the Expression Editor, use parentheses to enclose any custom conditions and end your expression with `and (cf.zone.plan eq \"ENT\")` so that the rule only applies to domains on an Enterprise plan.\n\n10. Select **Next**.\n\n11. (Optional) You can modify the ruleset configuration by changing, for example, what rules are enabled or what action should be the default.\n\n12. Select **Deploy**.\n\n## Next steps\n\nWhile this guide uses the Cloudflare Managed Ruleset, you can also create a custom ruleset and deploy on your custom hostnames. To do this, go to the **Custom rulesets** tab and select **Create ruleset**. For examples of a low/medium/high ruleset, refer to [WAF for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/waf-for-saas/).\n\n</page>\n\n<page>\n---\ntitle: Apex proxying Â· Cloudflare for Platforms docs\ndescription: Apex proxying allows your customers to use their apex domains\n  (example.com) with your SaaS application.\nlastUpdated: 2025-08-20T21:45:15.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/apex-proxying/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/apex-proxying/index.md\n---\n\nApex proxying allows your customers to use their apex domains (`example.com`) with your SaaS application.\n\nNote\n\nOnly certain customers have access to this feature. For more details, see the [Plans page](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/plans/).\n\n## Benefits\n\nIn a normal Cloudflare for SaaS [setup](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/getting-started/), your customers route traffic to your hostname by creating a `CNAME` record pointing to your CNAME target.\n\nHowever, most DNS providers do not allow `CNAME` records at the zone's root[1](#user-content-fn-1). This means that your customers have to use a subdomain as a vanity domain (`shop.example.com`) instead of their domain apex (`example.com`).\n\nThis limitation does not apply with apex proxying. Cloudflare assigns a set of IP prefixes - cost associated, reach out to your account team - to your account (or uses your own if you have [BYOIP](https://developers.cloudflare.com/byoip/)). This means that customers can create a standard `A` record to route traffic to your domain, which can support the domain apex.\n\n## Setup\n\n* [Set up Apex Proxying](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/apex-proxying/setup/)\n\n## Footnotes\n\n1. Cloudflare offers this functionality through [CNAME flattening](https://developers.cloudflare.com/dns/cname-flattening/). [â†©](#user-content-fnref-1)\n\n</page>\n\n<page>\n---\ntitle: Custom origin server Â· Cloudflare for Platforms docs\ndescription: \"A custom origin server lets you send traffic from one or more\n  custom hostnames to somewhere besides your default proxy fallback, such as:\"\nlastUpdated: 2025-08-20T21:45:15.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/custom-origin/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/custom-origin/index.md\n---\n\nA **custom origin server** lets you send traffic from one or more custom hostnames to somewhere besides your default proxy fallback, such as:\n\n* `soap.stores.com` goes to `origin1.com`\n* `towel.stores.com` goes to `origin2.com`\n\n## Requirements\n\nTo use a custom origin server, you need to meet the following requirements:\n\n* Each custom origin needs to be a valid hostname with a proxied (orange-clouded) A, AAAA, or CNAME record in your account's DNS. You cannot use an IP address.\n* The DNS record for the custom origin server does not currently support wildcard values.\n\n## Use a custom origin\n\nTo use a custom origin, select that option when [creating a new custom hostname](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/) in the dashboard or include the `\"custom_origin_server\": your_custom_origin_server` parameter when using the API [POST command](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/create/).\n\n## SNI rewrites\n\nNote\n\nOnly certain customers have access to this feature. For more details, see the [Plans page](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/plans/).\n\nWhen Cloudflare establishes a connection to your default origin server, the `Host` header and SNI will both be the value of the original custom hostname.\n\nHowever, if you configure that custom hostname with a custom origin, the value of the SNI will be that of the custom origin and the `Host` header will be the original custom hostname. Since these values will not match, you will not be able to use the [Full (strict)](https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes/full-strict/) on your origins.\n\nTo solve this problem, you can contact your account team to request an entitlement for **SNI rewrites**.\n\n### SNI rewrite options\n\nChoose how your custom hostname populates the SNI value with SNI rewrites:\n\n* **Origin server name** (default): Set SNI to the custom origin\n\n  * If custom origin is `custom-origin.example.com`, then the SNI is `custom-origin.example.com`.\n\n* **Host header**: Set SNI to the host header (or a host header override)\n\n  * If wildcards are not enabled and the hostname is `example.com`, then the SNI is `example.com`.\n  * If wildcards are enabled, the hostname is `example.com`, and a request comes to `www.example.com`, then the SNI is `www.example.com`.\n\n* **Subdomain of zone**: Choose what to set as the SNI value (custom hostname or any subdomain)\n\n  * If wildcards are not enabled and a request comes to `example.com`, choose whether to set the SNI as `example.com` or `www.example.com`.\n  * If wildcards are enabled, you set the SNI to `example.com`, and a request comes to `www.example.com`, then the SNI is `example.com`.\n\nImportant\n\n* Currently, SNI Rewrite is not supported for wildcard custom hostnames. Subdomains covered by a wildcard custom hostname send the custom origin server name as the SNI value.\n\n* In the [O2O context](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/) (when requests are originating from a proxied hostname on a zone also on Cloudflare), changing the SNI value to use host header is currently not supported.\n\n* SNI overrides defined in an [Origin Rule](https://developers.cloudflare.com/rules/origin-rules/) will take precedence over SNI rewrites.\n\n* SNI Rewrite usage is subject to the [Service-Specific Terms](https://www.cloudflare.com/service-specific-terms-application-services/#ssl-for-saas-terms).\n\n### Set an SNI rewrite\n\nTo set an SNI rewrite in the dashboard, choose your preferred option from **Origin SNI value** when [creating a custom hostname](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/).\n\nTo set an SNI rewrite via the API, set the `custom_origin_sni` parameter when [creating a custom hostname](https://developers.cloudflare.com/api/resources/custom_hostnames/methods/create/):\n\n* **Custom origin name** (default): Applies if you do not set the parameter\n* **Host header**: Specify `\":request_host_header:\"`\n* **Subdomain of zone**: Set to `\"example.com\"` or another subdomain of the custom hostname\n\n</page>\n\n<page>\n---\ntitle: Regional Services for SaaS Â· Cloudflare for Platforms docs\nlastUpdated: 2024-12-23T15:11:41.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/regional-services-for-saas/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/regional-services-for-saas/index.md\n---\n\n\n</page>\n\n<page>\n---\ntitle: Workers as your fallback origin Â· Cloudflare for Platforms docs\ndescription: Learn how to use a Worker as the fallback origin for your SaaS zone.\nlastUpdated: 2025-12-19T10:15:17.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/worker-as-origin/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/worker-as-origin/index.md\n---\n\nIf you are building your application on [Cloudflare Workers](https://developers.cloudflare.com/workers/), you can use a Worker as the origin for your SaaS zone (also known as your fallback origin).\n\n1. In your SaaS zone, [create and set a fallback origin](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/getting-started/#1-create-fallback-origin). Ensure the fallback origin only has an [originless DNS record](https://developers.cloudflare.com/dns/troubleshooting/faq/#what-ip-should-i-use-for-parked-domain--redirect-only--originless-setup):\n\n   * **Example**: `service.example.com AAAA 100::`\n\n2. In that same zone, navigate to **Workers Routes**.\n\n3. Click **Add route**.\n\n4. Decide whether you want traffic bound for your SaaS zone (`example.com`) to go to that Worker:\n\n   * If *yes*, set the following values:\n\n     * **Route**: `*/*` (routes everything â€” including custom hostnames â€” to the Worker).\n     * **Worker**: Select the Worker used for your SaaS application.\n\n   * If *no*, set the following values:\n\n     * **Route**: `*.<zonename>.com/*` (only routes custom hostname traffic to the Worker)\n     * **Worker**: **None**\n\n5. Click **Save**.\n\n***\n\nZone name restriction\n\nDo not configure a custom hostname which matches the zone name. For example, if your SaaS zone is `example.com`, do not create a custom hostname named `example.com`.\n\n</page>\n\n<page>\n---\ntitle: Authorization cookie Â· Cloudflare One docs\ndescription: Learn how Cloudflare Access uses CF_Authorization cookies to secure\n  self-hosted web applications.\nlastUpdated: 2025-11-20T23:13:05.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/index.md\n---\n\nWhen you protect a site with Cloudflare Access, Cloudflare checks every HTTP request bound for that site to ensure that the request has a valid `CF_Authorization` cookie. If a request does not include the cookie, Access will block the request.\n\n## Access JWTs\n\nThe `CF_Authorization` cookie contains the user's identity in the form of a [JSON Web Token (JWT)](https://www.cloudflare.com/learning/access-management/token-based-authentication/). Cloudflare securely creates these tokens through the OAUTH or SAML integration between Cloudflare Access and the configured identity provider.\n\nAccess generates two separate `CF_Authorization` tokens depending on the domain:\n\n* **Global session token**: Generated when a user logs in to Access. This token is stored as a cookie at your team domain (for example, `https://<your-team-name>.cloudflareaccess.com`) and prevents a user from needing to log in to each application.\n\n* [**Application token**](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/application-token/): Generated for each application that a user reaches. This token is stored as a cookie on the protected domain (for example, `https://jira.site.com`) and may be used to [validate requests](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/validating-json) on your origin.\n\n### Multi-domain applications\n\nCloudflare Access allows you to protect and manage multiple domains in a single [self-hosted application](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/self-hosted-public-app/). After a user has successfully authenticated to one domain, Access will automatically issue a `CF_Authorization` cookie when they go to another domain in the same Access application. This means that users only need to authenticate once to a multi-domain application.\n\nFor Access applications with five or less domains, Access will preemptively set the cookie for all domains through a series of redirects. This allows single-page applications (SPAs) to retrieve data from other subdomains, even if the user has not explicitly visited those subdomains. Note that we cannot set cookies up-front for a wildcarded subdomain, because we do not know which concrete subdomain to redirect to (wildcarded paths are allowed).\n\nIf the Access application has more than five domains, Access will not preemptively set any cookies. Cookies are only issued as the user visits each domain. This limitation is to avoid latency issues that could affect the user experience.\n\n## Access cookies\n\nThe following Access cookies are essential to Access functionality. Cookies that are marked as required cannot be opted out of. The following cookies are not used for tracking or analytics.\n\n### CF\\_Authorization (team domain)\n\n| Details | Expiration | HttpOnly | SameSite | Required? |\n| - | - | - | - | - |\n| [JSON web token (JWT)](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/#access-jwts) set on the `cloudflareaccess.com` [team domain](https://developers.cloudflare.com/cloudflare-one/faq/getting-started-faq/#what-is-a-team-domainteam-name) that contains the user's identity and enables Access to perform single sign-on (SSO) | ViewIf set, adheres to [global session duration](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/#global-session-duration). If not, adheres to [application session duration](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/#application-session-duration). If neither are set, defaults to 24 hours. | Yes | None | Required |\n\n### CF\\_Authorization (Access application domain)\n\n| Details | Expiration | HttpOnly | SameSite | Required? |\n| - | - | - | - | - |\n| [JSON web token (JWT)](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/#access-jwts) set on the domain protected by Access that allows Access to confirm that the user has been authenticated and is authorized to reach the origin | ViewIf set, adheres to [policy session duration](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/#policy-session-duration). If not, adheres to [application session duration](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/#application-session-duration). If neither are set, defaults to 24 hours. | Admin choice (Default: None) | Admin choice (Default: None) | Required |\n\n### CF\\_Binding\n\n| Details | Expiration | HttpOnly | SameSite | Required? |\n| - | - | - | - | - |\n| Refer to [Binding cookie](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/#binding-cookie) | ViewIf set, adheres to [policy session duration](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/#policy-session-duration). If not, adheres to [application session duration](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/#application-session-duration). If neither are set, defaults to 24 hours. | Yes | None | Optional |\n\n### CF\\_Session\n\n| Details | Expiration | HttpOnly | SameSite | Required? |\n| - | - | - | - | - |\n| [CSRF](https://www.cloudflare.com/learning/security/threats/cross-site-request-forgery/) token used on the `cloudflareaccess.com` [team domain](https://developers.cloudflare.com/cloudflare-one/faq/getting-started-faq/#what-is-a-team-domainteam-name) | 4 hours | Yes | None | Required |\n\n### CF\\_AppSession\n\n| Details | Expiration | HttpOnly | SameSite | Required? |\n| - | - | - | - | - |\n| [CSRF](https://www.cloudflare.com/learning/security/threats/cross-site-request-forgery/) token used per application domain, scoped to individual applications behind Access | 24 hours | Yes | None | Required |\n\n### CF\\_Device\n\n| Details | Expiration | HttpOnly | SameSite | Required? |\n| - | - | - | - | - |\n| Cookie used to help prevent abuse of the [Access OTP flow](https://developers.cloudflare.com/cloudflare-one/integrations/identity-providers/one-time-pin/) | 30 days | Yes | Strict | Required |\n\n## Cookie settings\n\nCloudflare Access provides optional security settings that can be added to the browser cookies generated by Access for an authenticated user.\n\n* [SameSite](#samesite-attribute)\n* [HttpOnly flag](#httponly)\n* [Binding cookie](#binding-cookie)\n* [Cookie path](#cookie-path-attribute)\n\nTo enable these settings:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Access controls** > **Applications**.\n\n2. Locate the application you would like to configure and select **Configure**.\n\n3. Select **Advanced settings** and scroll down to **Cookie settings**.\n\n4. Configure the desired cookie settings.\n\n5. Select **Save application**.\n\n### SameSite Attribute\n\nThe [`SameSite`](https://web.dev/samesite-cookies-explained/) Attribute selector restricts the cookie to only being sent if the cookie's defined site matches the site being requested in the browser. This adds protection against [cross-site request forgery (CSRF)](https://en.wikipedia.org/wiki/Cross-site_request_forgery).\n\nThe selector options are:\n\n* **None** - Cookies will be sent in all contexts, including cross-origin requests.\n* **Lax** - Cookies are allowed to be sent with top-level navigations and will be sent along with GET requests initiated by third party websites.\n* **Strict** - Cookies will only be sent in a first-party context and not be sent along with requests initiated by third party websites.\n\nRefer to the [Mozilla documentation](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Set-Cookie#samesitesamesite-value) for more information.\n\nWarning\n\nIf you are receiving the `ERR_TOO_MANY_REDIRECTS` errors, make sure your `SameSite` setting is set to None or Lax. Setting the `SameSite` setting to Strict can result in too many redirects.\n\n#### When not to use SameSite\n\nDo not enable `SameSite` restrictions if you have additional sites or applications that rely on a specific application's authorization cookie.\n\n### HttpOnly\n\nThe `HttpOnly` flag is a cookie attribute that prevents the cookie from being accessed by any client-side scripts, reducing the likelihood of Cross-Site Scripting (XSS) attacks. This flag is enabled by default.\n\n#### When not to use HttpOnly\n\nDo not enable `HttpOnly` if:\n\n* You are using the Access application for non-browser based tools (such as SSH or RDP).\n* You have software that relies on being able to access a user's cookie generated by Access.\n\n### Binding cookie\n\nThe binding cookie (`CF_Binding`) is an optional cookie issued when a user successfully authenticates. The binding cookie is sent by the user's browser and tied to a specific application's `CF_Authorization` cookie. This cookie is stripped at Cloudflare's network and never forwarded to the origin server.\n\nBinding cookies protect users' `CF_Authorization` cookies from possible malicious origins. If a request arrives to Cloudflare's network without the expected binding cookie, Cloudflare rejects the `CF_Authorization` cookie.\n\n#### When not to use Binding Cookie\n\nDo not enable Binding Cookie if:\n\n* You are using the Access application for non-browser based tools (such as SSH or RDP).\n* You have enabled [incompatible Cloudflare products](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/self-hosted-public-app/#product-compatibility) on the application domain.\n* You have turned on [WARP authentication identity](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/configure-warp/warp-sessions/) for the application.\n\n### Cookie Path Attribute\n\nThe Cookie Path Attribute adds the application's path URL to the `CF_Authorization` cookie. When enabled, a user who logs in to `example.com/path1` must re-authenticate to access `example.com/path2`. When disabled, the `CF_Authorization` cookie is only scoped to the domain and subdomain.\n\n## Allow third-party cookies in the browser\n\nBy default, some browsers block all third-party cookies in private browsing mode, including the `CF_Authorization` cookie. For XHR requests to work in private windows, you will need to exempt your application and team domain from the browser's tracking protection system.\n\nTo enable third-party cookies for an Access application:\n\nChrome\n\n1. Go to **Settings** > **Privacy and security** > **Cookies and other site data**.\n\n2. Under **Sites that can always use cookies**, add the following URLs:\n\n   * Hostname of your Access application (for example, `https://jira.site.com`)\n   * `https://<your-team-name>.cloudflareaccess.com`\n\nSafari\n\n1. Go to **Safari** > **Settings** > **Privacy**.\n2. Deselect **Block all cookies**.\n\nFirefox\n\n1. Go to **Settings** > **Privacy & Security**.\n2. Scroll down to **Cookies and Site Data**.\n3. Select **Manage Exceptions**.\n4. Enter the URL of your Access application (for example, `https://jira.site.com`) and select **Allow**.\n5. Enter `https://<your-team-name>.cloudflareaccess.com` and select **Allow**.\n6. Select **Save Changes**.\n\nBrave\n\n1. Go to `brave://settings/cookies`.\n\n2. Under **Sites that can always use cookies**, add the following URLs:\n\n   * Hostname of your Access application (for example, `https://jira.site.com`)\n   * `https://<your-team-name>.cloudflareaccess.com`\n\n</page>\n\n<page>\n---\ntitle: SaaS applications Â· Cloudflare One docs\ndescription: Cloudflare Access allows you to add an additional authentication\n  layer to your SaaS applications. When you integrate a SaaS application with\n  Access, users log in to the application with Cloudflare as the Single Sign-On\n  provider. The user is then redirected to the configured identity providers for\n  that application and are only granted access if they pass your Access\n  policies.\nlastUpdated: 2025-10-23T20:06:36.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/index.md\n---\n\nCloudflare Access allows you to add an additional authentication layer to your SaaS applications. When you integrate a SaaS application with Access, users log in to the application with Cloudflare as the Single Sign-On provider. The user is then redirected to the configured identity providers for that application and are only granted access if they pass your Access policies.\n\nCloudflare integrates with the majority of SaaS applications that support the SAML or OIDC authentication protocol. If you do not see your application listed below, refer to our [generic SAML](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/generic-saml-saas/) or [generic OIDC](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/generic-oidc-saas/) guide and consult your SaaS application's documentation.\n\n* [Generic OIDC application](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/generic-oidc-saas/)\n* [Generic SAML application](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/generic-saml-saas/)\n* [Adobe Acrobat Sign](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/adobe-sign-saas/)\n* [Area 1](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/area-1/)\n* [Asana](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/asana-saas/)\n* [Atlassian Cloud](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/atlassian-saas/)\n* [AWS](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/aws-sso-saas/)\n* [Braintree](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/braintree-saas/)\n* [Coupa](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/coupa-saas/)\n* [Digicert](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/digicert-saas/)\n* [DocuSign](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/docusign-access/)\n* [Dropbox](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/dropbox-saas/)\n* [GitHub Enterprise Cloud](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/github-saas/)\n* [Google Cloud](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/google-cloud-saas/)\n* [Google Workspace](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/google-workspace-saas/)\n* [Grafana](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/grafana-saas-oidc/)\n* [Grafana Cloud](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/grafana-cloud-saas-oidc/)\n* [Greenhouse Recruiting](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/greenhouse-saas/)\n* [Hubspot](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/hubspot-saas/)\n* [Ironclad](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/ironclad-saas/)\n* [Jamf Pro](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/jamf-pro-saas/)\n* [Miro](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/miro-saas/)\n* [PagerDuty](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/pagerduty-saml-saas/)\n* [Pingboard](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/pingboard-saas/)\n* [Salesforce (OIDC)](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/salesforce-saas-oidc/)\n* [Salesforce (SAML)](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/salesforce-saas-saml/)\n* [ServiceNow (OIDC)](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/servicenow-saas-oidc/)\n* [ServiceNow (SAML)](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/servicenow-saas-saml/)\n* [Slack](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/slack-saas/)\n* [Smartsheet](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/smartsheet-saas/)\n* [SparkPost](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/sparkpost-saas/)\n* [Tableau Cloud](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/tableau-saml-saas/)\n* [Workday](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/workday-saas/)\n* [Zendesk](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/zendesk-sso-saas/)\n* [Zoom](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/zoom-saas/)\n\n</page>\n\n<page>\n---\ntitle: Publish a self-hosted application to the Internet Â· Cloudflare One docs\ndescription: You can securely publish internal tools and applications by adding\n  Cloudflare Access as an authentication layer between the end user and your\n  origin server.\nlastUpdated: 2025-10-23T20:06:36.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/self-hosted-public-app/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/self-hosted-public-app/index.md\n---\n\nYou can securely publish internal tools and applications by adding Cloudflare Access as an authentication layer between the end user and your origin server.\n\nThis guide covers how to make a web application accessible to anyone on the Internet via a public hostname. If you would like to make the application available over a private IP or hostname, refer to [Add a self-hosted private application](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/self-hosted-private-app/).\n\n## Prerequisites\n\n* An [active domain on Cloudflare](https://developers.cloudflare.com/fundamentals/manage-domains/add-site/)\n* Domain uses either a [full setup](https://developers.cloudflare.com/dns/zone-setups/full-setup/) or a [partial (`CNAME`) setup](https://developers.cloudflare.com/dns/zone-setups/partial-setup/)\n\n## 1. Add your application to Access\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Access controls** > **Applications**.\n\n2. Select **Add an application**.\n\n3. Select **Self-hosted**.\n\n4. Enter any name for the application.\n\n5. In **Session Duration**, choose how often the user's [application token](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/application-token/) should expire.\n\n   Cloudflare checks every HTTP request to your application for a valid application token. If the user's application token (and global token) has expired, they will be prompted to reauthenticate with the IdP. For more information, refer to [Session management](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/).\n\n1) Select **Add public hostname**.\n\n2) In the **Domain** dropdown, select the domain that will represent the application. Domains must belong to an active zone in your Cloudflare account. You can use [wildcards](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/app-paths/) to protect multiple parts of an application that share a root path.\n\n   Alternatively, to use a [Cloudflare for SaaS custom hostname](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/secure-with-access/), set **Input method** to *Custom* and enter your custom hostname.\n\n3) (Optional) Configure **Browser rendering settings**:\n\n   * [Automatic `cloudflared` authentication](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/cloudflared-authentication/automatic-cloudflared-authentication/)\n   * [Browser rendering for SSH, VNC, or RDP](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/browser-rendering/)\n\n4) Add [Access policies](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/) to control who can connect to your application. All Access applications are deny by default -- a user must match an Allow policy before they are granted access.\n\n5) Configure how users will authenticate:\n\n   1. Select the [**Identity providers**](https://developers.cloudflare.com/cloudflare-one/integrations/identity-providers/) you want to enable for your application.\n\n   2. (Recommended) If you plan to only allow access via a single IdP, turn on **Instant Auth**. End users will not be shown the [Cloudflare Access login page](https://developers.cloudflare.com/cloudflare-one/reusable-components/custom-pages/access-login-page/). Instead, Cloudflare will redirect users directly to your SSO login event.\n\n   3. (Optional) Under **WARP authentication identity**, allow users to authenticate to the application using their [WARP session identity](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/configure-warp/warp-sessions/).\n\n6) Select **Next**.\n\n7) (Optional) Configure [App Launcher settings](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/app-launcher/) for the application.\n\n8) Under **Block page**, choose what end users will see when they are denied access to the application:\n\n   * **Cloudflare default**: Reload the [login page](https://developers.cloudflare.com/cloudflare-one/reusable-components/custom-pages/access-login-page/) and display a block message below the Cloudflare Access logo. The default message is `That account does not have access`, or you can enter a custom message.\n   * **Redirect URL**: Redirect to the specified website.\n   * **Custom page template**: Display a [custom block page](https://developers.cloudflare.com/cloudflare-one/reusable-components/custom-pages/access-block-page/) hosted in Cloudflare One.\n\n9) Select **Next**.\n\n10) (Optional) Configure advanced settings:\n\n    * [**Cross-Origin Resource Sharing (CORS) settings**](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/cors/)\n    * [**Cookie settings**](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/#cookie-settings)\n    * **401 Response for Service Auth policies**: Return a `401` response code when a user (or machine) makes a request to the application without the correct [service token](https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/service-tokens/).\n\n11) Select **Save**.\n\n## 2. Connect your origin to Cloudflare\n\n[Set up a Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/get-started/create-remote-tunnel/) to publish your internal application. Only users who match your Access policies will be granted access.\n\nNote\n\nWe recommend [creating an Access application](#1-add-your-application-to-access) before setting up the tunnel route. If you do not have an Access application in place, the published application will be available to anyone on the Internet.\n\nIf your application is already publicly routable, a Tunnel is not strictly required. However, you will then need to protect your origin IP using [other methods](https://developers.cloudflare.com/fundamentals/security/protect-your-origin-server/).\n\n## 3. Validate the Access token\n\nTo secure your origin, you must validate the [application token](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/) issued by Cloudflare Access. Token validation ensures that any requests which bypass Cloudflare Access (for example, due to a network misconfiguration) are rejected.\n\nOne option is to configure the Cloudflare Tunnel daemon, `cloudflared`, to validate the token on your behalf. This is done by enabling [**Protect with Access**](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/configure-tunnels/cloudflared-parameters/origin-parameters/#access) in your Cloudflare Tunnel settings. Alternatively, if you do not wish to perform automatic validation with Cloudflare Tunnel, you can instead [manually configure your origin](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/validating-json/) to check all requests for a valid token.\n\nUsers can now connect to your self-hosted application after authenticating with Cloudflare Access.\n\n## Product compatibility\n\nWhen using Access self-hosted applications, the majority of Cloudflare products will be compatible with your application.\n\nHowever, the following products are not supported:\n\n* [Automatic Platform Optimization](https://developers.cloudflare.com/automatic-platform-optimization)\n* [Zaraz](https://developers.cloudflare.com/zaraz)\n\nYou can disable Zaraz for a specific application - instead of across your entire zone - using a [Configuration Rule](https://developers.cloudflare.com/rules/configuration-rules/) scoped to the application domain.\n\n</page>\n\n<page>\n---\ntitle: Browser-rendered terminal Â· Cloudflare One docs\ndescription: Cloudflare can render SSH, VNC, and RDP applications in a browser\n  without the need for client software or end-user configuration changes. For\n  SSH and VNC, user email prefixes must match their username on the server. RDP\n  leverages your existing Windows usernames and passwords for authenticating to\n  the Windows server; Cloudflare does not manage any credentials on the Windows\n  server.\nlastUpdated: 2025-10-27T15:01:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/browser-rendering/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/browser-rendering/index.md\n---\n\nCloudflare can render SSH, VNC, and RDP applications in a browser without the need for client software or end-user configuration changes. For SSH and VNC, user email prefixes must match their username on the server. RDP leverages your existing Windows usernames and passwords for authenticating to the Windows server; Cloudflare does not manage any credentials on the Windows server.\n\n## Limitations\n\n* Browser rendering is only supported for [self-hosted public applications](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/self-hosted-public-app/), not private IPs or hostnames.\n\n* You can only render a browser-rendered terminal on domains and subdomains, not on specific paths.\n\n* Cloudflare does not control the length of an active SSH, VNC, or RDP session. [Application session durations](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/) determine the window in which a user can initiate a new connection or refresh an existing one.\n\n* Cloudflare uses TLS to secure the egress RDP connection to your Windows server. We do not currently validate the chain of trust.\n\n## Turn on browser rendering\n\n### SSH and VNC\n\nTo turn on browser rendering for an SSH or VNC application:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Access controls** > **Applications**.\n2. Locate the SSH or VNC application you created when [connecting the server to Cloudflare](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/). Select **Configure**.\n3. In the **Policies** tab, ensure that only **Allow** or **Block** policies are present. **Bypass** and **Service Auth** are not supported for browser-rendered applications.\n4. Go to **Advanced settings** > **Browser rendering settings**.\n5. For **Browser rendering**, choose *SSH* or *VNC*.\n6. Select **Save application**.\n\nWhen users authenticate and visit the URL of the application, Cloudflare will render a terminal in their browser.\n\n### RDP\n\nTo set up browser-rendering for RDP, refer to our [browser-based RDP guide](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/rdp/rdp-browser/).\n\n### SSH key exchange algorithms\n\nCloudflare's browser-rendered SSH terminal supports the following Key Exchange (KEX) algorithms:\n\n* `curve25519-sha256@libssh.org`\n* `curve25519-sha256`\n* `ecdh-sha2-nistp256`\n* `ecdh-sha2-nistp384`\n* `ecdh-sha2-nistp521`\n\nFor browser-rendered SSH connections to work, you may need to update the `sshd_config` file on your server to accept these algorithms.\n\n</page>\n\n<page>\n---\ntitle: Client-side cloudflared Â· Cloudflare One docs\ndescription: With Cloudflare Zero Trust, users can connect to non-HTTP\n  applications via a public hostname without installing the WARP client. This\n  method requires you to onboard a domain to Cloudflare and install cloudflared\n  on both the server and the user's device.\nlastUpdated: 2025-10-24T20:47:24.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/cloudflared-authentication/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/cloudflared-authentication/index.md\n---\n\nWith Cloudflare Zero Trust, users can connect to non-HTTP applications via a public hostname without installing the WARP client. This method requires you to onboard a domain to Cloudflare and install `cloudflared` on both the server and the user's device.\n\nUsers log in to the application by running a `cloudflared access` command in their terminal. `cloudflared` will launch a browser window and prompt the user to authenticate with your identity provider.\n\nNote\n\nAutomated services should only authenticate with `cloudflared` if they cannot use a [service token](https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/service-tokens/). Cloudflared authentication relies on WebSockets to establish a connection. WebSockets have a known limitation where persistent connections may close unexpectedly. We recommend either a [Service Auth policy](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/#service-auth) or using [Warp to Tunnel routing](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/) in these instances.\n\nFor examples of how to connect to Access applications with client-side `cloudflared`, refer to these tutorials:\n\n* [Connect through Access using a CLI](https://developers.cloudflare.com/cloudflare-one/tutorials/cli/)\n* [Connect through Access using kubectl](https://developers.cloudflare.com/cloudflare-one/tutorials/kubectl/)\n* [Connect over SSH with cloudflared](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/ssh-cloudflared-authentication/) (legacy) -- SSH connections are now managed through [Access for Infrastructure](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/ssh-infrastructure-access/).\n* [Connect over RDP with cloudflared](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/rdp/#connect-to-rdp-server-with-cloudflared-access)\n* [Connect over SMB with cloudflared](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/smb/)\n* [Connect over arbitrary TCP with cloudflared](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/cloudflared-authentication/arbitrary-tcp/)\n\n</page>\n\n<page>\n---\ntitle: Add an infrastructure application Â· Cloudflare One docs\ndescription: Access for Infrastructure allows you to have granular control over\n  how users access individual servers, clusters, or databases. By adding an\n  infrastructure application to Cloudflare Access, you can configure how users\n  authenticate to the resource as well as control and authorize the ports,\n  protocols, and usernames that they can connect with. Access and command logs\n  ensure regulatory compliance and allow for auditing of user activity in case\n  of a security breach.\nlastUpdated: 2025-10-24T18:16:28.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/infrastructure-apps/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/infrastructure-apps/index.md\n---\n\nFeature availability\n\n| [WARP modes](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/configure-warp/warp-modes/) | [Zero Trust plans](https://www.cloudflare.com/teams-pricing/) |\n| - | - |\n| * Gateway with WARP\n* Secure Web Gateway without DNS filtering | All plans |\n\n| System | Availability |\n| - | - |\n| Windows | âœ… |\n| macOS | âœ… |\n| Linux | âœ… |\n| iOS | âœ… |\n| Android | âœ… |\n| ChromeOS | âœ… |\n\nAccess for Infrastructure allows you to have granular control over how users access individual servers, clusters, or databases. By adding an infrastructure application to Cloudflare Access, you can configure how users authenticate to the resource as well as control and authorize the ports, protocols, and usernames that they can connect with. Access and command logs ensure regulatory compliance and allow for auditing of user activity in case of a security breach.\n\nNote\n\nAccess for Infrastructure currently only supports [SSH](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/ssh-infrastructure-access/). To connect using other protocols, [add a self-hosted private application](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/self-hosted-private-app/). For browser-based SSH, RDP, or VNC, refer to [browser-rendered terminal](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/browser-rendering/).\n\n## Prerequisites\n\n* [Connect your infrastructure](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/) to Cloudflare using `cloudflared` or WARP Connector.\n* [Deploy the WARP client](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/deployment/) on user devices in Gateway with WARP mode.\n\n## 1. Add a target\n\nA target represents a single resource in your infrastructure (such as a server, Kubernetes cluster, database, or container) that users will connect to through Cloudflare.\n\nTargets are protocol-agnostic, meaning that you do not need to define a new target for each protocol that runs on the server. To create a new target:\n\n* Dashboard\n\n  1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Access controls** > **Targets**.\n\n  2. Select **Add a target**.\n\n  3. In **Target hostname**, enter a user-friendly name for the target. We recommend using the server hostname, for example `production-server`. The target hostname does not need to be unique and can be reused for multiple targets. Hostnames are used to define the targets secured by an Access application; they are not used for DNS address resolution.\n\n     Hostname format restrictions\n\n     * Case insensitive\n     * Contain no more than 253 characters\n     * Contain only alphanumeric characters, `-`, or `.` (no spaces allowed)\n     * Start and end with an alphanumeric character\n\n  4. In **IP addresses**, enter the IPv4 and/or IPv6 address of the target resource. The dropdown menu will not populate until you type in the full IP address.\n\n  Note\n\n  If the target IP does not appear in the dropdown, go to **Networks** > **Routes** and confirm that the IP routes through Cloudflare Tunnel.\n\n  1. In the dropdown menu, select the IP address and [virtual network](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/cloudflared/tunnel-virtual-networks/) where the resource is located. This IP address and virtual network pairing is now assigned to this target and cannot be reused in another target by design.\n  2. Select **Add target**.\n\n* API\n\n  Make a `POST` request to the [Infrastructure Access Targets](https://developers.cloudflare.com/api/resources/zero_trust/subresources/access/subresources/infrastructure/subresources/targets/methods/create/) endpoint:",
      "language": "unknown"
    },
    {
      "code": "* Terraform\n\n  Provider versions\n\n  The following example requires Cloudflare provider version `>=4.45.0`.\n\n  1. Add the following permission to your [`cloudflare_api_token`](https://registry.terraform.io/providers/cloudflare/cloudflare/4.45.0/docs/resources/api_token):\n\n     * `Zero Trust Write`\n\n  2. Configure the [`cloudflare_zero_trust_infrastructure_access_target`](https://registry.terraform.io/providers/cloudflare/cloudflare/4.45.0/docs/resources/zero_trust_infrastructure_access_target) resource:",
      "language": "unknown"
    },
    {
      "code": "Next, create an Access application to secure the target.\n\n## 2. Add an infrastructure application\n\n* Dashboard\n\n  1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Access controls** > **Applications**.\n\n  2. Select **Add an application**.\n\n  3. Select **Infrastructure**.\n\n  4. Enter any name for the application.\n\n  5. In **Target criteria**, select the target hostname(s) that you want to secure. This application definition will apply to all targets that share the selected hostname, including any targets added in the future. Similarly, if you later decide to change the hostname for a target, the renamed target will no longer be covered by this application.\n\n  6. Enter the **Protocol** and **Port** that will be used to connect to the server.\n\n  7. (Optional) If a protocol runs on more than one port, select **Add new target criteria** and reconfigure the same target hostname and protocol with a different port number.\n\n     Note\n\n     Access for Infrastructure only supports assigning one protocol per port. You can reuse a port/protocol pairing across infrastructure applications, but the port cannot be reassigned to another protocol.\n\n  8. Select **Next**.\n\n  9. To secure your targets, configure a policy that defines who can connect and how they can connect:\n\n     1. Enter any name for your policy.\n\n     2. Create a rule that matches the users who are allowed to reach the targets. For more information, refer to [Access policies](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/) and review the list of [infrastructure policy selectors](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/infrastructure-apps/#infrastructure-policy-selectors).\n\n     3. In **Connection context**, configure the following settings:\n\n        * **SSH user**: Enter the UNIX usernames that users can log in as (for example, `root` or `ec2-user`).\n        * **Allow users to log in as their email alias**: (Optional) When selected, users who match your policy definition will be able to access the target using their lowercased email address prefix. For example, `Jdoe@company.com` could log in as `jdoe`.\n\n        Note\n\n        Cloudflare will not create new users on the target. UNIX users must already be present on the server.\n\n  10. Select **Add application**.\n\n* API\n\n  Make a `POST` request to the [Access applications](https://developers.cloudflare.com/api/resources/zero_trust/subresources/access/subresources/applications/methods/create/) endpoint:\n\n  Required API token permissions\n\n  At least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n  * `Access: Apps and Policies Write`",
      "language": "unknown"
    },
    {
      "code": "* Terraform (v4)\n\n  Provider versions\n\n  The following example requires Cloudflare provider version `>=4.45.0`.\n\n  1. Add the following permission to your [`cloudflare_api_token`](https://registry.terraform.io/providers/cloudflare/cloudflare/4.45.0/docs/resources/api_token):\n\n     * `Access: Apps and Policies Write`\n\n  2. Use the [`cloudflare_zero_trust_access_application`](https://registry.terraform.io/providers/cloudflare/cloudflare/4.45.0/docs/resources/zero_trust_access_application) resource to create an infrastructure application:",
      "language": "unknown"
    },
    {
      "code": "3. Use the [`cloudflare_zero_trust_access_policy`](https://registry.terraform.io/providers/cloudflare/cloudflare/4.45.0/docs/resources/zero_trust_access_policy) resource to add an infrastructure policy to the application:",
      "language": "unknown"
    },
    {
      "code": "The targets in this application are now secured by your infrastructure policies.\n\n## 3. (Recommended) Modify order of precedence in Gateway\n\nBy default, Cloudflare will evaluate Access application policies after evaluating all [Gateway Network policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/). If you have not configured Gateway Network policies, refer to [Get started with network filtering](https://developers.cloudflare.com/cloudflare-one/traffic-policies/initial-setup/network/).\n\nTo evaluate Access applications before or after specific Gateway policies:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Traffic policies** > **Firewall policies**. In **Network**, [create a Network policy](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/) with the following configuration:\n\n   | Selector | Operator | Value | Action |\n   | - | - | - | - |\n   | Access Infrastructure Target | is | *Present* | Allow |\n\n2. Update the policy's [order of precedence](https://developers.cloudflare.com/cloudflare-one/traffic-policies/order-of-enforcement/#order-of-precedence) using the dashboard or API.\n\nThis Gateway policy will apply to all Access for Infrastructure targets, including RDP and SSH.\n\nNote\n\nUsers must pass the policies in your Access application before they are granted access. The Gateway Allow policy is strictly for routing and connectivity purposes.\n\n## 4. Configure the server\n\nCertain protocols require configuring the server to trust connections through Access for Infrastructure. For more information, refer to the protocol-specific tutorial:\n\n* [SSH](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/ssh-infrastructure-access/#6-configure-ssh-server)\n\n## 5. Connect as a user\n\nUsers connect to the target's IP address using their preferred client software. The user must be logged into WARP on their device, but no other system configuration is required. You can optionally configure a [private DNS resolver](https://developers.cloudflare.com/cloudflare-one/traffic-policies/resolver-policies/) to allow connections to the target's private hostname.\n\n### Connect to different VNET\n\nTo connect to targets that are in different VNETS, users will need to [switch their connected virtual network](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/cloudflared/tunnel-virtual-networks/#connect-to-a-virtual-network) in the WARP client.\n\nNote\n\nIf a user is connected to a target in VNET-A and needs to connect to a target in VNET-B, switching their VNET will not break any existing connections to targets within VNET-A. At present, connections are maintained between VNETs.\n\n### Display available targets\n\nFeature availability\n\n| System | Availability | Minimum WARP version |\n| - | - | - |\n| Windows | âœ… | 2024.9.346.0 |\n| macOS | âœ… | 2024.9.346.0 |\n| Linux | âœ… | 2024.9.346.0 |\n| iOS | âŒ | |\n| Android | âŒ | |\n| ChromeOS | âŒ | |\n\nUsers can use `warp-cli` to display a list of targets they can access. On the WARP device, open a terminal and run the following command:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "You can optionally add flags to filter the output. For example:",
      "language": "unknown"
    },
    {
      "code": "To view all available filters, type `warp-cli target list --help`.\n\n## Revoke a user's session\n\nTo revoke a user's access to all infrastructure targets, you can either [revoke the user from Zero Trust](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/#per-user) or revoke their device. Cloudflare does not currently support revoking a user's session for a specific target.\n\n## Infrastructure policy selectors\n\nThe following [Access policy selectors](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/#selectors) are available for securing infrastructure applications:\n\n* Email\n* Emails ending in\n* SAML group\n* Country\n* Authentication method\n* Device posture\n* Entra group, GitHub organization, Google Workspace group, Okta group\n\n</page>\n\n<page>\n---\ntitle: Private network applications (legacy) Â· Cloudflare One docs\ndescription: You can configure a Private Network application to manage access to\n  specific applications on your private network.\nlastUpdated: 2025-10-27T15:01:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/legacy-private-network-app/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/legacy-private-network-app/index.md\n---\n\nNote\n\nNot recommended for new deployments. We recommend using a [self-hosted application](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/self-hosted-private-app/) to secure a private IP address.\n\nYou can configure a **Private Network** application to manage access to specific applications on your private network.\n\nTo create a private network application:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Access controls** > **Applications** > **Add an application**.\n\n2. Select **Private Network**.\n\n3. Name your application.\n\n4. For **Application type**, select *Destination IP*.\n\n5. For **Value**, enter the IP address for your application (for example, `10.128.0.7`).\n\n   Note\n\n   If you would like to create a policy for an IP/CIDR range instead of a specific IP address, you can build a [Gateway Network policy](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/) using the **Destination IP** selector.\n\n6. Configure your [App Launcher](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/app-launcher/) visibility and logo.\n\n7. Select **Next**. You will see two auto-generated Gateway Network policies: one that allows access to the destination IP and another that blocks access.\n\n8. Modify the policies to include additional identity-based conditions. For example:\n\n   * **Policy 1**\n\n     | Selector | Operator | Value | Logic | Action |\n     | - | - | - | - | - |\n     | Destination IP | in | `10.128.0.7` | And | Allow |\n     | User Email | matches regex | `.*@example.com` | | |\n\n   * **Policy 2**\n\n     | Selector | Operator | Value | Action |\n     | - | - | - | - |\n     | Destination IP | in | `10.128.0.7` | Block |\n\n   Policies are evaluated in [numerical order](https://developers.cloudflare.com/cloudflare-one/traffic-policies/order-of-enforcement/#order-of-precedence), so a user with an email ending in @example.com will be able to access `10.128.0.7` while all others will be blocked. For more information on building network policies, refer to our [dedicated documentation](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/).\n\n9. Select **Add application**.\n\nYour application will appear on the **Applications** page.\n\n</page>\n\n<page>\n---\ntitle: Secure a private IP or hostname Â· Cloudflare One docs\ndescription: You can configure a self-hosted Access application to manage access\n  to specific IPs or hostnames on your private network.\nlastUpdated: 2025-12-19T16:25:33.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/self-hosted-private-app/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/self-hosted-private-app/index.md\n---\n\nYou can configure a self-hosted Access application to manage access to specific IPs or hostnames on your private network.\n\nNote\n\nThis feature replaces the legacy [private network app type](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/legacy-private-network-app/).\n\n## Prerequisites\n\n* Private IPs and hostnames are reachable over Cloudflare WARP, Magic WAN or Browser Isolation. For more details, refer to [Connect a private network](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/).\n* Private hostnames route to your custom DNS resolver through [Local Domain Fallback](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/configure-warp/route-traffic/local-domains/) or [Gateway resolver policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/resolver-policies/).\n* Public IPs and hostnames can be used to define a private application, however the IP or hostname must route through Cloudflare via [Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/cloudflared/), [WARP Connector](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/warp-connector/), or [Magic WAN](https://developers.cloudflare.com/magic-wan/configuration/manually/how-to/configure-routes/).\n* (Optional) Turn on [Gateway TLS decryption](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/tls-decryption/) if you want to use Access JWTs to manage [HTTPS application sessions](#https-applications).\n\n## Add your application to Access\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Access controls** > **Applications**.\n\n2. Select **Add an application**.\n\n3. Select **Self-hosted**.\n\n4. Enter any name for the application.\n\n5. In **Session Duration**, choose how often the user's [application token](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/application-token/) should expire.\n\n   Cloudflare checks every HTTP request to your application for a valid application token. If the user's application token (and global token) has expired, they will be prompted to reauthenticate with the IdP. For more information, refer to [Session management](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/).\n\n   If the application is non-HTTPS or you do not have TLS decryption turned on, the session is tracked by the WARP client per application.\n\n1) To add an application using its private IP:\n\n   1. Select **Add private IP**.\n\n   2. In **IP address**, enter the private IP or CIDR range that represents the application (for example, `10.0.0.1` or `172.16.0.0/12`).\n\n   3. In **Port**, enter a single port or a port range used by your application (for example, `22` or `8000-8099`).\n\n      Comma-separated lists of ports (such as `80, 443`) are not supported. To add multiple ports for a specific IP, you can select **Add private IP** and repeat the IP address with the other port. Alternatively, create a new Access application for the other port.\n\n2) To add an application using its private hostname:\n\n   1. Select **Add private hostname**.\n   2. In **Hostname**, enter the private hostname of the application (for example, `wiki.internal.local`). You can use [wildcards](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/app-paths/) with private hostnames to protect multiple parts of an application that share a root path.\n   3. In **Port**, enter a single port or a port range used by your application (for example, `22` or `8000-8099`).\n\n   Note\n\n   * **HTTPS applications**: Private hostnames explicitly set to port `443` (not including port ranges such as `441-444`) must have a valid Server Name Indicator (SNI).\n\n   * **Non-HTTPS applications**: Private hostnames on non-`443` ports do not require a valid SNI value will be assigned an initial resolved IP in the CGNAT space. Ensure that the following IP addresses are not blocked by any firewalls or excluded from Gateway traffic:\n\n     * **IPv4**: `100.80.0.0/16`\n     * **IPv6**: `2606:4700:0cf1:4000::/64`\n\n     For more details on private hostname routing, refer to [Connect a private hostname](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/cloudflared/connect-private-hostname/#prerequisites)\n\n3) Add [Access policies](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/) to control who can connect to your application. All Access applications are deny by default -- a user must match an Allow policy before they are granted access.\n\n4) Configure how users will authenticate:\n\n   1. Select the [**Identity providers**](https://developers.cloudflare.com/cloudflare-one/integrations/identity-providers/) you want to enable for your application.\n   2. (Recommended) If you plan to only allow access via a single IdP, turn on **Instant Auth**. End users will not be shown the [Cloudflare Access login page](https://developers.cloudflare.com/cloudflare-one/reusable-components/custom-pages/access-login-page/). Instead, Cloudflare will redirect users directly to your SSO login event.\n   3. (Recommended) Turn on **WARP authentication identity** to allow users to authenticate to the application using their [WARP session identity](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/configure-warp/warp-sessions/). We recommend turning this on if your application is not in the browser and cannot handle a `302` redirect.\n\n5) Select **Next**.\n\n6) (Optional) Configure [App Launcher settings](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/app-launcher/) for the application.\n\n7) Under **Block page**, choose what end users will see when they are denied access to the application:\n\n   * **Cloudflare default**: Reload the [login page](https://developers.cloudflare.com/cloudflare-one/reusable-components/custom-pages/access-login-page/) and display a block message below the Cloudflare Access logo. The default message is `That account does not have access`, or you can enter a custom message.\n   * **Redirect URL**: Redirect to the specified website.\n   * **Custom page template**: Display a [custom block page](https://developers.cloudflare.com/cloudflare-one/reusable-components/custom-pages/access-block-page/) hosted in Cloudflare One.\n\n8) Select **Next**.\n\n9) (Optional) Configure advanced settings:\n\n   * [**Cross-Origin Resource Sharing (CORS) settings**](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/cors/)\n   * [**Cookie settings**](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/#cookie-settings)\n   * **401 Response for Service Auth policies**: Return a `401` response code when a user (or machine) makes a request to the application without the correct [service token](https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/service-tokens/).\n\n   These settings only apply to private hostnames and require [Gateway TLS decryption](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/tls-decryption/).\n\n10) Select **Save**.\n\nUsers can now connect to your private application after authenticating with Cloudflare Access.\n\n## Authentication flow\n\n### HTTPS applications\n\nIf [Gateway TLS decryption](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/tls-decryption/) is turned on and a user is accessing an HTTPS application on port `443`, Cloudflare Access will present a login page in the browser and issue an [application token](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/application-token/) to your origin. This is the same cookie-based authentication flow used by [self-hosted public apps](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/self-hosted-public-app/).\n\nIf [Gateway TLS decryption](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/tls-decryption/) is turned off, session management is [handled in the WARP client](#non-https-applications) instead of in the browser.\n\n### Non-HTTPS applications\n\nThe WARP client manages sessions for all non-HTTPS applications. Users will receive an `Authentication required` pop-up notification from the WARP client. When the user selects the notification, WARP will open a browser window with your Access login page.\n\nEnsure that your operating system allows notifications for WARP. Your device may not display notifications if focus, do not disturb, or screen sharing settings are turned on. To turn on client notifications on macOS devices running DisplayLink software, you may have to allow system notifications when mirroring your display. For more information, refer to the [macOS documentation](https://support.apple.com/guide/mac-help/change-notifications-settings-mh40583/mac).\n\n## Order of precedence\n\n### Access vs Gateway policies\n\nBy default, Cloudflare will evaluate Access application policies after evaluating all [Gateway Network policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/). If you have not configured Gateway Network policies, refer to [Get started with network filtering](https://developers.cloudflare.com/cloudflare-one/traffic-policies/initial-setup/network/).\n\nTo evaluate Access applications before or after specific Gateway policies:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Traffic policies** > **Firewall policies**. In **Network**, [create a Network policy](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/) with the following configuration:\n\n   | Selector | Operator | Value | Action |\n   | - | - | - | - |\n   | Access Private App | is | *Present* | Allow |\n\n2. Update the policy's [order of precedence](https://developers.cloudflare.com/cloudflare-one/traffic-policies/order-of-enforcement/#order-of-precedence) using the dashboard or API.\n\nNote\n\nUsers must pass the policies in your Access application before they are granted access. The Gateway Allow policy is strictly for routing and connectivity purposes.\n\n### Private hostname vs private IP\n\nAn Access application defined by a private hostname takes precedence over an Access application defined by a private IP. For example, assume App-1 points to `wiki.internal.local` and App-2 points to `10.0.0.1`, but `wiki.internal.local` resolves to `10.0.0.1`. Users who go to `wiki.internal.local` will never match App-2; they will be allowed or blocked strictly based on App-1 Access policies (and [Gateway policies](#access-vs-gateway-policies)).\n\n## Limitations\n\n### Browser Isolation is not compatible with apps on non-`443` ports\n\nBrowser Isolation is not compatible with [self-hosted private applications](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/self-hosted-private-app/) that use private IPs or hostnames on ports other than `443`. Trying to access self-hosted applications on non-`443` ports will result in a Gateway block page.\n\nTo use Browser Isolation for an application on a private IP address with a non-`443` port, configure a [private network application](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/legacy-private-network-app/) instead.\n\n### Google Chrome restricts access to private hostnames\n\nStarting with [Chrome 142](https://developer.chrome.com/release-notes/142), the browser restricts requests from websites to local IP addresses, including the Gateway initial resolved IP CGNAT range (`100.80.0.0/16`). When a website attempts to access a domain resolved through an initial resolved IP, the browser will display a prompt from the website asking to look for and connect to devices on the local network. Chrome will block requests to these domains until the user accepts this prompt.\n\nTo avoid this issue, choose one of the following options:\n\n* Disable the Chrome feature flag: Go to `chrome://flags` and set the **Local Network Access Checks** flag to *Disabled*.\n* Configure Chrome Enterprise policy: Use the **LocalNetworkAccessAllowedForUrls** policy to allow specific websites to make requests to these domains. For more information, refer to the [Chrome Enterprise documentation](https://chromeenterprise.google/policies/#LocalNetworkAccessAllowedForUrls).\n\n</page>\n\n<page>\n---\ntitle: Short-lived certificates (legacy) Â· Cloudflare One docs\ndescription: Cloudflare Access can replace traditional SSH keys with short-lived\n  certificates issued to your users based on the token generated by their Access\n  login. In traditional models, users generate an SSH key pair and\n  administrators grant access to individual SSH servers by deploying their\n  users' public keys to those servers. These SSH keys can remain unchanged on\n  these servers for months or years. Cloudflare Access removes the burden of\n  managing SSH keys, while also improving security by replacing long-lived SSH\n  keys with ephemeral SSH certificates.\nlastUpdated: 2025-10-27T15:01:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/short-lived-certificates-legacy/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/short-lived-certificates-legacy/index.md\n---\n\nNote\n\nNot recommended for new deployments. We recommend using [Access for Infrastructure](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/ssh-infrastructure-access/) to configure short-lived certificates for SSH.\n\nCloudflare Access can replace traditional SSH keys with short-lived certificates issued to your users based on the token generated by their Access login. In traditional models, users generate an SSH key pair and administrators grant access to individual SSH servers by deploying their users' public keys to those servers. These SSH keys can remain unchanged on these servers for months or years. Cloudflare Access removes the burden of managing SSH keys, while also improving security by replacing long-lived SSH keys with ephemeral SSH certificates.\n\n## 1. Secure the server behind Cloudflare Access\n\nCloudflare Access short-lived certificates can work with any modern SSH server, whether it is behind Access or not. However, we recommend putting your server behind Access for added security and features, such as auditability and browser-based terminals.\n\nTo secure your server behind Cloudflare Access:\n\n1. [Connect the server to Cloudflare](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/get-started/create-remote-tunnel/) as a published application.\n2. Create a [self-hosted Access application](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/self-hosted-public-app/) for the server.\n\nNote\n\nIf you do not wish to use Access, refer instead to our [SSH proxy instructions](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/ssh-logging/).\n\n## 2. Ensure Unix usernames match user SSO identities\n\nCloudflare Access will take the identity from a token and, using short-lived certificates, authorize the user on the target infrastructure.\n\nThe simplest setup is one where a user's Unix username matches their email address prefix. Issued short-lived certificates will be valid for the user's email address prefix. For example, if a user in your Okta or GSuite organization is registered as `jdoe@example.com`, they would log in to the SSH server as `jdoe`.\n\nFor testing purposes, you can run the following command to generate a Unix user on the machine:",
      "language": "unknown"
    },
    {
      "code": "Advanced setup: Differing usernames\n\nSSH certificates include one or more `principals` in their signature which indicate the Unix usernames the certificate is allowed to log in as. Cloudflare Access will always set the principal to the user's email address prefix. For example, when `jdoe@example.com` tries to connect, Access issues a short-lived certificate authorized for the principal `jdoe`.\n\nBy default, SSH servers authenticate the Unix username against the principals listed in the user's certificate. You can configure your SSH server to accept principals that do not match the Unix username.\n\nNote\n\nIf you would like to use short-lived certificates with the browser-based terminal, the user's email address prefix needs to matches their Unix username.\n\n**Username matches a different email**\n\nTo allow `jdoe@example.com` to log in as the user `johndoe`, add the following to the server's `/etc/ssh/sshd_config`:",
      "language": "unknown"
    },
    {
      "code": "This tells the SSH server that, when someone tries to authenticate as the user `johndoe`, check their certificate for the principal `jdoe`. This would allow the user `jdoe@example.com` to sign into the server with a command such as:",
      "language": "unknown"
    },
    {
      "code": "**Username matches multiple emails**\n\nTo allow multiple email addresses to log in as `vmuser`, add the following to the server's `/etc/ssh/sshd_config`:",
      "language": "unknown"
    },
    {
      "code": "This tells the SSH server to load a list of principles from a file. Then, in `/etc/ssh/vmusers-list.txt`, list the email prefixes that can log in as `vmuser`, one per line:",
      "language": "unknown"
    },
    {
      "code": "**Username matches all users**\n\nTo allow any Access user to log in as `vmuser`, add the following command to the server's `/etc/ssh/sshd_config`:",
      "language": "unknown"
    },
    {
      "code": "This command takes the certificate presented by the user and authorizes whatever principal is listed on it.\n\n**Allow all users**\n\nTo allow any Access user to log in with any username, add the following to the server's `/etc/ssh/sshd_config`:",
      "language": "unknown"
    },
    {
      "code": "Since this will put the security of your server entirely dependent on your Access configuration, make sure your [Access policies](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/policy-management/) are correctly configured.\n\n## 3. Generate a short-lived certificate public key\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Access controls** > **Service credentials**.\n\n2. Go to the **SSH** tab.\n\n3. In the **Application** dropdown, choose the Access application that represents your SSH server.\n\n4. Select **Generate certificate**. A row will appear with a public key scoped to your application.\n\n5. Save the key or keep it somewhere convenient for configuring your server. You can return to copy this public key any time in the Service Auth dashboard.\n\n## 4. Save your public key\n\n1. Copy the public key generated from the dashboard in Step 3.\n\n1) Use the following command to change directories to the SSH configuration directory on the remote target machine:",
      "language": "unknown"
    },
    {
      "code": "2) Once there, you can use the following command to both generate the file and open a text editor to input/paste the public key.",
      "language": "unknown"
    },
    {
      "code": "3) In the `ca.pub` file, paste the public key without any modifications.",
      "language": "unknown"
    },
    {
      "code": "The `ca.pub` file can hold multiple keys, listed one per line. Empty lines and comments starting with `#` are also allowed.\n\n4) Save the `ca.pub` file. In some systems, you may need to use the following command to force the file to save depending on your permissions:",
      "language": "unknown"
    },
    {
      "code": "## 5. Modify your `sshd_config` file\n\nConfigure your SSH server to trust the Cloudflare SSH CA by updating the `sshd_config` file on the remote target machine.\n\n1. While in the `/etc/ssh` directory on the remote machine, open the `sshd_config` file.",
      "language": "unknown"
    },
    {
      "code": "2. Press `i` to enter insert mode, then add the following lines at the top of the file, above all other directives:",
      "language": "unknown"
    },
    {
      "code": "Be aware of your include statements\n\n   If there are any include statements below these lines, the configurations in those files will not take precedence.\n\n3. Press `esc` and then type `:x` and press `Enter` to save and exit.\n\n## 6. Restart your SSH server\n\nOnce you have modified your `sshd` configuration, reload the SSH service on the remote machine for the changes to take effect.\n\n* Debian/Ubuntu\n\n  For Debian/Ubuntu:",
      "language": "unknown"
    },
    {
      "code": "* CentOS/RHEL\n\n  For CentOS/RHEL 7 and newer:",
      "language": "unknown"
    },
    {
      "code": "## 7. Connect as a user\n\n### Configure your client SSH config\n\nOn the client side, [configure your device](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/) to use Cloudflare Access to reach the protected machine. To use short-lived certificates, you must include the following settings in your SSH config file (`~/.ssh/config`).\n\nTo save time, you can use the following cloudflared command to print the required configuration command:",
      "language": "unknown"
    },
    {
      "code": "If you prefer to configure manually, this is an example of the generated SSH config:",
      "language": "unknown"
    },
    {
      "code": "### Connect through a browser-based terminal\n\nEnd users can connect to the SSH session without any configuration by using Cloudflare's browser-based terminal. To enable, refer to [Browser-rendered terminal](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/browser-rendering/).\n\nBy default, the browser-based terminal prompts the user for a username/password login. If you would like to use certificate based authentication, make sure you have [created a short-lived certificate](#3-generate-a-short-lived-certificate-public-key) for the specific Access application configured for browser-rendered SSH.\n\n***\n\nYour SSH server is now protected behind Cloudflare Access â€” users will be prompted to authenticate with your identity provider before they can connect. You can also enable SSH command logging by configuring a [Gateway Audit SSH policy](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/ssh-logging/).\n\n</page>\n\n<page>\n---\ntitle: Manage groups in your directory Â· Cloudflare One docs\ndescription: Email security allows you to view and manage your groups directory\n  and their impersonation registry. When a group is added to the registry, all\n  members are registered by default.\nlastUpdated: 2025-10-27T15:00:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/directories/manage-integrated-directories/manage-groups-directory/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/directories/manage-integrated-directories/manage-groups-directory/index.md\n---\n\nEmail security allows you to view and manage your groups directory and their [impersonation registry](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/impersonation-registry/). When a group is added to the registry, all members are registered by default.\n\nTo manage a group directory:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Email security** > **Directories**.\n2. Locate your directory, select the three dots > **View details**.\n3. Select **Groups**.\n\n## Add groups to registry\n\nEmail security allows you to add group names to the registry.\n\nTo add a single group to the registry:\n\n1. Select the group name you want to add.\n2. Select the three dots > **Add to registry**.\n\nTo add multiple groups to the registry at once:\n\n1. Select the group names you want to add to the registry.\n2. Select the **Action** dropdown list.\n3. Select **Add to registry**.\n\n## Remove groups from registry\n\nEmail security allows you to remove group names from the registry.\n\nTo remove a single group from the registry:\n\n1. Select the group name you want to remove.\n2. Select the three dots > **Remove from registry**.\n\nTo remove multiple groups from the registry at once:\n\n1. Select the group names you want to remove from registry.\n2. Select the **Action** dropdown list.\n3. Select **Remove from registry**.\n\n## Filter impersonation registry\n\nYou can filter the list of group names by registered and unregistered.\n\nA group name is registered when it is part of the [impersonation registry](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/impersonation-registry/). A group name is unregistered when they are not part of the impersonation registry.\n\nTo filter the list:\n\n1. Select **Show filters** > **Impersonation registry**.\n\n2. Select one of the following:\n\n   * **All**: To view registered and unregistered groups.\n   * **Registered**: To view registered groups.\n   * **Unregistered**: To view unregistered groups.\n\n3. Select **Apply filters**.\n\n</page>\n\n<page>\n---\ntitle: Manage users in your directory Â· Cloudflare One docs\ndescription: Email security allows you to view and manage the impersonation\n  registry status of your users directory.\nlastUpdated: 2025-10-27T15:00:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/directories/manage-integrated-directories/manage-users-directory/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/directories/manage-integrated-directories/manage-users-directory/index.md\n---\n\nEmail security allows you to view and manage the [impersonation registry](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/impersonation-registry/) status of your users directory.\n\nTo manage users directory:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Email security** > **Directories**.\n2. Locate your directory, select the three dots > **View details**.\n3. Select **Users**.\n\n## Add users to registry\n\nTo add a single user to the registry:\n\n1. Select the name you want to add.\n2. Select the three dots > **Add to registry**.\n\nTo add multiple users to the registry at once:\n\n1. Select the names you want to add to the registry.\n2. Select the **Action** dropdown list.\n3. Select **Add to registry**.\n\n## Remove users from registry\n\nEmail security allows you to remove users from the registry.\n\nTo remove a single user from the registry:\n\n1. Select the name you want to remove.\n2. Select the three dots > **Remove from registry**.\n\nTo remove multiple users from the registry at once:\n\n1. Select the names you want to remove from the registry.\n2. Select the **Action** dropdown list.\n3. Select **Remove from registry**.\n\n## Edit a user\n\nTo edit a user:\n\n1. Under **Display name**, locate the user you want to edit.\n2. Select the three dots > **Edit**.\n3. Edit the user, then select **Save**.\n\n## Filter a user\n\nYou can filter the list of users by registered and unregistered.\n\nA user is registered when they are added to the [impersonation registry](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/impersonation-registry/). A user is unregistered when they are not part of the impersonation registry.\n\nTo filter the impersonation registry:\n\n1. Select **Show filters** > **Impersonation registry**.\n\n2. Choose one of the following:\n\n   * **All**: To view registered and unregistered users.\n   * **Registered**: To view registered users.\n   * **Unregistered**: To view unregistered users.\n\n3. Select **Apply filters**.\n\nTo filter users:\n\n1. Select **Show filters** > **Users**.\n\n2. Choose one of the following:\n\n   * **All**: To view users in groups and not in groups.\n   * **Users in groups**: To view users in groups.\n   * **Users not in groups**: To view users not in groups.\n\n3. Select **Apply filters**.\n\n</page>\n\n<page>\n---\ntitle: Information about your domain Â· Cloudflare One docs\nlastUpdated: 2025-10-27T11:42:41.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/settings/domain-management/domain/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/settings/domain-management/domain/index.md\n---\n\n* **Domain**: Domain name.\n* **Configured method**: The deployment method you used to configure your domain.\n* **Status**: Status indicates the state of the configuration. If the dashboard displays `No mail flow`, you may have to connect a domain to scan.\n* **Service address**: This is the email address you will use to send a copy of your email.\n* **Source**: Depending on how you added the domains, the dashboard will display **MS integration**, **Google**, **CF zones**, or **Manual add**.\n* **Integration name**: Name of the integration. This field will only be displayed for Microsoft integrations.\n* **Hops**: The number of hops. This will not be displayed if the configuration method is Microsoft Graph API. Hop count will be visible only if it has been configured.\n* **Date added**: Date when the domain was added.\n\n</page>\n\n<page>\n---\ntitle: Additional detections Â· Cloudflare One docs\ndescription: \"Email security allows you to configure the following additional detections:\"\nlastUpdated: 2025-10-27T15:00:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/additional-detections/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/additional-detections/index.md\n---\n\nEmail security allows you to configure the following additional detections:\n\n* Domain age\n* Blank email detection\n* [Automated Clearing House (ACH)](https://en.wikipedia.org/wiki/Automated_clearing_house) change from free email detection\n* HTML attachment email detection\n\nTo configure additional detections:\n\n1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/).\n2. Select **Email security**.\n3. Select **Settings**.\n4. On the **Settings** page, go to **Detection settings** > **Additional detections**, and select **Edit**.\n\n## Configure domain age\n\nThe domain age is the time since the domain has been registered.\n\nBecause of the domain age detection, [trusted domains](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/trusted-domains/) can be used to create an exception to the age detection.\n\nTo configure a domain age:\n\n1. On the **Edit additional detections** page:\n\n   * Select **Malicious domain age**: Controls the threshold for a malicious disposition. Maximum of 100 days. It is recommended to set the **Malicious domain age** to 7 days.\n   * Select **Suspicious domain age**: Controls the threshold for a suspicious disposition. Maximum of 100 days. It is recommended to set the **Suspicious domain age** between 30 and 45 days.\n\n2. Select **Save**.\n\n## Configure blank email detection\n\nBlank email detection detects emails with blank bodies and assigns a default disposition. You can choose between **Malicious** and **Suspicious** as dispositions.\n\nTo enable blank email detection:\n\n1. On the **Edit additional detections** page, enable **Blank email detection**.\n2. Choose between **Malicious** and **Suspicious**.\n3. Select **Save**.\n\n## Configure ACH change from free email detection\n\n[Automated Clearing House (ACH)](https://en.wikipedia.org/wiki/Automated_clearing_house) is a banking term related to direct deposits. ACH change from free email detection detects payroll inquiries or change requests from free email domains and assigns a default disposition. You can choose between **Malicious** and **Suspicious** as dispositions.\n\nTo enable ACH change from free email detection:\n\n1. On the **Edit additional detections** page, enable **ACH change from free email detection**.\n2. Choose between **Malicious** and **Suspicious**.\n3. Select **Save**.\n\n## Configure HTML attachment email detection\n\nHTML attachment email detection detects HTM and HTML attachments in emails and assigns a default disposition.\n\nTo enable HTML attachment email detection:\n\n1. On the **Edit additional detections** page, enable **HTML attachment email detection**.\n2. Choose between **Malicious** and **Suspicious**.\n3. Select **Save**.\n\n</page>\n\n<page>\n---\ntitle: Allow policies Â· Cloudflare One docs\ndescription: Email security allows you to configure allow policies. An allow\n  policy exempts messages that match certain patterns from normal detection\n  scanning.\nlastUpdated: 2025-12-12T17:39:54.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/allow-policies/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/allow-policies/index.md\n---\n\nEmail security allows you to configure allow policies. An allow policy exempts messages that match certain patterns from normal detection scanning.\n\n## How allow policies work\n\nAllow policies are crucial for legitimate messages that may otherwise be blocked due to, for example, an incorrect setup.\n\nExample of allow policy\n\nAn example of allow policy is a phishing simulation product. You want to configure a phishing simulation product as **Accept sender** so Email security does not scan the messages (or crawl links) in these simulated messages.\n\nAllow policies can be configured to match messages based on specific criteria such as individual email addresses, IP address ranges, or domains. This flexibility allows you to exempt legitimate messages from specific sources, even if those sources have low spam reputation or send bulk messages from their own servers.\n\nAllow policies are used to mitigate false positives. When an email has been marked as malicious or suspicious, but you still want to receive that email, you configure that email as part of an allow policy.\n\n### Accept sender\n\nAllow policies in Email security give you the option to choose **Accept sender**.\n\nAccept sender creates exceptions for messages that would otherwise be marked as spam, bulk, or spoof. However, Email security will continue to scan the message for maliciousness.\n\nIt is recommended to choose this option, as it is the safest option to protect your email inbox from malicious or suspicious activities.\n\nExample of a use case where marketing emails that are legitimate have been blocked\n\nWhen a marketing email does not follow the correct template, it may be marked as malicious or spam. It may not be possible to change the template. However, in this scenario, the marketing email is legitimate.\n\nTo make sure that users still receive the marketing email, you will have to select **Accept sender** and add the marketing domain in **Rule Type** > **Domains**.\n\n**Accept sender** and **Domains** combined exempt marketing emails that may not follow the correct template.\n\nRegular expressions and emails to add as Accept sender\n\nBelow you can find a list of known services you can add when configuring an Accept sender. We recommend you use [RegExr Validation](https://regexr.com/) to validate your regular expressions.\n\n* Google\n\n  `drive-shares-noreply@google.com`\n\n  `.*@docs\\.google\\.com`\n\n  `.*@docos\\.bounces\\.google\\.com`\n\n  `.*@calendar-server\\.bounces\\.google\\.com`\n\n  `.*@alerts\\.bounces\\.google\\.com`\n\n  `calendar-notification@google.com`\n\n  `.*\\+bnc.*@<gsuited-company-domain>`\n\n  `noreply-cloud@google.com`\n\n  `<groupname>@<gsuite-company-domain>`\n\n  `.*@doclist\\.bounces\\.google\\.com`\n\n* DocuSign\n\n  `.*@docusign\\.net`\n\n* Twitter - Mentions/Retweets\n\n  `notify@twitter.com`\n\n* GitHub (mentions and notifications)\n\n  `noreply@(github|git)\\.<github-enterprise-hosting-domain>`\n\n  `notifications@github.com`\n\n* Apache Foundations (Developers)\n\n  `.*@.*\\.apache\\.org` `jira@apache.org`\n\n* Atlassian\n\n  `jira@<company-hosted-jira-domain>`\n\n  `jira@<team-name>.atlassian.net`\n\n  `confluence@<company-hosted-jira-domain>`\n\n  `confluence@<team-name>.atlassian.net`\n\n* Intercom\n\n  `notifications@intercom-mail.com`\n\n  `notifications@mail.intercom.io`\n\n* SharePoint\n\n  `no-reply@sharepointonline.com`\n\n* Box and Dropbox\n\n  `.*@dropbox\\.com` `noreply@box.com`\n\n* Salesforce\n\n  `.*@chatter\\.salesforce\\.com`\n\n  `.*@.*\\.(apex|bnc)\\.salesforce\\.com`\n\n  `.*@.*\\.bnc(\\.sandbox)?\\.salesforce\\.com`\n\n* Webex - Invites/Mentions\n\n  `messenger@webex.com`\n\n* Bulk mailers\n\n  `.*@.*mailchimp\\.com`\n\n  `.*@mandrillapp\\.com`\n\n  `.*mailspike\\.org`\n\n* LinkedIn\n\n  `invitations@linkedin.com`\n\n* FBWork\n\n  `.*@fbworkmail\\.com`\n\n* Asana\n\n  `.*@mail\\.asana\\.com`\n\n* EchoSign\n\n  `.*@mail\\.echosign\\.com`\n\n* HelloSign\n\n  `noreply@(email|mail)\\.hellosign\\.com`\n\n* Podio\n\n  `noreply@podio.com`\n\n* Quip\n\n  `noreply.*@quip\\.com`\n\n* Zeplin\n\n  `no-reply@zeplin.io`\n\n* DataHug\n\n  `notifications@datahug.com`\n\n* Paperless\n\n  `.*@paperlesspost\\.com`\n\n* NetSuite\n\n  `.*@.*\\.na\\d\\.netsuite\\.com`\n\n* FS-ISAC\n\n  `cyberintel@lists.fsisac.com`\n\n* Expensify\n\n  `replies\\+[0-9]+@expensify\\.com`\n\n* KnowBe4\n\n  `.*@[a-z]+\\.knowbe4\\.com`\n\n  `147\\.160\\.167\\.([1-5][0-9]|6[0-2]|[1-9])`\n\n* FreshDesk\n\n  `.*@.*\\.freshdesk\\.com`\n\n* Webroot\n\n  `167.89.85.54` `49.72.237.117`\n\n* Wombat Egress IPs\n\n  **Training Platform**\n\n  `107.20.210.250` `52.1.14.157`\n\n* Phishing Assessment\n\n  `107.23.16.222` `54.173.83.138`\n\n## Configure allow policies\n\nTo configure allow policies:\n\n1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/).\n\n2. Select **Email security**.\n\n3. Select **Settings**, then go to **Detection settings** > **Allow policies**.\n\n4. On the **Detection settings** page, select **Add a policy**.\n\n5. On the **Add an allow policy** page, enter the policy information:\n\n   * **Input method**: Choose between **Manual input**, and **Uploading an allow policy**:\n\n     * **Manual input**:\n\n       * **Action**: Select one of the following to choose how Email security will handle messages that match your criteria:\n\n         * **Trust sender**: Messages will bypass all detections and link following.\n         * **Exempt recipient**: Message to this recipient will bypass all detections.\n         * **Accept sender**: Messages from this sender will be exempted from Spam, Spoof, and Bulk dispositions. Refer to [Allow policy configuration use cases](#use-case-1) for use case examples on how to configure allow policies for accept sender.\n\n     * **Rule type**: Specify the scope of your policy. Choose one of the following:\n\n       * **Email addresses**: Must be a valid email. Enter an email address whose emails are going to be exempted.\n       * **IP addresses**: This is the IP address of the email server. Any email address sent from this email server is going to be allowed. The IP address can only be IPv4. IPv6 and CIDR are invalid entries.\n       * **Domains**: Must be a valid domain.\n       * **Regular expressions**: Must be valid Java expressions. Regular expressions are matched with fields related to the sender email address (envelope from, header from, reply-to), the originating IP address, and the server name for the email. For example, you can enter `.*@domain\\.com` to exempt any email address that ends with `domain.com`.\n\n     * **(Recommended) Sender verification**: This option enforces DMARC, SPF, or DKIM authentication. If you choose to enable this option, Email security will only honor policies that pass authentication.\n       * **Notes**: Provide additional information about your allow policy.\n\n   * **Uploading an allow policy**: Upload a file no larger than 150 KB. The file can only contain `Pattern`, `Pattern Type`, `Verify Email`, `Trusted Sender`, `Exempt Recipient`, `Acceptable Sender`, `Notes` fields. The first row must be a header row. Refer to [CSV uploads](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/allow-policies/#csv-uploads) for an example file.\n\n6. Select **Save**.\n\nAllow policy configuration use cases\n\nThe following use cases show how you could configure allow policies for accept sender.\n\n### Use case 1\n\nCompany receives emails from third-party providers not used internally. These emails are sent from the service provider, and Email security gives these emails an incorrect disposition.\n\nThis use case can affect companies such as Shopify, PayPal, and Docusign.\n\nTo solve this:\n\n1. Create a [team submission](https://developers.cloudflare.com/cloudflare-one/email-security/submissions/team-submissions/).\n2. Inform your Cloudflare contact about the escalation.\n3. Do not set up allow policies or blocked senders. In this use case, configuring allow policies will create a security gap. Setting up blocked senders will block legitimate emails from providers such as Shopify, PayPal, and Docusign.\n\n### Use case 2\n\nCompany receives emails via third-party providers that are used internally. These emails are sent from the company's custom domain, but Email security marks these emails as bulk, spam, or spoof.\n\nThis use case can cause the emails you want to receive to follow the auto-moves rules you set up. This use case affects emails from internal tools (such as Salesforce, Atlassian, and Figma) that are given an incorrect disposition.\n\nTo solve this, when you add an allow policy in the Cloudflare One dashboard:\n\n1. Choose **Accept sender**.\n2. Verify that **Sender verification (recommended)** is turned on.\n\n### Use case 3\n\nCompany receives emails via third-party providers that are used internally. These emails are sent from the company's custom domain, but Email security marks these emails as bulk, spam, or spoof. The custom email domain does not support DMARC, SPF, or DKIM, and would fail Sender Verification.\n\nThis use case impacts the emails from internal tools (such as Salesforce, Atlassian, and Figma) that are given an incorrect disposition.\n\nTo solve this, when you add an allow policy in the Cloudflare One dashboard:\n\n1. Choose **Accept sender** based on the static IP you own.\n2. Ensure that **Sender verification (recommended)** is turned off.\n\nWarning\n\nDo not use email addresses or email domains for this policy as they can be easily spoofed without **Sender Verification (Recommended)** enabled.\n\n### CSV uploads\n\nYou can upload a file no larger than 150 KB. The file can only contain `Pattern`, `Pattern Type`, `Verify Email`, `Trusted Sender`, `Exempt Recipient`, `Acceptable Sender`, `Notes`. The first row must be a header row.\n\nAn example file would look like this:",
      "language": "unknown"
    },
    {
      "code": "## Export allow policies\n\nTo export all allow policies:\n\n1. On the **Detection settings** page, select **Value(s)**. Selecting **Value(s)** will select all allow policies.\n2. Select **Export to CSV**.\n\nTo export specific allow policies:\n\n1. On the **Detection settings** page, select the allow policies you want to export.\n2. Select **Export to CSV**.\n\n## Edit allow policy\n\nTo edit an allow policy:\n\n1. On the **Detection settings** page, select the allow policy you want to edit.\n2. Select the three dots > **Edit**.\n3. Edit the allow policy.\n4. Select **Save**.\n\n## Delete allow policy\n\nTo delete an allow policy:\n\n1. On the **Detection settings** page, select the allow policy you want to delete.\n2. Select the three dots > **Delete**.\n3. On the pop-up message, select **Delete**.\n\nTo delete multiple allow policies at once:\n\n1. On the **Detection settings** page, select the allow policies you want to delete.\n2. Select **Action**.\n3. Select **Delete**.\n\n</page>\n\n<page>\n---\ntitle: Blocked senders Â· Cloudflare One docs\ndescription: Email security marks all messages from these senders with a\n  malicious disposition.\nlastUpdated: 2025-10-27T15:00:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/blocked-senders/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/blocked-senders/index.md\n---\n\nEmail security marks all messages from these senders with a malicious [disposition](https://developers.cloudflare.com/cloudflare-one/email-security/reference/dispositions-and-attributes/).\n\n## How blocked senders work\n\nBlocked senders ensures messages from any sender is automatically marked as malicious, preventing them from reaching users' inbox.\n\nSometimes, the same email, IP address or domain always sends malicious emails to the company. In this case, you can add an email address, IP address or domain as a blocked sender. You can choose to enter a regular expression by turning **Regular expression** on.\n\n## Configure blocked senders\n\nTo configure blocked senders:\n\n1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/).\n\n2. Select **Email security**.\n\n3. Select **Settings**, go to **Detection settings** > **Blocked senders**.\n\n4. On the **Detection settings** page, select **Add a sender**.\n\n5. Select the **Input method**: Choose between **Manual input**, and **Upload blocked sender list**:\n\n   * **Manual input**:\n\n     * **Sender type**:\n\n       * **Email addresses**: Must be a valid email.\n       * **IP addresses**: Can only be IPv4. IPv6 and CIDR are invalid entries.\n       * **Domains**: Must be a valid domain.\n       * **Regular expressions**: Must be valid Java expressions. Regular expressions are matched with fields related to the sender email address (envelope from, header from, reply-to), the originating IP address, and the server name for the email. For example, you can enter `.*@domain\\.com` to exempt any email address that ends with `domain.com`.\n\n     * **Notes**: Provide additional information about the blocked sender policy.\n\n   * **Upload blocked sender list**: Upload a file no larger than 150 KB. The file cannot can only contain `Blocked_Sender`, `Pattern Type,` and `Notes` fields. The first row must be a header row. Refer to [CSV uploads](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/blocked-senders/#csv-uploads) for an example file.\n\n6. Select **Save**.\n\n### CSV uploads\n\nYou can upload a file no larger than 150 KB. The file cannot can only contain `Blocked_Sender`, `Pattern Type,` and `Notes` fields. The first row must be a header row.\n\nAn example file would look like this:",
      "language": "unknown"
    },
    {
      "code": "## Export blocked senders\n\nTo export all blocked senders:\n\n1. On the **Detection settings** page, select **Sender**. Selecting **Sender** will select all blocked senders.\n2. Select **Export to CSV**.\n\nTo export specific blocked senders:\n\n1. On the **Detection settings** page, select **Value(s)**. Select the blocked senders you want to export.\n2. Select **Export to CSV**.\n\n## Edit a blocked sender\n\nTo edit a blocked sender:\n\n1. On the **Detection settings** page, select the blocked sender you want to edit.\n2. Select the three dots > **Edit**.\n3. Edit the blocked sender.\n4. Select **Save**.\n\n## Delete a blocked sender\n\nTo delete a blocked sender:\n\n1. On the **Detection settings** page, select the blocked sender you want to delete.\n2. Select the three dots > **Delete**.\n3. On the pop up message, select **Delete**.\n\nTo delete multiple blocked senders at once:\n\n1. On the **Detection settings** page, under **Blocked senders**, select the senders you want to delete.\n2. Select **Action**\n3. Select **Delete**.\n\n</page>\n\n<page>\n---\ntitle: Configure link actions Â· Cloudflare One docs\ndescription: You can configure how Email security handles links in emails.\nlastUpdated: 2025-10-27T15:00:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/configure-link-actions/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/configure-link-actions/index.md\n---\n\nYou can configure how Email security handles links in emails.\n\nNote\n\nYou can only configure link actions if you deploy Email security via [MX/Inline](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment/).\n\nTo configure link actions:\n\n1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/).\n2. Select **Email security**.\n3. Select **Settings**, then go to **Detection settings** > **Link actions** > **View**.\n\nYou can configure **Link actions settings**, or **URL rewrite ignore patterns**.\n\n## Link actions settings\n\nTo configure link actions, select **Configure**.\n\nThe dashboard will display **Open links evaluated as suspicious in a remote browser (Recommended)**. This option is turned on by default. Email security will also allow you to select message dispositions to open all the links for dispositioned emails in a remote browser.\n\nSelect one or more disposition, then select **Save**.\n\nIf **Open links evaluated as suspicious in a remote browser (Recommended)** is turned off, you can select **URL defang** or **No action** on each disposition. Select **Save** once you have completed the configuration.\n\n## Add patterns for URLs\n\nYou can add patterns for URLs that should be rewritten.\n\n1. Under **URL rewrite ignore patterns**, select **Add a pattern**.\n2. Enter a valid IP, URL, or regular expression. You can enter up to 512 characters.\n3. Select **Save**.\n\nTo edit a pattern, go to the pattern you want to edit, select the three dots, then **Edit**. Once you have finished modifying the URL patter, select **Save**.\n\nTo delete a pattern, go to the pattern you want to delete, select the three dots, then **Delete**.\n\n</page>\n\n<page>\n---\ntitle: Configure text add-ons Â· Cloudflare One docs\ndescription: You can create custom labels to be used as the subject or body\n  prefix for emails with specific dispositions.\nlastUpdated: 2025-10-27T15:00:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/configure-text-add-ons/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/configure-text-add-ons/index.md\n---\n\nYou can create custom labels to be used as the subject or body prefix for emails with specific dispositions.\n\nNote\n\nYou can only configure text add-ons if you deploy Email security via [MX/Inline](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment/).\n\nWarning\n\nIf you currently do not have text add-ons enabled, configuring text add-ons will add a banner to the subject line. As a result, the subject line and the email body will be reduced.\n\n## Subject prefix\n\nTo configure a subject prefix:\n\n1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/).\n2. Select **Email security**.\n3. Select **Settings**, then go to **Detection settings** > **Text add-ons** > **View**.\n4. Select **Configure** > **Subject prefix**.\n5. Populate each disposition with a subject prefix, and turn on the **Status** to enable the subject prefix for a specific disposition.\n\n### Advanced settings\n\nIn **Advanced settings**, you can configure **Add \"labels\" variable**. This option allows you to add a dynamic value for a label that lists dispositions and allows for additional text.\n\nTo turn on **Add \"labels\" variable**:\n\n1. Go to **Advanced settings** > **Add \"labels\" variable**.\n\n2. Choose between:\n\n   * **Use default**.\n   * **Use custom \"labels\" variable**: Enter the custom label in the text box.\n\nOnce you have configured the subject prefix, select **Save**.\n\n## Body prefix\n\nA body prefix is a custom label added to the top of the email body for emails with specific dispositions.\n\nPopulate each disposition with a body prefix, and turn on the **Status** to enable the body prefix for a specific disposition.\n\n### Advanced settings\n\nIn Advanced settings, you can configure **Add \"labels\" or \"threat types\" variable**. This option allows you to add a dynamic value for labels that lists dispositions, or threats that lists the threat types behind an assigned disposition.\n\nTo turn on **Add \"labels\" or \"threat types\" variable**:\n\n1. Go to **Advanced settings**:\n\n2. Choose between:\n\n   * **Add \"labels\" variable**: This option allows you to add a dynamic value that for a label that lists dispositions and allows for additional text. Choose between:\n\n     * **Use default**.\n     * **Use custom \"labels\" variable**: Enter the custom label in the text box.\n\nOnce you have configured the body prefix, select **Save**.\n\n### Add threat types variable\n\nThis option allows you to include a dynamic value for '%THREATS' that lists the threat types behind an assigned disposition. It can include additional, HTML-formatted text.\n\nThe dashboard will display **Default** or **Custom** (to use \"labels\" or \"threat types\" variable), depending on how you configured the [advanced settings](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/configure-text-add-ons/#advanced-settings-1).\n\n</page>\n\n<page>\n---\ntitle: Impersonation registry Â· Cloudflare One docs\ndescription: The impersonation registry contains combinations of emails of users\n  who are likely to be impersonated. If there is an email that is on the\n  impersonation registry not listed as an alternative email address, that email\n  will be reported as potential business email compromise (BEC).\nlastUpdated: 2025-10-27T15:00:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/impersonation-registry/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/impersonation-registry/index.md\n---\n\nThe impersonation registry contains combinations of emails of users who are likely to be impersonated. If there is an email that is on the impersonation registry not listed as an alternative email address, that email will be reported as potential [business email compromise (BEC)](https://www.cloudflare.com/en-gb/learning/email-security/business-email-compromise-bec/).\n\nNote\n\nThe impersonation registry should contain a list of users who are likely to be impersonated. Email security applies enhanced security to variations of registered email addresses for additional [Business Email Compromise (BEC)](https://www.cloudflare.com/en-gb/learning/email-security/business-email-compromise-bec/) protection.\n\nFor easier tracking, the Email security team recommends syncing and structuring VIPs in groups, and avoid doing manual inputs of users.\n\nTo add a user to the impersonation registry:\n\n1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/).\n\n2. Select **Email security**.\n\n3. Select **Settings** > **Impersonation registry**.\n\n4. Select **Add a user**.\n\n5. Select **Input method**: Choose between **Manual input**, **Upload manual list**, and **Select from existing directories**:\n\n   * **Manual input**: Enter the following information:\n\n     * **User info**: enter a valid **Display name**.\n\n     * **User email**: Enter one of the following:\n\n       * **Email address**: Enter all known email addresses, separated by a comma.\n       * **Regular expressions**: Must be valid Java expressions.\n\n   * **Upload manual list**: You can upload a file no larger than 150 KB containing all variables of potential emails. The file must contain `Display_Name` and `Email`, and the first row must be the header row. Refer to [CSV uploads](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/impersonation-registry/#csv-uploads) for an example file.\n\n   * **Select from existing directories**:\n\n     * **Select directory**: Select your directory.\n     * **Add users or groups**: Choose the users or groups you want to register.\n\n6. Select **Save**.\n\n### CSV uploads\n\nYou can upload a file no larger than 150 KB containing all variables of potential emails. The file must contain `Display_Name` and `Email`, and the first row must be the header row.\n\nAn example file would look like this:",
      "language": "unknown"
    },
    {
      "code": "## Edit users\n\nNote\n\nAdministrators can edit the names and emails of users who belong to the Email security directory. Administrators from other integrated directories cannot edit the name and the primary emails of users.\n\nTo edit users from the Email security directory:\n\n1. Select the user you want to edit.\n2. Select the three dots > **Edit**.\n3. Enter the **Display name**, **Email** and **Secondary email**.\n4. Select **Save**.\n\nTo edit users from other integrations:\n\n1. Select the user you want to edit.\n2. Select the three dots > **Edit**.\n3. Enter the **Secondary email**.\n4. Select **Save**.\n\n## Remove users\n\nNote\n\nAdiministrators can remove users who belong to the Email security directory from the **Impersonation registry**. Users who come from an integrated directory cannot be removed from the **Impersonation registry** directly.\n\nTo remove a user from an integrated directory:\n\n1. Select **Directories** on the sidebar.\n2. Select the directory where your user is allocated.\n3. Select the **Users** tab.\n4. Search for the user you want to remove.\n5. Select the three dots > **Remove from registry**.\n\nTo remove a user from the impersonation registry:\n\n1. Select the user you want to remove.\n2. Select the three dots > **Remove from registry**.\n3. Read the pop-up message, then select **Remove user**.\n\nTo remove multiple users at once from the impersonation registry:\n\n1. Select all the users you want to remove.\n2. Select **Action** > **Remove from registry**.\n3. Read the pop-up message, then select **Remove users**.\n\n</page>\n\n<page>\n---\ntitle: Trusted domains Â· Cloudflare One docs\ndescription: Email security allows you to exempt known partner and internal\n  domains from typical detection scanning. Adding trusted domains helps to\n  reduce false positives on malicious, suspicious, and spoof dispositions. Email\n  security only checks the date when the domain is created.\nlastUpdated: 2025-10-27T15:00:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/trusted-domains/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/trusted-domains/index.md\n---\n\nEmail security allows you to exempt known partner and internal domains from typical detection scanning. Adding trusted domains helps to reduce false positives on malicious, suspicious, and spoof [dispositions](https://developers.cloudflare.com/cloudflare-one/email-security/reference/dispositions-and-attributes/). Email security only checks the date when the domain is created.\n\n## How trusted domains work\n\nTrusted domains are not for the email message itself, but for entire domains.\n\nBy default, Email security automatically detects lookalike domains. Lookalike domains can be something like this: `thisisdomain.com` and `thisisadomain.com`. Both domains almost look identical.\n\nIf an email is received from a domain that looks like a configured domain, this will trigger a detection. Trusted domain is configured to ignore this detection.\n\nIn [Additional detections](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/additional-detections/), you can configure malicious domain and suspicious [domain age](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/additional-detections/#configure-domain-age).\n\nMalicious domain age means that someone may create a domain today, similar to a target, and start sending emails with that domain. This is usually how many phish campaigns start. In this case, the domain is usually marked as Malicious. Malicious domain age is usually set to 7 days.\n\nSuspicious domain age means that after 7 days (this number corresponds to the Malicious domain age), a domain may not be malicious, but it can still be suspicious. Email security will mark these domains as Suspicious. It is recommended to configure the **Suspicious domain age** between 30 and 45 days.\n\nTo view whether a domain is malicious or suspicious:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Investigation**.\n\n2. Run a screen. For example, select **Run screen** for **Malicious emails**, then select **Run screen**.\n\n3. Under **Your matching messages**, if any message displays **Domain Age** under **Threat types**, that means that the domain age is too low, and therefore the disposition assigned is Malicious. If the domain is legitimate, you can add it as a trusted domain:\n\n   * Go to **Settings** > **Trusted Domains**.\n   * Under **Domain Info**, add the domain, and select **New Domain**. This will mark the domain whose age is low as a trusted domain.\n\n## Configure trusted domains\n\nTo configure a trusted domain:\n\n1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/).\n\n2. Select **Email security**.\n\n3. Select **Settings**, go to **Detection settings** > **Trusted domains**.\n\n4. On the **Detection settings** page, select **Add a domain**.\n\n5. Select the **Input method**: Choose between **Manual input**, and **Upload trusted domain list**:\n\n   * **Manual input**:\n\n     * **Domain info**: Enter a valid domain name.\n\n     * **Domain type**: Select one or both options:\n\n       * **Proximity domain**: Domains with similar spelling to your existing domain.\n       * **Recent domain**: Domains created recently.\n\n     - **Notes**: Provide additional information about the trusted domain list.\n\n   * **Upload trusted domain list**: You can upload a file no larger than 150 KB of multiple trusted domains. The file can only contain `Domain`, `Proximity`, `New` and `Notes` fields. The first row must be a header row. Refer to [CSV uploads](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/trusted-domains/#csv-uploads) for an example file.\n\n6. Select **Save**.\n\n### CSV uploads\n\nYou can upload a file no larger than 150 KB of multiple trusted domains. The file can only contain `Domain`, `Proximity`, `New` and `Notes` fields. The first row must be a header row.\n\nAn example file would look like this:",
      "language": "unknown"
    },
    {
      "code": "## Export trusted domains\n\nTo export all trusted domains:\n\n1. On the **Detection settings** page, select **Domain**. Selecting **Domain** will select all trusted domains.\n2. Select **Export to CSV**.\n\nTo export specific trusted domains:\n\n1. On the **Detection settings** page, select the trusted domains you want to export.\n2. Select **Export to CSV**.\n\n## Edit trusted domains\n\nTo edit a trusted domain:\n\n1. On the **Detection settings** page, select the trusted domains you want to edit.\n2. Select the three dots > Edit.\n3. Edit the trusted domain.\n4. Select **Save**.\n\n## Delete trusted domains\n\nTo delete trusted domains:\n\n1. On the **Detection settings** page, select the trusted domain you want to delete.\n2. Select the three dots > **Delete**.\n3. On the pop up message, select **Delete**.\n\nTo delete multiple trusted domains at once:\n\n1. On the **Detection settings** page, select the trusted domains you want to delete.\n2. Select **Action**.\n3. Select **Delete**.\n\n</page>\n\n<page>\n---\ntitle: PhishNet Microsoft 365 Â· Cloudflare One docs\ndescription: PhishNet is an add-in button that helps users to submit directly to\n  Email security phish samples missed by Email security's detection.\nlastUpdated: 2025-11-29T01:37:38.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/settings/phish-submissions/phishnet-365/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/settings/phish-submissions/phishnet-365/index.md\n---\n\nPhishNet is an add-in button that helps users to submit directly to Email security phish samples missed by Email security's detection.\n\nTo set up PhishNet Microsoft 365:\n\n1. Get the customized manifest URL from [Cloudflare One](https://one.dash.cloudflare.com/?to=/:account/email-security/settings/email-policy/phish-submission?tab=phish-submission).\n2. Log in to the [Microsoft admin panel](https://admin.microsoft.com/).\n3. Go to **Microsoft 365 admin center** > **Settings** > **Integrated Apps**.\n4. Select **Upload custom apps**.\n5. Choose **Provide link to manifest file** and paste the URL you copied from the Cloudflare One dashboard.\n6. Verify and complete the wizard.\n\n</page>\n\n<page>\n---\ntitle: PhishNet for Google Workspace Â· Cloudflare One docs\ndescription: To set up PhishNet with Google Workspace you need admin access to\n  your Google Workspace account.\nlastUpdated: 2025-11-29T01:37:38.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/settings/phish-submissions/phishnet-google-workspace/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/settings/phish-submissions/phishnet-google-workspace/index.md\n---\n\nTo set up PhishNet with Google Workspace you need admin access to your Google Workspace account.\n\n## Set up PhishNet for Google Workspace\n\n1. Log in to [Google Workspace Marketplace apps](https://workspace.google.com/marketplace/app/cloudflare_phishnet/11369379045) using this direct link and an administrator account.\n2. Select **Admin install** to install Cloudflare PhishNet. Read the warning, and select **Continue**.\n3. You will be redirected to the **Allow data access** page, where you can choose to install Cloudflare PhishNet for **Everyone at your organization**, or **Certain groups or organizational units**. If you choose the latter option, you will have to select the users in the next step.\n4. After choosing the groups you want to install PhishNet for, agree with Google's terms of service, and select **Finish**.\n5. Cloudflare PhishNet has been installed. Select **DONE**.\n\nYou have now successfully installed Cloudflare PhishNet.\n\n## Submit phish with PhishNet\n\n1. In your Gmail web client, open the message you would like to flag as either spam or phish.\n2. Select the PhishNet logo on the side panel.\n3. Under **Select Submission Type**, select **Spam** or **Phish**.\n4. Select **Submit Report**.\n\n</page>\n\n<page>\n---\ntitle: Submission addresses Â· Cloudflare One docs\ndescription: \"To view the destination addresses of user and team submissions:\"\nlastUpdated: 2025-11-29T01:37:38.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/settings/phish-submissions/submission-addresses/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/settings/phish-submissions/submission-addresses/index.md\n---\n\nTo view the destination addresses of user and team submissions:\n\n1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/).\n2. Select **Email security**.\n3. Select **Settings**.\n4. Go to **Phish submission** > **Submission addresses** > **View**.\n\nThe dashboard will display **User submission addresses** and **Team submission addresses**.\n\n</page>\n\n<page>\n---\ntitle: API deployment Â· Cloudflare One docs\ndescription: When you choose an API deployment, email messages only reach Email\n  security after they have already reached a user's inbox.\nlastUpdated: 2025-12-08T21:48:49.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/setup/post-delivery-deployment/api/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/setup/post-delivery-deployment/api/index.md\n---\n\nWhen you choose an API deployment, email messages only reach Email security after they have already reached a user's inbox.\n\nThen, through an integration with your email provider, Email security can [auto-move messages](https://developers.cloudflare.com/cloudflare-one/email-security/settings/auto-moves/) based on your organization's policies.\n\n![With API deployment, messages travel through Email security's email filter after reaching your users.](https://developers.cloudflare.com/_astro/M365_API_Deployment_Graph.Czbz8tQF_1VpMzD.webp)\n\n## Benefits\n\nWhen you choose API deployment, you get the following benefits:\n\n* Easy protection for complex email architectures, without requiring any change to mailflow operations.\n* Agentless deployment for Microsoft 365.\n\n## Limitations\n\nHowever, API deployment also has the following disadvantages:\n\n* Email security is dependent on Microsoft's Graph API, and outages will increase the message dwell time in the inbox.\n* Your email provider may throttle API requests from Email security.\n* Email security requires read and write access to mailboxes.\n* Requires API support from your email provider (does not typically support on-premise providers).\n* Detection rates may be lower if multiple solutions exist.\n* Messages cannot be modified or quarantined.\n\n</page>\n\n<page>\n---\ntitle: BCC/Journaling Â· Cloudflare One docs\ndescription: BCC/Journaling deployment is a post-delivery type of deployment.\n  Every time you receive an email, your email provider will send a blind copy to\n  Cloudflare for an analysis.\nlastUpdated: 2024-10-09T17:05:34.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/setup/post-delivery-deployment/bcc-journaling/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/setup/post-delivery-deployment/bcc-journaling/index.md\n---\n\nBCC/Journaling deployment is a post-delivery type of deployment. Every time you receive an email, your email provider will send a blind copy to Cloudflare for an analysis.\n\n![Journaling deployment M365](https://developers.cloudflare.com/_astro/CF_Email_Security_DeploymentAPI_Diagram.CKoRjTz__Z24AaYb.webp)\n\n</page>\n\n<page>\n---\ntitle: Egress IPs Â· Cloudflare One docs\ndescription: When you set up Email security using an MX/Inline deployment, your\n  existing email provider will accept messages coming from Email security's\n  egress IP addresses.\nlastUpdated: 2025-10-27T15:00:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/egress-ips/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/egress-ips/index.md\n---\n\nWhen you set up Email security using an [MX/Inline deployment](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment/), your existing email provider will accept messages coming from Email security's egress IP addresses.\n\nSetting up egress IPs allows Cloudflare to deliver emails to your inbox.\n\nRefer to this page for reference on what IP subnet mask ranges to use.\n\nAdditional information for Microsoft 365\n\nMicrosoft 365 does not support IPv6 addresses nor the following IPv4 subnet mask ranges:\n\n* `104.30.32.0/19`\n* `134.195.26.0/23`\n\nIf you use Microsoft 365, you will have to use the broken down `/24` subnet mask IP addresses. Refer to [Microsoft 365 `/24` addresses](#microsoft-365-24-addresses) for a list of supported IPv4 addresses.\n\n### IPv4",
      "language": "unknown"
    },
    {
      "code": "### IPv6",
      "language": "unknown"
    },
    {
      "code": "## Microsoft 365 `/24` addresses\n\nUse these IPv4 addresses for Microsoft 365, instead of the `/19` and `/23` subnets:",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: MX/Inline deployment Â· Cloudflare One docs\ndescription: With pre-delivery deployment, also known as Inline deployment,\n  Email security evaluates email messages before they reach a user's inbox.\nlastUpdated: 2025-12-08T21:48:49.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment/index.md\n---\n\nWith pre-delivery deployment, also known as Inline deployment, Email security evaluates email messages before they reach a user's inbox.\n\n![Inline deployment diagram](https://developers.cloudflare.com/_astro/Email_security_Deployment_Inline.Dsh4g8YD_9NhBC.webp)\n\nBefore you change your MX records, you will have to set up the [Time to Live (TTL)](https://developers.cloudflare.com/dns/manage-dns-records/reference/ttl/) on your DNS records. If you do not set up the TTL, the DNS propagation will take longer to happen.\n\nCloudflare recommends to decrease the TTL to five minutes (also known as [Auto](https://developers.cloudflare.com/dns/manage-dns-records/reference/ttl/#proxied-records)) 3 to 5 days prior to the planned MX record change. Reducing the TTL allows the DNS record to propagate ahead of time, so changes take effect rapidly. Once you have completed your onboarding process, you can choose to increase the TTL.\n\nWhen you have configured your TTL, you can deploy Email security via MX/Inline. An MX record is a [DNS record](https://developers.cloudflare.com/dns/manage-dns-records/).\n\nIf your DNS records are hosted by Cloudflare (or any other provider, except for Google), you can [edit your DNS records](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-dns-records/#edit-dns-records) via the dashboard or the API to point your MX records to Cloudflare.\n\nBy changing your MX records, Email security will be positioned between your incoming emails and Microsoft 0365 or Gmail.\n\nEmail security becomes a hop in the [SMTP](https://www.cloudflare.com/en-gb/learning/email-security/what-is-smtp/) processing chain and physically interacts with incoming email messages. Based on your policies, various messages are blocked before reaching the inbox.\n\nWhen you choose an inline deployment, you get the following benefits:\n\n* Messages are processed and physically blocked before arriving in a user's mailbox.\n* Your deployment is simpler, because any complex processing can happen downstream and without modification.\n* Email security can modify delivered messages, adding subject or body mark-ups.\n* Email security can offer high availability and adaptive message pooling.\n* You can set up advanced handling downstream for non-quarantined messages with added X-headers.\n\n</page>\n\n<page>\n---\ntitle: Set up MX/Inline deployment Â· Cloudflare One docs\ndescription: \"To use Email security, you will need to have:\"\nlastUpdated: 2025-10-27T15:00:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment-setup/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment-setup/index.md\n---\n\n## Prerequisites\n\nTo use Email security, you will need to have:\n\n* A [Cloudflare account](https://dash.cloudflare.com/sign-up)\n* A [Zero Trust organization](https://developers.cloudflare.com/cloudflare-one/setup/#create-a-zero-trust-organization)\n* A domain to protect\n\n## Initiate MX/Inline configuration\n\n1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/).\n2. Select **Email security**.\n3. Select **Overview**. Select one of the following options:\n\n* If you have not purchased Email security, select **Contact sales**.\n* If you have not associated any integration, [associate an integration](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment-setup/#associate-an-integration), then select **Set up**.\n* If you have associated an integration, but have not connected a domain, select [**Connect a domain**](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment-setup/#connect-a-domain).\n\n1. Select **MX/Inline**.\n2. To start the MX/Inline configuration, you will need to have completed the prerequisite setup on your email provider's platform. Once you have completed this step, select **I confirm that I have completed all the necessary requirements**. Then, select **Start configuration**.\n\nNote\n\nYou can only onboard one domain at a time.\n\n## Associate an integration\n\nMX/Inline does not require an integration for protection to be effective. However, it is a best practice to connect an integration.\n\nTo associate an integration:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Integrations** > **Cloud & SaaS Integrations** > **Integrations**\n\n2. Select **Connect an integration**.\n\n3. Select an application: Choose between **Google Workspace CASB + EMAIL**, or **Microsoft CASB + EMAIL**.\n\n   * Refer to [Enable Gmail BCC integration](https://developers.cloudflare.com/cloudflare-one/email-security/setup/post-delivery-deployment/bcc-journaling/bcc-setup/gmail-bcc-setup/enable-gmail-integration/#1-create-a-service-account-in-your-gcp-project) if you select **Google Workspace CASB + EMAIL**.\n   * Refer to [Enable Microsoft integration](https://developers.cloudflare.com/cloudflare-one/email-security/setup/post-delivery-deployment/api/m365-api/#enable-microsoft-integration) if you select **Microsoft CASB + EMAIL**.\n\n4. After you have associated an integration, go to **Email security** > **Set up**.\n\n5. Follow the instructions to [connect a domain](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment-setup/#connect-a-domain).\n\n## Connect a domain\n\nIf you have verified zones on Cloudflare, continue with the following steps:\n\n1. **Connect a domain**: Select your domain. Then, select **Continue**.\n\n2. **Select position**: This step allows you to choose where Email security fits into your mail flow and configure position settings:\n\n   * **Select position**: Choose between:\n\n     * **Sit first (hop count = 1)**: Email security is the first server that receives the email. There are no other email scanners or services between the Internet and Cloudflare.\n     * **Sit in the middle (hop count > 1)**: Email security sits anywhere other than the first position. Other servers receive emails *before* Email security. There are other email scanners or email services in between.\n\n   * **Position settings**: Refine how Email security receives and forwards emails:\n\n     * **Forwarding address**: This is your mail flow next hop after Email security. This value is auto-filled, but you can still change it.\n\n     * **Outbound TLS**: Choose between:\n\n       1. **Forward all messages over TLS** (recommended).\n       2. **Forward all messages using opportunistic TLS**.\n\n   * Select **Continue**.\n\n3. (**Optional**, select **Skip for now** to skip this step) **Configure quarantine policy**: Select dispositions to automatically prevent certain types of incoming messages from reaching a recipient's inbox.\n\n4. (Optional) **Update MX records**:\n\n   * Email security can automatically update MX records for domains that proxy traffic through Cloudflare. Under **Your mail processing location**, select your mail processing location.\n   * You can also choose to allow Cloudflare to update MX records by selecting **I confirm that I allow Cloudflare to update to the new MX records**. When Email security updates MX records, we replace your original MX records with Email security MX records.\n   * Select **Continue**.\n\n5. **Review details**: Review your domain, then select **Go to domains**.\n\n## Users who do not have domains with Cloudflare\n\nIf you do not have domains with Cloudflare, the dashboard will display two options:\n\n* [Enter domain manually](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment-setup/#enter-domain-manually).\n* [Add a domain to Cloudflare](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment-setup/#add-a-domain-to-cloudflare).\n\n## Enter domain manually\n\n1. **Add domains**: Manually enter domain names.\n2. **Review all domains**: Review all your domains, then select **Continue**.\n3. **Verify your domains**: It may take up to 24 hours for your domains to be verified. Select **Done**.\n4. Once your domains have been verified, the dashboard will display a message like this: **You have verified domains ready to connect to Email security**. This means that you can now set up Email security via MX/Inline.\n5. Select **Set up**, then select **MX/Inline**.\n6. Follow the steps to [initiate MX/Inline configuration](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment-setup/#initiate-mxinline-configuration).\n\n### Add a domain to Cloudflare\n\nSelecting **Add a domain to Cloudflare** will redirect you to a new page where you will connect your domain to Cloudflare. Once you have entered an existing domain, select **Continue**.\n\nThen, follow the steps to [Set up MX/Inline](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/mx-inline-deployment-setup/).\n\n## Verify successful deployment\n\nTo verify that the deployment has been successful and that your emails are being scanned:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), select **Email security**.\n2. Go to **Settings** > **Domain management** > **Domains**, then select **View**.\n3. Under **Your domains**, locate your domain, and verify that **Status** (which describes the state of the configuration) displays **Active**.\n\n</page>\n\n<page>\n---\ntitle: Partner domain TLS Â· Cloudflare One docs\ndescription: To add additional TLS (Transport Layer Security) requirements for\n  emails coming from certain domains, you can enforce higher levels of SSL/TLS\n  inspection. If TLS is required, mail without TLS from the specified domain\n  will be dropped.\nlastUpdated: 2025-10-27T11:42:41.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/partner-domain-tls/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/partner-domain-tls/index.md\n---\n\nTo add additional TLS (Transport Layer Security) requirements for emails coming from certain domains, you can enforce higher levels of SSL/TLS inspection. If TLS is required, mail without TLS from the specified domain will be dropped.\n\nNote\n\nTo enforce TLS across all emails, you will need to enforce TLS requirements when you are onboarding your domain. To only enforce TLS for specific emails, you can do so by going to **Settings** > **Partner domain TLS** > **Add a domain**.\n\nTo set up a partner domain:\n\n1. Log in to [Cloudflare One](https://one.dash.cloudflare.com/) and select **Email security**.\n2. Select **Settings** > **Partner domain TLS** > **View**.\n3. Select **Add a domain**.\n4. Enter a valid domain name. You can also exclude subdomains by selecting **Add exclude**.\n5. (Optional) Add an optional note to describe your rule(s).\n6. Select **Save**.\n\nTo edit a partner domain, select the three dots > **Edit**.\n\nTo delete a partner domain, select the three dots > **Delete**.\n\n</page>\n\n<page>\n---\ntitle: Prerequisites Â· Cloudflare One docs\nlastUpdated: 2025-04-10T10:40:28.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/prerequisites/\n  md: https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/prerequisites/index.md\n---\n\n* [Microsoft 365 as MX Record](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/prerequisites/m365-email-security-mx/)\n* [Google Workspace as MX Record](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/prerequisites/gsuite-email-security-mx/)\n* [Cisco - Email security as MX Record](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/prerequisites/cisco-email-security-mx/)\n* [Cisco - Cisco as MX Record](https://developers.cloudflare.com/cloudflare-one/email-security/setup/pre-delivery-deployment/prerequisites/cisco-mx/)\n\n</page>\n\n<page>\n---\ntitle: HTTP test Â· Cloudflare One docs\ndescription: An HTTP test sends a GET request from an end-user device to a\n  specific web application. You can use the response metrics to troubleshoot\n  connectivity issues. For example, you can check whether the application is\n  inaccessible for all users in your organization, or only certain ones.\nlastUpdated: 2025-11-20T23:13:05.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/http/\n  md: https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/http/index.md\n---\n\nFeature availability\n\n| [WARP modes](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/configure-warp/warp-modes/) | [Zero Trust plans](https://www.cloudflare.com/teams-pricing/) |\n| - | - |\n| * Gateway with WARP\n* Secure Web Gateway without DNS Filtering | All plans |\n\n| System | Availability | Minimum WARP version |\n| - | - | - |\n| Windows | âœ… | 2023.3.381 |\n| macOS | âœ… | 2023.3.381 |\n| Linux | âœ… | 2023.3.398 |\n| iOS | âŒ | |\n| Android | âœ… | 1.0 |\n| ChromeOS | âœ… | 1.0 |\n\nAn HTTP test sends a `GET` request from an end-user device to a specific web application. You can use the response metrics to troubleshoot connectivity issues. For example, you can check whether the application is inaccessible for all users in your organization, or only certain ones.\n\n## Create a test\n\nTo set up an HTTP test for an application:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Insights** > **Digital experience**.\n\n2. Select the **Tests** tab.\n\n3. Select **Add a Test**.\n\n4. Fill in the following fields:\n\n   * **Name**: Enter any name for the test.\n   * **Target**: Enter the URL of the website or application that you want to test (for example, `https://jira.site.com`). Both public and private hostnames are supported. If testing a private hostname, ensure that the domain is on your [local domain fallback](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/configure-warp/route-traffic/local-domains/) list.\n   * **Source device profiles**: (Optional) Select the [WARP device profiles](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/configure-warp/device-profiles/) that you want to run the test on. If no profiles are selected, the test will run on all supported devices connected to your Zero Trust organization.\n   * **Test type**: Select *HTTP Get*.\n   * **Test frequency**: Specify how often the test will run. Input a minute value between 5 and 60.\n\n5. Select **Add test**.\n\nNext, [view the results](https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/view-results/) of your test.\n\n## Test results\n\nAn HTTP test measures the following data:\n\n| Data | Description |\n| - | - |\n| Resource fetch time | Total time of all steps of the request, measured from [`startTime` to `responseEnd`](https://developer.mozilla.org/en-US/docs/Web/API/Performance_API/Resource_timing). |\n| Server response time | Round-trip time for the device to receive a response from the target. |\n| DNS response time | Round-trip time for the DNS query to resolve. |\n| HTTP status codes | [Status code](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status) returned by the target. |\n\n## Export DEX application test logs\n\nThe log data for all [DEX application tests](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/dex_application_tests/) (including HTTP tests) can be exported to [R2](https://developers.cloudflare.com/r2/), a cloud bucket, or a SIEM via [Logpush](https://developers.cloudflare.com/cloudflare-one/insights/logs/logpush/).\n\n## Related resources\n\n* [DEX rules](https://developers.cloudflare.com/cloudflare-one/insights/dex/rules/) - Specify the target group of a test.\n\n</page>\n\n<page>\n---\ntitle: Traceroute test Â· Cloudflare One docs\ndescription: A traceroute test measures the network path of an IP packet from an\n  end-user device to a server. You can use the test results to troubleshoot\n  network issues. For example, increased latency may indicate a problem with\n  connectivity along the network path.\nlastUpdated: 2025-11-20T23:13:05.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/traceroute/\n  md: https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/traceroute/index.md\n---\n\nFeature availability\n\n| [WARP modes](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/configure-warp/warp-modes/) | [Zero Trust plans](https://www.cloudflare.com/teams-pricing/) |\n| - | - |\n| * Gateway with WARP\n* Secure Web Gateway without DNS Filtering | All plans |\n\n| System | Availability | Minimum WARP version |\n| - | - | - |\n| Windows | âœ… | 2023.5.587 |\n| macOS | âœ… | 2023.5.589 |\n| Linux | âŒ | |\n| iOS | âŒ | |\n| Android | âœ… | 1.0 |\n| ChromeOS | âœ… | 1.0 |\n\nA traceroute test measures the network path of an IP packet from an end-user device to a server. You can use the test results to troubleshoot network issues. For example, increased latency may indicate a problem with connectivity along the network path.\n\n## Create a test\n\nTo set up a traceroute test for an application:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Insights** > **Digital experience**.\n\n2. Select the **Tests** tab.\n\n3. Select **Add a Test**.\n\n4. Fill in the following fields:\n\n   * **Name**: Enter any name for the test.\n   * **Target**: Enter the IP address of the server you want to test (for example, `192.0.2.0`). You can test either a public-facing endpoint or a private endpoint you have connected to Cloudflare.\n   * **Source device profiles**: (Optional) Select the [WARP device profiles](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/configure-warp/device-profiles/) that you want to run the test on. If no profiles are selected, the test will run on all supported devices connected to your Zero Trust organization.\n   * **Test type**: Select *Traceroute*.\n   * **Test frequency**: Specify how often the test will run. Input a minute value between 5 and 60.\n\n5. Select **Add test**.\n\nNext, [view the results](https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/view-results/) of your test.\n\n## Test results\n\nA traceroute test measures the following data:\n\n| Data | Description |\n| - | - |\n| Network path | IP address, average response time, and packet loss for each hop between the device and the target. |\n| Round trip time | Time between sending out a packet and receiving a response from the target. |\n| Number of hops | Number of routers encountered between the device and the target. |\n| Packet loss | Percentage of IP packets that failed to receive a response. |\n| Availability | Percentage of tests where at least one packet reached the destination. |\n| Last seen ISP | The Internet Service Provider that is managing the connection from the device to Cloudflare. (Only available on macOS and Windows.) DEX looks up the IP address of the ISP in a geolocation database and returns the corresponding [ASO and ASN](https://www.cloudflare.com/learning/network-layer/what-is-an-autonomous-system/). If the ASO and ASN are `Unknown`, it means this information is unavailable in the geolocation data provider. |\n\n## Export DEX application test logs\n\nThe log data for all [DEX application tests](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/dex_application_tests/) (including HTTP tests) can be exported to [R2](https://developers.cloudflare.com/r2/), a cloud bucket, or a SIEM via [Logpush](https://developers.cloudflare.com/cloudflare-one/insights/logs/logpush/).\n\n## Related resources\n\n* [DEX rules](https://developers.cloudflare.com/cloudflare-one/insights/dex/rules/) - Specify the target group of a test.\n\n</page>\n\n<page>\n---\ntitle: View test results Â· Cloudflare One docs\ndescription: Use the results of a DEX test to monitor availability and\n  performance for a specific application. DEX will store test results according\n  to our log retention policy.\nlastUpdated: 2025-12-05T19:54:22.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/view-results/\n  md: https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/view-results/index.md\n---\n\nUse the results of a DEX test to monitor availability and performance for a specific application. DEX will store test results according to our [log retention policy](https://developers.cloudflare.com/cloudflare-one/insights/logs/#log-retention).\n\n## Prerequisites\n\n* At least one [test](https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/) has been created under **DEX** > **Tests**.\n* Admins must have at least the [Cloudflare Zero Trust Reporting role](https://developers.cloudflare.com/cloudflare-one/roles-permissions/#zero-trust-roles).\n\n## View results for all devices\n\nTo view an overview of test results for all devices:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Insights** > **Digital experience**.\n2. Select the **Tests** tab.\n3. Select a test to view detailed results.\n\n## View results for an individual device\n\nTo view analytics on a per-device level:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Team & Resources** > **Devices** > **Your devices**.\n2. Select the device you want to view, and then select **View details**.\n3. Select the **Tests** tab.\n4. Select a test to view detailed results.\n\n## Export DEX application test logs\n\nThe log data for all [DEX application tests](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/dex_application_tests/) (including HTTP tests) can be exported to [R2](https://developers.cloudflare.com/r2/), a cloud bucket, or a SIEM via [Logpush](https://developers.cloudflare.com/cloudflare-one/insights/logs/logpush/).\n\n## Related resources\n\n* [DEX HTTP test](https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/http/) - Assess the accessibility of a web application.\n* [DEX Traceroute test](https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/traceroute/) - Measure the network path of an IP packet from an end-user device to a server.\n* [DEX rules](https://developers.cloudflare.com/cloudflare-one/insights/dex/rules/) - Specify the target group of a test.\n\n</page>\n\n<page>\n---\ntitle: Manage PII Â· Cloudflare One docs\ndescription: Cloudflare Gateway gives you multiple ways to safely handle your\n  employees' personally identifiable information (PII). By default, PII is\n  redacted from Gateway Activity logs for all permission roles except the Super\n  Administrator and users with the Cloudflare Zero Trust PII role assigned to\n  them. Only the Super Administrator can assign roles and determine who has\n  permission to view PII. Redacting PII does not affect the way PII is captured\n  in logs as the data is simply hidden and no information is lost.\nlastUpdated: 2025-11-24T21:33:28.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/insights/logs/gateway-logs/manage-pii/\n  md: https://developers.cloudflare.com/cloudflare-one/insights/logs/gateway-logs/manage-pii/index.md\n---\n\nCloudflare Gateway gives you multiple ways to safely handle your employees' personally identifiable information (PII). By default, PII is redacted from Gateway Activity logs for all permission roles except the Super Administrator and users with the [Cloudflare Zero Trust PII role](https://developers.cloudflare.com/cloudflare-one/roles-permissions/#cloudflare-zero-trust-pii) assigned to them. Only the Super Administrator can assign roles and determine who has permission to view PII. Redacting PII does not affect the way PII is captured in logs as the data is simply hidden and no information is lost.\n\nTo add or remove the Cloudflare Zero Trust PII role for a user in your organization, refer to [Roles](https://developers.cloudflare.com/fundamentals/manage-members/roles/). Alternatively, you can choose to [exclude PII](#exclude-pii) from Gateway activity logs for all users.\n\n## Types of PII\n\nCloudflare Gateway can log the following types of PII:\n\n* Source IP\n* User email\n* User ID\n* Device ID\n* URL\n* Referer\n* User agent\n\n## Exclude PII\n\nTurning on the setting to exclude PII means Cloudflare Gateway will log activity without storing any employee PII. Changes to this setting will not change PII storage of any previous logs. This means if the setting is turned on and then turned off, there will be no PII data for logs captured while this setting was turned on. The PII data will be unavailable to all roles within your Zero Trust organization, including the Super Administrator.\n\nTo turn on the setting to exclude PII:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Traffic policies** > **Traffic settings**.\n2. In **Traffic logging**, turn on **Exclude personally identifiable information (PII) from logs**.\n\n</page>\n\n<page>\n---\ntitle: Buckets Â· Cloudflare One docs\ndescription: Before you can begin a full packet capture, you must first\n  configure a bucket that Cloudflare can use to upload your files. Setting up a\n  bucket is not required for sample packet captures.\nlastUpdated: 2025-10-30T17:13:08.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/insights/network-visibility/diagnostics/buckets/\n  md: https://developers.cloudflare.com/cloudflare-one/insights/network-visibility/diagnostics/buckets/index.md\n---\n\nBefore you can begin a full packet capture, you must first configure a bucket that Cloudflare can use to upload your files. Setting up a bucket is not required for sample packet captures.\n\nYou can configure an Amazon S3 or Google Cloud Platform bucket to use as a target. You can also [use R2](#r2) as a target using the API.\n\n## Set up a bucket\n\nLearn how to set up a bucket for use with full packet captures.\n\n* Dashboard\n\n  1. In the [Cloudflare One](https://one.dash.cloudflare.com) dashboard, go to **Network visibility** > **Diagnostics**.\n  2. Select the **Buckets** tab > **Add a bucket**.\n  3. Select a bucket service and select **Next**.\n  4. Enter the information related to your bucket for your service provider.\n  5. When you are done, select **Next**.\n\n  The **Prove ownership** step of the **Bucket configuration** displays.\n\n* API\n\n  Before you can begin using a bucket, you must first enable destinations.\n\n  Refer to the [Amazon S3](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/aws-s3/#create-and-get-access-to-an-s3-bucket) or [Google Cloud Storage](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/google-cloud-storage/#create-and-get-access-to-a-gcs-bucket) documentation and follow the steps for those specific services.\n\nNext, validate the bucket and confirm ownership.\n\n## Validate a bucket\n\nAfter the initial bucket set up, you need to confirm you own the bucket via an ownership challenge. After you validate your bucket, you can begin using it to collect full packet captures.\n\n* Dashboard\n\n  1. From the **Prove ownership** step of the **Bucket configuration**, locate the **Ownership token** field.\n  2. In the **Ownership token** field, enter the ownership token for your service provider.\n  3. When you are done, select **Create**. The **Packet captures** page displays.\n\n  The **Buckets** tab displays a list of the buckets associated with your account. Refer to the **Status** column to see the status of your bucket configuration.\n\n* API\n\n  The `bucket` field should be the URI of the bucket. For Amazon S3, the `bucket` field is in the form `s3://<bucket-name>/<directory>?region=<bucket-region>`, and for Google Cloud Storage the form is `gs://<bucket-name>/<directory>`.",
      "language": "unknown"
    },
    {
      "code": "The response has a `\"filename\"` parameter which contains the content of the `ownership-challenge` text. Find the file in your bucket and copy the contents of the file.",
      "language": "unknown"
    },
    {
      "code": "Validate the bucket by inserting the copied text in the `ownership_text` below:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "If the `status` shows `success`, the bucket is configured and ready to use.\n\nThe bucket status displays one of the following options:\n\n* **Success:** The bucket is fully verified and ready to use.\n* **Pending:** The challenge response was initiated but is pending verification. Bucket verification can take five to ten minutes to finish processing.\n* **Failed:** The bucket could not be validated. If this occurs, verify your ownership information.\n\n## List configured buckets\n\nView a list of all buckets configured on your account.\n\n* Dashboard\n\n  1. In the Cloudflare One dashboard, go to the **Packet captures** page in Magic Transit or Magic WAN.\n\n     To set up a packet capture in Magic Transit: [Go to **Packet captures**](https://dash.cloudflare.com/?to=/:account/magic-transit/packet-captures/captures)\n\n     To set up a packet capture in Magic WAN: [Go to **Packet captures**](https://dash.cloudflare.com/?to=/:account/magic-wan/packet-captures/captures)\n\n  2. In **Packet captures**, select **Start a capture**.\n\n  3. Select the **Buckets** tab.\n\n  The list of buckets associated with your account displays.\n\n* API",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "To learn how to collect packet captures, refer to [Collect packet captures](https://developers.cloudflare.com/magic-firewall/packet-captures/collect-pcaps/).\n\n## R2\n\nTo start collecting packet captures with R2, you first need to configure it properly. For all the required details, refer to the [Cloudflare R2](https://developers.cloudflare.com/r2/) documentation.\n\n### Create bucket and API token\n\n1. In the Cloudflare One dashboard, go to the **R2** page.\n\n   [Go to **Overview**](https://dash.cloudflare.com/?to=/:account/r2/overview)\n\n2. Select **Create bucket**.\n\n3. Give your bucket a name > **Create bucket**.\n\n4. Go to the R2 Overview page, and select **Manage R2 API Tokens**.\n\n5. Select **Create API Token**.\n\n6. In **Permissions**, choose **Object Read & Write**. Make sure you also select **Apply to specific buckets only**, and select the bucket you have created for PCAPs from the drop-down menu.\n\n7. Select **Create API Token**.\n\n8. Make sure you copy the **Secret Access Key** and **Access Key ID** values, as you will need them for the next step.\n\n### Create initial request\n\nCreate your initial request to R2:",
      "language": "unknown"
    },
    {
      "code": "The [response](https://developers.cloudflare.com/api/resources/magic_transit/subresources/pcaps/subresources/ownership/methods/create/) has a `\"filename\"` parameter with the name of a file that Cloudflare wrote to your R2 bucket. You need to download it for the next step. Example:",
      "language": "unknown"
    },
    {
      "code": "### Validate bucket ownership\n\nRefer to the [Validate a bucket](#validate-a-bucket) API instructions for more details on the entire process to [validate your R2 bucket](https://developers.cloudflare.com/api/resources/magic_transit/subresources/pcaps/subresources/ownership/methods/validate/). When specifying the R2 destination for this validation, exclude the secret and access keys from the URL.\n\n</page>\n\n<page>\n---\ntitle: Packet captures Â· Cloudflare One docs\ndescription: After a packet capture is requested and the capture is collected,\n  the output is contained within one or more files in PCAP file format. Before\n  starting a full type packet capture, you must first follow instructions for\n  configuring a bucket.\nlastUpdated: 2025-10-30T17:13:08.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/insights/network-visibility/diagnostics/packet-captures/\n  md: https://developers.cloudflare.com/cloudflare-one/insights/network-visibility/diagnostics/packet-captures/index.md\n---\n\nAfter a packet capture is requested and the capture is collected, the output is contained within one or more files in PCAP file format. Before starting a `full` type packet capture, you must first follow instructions for [configuring a bucket](https://developers.cloudflare.com/magic-firewall/packet-captures/pcaps-bucket-setup/).\n\nNote\n\nPacket captures are available for Advanced Magic Firewall users. For access, contact your account team.\n\n## Send a packet capture request\n\nCurrently, when a packet capture is requested, packets flowing at Cloudflare's global network through the Magic Transit system are captured. The default API field for this is `\"system\": \"magic-transit\"`, both for the request and response.\n\nNote\n\nFor help determining which data center to select for a packet capture, go to <https://cloudflare.com/cdn-cgi/trace> and refer to the `colo` field. Note some data centers can be regional such as `ORD` while other names may be more specific like `ord02`. Either of these names can be used for this same field.\n\n### Packet capture limits\n\n**Sample and full**\n\n* `time_limit`: The minimum value is `1` seconds and maximum value is `300` seconds.\n* `packet_limit`: The minimum value is `1` packet and maximum value is `10000` packets.\n\n**Full**\n\n* `byte_limit`: The minimum value is `1` byte and maximum value is `1000000000` bytes.\n\n- Dashboard\n\n  1. In the Cloudflare dashboard, go to the **Packet captures** page in Magic Transit or Magic WAN.\n\n     To set up a packet capture in Magic Transit: [Go to **Packet captures**](https://dash.cloudflare.com/?to=/:account/magic-transit/packet-captures/captures)\n\n     To set up a packet capture in Magic WAN: [Go to **Packet captures**](https://dash.cloudflare.com/?to=/:account/magic-wan/packet-captures/captures)\n\n  2. In **Captures**, select **Start a capture**.\n\n  3. Select the **Captures** tab > **Start a capture**.\n\n  4. Choose the type of capture you want to perform, and select **Next**.\n\n  5. Fill out the required fields to begin the capture and then select **Start**.\n\n  The main **Packet captures** page displays a list of captures.\n\n- API\n\n  The PCAPs API needs both `system` and `type` to be specified to start a capture. A PCAP's `system` is the product or logical subsystem where packets are captured, and a PCAP's `type` is how the captured packets are built into a PCAP file.\n\n  Currently, you can only send one collect request per minute for sample PCAPs, and you can only have one running or pending full PCAP at a time.\n\n  Full PCAP\n\n  For full PCAP requests, refer to the required parameters listed at [Create full PCAP requests](https://developers.cloudflare.com/api/resources/magic_transit/subresources/pcaps/methods/create/). Note that full packet captures require two more parameters than sample packets.\n\n  The full PCAP request endpoint also contains optional fields you can use to limit the amount of packets captured. Both full and sample packet requests contain an optional `filter_v1` parameter you can use to filter packets by IPv4 Source address, for example. For a full list of the filter options, refer to the parameter lists above.\n\n  Leave `filter_v1` empty to collect all packets without any filtering.",
      "language": "unknown"
    },
    {
      "code": "While the collection is in progress, the response returns the `status` field as `pending`. You must wait for the PCAP collection to complete before downloading the file. When the PCAP is ready to download, the status changes to `success`.",
      "language": "unknown"
    },
    {
      "code": "Sample PCAP\n\n  To create a sample PCAP request, send a JSON body with the required parameter listed at [Create sample PCAP request](https://developers.cloudflare.com/api/resources/magic_transit/subresources/pcaps/methods/create/).\n\n  Leave `filter_v1` to collect all packets without any filtering.",
      "language": "unknown"
    },
    {
      "code": "The response is a JSON body that contains the details of the job running to build the packet capture. The response contains a unique identifier for the packet capture request along with the details sent in the request.",
      "language": "unknown"
    },
    {
      "code": "## Check packet capture status\n\n* Dashboard\n\n  1. In the [Cloudflare One](https://one.dash.cloudflare.com) dashboard, go to **Network visibility** > **Diagnostics**.\n  2. In **Captures**, select **Start a capture**.\n  3. Select between **Full packet capture** or **Sample packet capture**, then fill in the information.\n  4. Once you filled all the information, select **Start**.\n\n* API\n\n  To check the status of a running job, send a request to the endpoint and specify the PCAP identifier. The PCAP identifier is received in the response of a collect request as shown in the previous step.",
      "language": "unknown"
    },
    {
      "code": "The response will be similar to the one received when requesting a PCAP collection.",
      "language": "unknown"
    },
    {
      "code": "The capture status displays one of the following options:\n\n* **Complete:** The capture request is done and ready for download.\n* **In progress:** The capture request was captured but still processing.\n* **Failure:** The capture failed. If this occurs, verify your ownership information.\n\n## Download packet captures\n\nAfter your request finishes processing, you can download your packet captures.\n\n* Dashboard\n\n  1. In the [Cloudflare One](https://one.dash.cloudflare.com) dashboard, go to **Network visibility** > **Diagnostics**.\n  2. In **Packet captures**, select **Start a capture**.\n  3. Locate your packet capture you want to download, and select **Download**.\n\n  Packet captures are available to download when the **Status** displays **Success**.\n\n* API\n\n  For more information on how to process multiple saved capture files into a single output file, refer to [Wireshark's mergecap documentation](https://www.wireshark.org/docs/man-pages/mergecap.html).\n\n  **Full PCAPs**\n\n  To obtain full PCAPs, download the files from the bucket specified in `destination_conf` after the PCAP's status is `success`. You may find multiple files named `pcap_<pcap_id>.pcap` per capture as captures can occur across multiple machines.\n\n  **Sample PCAPs**\n\n  Once the sample PCAP collection is complete, you can download the PCAP by specifying the PCAP identifier used earlier.",
      "language": "unknown"
    },
    {
      "code": "## List packet captures\n\n* Dashboard\n\n  1. In the Cloudflare dashboard, go to the **Packet captures** page in Magic Transit or Magic WAN.\n\n     To set up a packet capture in Magic Transit: [Go to **Packet captures**](https://dash.cloudflare.com/?to=/:account/magic-transit/packet-captures/captures)\n\n     To set up a packet capture in Magic WAN: [Go to **Packet captures**](https://dash.cloudflare.com/?to=/:account/magic-wan/packet-captures/captures)\n\n  2. In **Packet captures**, select **Start a capture**.\n\n  3. Select the **Captures** tab.\n\n  The list of packet captures associated with your account displays.\n\n* API\n\n  To view a list of sent requests, use the following command:",
      "language": "unknown"
    },
    {
      "code": "The response returns an array that includes up to 50 sent requests, which includes completed and ongoing requests.",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Gemini for Google Workspace Â· Cloudflare One docs\ndescription: The Gemini for Google Workspace integration detects a variety of\n  data loss prevention, account misconfiguration, and user security risks in an\n  integrated Google Workspace account that could leave you and your organization\n  vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/gemini/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/gemini/index.md\n---\n\nThe Gemini for Google Workspace integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Google Workspace account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Google Workspace account with a Business Starter, Business Standard, Business Plus or Enterprise plan\n* A Google Workspace user with [Super Admin privileges](https://support.google.com/a/answer/2405986) and [Owner permissions](https://cloud.google.com/iam/docs/understanding-roles) in the Google Cloud Platform (GCP) project used\n\n## Integration permissions\n\nRefer to [Google Workspace integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Gemini for Google Workspace integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/gemini.mdx.atom).\n\n### User account settings\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Admin user with Gemini license with two-factor authentication disabled | `27a0a9a0-13c6-4d8f-a67c-b455dd213cb9` | High | An administrator with a Gemini for Google Workspace license does not have two-factor authentication enabled. |\n| Google Workspace: User with Gemini license with two-factor authentication disabled | `c82024dc-b836-4b86-8c90-ab07971474e4` | Medium | A user with a Gemini for Google Workspace license does not have two-factor authentication enabled. |\n\n### Inactive or suspended users\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Admin user suspended with AI Ultra license | `ee7d4ed6-479f-404f-8dbd-f82dce2a0f66` | Low | An administrator account with an AI Ultra (Gemini for Workspace) license is suspended. |\n| Google Workspace: User suspended with AI Ultra license | `cf20e808-29ad-4026-a8f9-6ec3e069376c` | Low | A user account with an AI Ultra (Gemini for Workspace) license is suspended. |\n\n### Gemini licensing\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Admin user with AI Ultra license | `62fa682a-c2b5-4d5a-a086-8e60bed804d3` | Low | An administrator in Google Workspace is assigned an AI Ultra (Gemini for Workspace) license. |\n| Google Workspace: User with AI Ultra license | `5b847ed3-6c02-4963-a1ab-82a4aa2b6c64` | Low | A user in Google Workspace is assigned an AI Ultra (Gemini for Workspace) license. |\n\n</page>\n\n<page>\n---\ntitle: Gmail Â· Cloudflare One docs\ndescription: The Gmail integration detects a variety of data loss prevention,\n  account misconfiguration, and user security risks in an integrated Google\n  Workspace account that could leave you and your organization vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/gmail/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/gmail/index.md\n---\n\nThe Gmail integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Google Workspace account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Google Workspace account with a Business Starter, Business Standard, Business Plus or Enterprise plan\n* A Google Workspace user with [Super Admin privileges](https://support.google.com/a/answer/2405986) and [Owner permissions](https://cloud.google.com/iam/docs/understanding-roles) in the Google Cloud Platform (GCP) project used\n\n## Integration permissions\n\nRefer to [Google Workspace integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Gmail integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/google-workspace/gmail.mdx.atom).\n\n### Gmail administrator settings\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Domain SPF record allows any IP address | `f28dcc8d-1f0c-4b5a-b254-4169095c16e5` | High | A Google Workspace Domain SPF record allows any email to be sent from any IP address on your behalf. |\n| Google Workspace: Domain SPF record not present | `2e13e5dd-88ed-4d65-8d0a-d3fdff9ee7bb` | Medium | An SPF record does not exist for a Google Workspace Domain. |\n| Google Workspace: Domain DMARC record not present | `ec39eabf-3536-4005-940b-22d815c628ec` | Medium | A DMARC record does not exist for a Google Workspace Domain. |\n| Google Workspace: Domain DMARC not enforced | `8971666d-c049-436d-b4d1-6816a70650ef` | Medium | A DMARC record for a Google Workspace Domain is not enforced. |\n| Google Workspace: Domain DMARC not enforced for subdomains | `fe485f42-b158-4187-85fe-79acdd92055b` | Medium | A DMARC record for a Google Workspace Subdomain is not configured to quarantine or reject messages that fail authentication. |\n| Google Workspace: Domain DMARC only partially enforced | `b682c603-9bc6-485e-be8c-a6e58a989407` | Medium | A DMARC record for a Google Workspace Domain is not configured to quarantine or reject messages that fail authentication. |\n\n### Email forwarding\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: User delegates email access | `66897c22-29a5-4f55-b39a-1bfcdd3c12c5` | High | A user has delegated access to their inbox to another party. Delegates can read, send, and delete messages on the user's behalf. |\n\n</page>\n\n<page>\n---\ntitle: Gmail (FedRAMP) Â· Cloudflare One docs\ndescription: The Gmail (FedRAMP) integration detects a variety of data loss\n  prevention, account misconfiguration, and user security risks in an integrated\n  Google Workspace account that could leave you and your organization\n  vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/gmail-fedramp/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/gmail-fedramp/index.md\n---\n\nAvailability\n\nThe Gmail (FedRAMP) CASB integration requires a special entitlement on your account. To request access, contact your account team.\n\nThe Gmail (FedRAMP) integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Google Workspace account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Google Workspace account with a Business Starter, Business Standard, Business Plus or Enterprise plan\n* A Google Workspace user with [Super Admin privileges](https://support.google.com/a/answer/2405986) and [Owner permissions](https://cloud.google.com/iam/docs/understanding-roles) in the Google Cloud Platform (GCP) project used\n\n## Integration permissions\n\nRefer to [Google Workspace integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Gmail (FedRAMP) integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/google-workspace/gmail-fedramp.mdx.atom).\n\n### Gmail administrator settings\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Domain SPF record allows any IP address | `f28dcc8d-1f0c-4b5a-b254-4169095c16e5` | High | A Google Workspace Domain SPF record allows any email to be sent from any IP address on your behalf. |\n| Google Workspace: Domain SPF record not present | `2e13e5dd-88ed-4d65-8d0a-d3fdff9ee7bb` | Medium | An SPF record does not exist for a Google Workspace Domain. |\n| Google Workspace: Domain DMARC record not present | `ec39eabf-3536-4005-940b-22d815c628ec` | Medium | A DMARC record does not exist for a Google Workspace Domain. |\n| Google Workspace: Domain DMARC not enforced | `8971666d-c049-436d-b4d1-6816a70650ef` | Medium | A DMARC record for a Google Workspace Domain is not enforced. |\n| Google Workspace: Domain DMARC not enforced for subdomains | `fe485f42-b158-4187-85fe-79acdd92055b` | Medium | A DMARC record for a Google Workspace Subdomain is not configured to quarantine or reject messages that fail authentication. |\n| Google Workspace: Domain DMARC only partially enforced | `b682c603-9bc6-485e-be8c-a6e58a989407` | Medium | A DMARC record for a Google Workspace Domain is not configured to quarantine or reject messages that fail authentication. |\n\n### Email forwarding\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: User delegates email access | `66897c22-29a5-4f55-b39a-1bfcdd3c12c5` | High | A user has delegated access to their inbox to another party. Delegates can read, send, and delete messages on the user's behalf. |\n\n</page>\n\n<page>\n---\ntitle: Google Admin Â· Cloudflare One docs\ndescription: The Google Admin integration detects a variety of data loss\n  prevention, account misconfiguration, and user security risks in an integrated\n  Google Workspace account that could leave you and your organization\n  vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-admin/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-admin/index.md\n---\n\nThe Google Admin integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Google Workspace account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Google Workspace account with a Business Starter, Business Standard, Business Plus or Enterprise plan\n* A Google Workspace user with [Super Admin privileges](https://support.google.com/a/answer/2405986) and [Owner permissions](https://cloud.google.com/iam/docs/understanding-roles) in the Google Cloud Platform (GCP) project used\n\n## Integration permissions\n\nRefer to [Google Workspace integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Google Admin integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-admin.mdx.atom).\n\n### User account settings\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Admin user with two-factor authentication disabled | `5f7c1f62-0ac6-4422-b3d3-d0566dd4e3f2` | Critical | An administrator in Google Workspace does not have two-factor authentication enabled. |\n| Google Workspace: User with two-factor authentication disabled | `739e1965-2ab4-4946-8a56-73fd75154efa` | High | A user in Google Workspace does not have two-factor authentication enabled. |\n| Google Workspace: Admin user with Gemini license with two-factor authentication disabled | `27a0a9a0-13c6-4d8f-a67c-b455dd213cb9` | High | An administrator with a Gemini for Google Workspace license does not have two-factor authentication enabled. |\n| Google Workspace: User with Gemini license with two-factor authentication disabled | `c82024dc-b836-4b86-8c90-ab07971474e4` | Medium | A user with a Gemini for Google Workspace license does not have two-factor authentication enabled. |\n| Google Workspace: User without recovery email | `2e2383bb-51e8-47fc-8ba7-2dd255c2545f` | Low | A user in Google Workspace does not have a recovery email set. |\n| Google Workspace: User without recovery phone number | `ec326c68-f331-4597-9ec4-43dc197c86f4` | Low | A user in Google Workspace does not have a recovery phone number set. |\n\n### Inactive or suspended users\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Inactive admin user | `391ee66d-10e0-4b26-91b3-741a2a4c39d0` | Medium | An administrator account in Google Workspace has not logged in for 30 days. |\n| Google Workspace: Suspended admin user | `31e02a11-aa3b-4278-97d3-9c0f7e8fd2c7` | Medium | An administrator account in Google Workspace is suspended. |\n| Google Workspace: Inactive user | `7c098546-2e67-4f01-9fb7-bd48412bd178` | Low | A user account in Google Workspace has not logged in for 30 days. |\n| Google Workspace: Suspended user | `84f514e3-f12d-49e5-bdfe-9073e336d89e` | Low | A user account in Google Workspace is suspended. |\n| Google Workspace: Admin user suspended with AI Ultra license | `ee7d4ed6-479f-404f-8dbd-f82dce2a0f66` | Low | An administrator account in Google Workspace with an AI Ultra (Gemini for Workspace) license is suspended. |\n| Google Workspace: User suspended with AI Ultra license | `cf20e808-29ad-4026-a8f9-6ec3e069376c` | Low | A user account in Google Workspace with an AI Ultra (Gemini for Workspace) license is suspended. |\n\n### Third-party apps\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Installed 3rd-party app with Drive access | `191f0751-7087-4588-9e99-93c5dd834b5b` | High | A third-party application has been granted permissions to a user's Google Drive. |\n| Google Workspace: Installed 3rd-party app with Gmail access | `431aecad-20e5-4a20-80ba-4b66eaaa1be4` | High | A third-party application has been granted permissions to a user's Gmail. |\n| Google Workspace: Installed 3rd-party app with Google Docs access | `fe41d53b-3bc3-45ef-95d2-75ba159ce60d` | Medium | A third-party application has been granted permissions to a user's Google Documents. |\n| Google Workspace: Installed 3rd-party app with Google Calendar access | `80102f46-43d4-437e-b694-e8ee2c077ade` | Medium | A third-party application has been granted permissions to a user's Google Calendar. |\n| Google Workspace: Installed 3rd-party app with Google Slides access | `d88e106c-1f2e-4b63-acae-5cee19ded9ec` | Medium | A third-party application has been granted permissions to a user's Google Slides. |\n| Google Workspace: Installed 3rd-party app with Google Sheets access | `ece9a2fd-4248-4f11-bc45-8b4189eedb54` | Medium | A third-party application has been granted permissions to a user's Google Sheets. |\n| Google Workspace: Installed 3rd-party app with Google Sign In access | `26b938ea-8d24-4ea5-8e81-2eae26830061` | Low | A user has used their Google Workspace account to sign up for a third party service. |\n\n</page>\n\n<page>\n---\ntitle: Google Admin (FedRAMP) Â· Cloudflare One docs\ndescription: The Google Admin (FedRAMP) integration detects a variety of data\n  loss prevention, account misconfiguration, and user security risks in an\n  integrated Google Workspace account that could leave you and your organization\n  vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-admin-fedramp/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-admin-fedramp/index.md\n---\n\nAvailability\n\nThe Google Admin (FedRAMP) CASB integration requires a special entitlement on your account. To request access, contact your account team.\n\nThe Google Admin (FedRAMP) integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Google Workspace account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Google Workspace account with a Business Starter, Business Standard, Business Plus or Enterprise plan\n* A Google Workspace user with [Super Admin privileges](https://support.google.com/a/answer/2405986) and [Owner permissions](https://cloud.google.com/iam/docs/understanding-roles) in the Google Cloud Platform (GCP) project used\n\n## Integration permissions\n\nRefer to [Google Workspace integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Google Admin (FedRAMP) integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-admin-fedramp.mdx.atom).\n\n### User account settings\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Admin user with two-factor authentication disabled | `5f7c1f62-0ac6-4422-b3d3-d0566dd4e3f2` | Critical | An administrator in Google Workspace does not have two-factor authentication enabled. |\n| Google Workspace: User with two-factor authentication disabled | `739e1965-2ab4-4946-8a56-73fd75154efa` | High | A user in Google Workspace does not have two-factor authentication enabled. |\n| Google Workspace: Admin user with Gemini license with two-factor authentication disabled | `27a0a9a0-13c6-4d8f-a67c-b455dd213cb9` | High | An administrator with a Gemini for Google Workspace license does not have two-factor authentication enabled. |\n| Google Workspace: User with Gemini license with two-factor authentication disabled | `c82024dc-b836-4b86-8c90-ab07971474e4` | Medium | A user with a Gemini for Google Workspace license does not have two-factor authentication enabled. |\n| Google Workspace: User without recovery email | `2e2383bb-51e8-47fc-8ba7-2dd255c2545f` | Low | A user in Google Workspace does not have a recovery email set. |\n| Google Workspace: User without recovery phone number | `ec326c68-f331-4597-9ec4-43dc197c86f4` | Low | A user in Google Workspace does not have a recovery phone number set. |\n\n### Inactive or suspended users\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Inactive admin user | `391ee66d-10e0-4b26-91b3-741a2a4c39d0` | Medium | An administrator account in Google Workspace has not logged in for 30 days. |\n| Google Workspace: Suspended admin user | `31e02a11-aa3b-4278-97d3-9c0f7e8fd2c7` | Medium | An administrator account in Google Workspace is suspended. |\n| Google Workspace: Inactive user | `7c098546-2e67-4f01-9fb7-bd48412bd178` | Low | A user account in Google Workspace has not logged in for 30 days. |\n| Google Workspace: Suspended user | `84f514e3-f12d-49e5-bdfe-9073e336d89e` | Low | A user account in Google Workspace is suspended. |\n| Google Workspace: Admin user suspended with AI Ultra license | `ee7d4ed6-479f-404f-8dbd-f82dce2a0f66` | Low | An administrator account in Google Workspace with an AI Ultra (Gemini for Workspace) license is suspended. |\n| Google Workspace: User suspended with AI Ultra license | `cf20e808-29ad-4026-a8f9-6ec3e069376c` | Low | A user account in Google Workspace with an AI Ultra (Gemini for Workspace) license is suspended. |\n\n### Third-party apps\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Installed 3rd-party app with Drive access | `191f0751-7087-4588-9e99-93c5dd834b5b` | High | A third-party application has been granted permissions to a user's Google Drive. |\n| Google Workspace: Installed 3rd-party app with Gmail access | `431aecad-20e5-4a20-80ba-4b66eaaa1be4` | High | A third-party application has been granted permissions to a user's Gmail. |\n| Google Workspace: Installed 3rd-party app with Google Docs access | `fe41d53b-3bc3-45ef-95d2-75ba159ce60d` | Medium | A third-party application has been granted permissions to a user's Google Documents. |\n| Google Workspace: Installed 3rd-party app with Google Calendar access | `80102f46-43d4-437e-b694-e8ee2c077ade` | Medium | A third-party application has been granted permissions to a user's Google Calendar. |\n| Google Workspace: Installed 3rd-party app with Google Slides access | `d88e106c-1f2e-4b63-acae-5cee19ded9ec` | Medium | A third-party application has been granted permissions to a user's Google Slides. |\n| Google Workspace: Installed 3rd-party app with Google Sheets access | `ece9a2fd-4248-4f11-bc45-8b4189eedb54` | Medium | A third-party application has been granted permissions to a user's Google Sheets. |\n| Google Workspace: Installed 3rd-party app with Google Sign In access | `26b938ea-8d24-4ea5-8e81-2eae26830061` | Low | A user has used their Google Workspace account to sign up for a third party service. |\n\n</page>\n\n<page>\n---\ntitle: Google Calendar Â· Cloudflare One docs\ndescription: The Google Calendar integration detects a variety of data loss\n  prevention, account misconfiguration, and user security risks in an integrated\n  Google Workspace account that could leave you and your organization\n  vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-calendar/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-calendar/index.md\n---\n\nThe Google Calendar integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Google Workspace account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Google Workspace account with a Business Starter, Business Standard, Business Plus or Enterprise plan\n* A Google Workspace user with [Super Admin privileges](https://support.google.com/a/answer/2405986) and [Owner permissions](https://cloud.google.com/iam/docs/understanding-roles) in the Google Cloud Platform (GCP) project used\n\n## Integration permissions\n\nRefer to [Google Workspace integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Google Calendar integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-calendar.mdx.atom).\n\n### Calendar sharing\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Calendar is publicly accessible | `ec68bf68-b0c0-47b3-ad48-fcb3d7eaf8b6` | Medium | A user's Google Calendar is publicly accessible on the Internet that anyone can read. |\n\n</page>\n\n<page>\n---\ntitle: Google Calendar (FedRAMP) Â· Cloudflare One docs\ndescription: The Google Calendar (FedRAMP) integration detects a variety of data\n  loss prevention, account misconfiguration, and user security risks in an\n  integrated Google Workspace account that could leave you and your organization\n  vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-calendar-fedramp/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-calendar-fedramp/index.md\n---\n\nAvailability\n\nThe Google Calendar (FedRAMP) CASB integration requires a special entitlement on your account. To request access, contact your account team.\n\nThe Google Calendar (FedRAMP) integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Google Workspace account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Google Workspace account with a Business Starter, Business Standard, Business Plus or Enterprise plan\n* A Google Workspace user with [Super Admin privileges](https://support.google.com/a/answer/2405986) and [Owner permissions](https://cloud.google.com/iam/docs/understanding-roles) in the Google Cloud Platform (GCP) project used\n\n## Integration permissions\n\nRefer to [Google Workspace integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Google Calendar (FedRAMP) integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-calendar-fedramp.mdx.atom).\n\n### Calendar sharing\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: Calendar is publicly accessible | `ec68bf68-b0c0-47b3-ad48-fcb3d7eaf8b6` | Medium | A user's Google Calendar is publicly accessible on the Internet that anyone can read. |\n\n</page>\n\n<page>\n---\ntitle: Google Drive Â· Cloudflare One docs\ndescription: The Google Drive integration detects a variety of data loss\n  prevention, account misconfiguration, and user security risks in an integrated\n  Google Workspace account that could leave you and your organization\n  vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-drive/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-drive/index.md\n---\n\nThe Google Drive integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Google Workspace account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Google Workspace account with a Business Starter, Business Standard, Business Plus or Enterprise plan\n* A Google Workspace user with [Super Admin privileges](https://support.google.com/a/answer/2405986) and [Owner permissions](https://cloud.google.com/iam/docs/understanding-roles) in the Google Cloud Platform (GCP) project used\n\n## Integration permissions\n\nRefer to [Google Workspace integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Google Drive integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-drive.mdx.atom).\n\n### File sharing\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: File publicly accessible with edit access | `29b01269-025f-4249-b5c1-0b9ec39823e0` | Critical | A Google Drive file is publicly accessible on the Internet that anyone can read or write. |\n| Google Workspace: File publicly accessible with view access | `d5132bc7-4c41-4824-b879-3918bf7f6ee7` | High | A Google Drive file is publicly accessible on the Internet that anyone can read. |\n| Google Workspace: File shared outside company with edit access | `71ec135e-3d4c-4d35-a2b7-4fd1e5b65b99` | High | A Google Drive file is shared with another organization or outside party with read and write permissions. |\n| Google Workspace: File shared outside company with view access | `d4b231ad-9a8c-40d3-8654-5bd5bb86bf1a` | Medium | A Google Drive file is shared with another organization or outside party with read permissions. |\n| Google Workspace: File shared company-wide with edit access | `0ed79f27-32fd-415a-a919-ea4af3bd25fd` | Medium | A Google Drive file is shared with the entire company with read and write permissions. |\n| Google Workspace: File shared company-wide with view access | `a34753f3-aec7-4134-a30b-2ebb1d7e47de` | Medium | A Google Drive file is shared with the entire company with read permissions. |\n\n### Data Loss Prevention (optional)\n\nThese findings will only appear if you [added DLP profiles](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/casb-dlp/) to your CASB integration.\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: File publicly accessible with edit access with DLP Profile match | `868a21e9-62b2-4e4a-8150-92cf9eb0c2e3` | Critical | A Google Drive file contains sensitive data that anyone on the Internet can read or write. |\n| Google Workspace: File publicly accessible with view access with DLP Profile match | `bfe54b22-5ee5-4ccc-b62b-ea822b34c164` | High | A Google Drive file contains sensitive data that anyone on the Internet can read. |\n| Google Workspace: File shared outside company with edit access with DLP Profile match | `124cfac5-12c6-4b55-8691-9c11776b365a` | High | A Google Drive file contains sensitive data that anyone the file is shared to can read. |\n| Google Workspace: File shared company-wide with edit access with DLP Profile match | `5b2ad0d2-f35f-47a3-96cb-6e8fbb1fcb36` | Medium | A Google Drive file contains sensitive data that anyone in your organization can read or write. |\n| Google Workspace: File shared company-wide with view access with DLP Profile match | `b9fa5fef-c1d0-44da-8364-2c0887be0820` | Medium | A Google Drive file contains sensitive data that anyone in your organization can read. |\n| Google Workspace: File shared outside company with view access with DLP Profile match | `aebdda6d-ab48-4408-9941-881683972d83` | Medium | A Google Drive file contains sensitive data that anyone the file is shared to can read. |\n\n</page>\n\n<page>\n---\ntitle: Google Drive (FedRAMP) Â· Cloudflare One docs\ndescription: The Google Drive (FedRAMP) integration detects a variety of data\n  loss prevention, account misconfiguration, and user security risks in an\n  integrated Google Workspace account that could leave you and your organization\n  vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-drive-fedramp/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-drive-fedramp/index.md\n---\n\nAvailability\n\nThe Google Drive (FedRAMP) CASB integration requires a special entitlement on your account. To request access, contact your account team.\n\nThe Google Drive (FedRAMP) integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Google Workspace account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Google Workspace account with a Business Starter, Business Standard, Business Plus or Enterprise plan\n* A Google Workspace user with [Super Admin privileges](https://support.google.com/a/answer/2405986) and [Owner permissions](https://cloud.google.com/iam/docs/understanding-roles) in the Google Cloud Platform (GCP) project used\n\n## Integration permissions\n\nRefer to [Google Workspace integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Google Drive (FedRAMP) integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-drive-fedramp.mdx.atom).\n\n### File sharing\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: File publicly accessible with edit access | `29b01269-025f-4249-b5c1-0b9ec39823e0` | Critical | A Google Drive file is publicly accessible on the Internet that anyone can read or write. |\n| Google Workspace: File publicly accessible with view access | `d5132bc7-4c41-4824-b879-3918bf7f6ee7` | High | A Google Drive file is publicly accessible on the Internet that anyone can read. |\n| Google Workspace: File shared outside company with edit access | `71ec135e-3d4c-4d35-a2b7-4fd1e5b65b99` | High | A Google Drive file is shared with another organization or outside party with read and write permissions. |\n| Google Workspace: File shared outside company with view access | `d4b231ad-9a8c-40d3-8654-5bd5bb86bf1a` | Medium | A Google Drive file is shared with another organization or outside party with read permissions. |\n| Google Workspace: File shared company-wide with edit access | `0ed79f27-32fd-415a-a919-ea4af3bd25fd` | Medium | A Google Drive file is shared with the entire company with read and write permissions. |\n| Google Workspace: File shared company-wide with view access | `a34753f3-aec7-4134-a30b-2ebb1d7e47de` | Medium | A Google Drive file is shared with the entire company with read permissions. |\n\n### Data Loss Prevention (optional)\n\nThese findings will only appear if you [added DLP profiles](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/casb-dlp/) to your CASB integration.\n\n| Finding type | FindingTypeID | Severity | Description |\n| - | - | - | - |\n| Google Workspace: File publicly accessible with edit access with DLP Profile match | `868a21e9-62b2-4e4a-8150-92cf9eb0c2e3` | Critical | A Google Drive file contains sensitive data that anyone on the Internet can read or write. |\n| Google Workspace: File publicly accessible with view access with DLP Profile match | `bfe54b22-5ee5-4ccc-b62b-ea822b34c164` | High | A Google Drive file contains sensitive data that anyone on the Internet can read. |\n| Google Workspace: File shared outside company with edit access with DLP Profile match | `124cfac5-12c6-4b55-8691-9c11776b365a` | High | A Google Drive file contains sensitive data that anyone the file is shared to can read. |\n| Google Workspace: File shared company-wide with edit access with DLP Profile match | `5b2ad0d2-f35f-47a3-96cb-6e8fbb1fcb36` | Medium | A Google Drive file contains sensitive data that anyone in your organization can read or write. |\n| Google Workspace: File shared company-wide with view access with DLP Profile match | `b9fa5fef-c1d0-44da-8364-2c0887be0820` | Medium | A Google Drive file contains sensitive data that anyone in your organization can read. |\n| Google Workspace: File shared outside company with view access with DLP Profile match | `aebdda6d-ab48-4408-9941-881683972d83` | Medium | A Google Drive file contains sensitive data that anyone the file is shared to can read. |\n\n</page>\n\n<page>\n---\ntitle: Admin Center Â· Cloudflare One docs\ndescription: The Admin Center integration detects a variety of data loss\n  prevention, account misconfiguration, and user security risks in an integrated\n  Microsoft 365 account that could leave you and your organization vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/admin-center/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/admin-center/index.md\n---\n\nThe Admin Center integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Microsoft 365 account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Microsoft 365 account with an active Microsoft Business Basic, Microsoft Business Standard, Microsoft 365 E3, Microsoft 365 E5, or Microsoft 365 F3 subscription\n* [Global admin role](https://docs.microsoft.com/en-us/microsoft-365/admin/add-users/about-admin-roles?view=o365-worldwide#commonly-used-microsoft-365-admin-center-roles) or equivalent permissions in Microsoft 365\n\n## Integration permissions\n\nRefer to [Microsoft 365 integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Admin Center integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/microsoft-365/admin-center.mdx.atom).\n\n### User account settings\n\nKeep user accounts safe by ensuring the following settings are maintained. Review password configurations and password strengths to ensure alignment to your organization's security policies and best practices.\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: FIDO2 authentication method unattested | `5a9fd288-c04f-4f7a-8976-bfd5464c6cf1` | Low |\n| Microsoft: Provisioning error for on-prem user | `3123d99e-a83c-4d9d-9a10-80da5af6dee5` | Low |\n| Microsoft: Password expiration disabled for user | `ce8cc363-7cbb-445e-8385-79ae7348e430` | Low |\n| Microsoft: Password not changed for 90+ days | `93be1fd1-b6c6-4b98-a04c-121d5ea66745` | Low |\n| Microsoft: Strong password disabled for user | `aecfdcb2-ec1f-4571-be3c-4ae46c93125e` | Low |\n| Microsoft: Cloud sync disabled for on-prem user | `8370628b-73f1-41a5-bbff-4d5adee7bf33` | Low |\n| Microsoft: Weak Windows Hello for Business key strength | `6fae390f-07a3-4577-9821-034a7b29e18e` | Low |\n| Microsoft: On-prem user not synced in 7+ days | `1eefc5a1-e665-431a-b939-cfbb76a309f5` | Low |\n| Microsoft: User is not a legal adult | `329030a3-db43-4959-9d92-2616a42f1731` | Low |\n| Microsoft: User configured proxy addresses | `61406f68-feea-43c5-bda8-b7c4ef9b83cf` | Low |\n| Microsoft: User account disabled | `0a8bd094-9138-4e7f-8ce8-bebdf5c27c4e` | Low |\n| Microsoft: Reusable temporary access pass | `98571e6b-c323-48bc-8c60-f0425c7f9342` | Low |\n| Microsoft: Long-lived temporary access pass | `45cdbd9c-1594-488b-973e-7c62c6e7234e` | Low |\n\n### Third-party apps\n\nIdentify and get alerted about the third-party apps that have access to at least one service in your Microsoft 365 domain. Additionally, receive information about which services are being accessed and by whom to get full visibility into [shadow IT](https://www.cloudflare.com/learning/access-management/what-is-shadow-it/).\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: App not certified by Microsoft | `3f049bb1-3709-4d8f-8591-59dd034cf396` | Low |\n| Microsoft: App not attested by publisher | `d7390d6b-f466-4293-8528-6218e29b1179` | Low |\n| Microsoft: App disabled by Microsoft | `b5156b76-caaa-4ca8-bdb7-ea282da62356` | Low |\n\n</page>\n\n<page>\n---\ntitle: Admin Center (FedRAMP) Â· Cloudflare One docs\ndescription: The Admin Center (FedRAMP) integration detects a variety of data\n  loss prevention, account misconfiguration, and user security risks in an\n  integrated Microsoft 365 account that could leave you and your organization\n  vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/admin-center-fedramp/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/admin-center-fedramp/index.md\n---\n\nAvailability\n\nThe Admin Center (FedRAMP) CASB integration requires a special entitlement on your account. To request access, contact your account team.\n\nThe Admin Center (FedRAMP) integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Microsoft 365 account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Microsoft 365 account with an active Microsoft Business Basic, Microsoft Business Standard, Microsoft 365 E3, Microsoft 365 E5, or Microsoft 365 F3 subscription\n* [Global admin role](https://docs.microsoft.com/en-us/microsoft-365/admin/add-users/about-admin-roles?view=o365-worldwide#commonly-used-microsoft-365-admin-center-roles) or equivalent permissions in Microsoft 365\n\n## Integration permissions\n\nRefer to [Microsoft 365 integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Admin Center (FedRAMP) integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/microsoft-365/admin-center-fedramp.mdx.atom).\n\n### User account settings\n\nKeep user accounts safe by ensuring the following settings are maintained. Review password configurations and password strengths to ensure alignment to your organization's security policies and best practices.\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: FIDO2 authentication method unattested | `5a9fd288-c04f-4f7a-8976-bfd5464c6cf1` | Low |\n| Microsoft: Provisioning error for on-prem user | `3123d99e-a83c-4d9d-9a10-80da5af6dee5` | Low |\n| Microsoft: Password expiration disabled for user | `ce8cc363-7cbb-445e-8385-79ae7348e430` | Low |\n| Microsoft: Password not changed for 90+ days | `93be1fd1-b6c6-4b98-a04c-121d5ea66745` | Low |\n| Microsoft: Strong password disabled for user | `aecfdcb2-ec1f-4571-be3c-4ae46c93125e` | Low |\n| Microsoft: Cloud sync disabled for on-prem user | `8370628b-73f1-41a5-bbff-4d5adee7bf33` | Low |\n| Microsoft: Weak Windows Hello for Business key strength | `6fae390f-07a3-4577-9821-034a7b29e18e` | Low |\n| Microsoft: On-prem user not synced in 7+ days | `1eefc5a1-e665-431a-b939-cfbb76a309f5` | Low |\n| Microsoft: User is not a legal adult | `329030a3-db43-4959-9d92-2616a42f1731` | Low |\n| Microsoft: User configured proxy addresses | `61406f68-feea-43c5-bda8-b7c4ef9b83cf` | Low |\n| Microsoft: User account disabled | `0a8bd094-9138-4e7f-8ce8-bebdf5c27c4e` | Low |\n| Microsoft: Reusable temporary access pass | `98571e6b-c323-48bc-8c60-f0425c7f9342` | Low |\n| Microsoft: Long-lived temporary access pass | `45cdbd9c-1594-488b-973e-7c62c6e7234e` | Low |\n\n### Third-party apps\n\nIdentify and get alerted about the third-party apps that have access to at least one service in your Microsoft 365 domain. Additionally, receive information about which services are being accessed and by whom to get full visibility into [shadow IT](https://www.cloudflare.com/learning/access-management/what-is-shadow-it/).\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: App not certified by Microsoft | `3f049bb1-3709-4d8f-8591-59dd034cf396` | Low |\n| Microsoft: App not attested by publisher | `d7390d6b-f466-4293-8528-6218e29b1179` | Low |\n| Microsoft: App disabled by Microsoft | `b5156b76-caaa-4ca8-bdb7-ea282da62356` | Low |\n\n</page>\n\n<page>\n---\ntitle: OneDrive Â· Cloudflare One docs\ndescription: The OneDrive integration detects a variety of data loss prevention,\n  account misconfiguration, and user security risks in an integrated Microsoft\n  365 account that could leave you and your organization vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/onedrive/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/onedrive/index.md\n---\n\nThe OneDrive integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Microsoft 365 account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Microsoft 365 account with an active Microsoft Business Basic, Microsoft Business Standard, Microsoft 365 E3, Microsoft 365 E5, or Microsoft 365 F3 subscription\n* [Global admin role](https://docs.microsoft.com/en-us/microsoft-365/admin/add-users/about-admin-roles?view=o365-worldwide#commonly-used-microsoft-365-admin-center-roles) or equivalent permissions in Microsoft 365\n\n## Integration permissions\n\nRefer to [Microsoft 365 integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe OneDrive integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/microsoft-365/onedrive.mdx.atom).\n\n### File sharing\n\nGet alerted when files in your Microsoft 365 account have their permissions changed to a less secure setting. Additionally, you can automatically remediate certain finding types directly from CASB. For more information, refer to [Remediate findings](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#remediate-findings).\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: File publicly accessible with edit access | `85241e6b-205f-4de6-a1d1-325656130995` | Critical |\n| Microsoft: Folder publicly accessible with edit access | `c9662c5c-c3d6-453b-9367-281e024f7e7a` | Critical |\n| Microsoft: File publicly accessible with view access | `a2b40dc9-b96a-4ace-b8f8-739c2be37dbd` | High |\n| Microsoft: Folder publicly accessible with view access | `7c673785-8b70-41bc-b7d4-d0f346487ff6` | High |\n| Microsoft: File shared company-wide with edit access | `a81a79c8-a0bf-4c60-aa46-7547b4d34266` | Medium |\n| Microsoft: File shared company-wide with view access | `364c9c0e-684b-4a83-bf28-fdbb1430bb59` | Medium |\n| Microsoft: Folder shared company-wide with edit access | `80f73d47-7dcf-4997-8ed3-6564c8388bd1` | Medium |\n| Microsoft: Folder shared company-wide with view access | `f3fc8ae6-815e-4d5f-a57e-b00d5413f98c` | Medium |\n\n### Data Loss Prevention (optional)\n\nThese findings will only appear if you [added DLP profiles](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/casb-dlp/) to your CASB integration.\n\nAdditionally, you can automatically remediate certain finding types directly from CASB. For more information, refer to [Remediate findings](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#remediate-findings).\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: File publicly accessible with edit access with DLP Profile match | `7b6ecb52-852f-4184-bf19-175fe59202b7` | Critical |\n| Microsoft: File publicly accessible with view access with DLP Profile match | `8150f237-576d-4b48-8839-0c257f612171` | High |\n| Microsoft: File shared company-wide with edit access with DLP Profile match | `f838ec6b-7d7a-4c1c-9c61-958ac24c27fa` | Medium |\n| Microsoft: File shared company-wide with view access with DLP Profile match | `0b882cf3-7e33-4c58-b425-0202206a2c10` | Medium |\n\n</page>\n\n<page>\n---\ntitle: OneDrive (FedRAMP) Â· Cloudflare One docs\ndescription: The OneDrive (FedRAMP) integration detects a variety of data loss\n  prevention, account misconfiguration, and user security risks in an integrated\n  Microsoft 365 account that could leave you and your organization vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/onedrive-fedramp/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/onedrive-fedramp/index.md\n---\n\nAvailability\n\nThe OneDrive (FedRAMP) CASB integration requires a special entitlement on your account. To request access, contact your account team.\n\nThe OneDrive (FedRAMP) integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Microsoft 365 account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Microsoft 365 account with an active Microsoft Business Basic, Microsoft Business Standard, Microsoft 365 E3, Microsoft 365 E5, or Microsoft 365 F3 subscription\n* [Global admin role](https://docs.microsoft.com/en-us/microsoft-365/admin/add-users/about-admin-roles?view=o365-worldwide#commonly-used-microsoft-365-admin-center-roles) or equivalent permissions in Microsoft 365\n\n## Integration permissions\n\nRefer to [Microsoft 365 integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe OneDrive (FedRAMP) integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/microsoft-365/onedrive-fedramp.mdx.atom).\n\n### File sharing\n\nGet alerted when files in your Microsoft 365 account have their permissions changed to a less secure setting. Additionally, you can automatically remediate certain finding types directly from CASB. For more information, refer to [Remediate findings](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#remediate-findings).\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: File publicly accessible with edit access | `85241e6b-205f-4de6-a1d1-325656130995` | Critical |\n| Microsoft: Folder publicly accessible with edit access | `c9662c5c-c3d6-453b-9367-281e024f7e7a` | Critical |\n| Microsoft: File publicly accessible with view access | `a2b40dc9-b96a-4ace-b8f8-739c2be37dbd` | High |\n| Microsoft: Folder publicly accessible with view access | `7c673785-8b70-41bc-b7d4-d0f346487ff6` | High |\n| Microsoft: File shared company-wide with edit access | `a81a79c8-a0bf-4c60-aa46-7547b4d34266` | Medium |\n| Microsoft: File shared company-wide with view access | `364c9c0e-684b-4a83-bf28-fdbb1430bb59` | Medium |\n| Microsoft: Folder shared company-wide with edit access | `80f73d47-7dcf-4997-8ed3-6564c8388bd1` | Medium |\n| Microsoft: Folder shared company-wide with view access | `f3fc8ae6-815e-4d5f-a57e-b00d5413f98c` | Medium |\n\n### Data Loss Prevention (optional)\n\nThese findings will only appear if you [added DLP profiles](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/casb-dlp/) to your CASB integration.\n\nAdditionally, you can automatically remediate certain finding types directly from CASB. For more information, refer to [Remediate findings](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#remediate-findings).\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: File publicly accessible with edit access with DLP Profile match | `7b6ecb52-852f-4184-bf19-175fe59202b7` | Critical |\n| Microsoft: File publicly accessible with view access with DLP Profile match | `8150f237-576d-4b48-8839-0c257f612171` | High |\n| Microsoft: File shared company-wide with edit access with DLP Profile match | `f838ec6b-7d7a-4c1c-9c61-958ac24c27fa` | Medium |\n| Microsoft: File shared company-wide with view access with DLP Profile match | `0b882cf3-7e33-4c58-b425-0202206a2c10` | Medium |\n\n</page>\n\n<page>\n---\ntitle: Outlook Â· Cloudflare One docs\ndescription: The Outlook integration detects a variety of data loss prevention,\n  account misconfiguration, and user security risks in an integrated Microsoft\n  365 account that could leave you and your organization vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/outlook/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/outlook/index.md\n---\n\nThe Outlook integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Microsoft 365 account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Microsoft 365 account with an active Microsoft Business Basic, Microsoft Business Standard, Microsoft 365 E3, Microsoft 365 E5, or Microsoft 365 F3 subscription\n* [Global admin role](https://docs.microsoft.com/en-us/microsoft-365/admin/add-users/about-admin-roles?view=o365-worldwide#commonly-used-microsoft-365-admin-center-roles) or equivalent permissions in Microsoft 365\n\n## Integration permissions\n\nRefer to [Microsoft 365 integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Outlook integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/microsoft-365/outlook.mdx.atom).\n\n### Calendar sharing\n\nGet alerted when calendars in your Microsoft 365 account have their permissions changed to a less secure setting.\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: Calendar shared externally | `7d2d9b00-3871-4abf-9e65-f29cf00c428b` | Low |\n\n### Email administrator settings\n\nDiscover suspicious or insecure email configurations in your Microsoft domain. Missing SPF and DMARC records make it easier for bad actors to spoof email, while SPF records configured to another domain can be a potential warning sign of malicious activity.\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: Domain SPF record allows any IP address | `27893e48-663e-43f9-83d4-c158c50259d0` | High |\n| Microsoft: Domain SPF record not present | `009093d9-43df-45a2-bdc6-2f35fc3a0c71` | Medium |\n| Microsoft: Domain DMARC record not present | `bb3d3760-2c4e-4161-9164-cff92e809f9c` | Medium |\n| Microsoft: Domain DMARC not enforced | `a020d87d-332b-49d1-acc3-16c19d72fba4` | Medium |\n| Microsoft: Domain DMARC not enforced for subdomains | `1837a549-4d4e-4101-917c-e9a4036e0c08` | Medium |\n| Microsoft: Domain DMARC only partially enforced | `943414ed-7c79-4d17-a253-8d73f34dcc1d` | Medium |\n| Microsoft: Domain not verified | `dd1e9aba-57ee-4cf1-a895-dd2f1fc166a7` | Medium |\n| Microsoft: App certification expires within 90 Days | `d5ede282-0339-4983-88f3-849ac59ba840` | Low |\n\n### Email forwarding\n\nGet alerted when users set their email to be forwarded externally. This can either be a sign of unauthorized activity, or an employee unknowingly sending potentially sensitive information to a personal email.\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: Active message rule forwards externally as attachment | `9efca21a-aba2-452f-bb17-e66d34b58765` | Low |\n| Microsoft: Active message rule forwards externally | `42fa3fe6-da72-4bf0-9bc9-5faa4a118ec4` | Low |\n| Microsoft: Active message rule redirects externally | `b75ba81e-c98d-4b78-b5a1-47a2f54499e8` | Low |\n\n</page>\n\n<page>\n---\ntitle: Outlook (FedRAMP) Â· Cloudflare One docs\ndescription: The Outlook (FedRAMP) integration detects a variety of data loss\n  prevention, account misconfiguration, and user security risks in an integrated\n  Microsoft 365 account that could leave you and your organization vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/outlook-fedramp/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/outlook-fedramp/index.md\n---\n\nAvailability\n\nThe Outlook (FedRAMP) CASB integration requires a special entitlement on your account. To request access, contact your account team.\n\nThe Outlook (FedRAMP) integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Microsoft 365 account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Microsoft 365 account with an active Microsoft Business Basic, Microsoft Business Standard, Microsoft 365 E3, Microsoft 365 E5, or Microsoft 365 F3 subscription\n* [Global admin role](https://docs.microsoft.com/en-us/microsoft-365/admin/add-users/about-admin-roles?view=o365-worldwide#commonly-used-microsoft-365-admin-center-roles) or equivalent permissions in Microsoft 365\n\n## Integration permissions\n\nRefer to [Microsoft 365 integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe Outlook (FedRAMP) integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/microsoft-365/outlook-fedramp.mdx.atom).\n\n### Calendar sharing\n\nGet alerted when calendars in your Microsoft 365 account have their permissions changed to a less secure setting.\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: Calendar shared externally | `7d2d9b00-3871-4abf-9e65-f29cf00c428b` | Low |\n\n### Email administrator settings\n\nDiscover suspicious or insecure email configurations in your Microsoft domain. Missing SPF and DMARC records make it easier for bad actors to spoof email, while SPF records configured to another domain can be a potential warning sign of malicious activity.\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: Domain SPF record allows any IP address | `27893e48-663e-43f9-83d4-c158c50259d0` | High |\n| Microsoft: Domain SPF record not present | `009093d9-43df-45a2-bdc6-2f35fc3a0c71` | Medium |\n| Microsoft: Domain DMARC record not present | `bb3d3760-2c4e-4161-9164-cff92e809f9c` | Medium |\n| Microsoft: Domain DMARC not enforced | `a020d87d-332b-49d1-acc3-16c19d72fba4` | Medium |\n| Microsoft: Domain DMARC not enforced for subdomains | `1837a549-4d4e-4101-917c-e9a4036e0c08` | Medium |\n| Microsoft: Domain DMARC only partially enforced | `943414ed-7c79-4d17-a253-8d73f34dcc1d` | Medium |\n| Microsoft: Domain not verified | `dd1e9aba-57ee-4cf1-a895-dd2f1fc166a7` | Medium |\n| Microsoft: App certification expires within 90 Days | `d5ede282-0339-4983-88f3-849ac59ba840` | Low |\n\n### Email forwarding\n\nGet alerted when users set their email to be forwarded externally. This can either be a sign of unauthorized activity, or an employee unknowingly sending potentially sensitive information to a personal email.\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: Active message rule forwards externally as attachment | `9efca21a-aba2-452f-bb17-e66d34b58765` | Low |\n| Microsoft: Active message rule forwards externally | `42fa3fe6-da72-4bf0-9bc9-5faa4a118ec4` | Low |\n| Microsoft: Active message rule redirects externally | `b75ba81e-c98d-4b78-b5a1-47a2f54499e8` | Low |\n\n</page>\n\n<page>\n---\ntitle: SharePoint Â· Cloudflare One docs\ndescription: The SharePoint integration detects a variety of data loss\n  prevention, account misconfiguration, and user security risks in an integrated\n  Microsoft 365 account that could leave you and your organization vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/sharepoint/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/sharepoint/index.md\n---\n\nThe SharePoint integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Microsoft 365 account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Microsoft 365 account with an active Microsoft Business Basic, Microsoft Business Standard, Microsoft 365 E3, Microsoft 365 E5, or Microsoft 365 F3 subscription\n* [Global admin role](https://docs.microsoft.com/en-us/microsoft-365/admin/add-users/about-admin-roles?view=o365-worldwide#commonly-used-microsoft-365-admin-center-roles) or equivalent permissions in Microsoft 365\n\n## Integration permissions\n\nRefer to [Microsoft 365 integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe SharePoint integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/microsoft-365/sharepoint.mdx.atom).\n\n### File sharing\n\nGet alerted when files in your Microsoft 365 account have their permissions changed to a less secure setting. Additionally, you can automatically remediate certain finding types directly from CASB. For more information, refer to [Remediate findings](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#remediate-findings).\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: File publicly accessible with edit access | `85241e6b-205f-4de6-a1d1-325656130995` | Critical |\n| Microsoft: Folder publicly accessible with edit access | `c9662c5c-c3d6-453b-9367-281e024f7e7a` | Critical |\n| Microsoft: File publicly accessible with view access | `a2b40dc9-b96a-4ace-b8f8-739c2be37dbd` | High |\n| Microsoft: Folder publicly accessible with view access | `7c673785-8b70-41bc-b7d4-d0f346487ff6` | High |\n| Microsoft: File shared company-wide with edit access | `a81a79c8-a0bf-4c60-aa46-7547b4d34266` | Medium |\n| Microsoft: File shared company-wide with view access | `364c9c0e-684b-4a83-bf28-fdbb1430bb59` | Medium |\n| Microsoft: Folder shared company-wide with edit access | `80f73d47-7dcf-4997-8ed3-6564c8388bd1` | Medium |\n| Microsoft: Folder shared company-wide with view access | `f3fc8ae6-815e-4d5f-a57e-b00d5413f98c` | Medium |\n\n### Data Loss Prevention (optional)\n\nThese findings will only appear if you [added DLP profiles](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/casb-dlp/) to your CASB integration.\n\nAdditionally, you can automatically remediate certain finding types directly from CASB. For more information, refer to [Remediate findings](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#remediate-findings).\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: File publicly accessible with edit access with DLP Profile match | `7b6ecb52-852f-4184-bf19-175fe59202b7` | Critical |\n| Microsoft: File publicly accessible with view access with DLP Profile match | `8150f237-576d-4b48-8839-0c257f612171` | High |\n| Microsoft: File shared company-wide with edit access with DLP Profile match | `f838ec6b-7d7a-4c1c-9c61-958ac24c27fa` | Medium |\n| Microsoft: File shared company-wide with view access with DLP Profile match | `0b882cf3-7e33-4c58-b425-0202206a2c10` | Medium |\n\n</page>\n\n<page>\n---\ntitle: SharePoint (FedRAMP) Â· Cloudflare One docs\ndescription: The SharePoint (FedRAMP) integration detects a variety of data loss\n  prevention, account misconfiguration, and user security risks in an integrated\n  Microsoft 365 account that could leave you and your organization vulnerable.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/sharepoint-fedramp/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/sharepoint-fedramp/index.md\n---\n\nAvailability\n\nThe SharePoint (FedRAMP) CASB integration requires a special entitlement on your account. To request access, contact your account team.\n\nThe SharePoint (FedRAMP) integration detects a variety of data loss prevention, account misconfiguration, and user security risks in an integrated Microsoft 365 account that could leave you and your organization vulnerable.\n\n## Integration prerequisites\n\n* A Microsoft 365 account with an active Microsoft Business Basic, Microsoft Business Standard, Microsoft 365 E3, Microsoft 365 E5, or Microsoft 365 F3 subscription\n* [Global admin role](https://docs.microsoft.com/en-us/microsoft-365/admin/add-users/about-admin-roles?view=o365-worldwide#commonly-used-microsoft-365-admin-center-roles) or equivalent permissions in Microsoft 365\n\n## Integration permissions\n\nRefer to [Microsoft 365 integration permissions](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/#integration-permissions) for information on which API permissions to enable.\n\n## Security findings\n\nThe SharePoint (FedRAMP) integration currently scans for the following findings, or security risks. Findings are grouped by category and then ordered by [severity level](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#severity-levels).\n\nTo stay up-to-date with new CASB findings as they are added, bookmark this page or subscribe to its [RSS feed](https://github.com/cloudflare/cloudflare-docs/commits/production/src/content/docs/cloudflare-one/integrations/cloud-and-saas/microsoft-365/sharepoint-fedramp.mdx.atom).\n\n### File sharing\n\nGet alerted when files in your Microsoft 365 account have their permissions changed to a less secure setting. Additionally, you can automatically remediate certain finding types directly from CASB. For more information, refer to [Remediate findings](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#remediate-findings).\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: File publicly accessible with edit access | `85241e6b-205f-4de6-a1d1-325656130995` | Critical |\n| Microsoft: Folder publicly accessible with edit access | `c9662c5c-c3d6-453b-9367-281e024f7e7a` | Critical |\n| Microsoft: File publicly accessible with view access | `a2b40dc9-b96a-4ace-b8f8-739c2be37dbd` | High |\n| Microsoft: Folder publicly accessible with view access | `7c673785-8b70-41bc-b7d4-d0f346487ff6` | High |\n| Microsoft: File shared company-wide with edit access | `a81a79c8-a0bf-4c60-aa46-7547b4d34266` | Medium |\n| Microsoft: File shared company-wide with view access | `364c9c0e-684b-4a83-bf28-fdbb1430bb59` | Medium |\n| Microsoft: Folder shared company-wide with edit access | `80f73d47-7dcf-4997-8ed3-6564c8388bd1` | Medium |\n| Microsoft: Folder shared company-wide with view access | `f3fc8ae6-815e-4d5f-a57e-b00d5413f98c` | Medium |\n\n### Data Loss Prevention (optional)\n\nThese findings will only appear if you [added DLP profiles](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/casb-dlp/) to your CASB integration.\n\nAdditionally, you can automatically remediate certain finding types directly from CASB. For more information, refer to [Remediate findings](https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/#remediate-findings).\n\n| Finding type | FindingTypeID | Severity |\n| - | - | - |\n| Microsoft: File publicly accessible with edit access with DLP Profile match | `7b6ecb52-852f-4184-bf19-175fe59202b7` | Critical |\n| Microsoft: File publicly accessible with view access with DLP Profile match | `8150f237-576d-4b48-8839-0c257f612171` | High |\n| Microsoft: File shared company-wide with edit access with DLP Profile match | `f838ec6b-7d7a-4c1c-9c61-958ac24c27fa` | Medium |\n| Microsoft: File shared company-wide with view access with DLP Profile match | `0b882cf3-7e33-4c58-b425-0202206a2c10` | Medium |\n\n</page>\n\n<page>\n---\ntitle: Troubleshoot compute accounts Â· Cloudflare One docs\ndescription: Cloudflare CASB detects when compute accounts are unhealthy or\n  outdated. Common compute account issues include security or functionality\n  updates and API token misconfigurations.\nlastUpdated: 2025-10-27T15:01:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/troubleshooting/troubleshoot-compute-accounts/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/troubleshooting/troubleshoot-compute-accounts/index.md\n---\n\nCloudflare CASB detects when compute accounts are unhealthy or outdated. Common compute account issues include security or functionality updates and API token misconfigurations.\n\n## Identify unhealthy compute accounts\n\nTo identify unhealthy compute accounts:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Integrations** > **Cloud & SaaS integrations**.\n2. Choose the integration you created for cloud scanning.\n3. Select **Manage compute accounts**.\n\nCASB will display the status of each compute account next to its name. If a compute account is broken or outdated, CASB will set its status to **Unhealthy**. If the status is **Healthy**, no action is required.\n\n## Repair an unhealthy compute account\n\nWhen CASB marks a compute account as **Unhealthy**, CASB will not use new scan configuration changes and new scan results will not appear in the dashboard.\n\nTo repair a compute account marked as **Unhealthy**, first [upgrade the compute account](#upgrade-a-compute-account). If the compute account is still unhealthy, [roll your API token](#roll-api-tokens).\n\n## Upgrade a compute account\n\nUpgrading a compute account applies the latest software features, bug fixes, and infrastructure changes to a cloud compute account. You should run upgrades periodically to keep the compute account software up to date or when recommended by Cloudflare to address an issue. CASB deploys compute account upgrades through Terraform updates.\n\nTo upgrade a compute account:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Integrations** > **Cloud & SaaS integrations**.\n\n2. Choose the integration you created for cloud scanning.\n\n3. Select **Open connection instructions**.\n\n4. Follow the instructions provided to validate your local Terraform and CLI configuration.\n\n5. Under **Step 2: Deploy Terraform Configuration**, copy the template to your local configuration. This template will be the most up to date version of the integration's Terraform configuration.\n\n6. In a local terminal, update the cached version of the CDS Terraform modules:",
      "language": "unknown"
    },
    {
      "code": "7. Apply the upgraded Terraform configuration to your compute account:",
      "language": "unknown"
    },
    {
      "code": "## Roll API tokens\n\nWarning\n\nIf you roll your API token in CASB but do not update it in your compute account, CASB will set your compute account's status as **Broken** and stop reporting scan results.\n\nYou may need to roll the Cloudflare API token used for your compute account if a security or operational issue appears, your API token is compromised, or your API token is removed from your compute account.\n\nIf your token is lost or compromised, you can either create a new token or roll your token to generate a new secret. Rolling your API token into a new one will invalidate the previous token, but the access and permissions will be the same as the previous API token.\n\nTo roll your API token:\n\n1. Log in to the Cloudflare dashboard.\n\n   [Go to **Account home**](https://dash.cloudflare.com/?to=/:account/home)\n\n2. Go to **My Profile** > **API Tokens**.\n\n3. Next to the API token you want to roll, select the **three dot icon** >Â **Roll**.\n\n4. Select **Confirm** to generate a new API token.\n\n1) Copy your API token.\n\nOnce you roll your API token in Cloudflare, you can update the API token value in your secrets manager for [Amazon Web Services (AWS)](https://docs.aws.amazon.com/secretsmanager/latest/userguide/manage_update-secret-value.html) or [Google Cloud Platform (GCP)](https://cloud.google.com/secret-manager/docs/edit-secrets).\n\n### Common token issues\n\n#### `cloudflare-cds-secrets` does not exist in the compute account's secrets manager\n\nTo recreate the secret in your compute account:\n\n1. Validate that you selected the correct region.\n2. [Upgrade the compute account](#upgrade-a-compute-account) to recreate the secret.\n3. [Update the secret value](#roll-api-tokens) in your compute account.\n\n#### I no longer have access to the Cloudflare API token I created\n\n[Roll your Cloudflare API token](#roll-api-tokens) and add it to your compute account. If the [status of the compute account](#identify-unhealthy-compute-accounts) is set to **Healthy**, the issue has been solved.\n\n</page>\n\n<page>\n---\ntitle: Troubleshoot integrations Â· Cloudflare One docs\ndescription: Cloudflare CASB detects when integrations are unhealthy or outdated.\nlastUpdated: 2025-10-27T15:01:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/troubleshooting/troubleshoot-integrations/\n  md: https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/troubleshooting/troubleshoot-integrations/index.md\n---\n\nCloudflare CASB detects when integrations are unhealthy or outdated.\n\nCommon integration issues include changes to SaaS app or cloud environment configurations, user access, or permission scope. Integrations may need to be updated to support new features or permissions.\n\n## Identify unhealthy or outdated integrations\n\nTo identify unhealthy CASB integrations, go to **Integrations** > **Cloud & SaaS integrations**. If an integration is unhealthy, CASB will set its status to **Broken**. If an integration is outdated, CASB will set its status to **Upgrade**.\n\n## Repair an unhealthy integration\n\nRepair limitation\n\nIf CASB does not support self-service repairs for an integration, you will need to [delete](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/#delete-an-integration) and recreate the integration to continue scanning.\n\nYou can repair unhealthy CASB integrations through your list of integrations or findings.\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Integrations** > **Cloud & SaaS integrations**.\n2. Choose your unhealthy integration.\n3. Select **Reauthorize**.\n4. In your SaaS app or cloud environment, reauthorize your account.\n\n## Upgrade an integration\n\nUpgrading an outdated integration will allow the integration to access new features and permissions.\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Integrations** > **Cloud & SaaS integrations**.\n2. Choose your outdated integration.\n3. Select **Upgrade integration**.\n4. In your SaaS app or cloud environment, upgrade your app and reauthorize your account.\n\n</page>\n\n<page>\n---\ntitle: Configure a tunnel Â· Cloudflare One docs\nlastUpdated: 2025-10-21T14:33:19.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/configure-tunnels/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/configure-tunnels/index.md\n---\n\n\n</page>\n\n<page>\n---\ntitle: Environments Â· Cloudflare One docs\ndescription: \"Learn how to deploy Cloudflare Tunnel in specific environments:\"\nlastUpdated: 2025-10-21T14:33:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/deployment-guides/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/deployment-guides/index.md\n---\n\nLearn how to deploy Cloudflare Tunnel in specific environments:\n\n* [Ansible](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/deployment-guides/ansible/)\n* [AWS](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/deployment-guides/aws/)\n* [Azure](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/deployment-guides/azure/)\n* [GCP](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/deployment-guides/google-cloud-platform/)\n* [Kubernetes](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/deployment-guides/kubernetes/)\n* [Terraform](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/deployment-guides/terraform/)\n\n</page>\n\n<page>\n---\ntitle: Do more with Tunnel Â· Cloudflare One docs\nlastUpdated: 2025-10-21T14:33:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/do-more-with-tunnels/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/do-more-with-tunnels/index.md\n---\n\n* [Locally-managed tunnels](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/do-more-with-tunnels/local-management/)\n* [Quick Tunnels](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/do-more-with-tunnels/trycloudflare/)\n\n</page>\n\n<page>\n---\ntitle: Downloads Â· Cloudflare One docs\ndescription: Cloudflare Tunnel requires the installation of a lightweight\n  server-side daemon, cloudflared, to connect your infrastructure to Cloudflare.\n  If you are creating a tunnel through the dashboard, you can simply copy-paste\n  the installation command shown in the dashboard.\nlastUpdated: 2025-10-21T14:33:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/downloads/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/downloads/index.md\n---\n\nCloudflare Tunnel requires the installation of a lightweight server-side daemon, `cloudflared`, to connect your infrastructure to Cloudflare. If you are [creating a tunnel through the dashboard](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/get-started/create-remote-tunnel/), you can simply copy-paste the installation command shown in the dashboard.\n\nTo download and install `cloudflared` manually, use one of the following links.\n\n## GitHub repository\n\n`cloudflared` is an [open source project](https://github.com/cloudflare/cloudflared) maintained by Cloudflare.\n\n* [All releases](https://github.com/cloudflare/cloudflared/releases)\n\n* [Release notes](https://github.com/cloudflare/cloudflared/blob/master/RELEASE_NOTES)\n\n## Latest release\n\n### Linux\n\nYou can download and install `cloudflared` via the [Cloudflare Package Repository](https://pkg.cloudflare.com/).\n\nAlternatively, download the latest release directly:\n\n| Type | amd64 / x86-64 | x86 (32-bit) | ARM | ARM64 |\n| - | - | - | - | - |\n| Binary | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64) | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-386) | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm) | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64) |\n| .deb | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb) | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-386.deb) | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm.deb) | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64.deb) |\n| .rpm | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-x86_64.rpm) | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-386.rpm) | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm.rpm) | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-aarch64.rpm) |\n\n### macOS\n\nDownload and install `cloudflared` via Homebrew:",
      "language": "unknown"
    },
    {
      "code": "Alternatively, download the [latest Darwin arm64 release](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-darwin-arm64.tgz) or [latest Darwin amd64 release](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-darwin-amd64.tgz) directly.\n\n### Windows\n\nDownload and install `cloudflared` via [winget](https://learn.microsoft.com/en-us/windows/package-manager/winget/):",
      "language": "unknown"
    },
    {
      "code": "Alternatively, download the latest release directly:\n\n| Type | 32-bit | 64-bit |\n| - | - | - |\n| Executable | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-windows-386.exe) | [Download](https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-windows-amd64.exe) |\n\nNote\n\nInstances of `cloudflared` do not automatically update on Windows. You will need to perform manual updates.\n\n### Docker\n\nA Docker image of `cloudflared` is [available on DockerHub](https://hub.docker.com/r/cloudflare/cloudflared).\n\n## Deprecated releases\n\nCloudflare supports versions of `cloudflared` that are within one year of the most recent release. Breaking changes unrelated to feature availability may be introduced that will impact versions released more than one year ago. For example, as of January 2023 Cloudflare will support `cloudflared` version 2023.1.1 to cloudflared 2022.1.1.\n\nTo update `cloudflared`, refer to [these instructions](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/downloads/update-cloudflared/).\n\n</page>\n\n<page>\n---\ntitle: Set up your first tunnel Â· Cloudflare One docs\ndescription: To create and manage tunnels, you will need to install and\n  authenticate cloudflared on your origin server. cloudflared is what connects\n  your server to Cloudflare's global network.\nlastUpdated: 2025-10-21T14:33:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/get-started/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/get-started/index.md\n---\n\nTo create and manage tunnels, you will need to install and authenticate `cloudflared` on your origin server. `cloudflared` is what connects your server to Cloudflare's global network.\n\n* [Create a tunnel (dashboard)](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/get-started/create-remote-tunnel/)\n* [Create a tunnel (API)](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/get-started/create-remote-tunnel-api/)\n* [Useful terms](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/get-started/tunnel-useful-terms/)\n\n</page>\n\n<page>\n---\ntitle: Monitor tunnels Â· Cloudflare One docs\nlastUpdated: 2025-10-21T14:33:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/monitor-tunnels/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/monitor-tunnels/index.md\n---\n\n* [Log streams](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/monitor-tunnels/logs/)\n* [Notifications](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/monitor-tunnels/notifications/)\n* [Metrics](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/monitor-tunnels/metrics/)\n\n</page>\n\n<page>\n---\ntitle: Private networks Â· Cloudflare One docs\ndescription: With Cloudflare Zero Trust, you can connect private networks and\n  the services running in those networks to Cloudflare's global network. This\n  involves installing a connector on the private network, and then setting up\n  routes which define the IP addresses available in that environment. Unlike\n  published applications, private network routes can expose both HTTP and\n  non-HTTP resources.\nlastUpdated: 2025-10-22T21:11:06.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/index.md\n---\n\nWith Cloudflare Zero Trust, you can connect private networks and the services running in those networks to Cloudflare's global network. This involves installing a [connector](#connectors) on the private network, and then [setting up routes](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/get-started/create-remote-tunnel/#2b-connect-a-network) which define the IP addresses available in that environment. Unlike [published applications](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/routing-to-tunnel/), private network routes can expose both HTTP and non-HTTP resources.\n\nTo reach private network IPs, end users must connect their device to Cloudflare and enroll in your Zero Trust organization. The most common method is to install the [WARP client](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/) on their device, or you can onboard their network traffic to Cloudflare using our [WARP Connector](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/warp-connector/) or [Magic WAN](https://developers.cloudflare.com/magic-wan/zero-trust/cloudflare-tunnel/).\n\nAdministrators can optionally set [Gateway network policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/) to control access to services based on user identity and device posture.\n\n## Connectors\n\nHere are the different ways you can connect your private network to Cloudflare:\n\n* [**cloudflared**](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/cloudflared/) installs on a server in your private network to create a secure, outbound tunnel to Cloudflare. Cloudflare Tunnel using `cloudflared` only proxies traffic initiated from a user to a server. Any service or application running behind the tunnel will use the server's default routing table for server-initiated connectivity.\n* [**WARP-to-WARP**](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/warp-to-warp/) uses the [Cloudflare WARP client](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/) to establish peer-to-peer connectivity between two or more devices. Each device running WARP can access services on any other device running WARP via an assigned virtual IP address.\n* [**WARP Connector**](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/warp-connector/) installs on a Linux server in your private network to establish site-to-site, bidirectional, and mesh networking connectivity. The WARP Connector acts as a subnet router to relay client-initiated and server-initiated traffic between all devices on a private network and Cloudflare.\n* [**Magic WAN**](https://developers.cloudflare.com/magic-wan/) relies on configuring legacy networking equipment to establish anycast GRE or IPsec tunnels between an entire network location and Cloudflare.\n\n</page>\n\n<page>\n---\ntitle: Published applications Â· Cloudflare One docs\ndescription: Cloudflare Tunnel allows you to publish local applications to the\n  Internet via a public hostname. For example, you can add a published\n  application route that points docs.example.com to https://localhost:8080.\n  Anyone can now view your application by going to docs.example.com in their web\n  browser.\nlastUpdated: 2025-10-23T20:06:36.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/routing-to-tunnel/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/routing-to-tunnel/index.md\n---\n\nCloudflare Tunnel allows you to publish local applications to the Internet via a public hostname. For example, you can [add a published application route](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/get-started/create-remote-tunnel/#2a-publish-an-application) that points `docs.example.com` to `https://localhost:8080`. Anyone can now view your application by going to `docs.example.com` in their web browser.\n\nCloudflare can route traffic down your Cloudflare Tunnel using a [DNS record](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/routing-to-tunnel/dns/) or [Cloudflare Load Balancer](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/routing-to-tunnel/public-load-balancers/). You can configure either option from the Cloudflare dashboard by pointing a DNS `CNAME` record or a load balancer pool to your Cloudflare Tunnel subdomain (`<UUID>.cfargotunnel.com`). You can also associate these records with your tunnel from `cloudflared` directly.\n\nNote\n\nYou do not need a paid Cloudflare Access plan to publish an application via Cloudflare Tunnel. [Access seats](https://developers.cloudflare.com/cloudflare-one/team-and-resources/users/seat-management/) are only required if you want to [secure the application using Access policies](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/self-hosted-public-app/), such as requiring users to log in via an identity provider.\n\n</page>\n\n<page>\n---\ntitle: Use cases Â· Cloudflare One docs\ndescription: \"Cloudflare Tunnel creates a secure, outbound-only connection\n  between your services and Cloudflare by deploying a lightweight connector in\n  your environment. Here is how to use tunnels with some specific services:\"\nlastUpdated: 2025-10-21T14:33:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/index.md\n---\n\nCloudflare Tunnel creates a secure, outbound-only connection between your services and Cloudflare by deploying a lightweight connector in your environment. Here is how to use tunnels with some specific services:\n\n* [SSH](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/)\n* [RDP](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/rdp/)\n* [SMB](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/smb/)\n* [gRPC](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/grpc/)\n\n</page>\n\n<page>\n---\ntitle: Troubleshoot tunnels Â· Cloudflare One docs\nlastUpdated: 2025-10-21T14:33:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/troubleshoot-tunnels/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/troubleshoot-tunnels/index.md\n---\n\n* [Private network connectivity](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/troubleshoot-tunnels/private-networks/)\n* [Tunnel diagnostic logs](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/troubleshoot-tunnels/diag-logs/)\n* [Common errors](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/troubleshoot-tunnels/common-errors/)\n* [Connectivity pre-checks](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/troubleshoot-tunnels/connectivity-prechecks/)\n\n</page>\n\n<page>\n---\ntitle: Analytics Â· Cloudflare One docs\ndescription: Use Magic WAN's different analytic options for an overview of the\n  performance of your sites, or to troubleshoot potential issues.\nlastUpdated: 2025-12-17T18:41:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/analytics/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/analytics/index.md\n---\n\nUse these troubleshooting options to gather information at the start of your troubleshooting process. Then, use more detailed network data collection and analysis to identify the root cause.\n\n* View your entire network at a glance in [Network overview (beta)](#network-overview-beta)\n\n* Analyze network traffic over time in [Network Analytics](#network-analytics)\n\n* Perform more detailed troubleshooting with:\n\n  * [Traceroutes](#traceroutes)\n  * [Packet captures](#packet-captures)\n\n## Network overview (beta)\n\nNetwork overview (beta) shows the connectivity status and traffic analytics for all Magic WAN sites. Use it when you receive an alert, start troubleshooting, or perform routine monitoring.\n\nRefer to [Network health](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/analytics/site-analytics/) to learn more.\n\n## Network Analytics\n\nNetwork Analytics provides detailed analytics on your Magic WAN traffic over time. You can filter data by traffic characteristics and review traffic trends over time.\n\nRefer to [Magic WAN Network Analytics](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/analytics/network-analytics/) to learn more.\n\n## Traceroutes\n\nTraceroutes provide a hop-by-hop breakdown of the Internet path that network traffic follows from Cloudflare's network to your network.\n\nRefer to [Traceroutes](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/analytics/traceroutes/) to learn more.\n\n## Packet captures\n\nPacket captures allow you to analyze the raw packet data your network sends to and receives from Cloudflare's network.\n\nRefer to [packet captures](https://developers.cloudflare.com/magic-firewall/packet-captures/) to learn more.\n\n## Query analytics with GraphQL\n\nGraphQL Analytics provides a GraphQL API you can query to receive raw JSON data for your Magic WAN traffic analytics. You can ingest this data into a security information and event management (SIEM) tool or another platform for further analysis.\n\n* [Querying Magic WAN tunnel bandwidth analytics with GraphQL](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/analytics/query-bandwidth/)\n* [Querying Magic WAN tunnel health check results with GraphQL](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/analytics/query-tunnel-health/)\n\n</page>\n\n<page>\n---\ntitle: Configuration Â· Cloudflare One docs\nlastUpdated: 2025-10-27T11:06:15.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/index.md\n---\n\n* [Configure with Connector](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/appliances/)\n* [Manual configuration](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/manually/)\n* [Common settings](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/common-settings/)\n\n</page>\n\n<page>\n---\ntitle: Get started Â· Cloudflare One docs\ndescription: Magic WAN allows you to achieve any-to-any connectivity across\n  branch and retail sites and data centers, with Cloudflare connectivity cloud.\nlastUpdated: 2025-10-31T13:37:27.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/get-started/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/get-started/index.md\n---\n\nMagic WAN allows you to achieve any-to-any connectivity across branch and retail sites and data centers, with Cloudflare connectivity cloud.\n\n## Before you begin\n\nMagic WAN is an Enterprise-only product. [Contact Cloudflare](https://www.cloudflare.com/magic-wan/) to acquire Magic WAN. If you plan on using Magic WAN Connector to automatically onboard your locations to Cloudflare, you will need to purchase Magic WAN first.\n\n## Set up method\n\nMagic WAN supports an automatic setup and a manual setup. The automatic setup through Magic WAN Connector is the preferred method.\n\n### Automatic set up\n\nSetting up Magic WAN automatically is done through Magic WAN Connector, and is the preferred method. You can choose between the hardware version and the virtual version of Magic WAN Connector. The virtual version can be installed on your own machines.\n\nIf you plan on using Magic WAN Connector, you can skip the prerequisites below, and refer to [Configure with Magic WAN Connector](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/appliances/) for more information on how to continue.\n\n### Manual set up\n\nSetting up Magic WAN manually is done through a combination of third-party devices in your premises and the Cloudflare dashboard. To be successful, you need to:\n\n1. Read the [Prerequisites](#prerequisites) below.\n2. Follow the steps in [Manual configuration](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/manually/how-to/configure-tunnel-endpoints/).\n\n## Prerequisites\n\nNote\n\nThe list of prerequisites below is only for customers planning to connect manually to Cloudflare with a third-party device. If you plan on using Magic WAN Connector, skip this section and refer to [Configure with Magic WAN Connector](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/appliances/).\n\n### Use compatible tunnel endpoint routers\n\nMagic WAN relies on [GRE](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/gre-ipsec-tunnels/) and [IPsec tunnels](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/gre-ipsec-tunnels/#ipsec-tunnels) to transmit [packets](https://www.cloudflare.com/learning/network-layer/what-is-a-packet/) from Cloudflare's global network to your origin network. To ensure compatibility with Magic WAN, the routers at your tunnel endpoints must:\n\n* Allow configuration of at least one tunnel per Internet service provider (ISP).\n* Support maximum segment size (MSS) clamping.\n* Support the configuration parameters for IPsec mentioned in [IPsec tunnels](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/gre-ipsec-tunnels/#supported-configuration-parameters).\n\n### Set maximum segment size\n\nBefore enabling Magic WAN, you must make sure that you set up the maximum segment size on your network. Cloudflare Magic WAN uses tunnels to deliver [packets](https://www.cloudflare.com/learning/network-layer/what-is-a-packet/) from our global network to your data centers. Cloudflare encapsulates these packets adding new headers. You must account for the space consumed by these headers when configuring the maximum transmission unit (MTU) and maximum segment size (MSS) values for your network.\n\n#### MSS clamping recommendations\n\n##### GRE tunnels as off-ramp\n\nThe MSS value depends on how your network is set up.\n\n* **On your edge router**: Apply the clamp to the GRE tunnel internal interface (meaning where the egress traffic will traverse). Set the MSS clamp to 1,436 bytes. Your devices may do this automatically once the tunnel is configured, but it depends on your devices.\n\n##### IPsec tunnels\n\nFor IPsec tunnels, the value you need to specify depends on how your network is set up. The MSS clamping value is lower than for GRE tunnels because the physical interface sees IPsec-encrypted packets, not TCP packets, and MSS clamping does not apply to those.\n\n* **On your edge router**: Apply this on your IPsec tunnel internal interface (meaning where the egress traffic will traverse). Your devices may do this automatically once the tunnel is configured, but it depends on your devices. Set the TCP MSS clamp to 1,360 bytes maximum.\n\nImportant\n\nRefer to your device documentation to check if it sets IPsec MSS clamping automatically. If that is not the case and you are using IPsec inside GRE, you have to set MSS clamp manually.\n\nRefer to [Maximum transmission unit and maximum segment size](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/mtu-mss/) for more details.\n\n### Follow router vendor guidelines\n\nInstructions to adjust MSS by applying MSS clamps vary depending on the vendor of your router.\n\nThe following table lists several commonly used router vendors with links to MSS clamping instructions:\n\n| Router device | URL |\n| - | - |\n| Cisco | [TCP IP Adjust MSS](https://www.cisco.com/en/US/docs/ios-xml/ios/ipapp/command/ip_tcp_adjust-mss_through_ip_wccp_web-cache_accelerated.html#GUID-68044D35-A53E-42C1-A7AB-9236333DA8C4) |\n| Juniper | [TCP MSS - Edit System](https://www.juniper.net/documentation/en_US/junos/topics/reference/configuration-statement/tcp-mss-edit-system.html) |\n\n</page>\n\n<page>\n---\ntitle: Troubleshoot with IPsec logs Â· Cloudflare One docs\ndescription: You can use IPsec logs to troubleshoot issues with your IPsec\n  tunnels. This functionality targets the key-exchange portion of the IPsec\n  handshake. Set up a logpush job to forward your IPsec logs to your preferred\n  storage service, then investigate to find the root cause of key exchange\n  issues.\nlastUpdated: 2025-10-31T13:37:27.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/ipsec-troubleshoot/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/ipsec-troubleshoot/index.md\n---\n\nYou can use IPsec logs to troubleshoot issues with your IPsec tunnels. This functionality targets the key-exchange portion of the IPsec handshake. Set up a logpush job to forward your IPsec logs to your preferred storage service, then investigate to find the root cause of key exchange issues.\n\n## Set up an IPsec logpush job\n\n1. Go to the **Logpush** page.\n\n   [Go to **Logpush**](https://dash.cloudflare.com/?to=/:account/logs)\n\n2. Select **Create a Logpush job**.\n\n3. Select **IPsec logs** as your dataset.\n\nRefer to the [Logpush documentation](https://developers.cloudflare.com/logs/logpush/) for more information about features, including the [available fields](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/ipsec_logs/) in the dataset.\n\n</page>\n\n<page>\n---\ntitle: Legal Â· Cloudflare One docs\nlastUpdated: 2025-10-27T11:06:15.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/legal/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/legal/index.md\n---\n\n* [Third party licenses](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/legal/3rdparty/)\n\n</page>\n\n<page>\n---\ntitle: Load Balancing Â· Cloudflare One docs\ndescription: You can use Cloudflare Load Balancing with Magic WAN to distribute\n  traffic across endpoints, reducing strain and improving the performance of\n  your network. This works through Private Network Load Balancing, which\n  supports both on-ramping and off-ramping traffic to Magic WAN.\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/load-balancing/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/load-balancing/index.md\n---\n\nYou can use Cloudflare Load Balancing with Magic WAN to distribute traffic across endpoints, reducing strain and improving the performance of your network. This works through Private Network Load Balancing, which supports both on-ramping and off-ramping traffic to Magic WAN.\n\nRefer to [Private Network Load Balancing](https://developers.cloudflare.com/load-balancing/private-network/) for more information about the feature and how to set it up. You will need to [enable Load Balancing](https://developers.cloudflare.com/load-balancing/) before you can use this feature.\n\n</page>\n\n<page>\n---\ntitle: Network Interconnect and WAN Tunnels Â· Cloudflare One docs\ndescription: Cloudflare Network Interconnect (CNI) allows you to connect your\n  network infrastructure directly with Cloudflare â€” rather than using the public\n  Internet â€” for a more reliable and secure experience. With CNI, you can bring\n  Cloudflare's full suite of network functions to your physical network edge.\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/network-interconnect/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/network-interconnect/index.md\n---\n\nCloudflare Network Interconnect (CNI) allows you to connect your network infrastructure directly with Cloudflare â€” rather than using the public Internet â€” for a more reliable and secure experience. With CNI, you can bring Cloudflare's full suite of network functions to your physical network edge.\n\nFor more information about Network Interconnect, refer to the [Cloudflare Network Interconnect documentation](https://developers.cloudflare.com/network-interconnect/).\n\nRun `traceroute`\n\nMagic WAN clients connecting through [GRE](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/manually/how-to/configure-tunnel-endpoints/), [IPsec](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/manually/how-to/configure-tunnel-endpoints/), [CNI](https://developers.cloudflare.com/network-interconnect/) or [WARP](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/) that want to perform a `traceroute` to an endpoint behind a [Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/) will need to change some settings to make the command useful. Refer to [Run `traceroute`](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/manually/how-to/traceroute/) for more information.\n\n</page>\n\n<page>\n---\ntitle: On-ramps Â· Cloudflare One docs\ndescription: To on-ramp your network traffic to Magic WAN, you can use Magic WAN\n  Connector, a lightweight software package you can install in corporate network\n  locations to automatically connect, steer, and shape any IP traffic.\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/on-ramps/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/on-ramps/index.md\n---\n\nTo on-ramp your network traffic to Magic WAN, you can use [Magic WAN Connector](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/appliances/), a lightweight software package you can install in corporate network locations to automatically connect, steer, and shape any IP traffic.\n\nYou can also use any device that supports [GRE or IPsec](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/manually/third-party/) tunnels with the supported configuration parameters.\n\nAdditional compatible on-ramps include:\n\n* [Cloudflare Network Interconnect (CNI)](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/network-interconnect/): Connect your network infrastructure directly with Cloudflare - rather than using the public Internet - for a more reliable and secure experience.\n* [Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/zero-trust/cloudflare-tunnel/): Magic WAN can be used together with Cloudflare Tunnel for easy access between your networks and applications.\n* [WARP](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/zero-trust/warp/): Protect corporate devices by securely and privately sending traffic from those devices to Cloudflare's global network, where Cloudflare Gateway can apply advanced web filtering.\n\n- [Network on-ramp partnerships](https://www.cloudflare.com/network-onramp-partners/): Refer to our [third-party integration tutorials](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/configuration/manually/third-party/) for guidance on configuring the most asked for third-party products.\n\n</page>\n\n<page>\n---\ntitle: Reference Â· Cloudflare One docs\nlastUpdated: 2025-10-27T11:06:15.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/index.md\n---\n\n* [Anti-replay protection](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/anti-replay-protection/)\n* [Bandwidth measurement](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/bandwidth-measurement/)\n* [Device compatibility](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/device-compatibility/)\n* [GRE and IPsec tunnels](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/gre-ipsec-tunnels/)\n* [Maximum transmission unit and maximum segment size](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/mtu-mss/)\n* [Traffic steering](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/traffic-steering/)\n* [Tunnel health checks](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/tunnel-health-checks/)\n* [How Cloudflare calculates tunnel health alerts](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/reference/how-cloudflare-calculates-magic-tunnel-health-alerts/)\n\n</page>\n\n<page>\n---\ntitle: Enable security filters Â· Cloudflare One docs\ndescription: Magic WAN customers have automatic access to Magic Firewall. Magic\n  Firewall is Cloudflare's firewall-as-a-service solution that allows you to\n  protect your infrastructure. Magic Firewall supports layers three and four of\n  the OSI model, and enables you to allow or block traffic on a variety of\n  packet characteristics.\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/security/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/security/index.md\n---\n\nMagic WAN customers have [automatic access to Magic Firewall](https://developers.cloudflare.com/magic-firewall/plans/). Magic Firewall is Cloudflare's firewall-as-a-service solution that allows you to protect your infrastructure. Magic Firewall supports layers three and four of the [OSI model](https://www.cloudflare.com/learning/ddos/glossary/open-systems-interconnection-model-osi/), and enables you to allow or block traffic on a variety of packet characteristics.\n\nRefer to [Magic Firewall](https://developers.cloudflare.com/magic-firewall/) for more information about this product.\n\nAs a Magic WAN customer, you can also use Cloudflare Gateway to set up policies to inspect network and HTTP traffic to the Internet or your private network infrastructure. Refer to [Connect to Cloudflare Gateway with Magic WAN](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/zero-trust/cloudflare-gateway/) to learn how to filter Magic WAN traffic with Gateway policies.\n\n</page>\n\n<page>\n---\ntitle: Cloudflare One integration tutorials Â· Cloudflare One docs\ndescription: Learn how to integrate Magic WAN with other Cloudflare One\n  products, such as Cloudflare Gateway and Cloudflare WARP.\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/zero-trust/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/zero-trust/index.md\n---\n\nReview the tutorials to learn more about how you can use Magic WAN with the following Cloudflare One products.\n\n* [Cloudflare Gateway](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/zero-trust/cloudflare-gateway/)\n* [Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/zero-trust/cloudflare-tunnel/)\n* [WARP](https://developers.cloudflare.com/cloudflare-one/networks/connectors/wan-tunnels/zero-trust/warp/)\n\nIf you want a deep dive into key architecture and functionalities aspects of Cloudflare One, and learn more about Magic WAN and its structure, refer to [Evolving to a SASE architecture with Cloudflare](https://developers.cloudflare.com/reference-architecture/architectures/sase/).\n\n</page>\n\n<page>\n---\ntitle: DNS over HTTPS (DoH) Â· Cloudflare One docs\ndescription: With Cloudflare Gateway, you can filter DNS over HTTPS (DoH)\n  requests by DNS location or by user without needing to install the WARP client\n  on your devices.\nlastUpdated: 2025-11-21T18:29:21.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/dns-over-https/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/dns-over-https/index.md\n---\n\nWith Cloudflare Gateway, you can filter DNS over HTTPS (DoH) requests by [DNS location](https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/locations/) or by user without needing to install the WARP client on your devices.\n\nLocation-based policies require that you send DNS requests to a [location-specific DoH endpoint](#filter-doh-requests-by-location), while identity-based policies require that requests include a [user-specific DoH token](#filter-doh-requests-by-user).\n\n## Filter DoH requests by location\n\nLocation-based policies require that you send DNS queries to a unique DoH endpoint assigned to the location:",
      "language": "unknown"
    },
    {
      "code": "### Prerequisites\n\nObtain your location's DoH subdomain.\n\n### Configure browser for DoH\n\nBrowsers can be configured to use any DNS over HTTPS (DoH) endpoint. If you choose to configure DoH directly in your browser, you must choose a Gateway DNS location as your DoH endpoint, otherwise DNS filtering will not occur in that browser.\n\nMozilla Firefox\n\n1. In Firefox, go to **Settings**.\n2. In **Privacy & Security**, go to **DNS over HTTPS**.\n3. Under **Enable secure DNS using**, select *Max Protection*.\n4. In **Choose provider**, choose *Custom*.\n5. In the field, enter `https://<YOUR_DOH_SUBDOMAIN>.cloudflare-gateway.com/dns-query`.\n\nFirefox is now configured to use your DoH endpoint. For more information on configuring DoH settings in Firefox, refer to [Mozilla's documentation](https://support.mozilla.org/kb/dns-over-https).\n\nNote\n\nIf you want to enforce DNS policies through WARP instead of over DoH, you can disable DoH for your organization by blocking the [Firefox DoH canary domain](https://support.mozilla.org/kb/canary-domain-use-application-dnsnet).\n\nGoogle Chrome\n\n1. In Chrome, go to **Settings** > **Privacy and security** > **Security**.\n2. Scroll down and turn on **Use secure DNS**.\n3. Select **With Custom**.\n4. In the **Enter custom provider** field, enter `https://<YOUR_DOH_SUBDOMAIN>.cloudflare-gateway.com/dns-query`.\n\nRead more about [enabling DNS over HTTPS](https://www.chromium.org/developers/dns-over-https) on Chrome.\n\nMicrosoft Edge\n\n1. In Microsoft Edge, go to **Settings**.\n2. Select **Privacy, Search, and Services**, and scroll down to **Security**.\n3. Turn on **Use secure DNS**.\n4. Select **Choose a service provider**.\n5. In the **Enter custom provider** field, enter `https://<YOUR_DOH_SUBDOMAIN>.cloudflare-gateway.com/dns-query`.\n\nBrave\n\n1. In Brave, go to **Settings** > **Security and Privacy** > **Security**.\n2. Turn on **Use secure DNS**.\n3. Select **With Custom**.\n4. In the **Enter custom provider** field, enter `https://<YOUR_DOH_SUBDOMAIN>.cloudflare-gateway.com/dns-query`.\n\nSafari\n\nCurrently, Safari does not support DNS over HTTPS.\n\nYour DNS queries will now be sent to Gateway for filtering. To filter these requests, build a DNS policy using the [**DNS Location**](https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/locations/) selector.\n\n### Configure operating system for DoH\n\nWindows 11\n\n1. Obtain the `A` and `AAAA` record values associated with your location's DoH endpoint.\n\n   1. Run the following command to obtain your `A` record values:",
      "language": "unknown"
    },
    {
      "code": "1. Obtain your `AAAA` record values.",
      "language": "unknown"
    },
    {
      "code": "1. Copy the resulting IP addresses.\n\n2. Add the addresses to your list of known DoH servers.\n\n   1. Run the following command for each address:",
      "language": "unknown"
    },
    {
      "code": "1. Confirm the addresses were added.",
      "language": "unknown"
    },
    {
      "code": "3. In Windows, go to **Settings** > **Network & internet** > your active Internet connection. This option may be either **Ethernet** or **Wi-Fi**.\n\n4. Under **DNS server assignment**, select **Edit**.\n\n5. In the drop-down menu, choose *Manual*.\n\n6. Enable **IPv4**.\n\n7. In **Preferred DNS** and **Alternate DNS**, enter the IPv4 addresses from your `A` record command. Set **DNS over HTTPS** to *On (automatic template)*.\n\n8. Enable **IPv6**.\n\n9. In **Preferred DNS** and **Alternate DNS**, enter the IPv6 addresses from your `AAAA` record command. Set **DNS over HTTPS** to *On (automatic template)*.\n\nWindows Server 2022\n\nObtain the `A` and `AAAA` record values associated with your location's DoH endpoint.\n\n1. Run the following command to obtain your `A` record values:",
      "language": "unknown"
    },
    {
      "code": "1. Obtain your `AAAA` record values.",
      "language": "unknown"
    },
    {
      "code": "1. Copy the resulting IP addresses.\n2. [Add the addresses](https://learn.microsoft.com/en-us/windows-server/networking/dns/doh-client-support#add-a-new-doh-server-to-the-list-of-known-servers) to your list of known DoH servers.\n3. [Configure the Windows Server client](https://learn.microsoft.com/en-us/windows-server/networking/dns/doh-client-support#configure-the-dns-client-to-support-doh) or [set up a Group Policy](https://learn.microsoft.com/en-us/windows-server/networking/dns/doh-client-support#configuring-doh-through-group-policy) to use DoH.\n\nFor more information, refer to [Microsoft's DoH guide](https://learn.microsoft.com/en-us/windows-server/networking/dns/doh-client-support) for Windows Server 2022 and newer.\n\n### Use generic DoH endpoint\n\nYou can send DoH requests to the generic Cloudflare DoH endpoint, `dns.cloudflare-gateway.com`. To specify a location in your request, include a header named `cf-dns-location` with a value of your location's DoH subdomain. For example:",
      "language": "unknown"
    },
    {
      "code": "## Filter DoH requests by user\n\nIn order to filter DoH queries based on user identity, each query must include a user-specific authentication token. If you have several devices per user and want to apply device-specific policies, you will need to map each device to a different email.\n\nCurrently, authentication tokens can only be generated through the API. You can run this [interactive Python script](https://developers.cloudflare.com/cloudflare-one/static/authenticated-doh.py) which automates the setup procedure, or follow the steps described below.\n\n### 1. Create a service token for the account\n\nEach Cloudflare account can only have one active Access [service token](https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/service-tokens/) authorized for DNS over HTTPS (DoH) at a time.",
      "language": "unknown"
    },
    {
      "code": "Save the service token's `client_id`, `client_secret`, and `id`.\n\nExample response",
      "language": "unknown"
    },
    {
      "code": "### 2. Enable DoH functionality for the service token",
      "language": "unknown"
    },
    {
      "code": "If you get an `access.api.error.service_token_not_found` error, check that `$SERVICE_TOKEN_ID` is the value of `id` and not `client_id`.\n\nNote\n\nAlthough you can create multiple valid service tokens, only one service token can be designated for issuing DoH tokens. Calling the API to enable DoH on a new service token replaces the previously active service token. If a new token overrides an active service token, the API call will fail.\n\nExample response",
      "language": "unknown"
    },
    {
      "code": "### 3. Create a user\n\nCreate a new user and optionally add them to a group.",
      "language": "unknown"
    },
    {
      "code": "Save the user's `id` returned in the response.\n\nExample response",
      "language": "unknown"
    },
    {
      "code": "Note\n\nSteps 1-3 above only need to be completed once, while Steps 4-5 below would occur during normal operation.\n\n### 4. Generate a DoH token for the user\n\nRequest a DoH token for the user, using your service token to authenticate into your team domain.",
      "language": "unknown"
    },
    {
      "code": "The response contains a unique DoH token associated with the user. This token expires in 24 hours. We recommend setting up a refresh flow for the DoH token instead of generating a new one for every DoH query.\n\nExample response",
      "language": "unknown"
    },
    {
      "code": "### 5. Send an authenticated DoH query\n\nSend DoH queries to the resolver at `https://<ACCOUNT_ID>.cloudflare-gateway.com/dns-query`, making sure to include the user's DoH token in the `CF-Authorization` header.",
      "language": "unknown"
    },
    {
      "code": "If the site is blocked and you have turned on the [block page](https://developers.cloudflare.com/cloudflare-one/reusable-components/custom-pages/gateway-block-page/#configure-policy-block-behavior) for the policy, the query will return `162.159.36.12` (the IP address of the Gateway block page). If the block page is disabled, the response will be `0.0.0.0`.\n\nExample response",
      "language": "unknown"
    },
    {
      "code": "You can verify that the request was associated with the correct user email by checking your [Gateway DNS logs](https://developers.cloudflare.com/cloudflare-one/insights/logs/gateway-logs/). To filter these requests, build a DNS policy using any of the Gateway [identity-based selectors](https://developers.cloudflare.com/cloudflare-one/traffic-policies/identity-selectors/).\n\n</page>\n\n<page>\n---\ntitle: DNS over TLS (DoT) Â· Cloudflare One docs\ndescription: By default, DNS is sent over a plaintext connection. DNS over TLS\n  (DoT) is a standard for encrypting DNS queries to keep them secure and\n  private. DoT uses the same security protocol, TLS, that HTTPS websites use to\n  encrypt and authenticate communications.\nlastUpdated: 2025-11-21T18:29:21.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/dns-over-tls/\n  md: https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/dns-over-tls/index.md\n---\n\nBy default, DNS is sent over a plaintext connection. DNS over TLS (DoT) is a standard for encrypting DNS queries to keep them secure and private. DoT uses the same security protocol, TLS, that HTTPS websites use to encrypt and authenticate communications.\n\nCloudflare supports DoT on standard port `853` over TLS 1.2 and TLS 1.3 in compliance with [RFC7858](https://tools.ietf.org/html/rfc7858).\n\n## Configure DoT queries\n\n### 1. Obtain your DoT hostname\n\nEach Gateway DNS location has a unique DoT hostname. DNS locations and corresponding DoT hostnames have policies associated with them.\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Networks** > **Resolvers & Proxies**.\n2. Under **DNS locations**, [add a new location](https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/locations/) or select an existing location from the list.\n3. Under **DoT endpoint**, copy the value in **DoT addresses**.\n\nThe DoT hostname contains your unique location name. For example, if the DoT hostname is `9y65g5srsm.cloudflare-gateway.com`, the location name is `9y65g5srsm`.\n\n### 2. Configure your DoT client\n\nTo configure a DoT client such as `dig`, specify the IP address and the DoT hostname for your location in your query. For example:",
      "language": "unknown"
    },
    {
      "code": "Alternatively, you can use the generic DoT endpoint (`dns.cloudflare-gateway.com`) and include an `OPT` record with code `65011`. You can select a specific location for the value of the `OPT` record. For example:",
      "language": "unknown"
    },
    {
      "code": "Some stub resolvers support DoT natively. For example, you can configure Unbound to send a DoT query:",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h3",
      "text": "Getting to know your models",
      "id": "getting-to-know-your-models"
    },
    {
      "level": "h3",
      "text": "Language Translation",
      "id": "language-translation"
    },
    {
      "level": "h3",
      "text": "Information Retrieval and Summarization",
      "id": "information-retrieval-and-summarization"
    },
    {
      "level": "h3",
      "text": "Content Creation",
      "id": "content-creation"
    },
    {
      "level": "h3",
      "text": "Text Classification",
      "id": "text-classification"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "1. Agree to Meta's license",
      "id": "1.-agree-to-meta's-license"
    },
    {
      "level": "h2",
      "text": "2. Set up your Cloudflare Worker",
      "id": "2.-set-up-your-cloudflare-worker"
    },
    {
      "level": "h2",
      "text": "3. Write the Worker code",
      "id": "3.-write-the-worker-code"
    },
    {
      "level": "h2",
      "text": "4. Bind Workers AI to your Worker",
      "id": "4.-bind-workers-ai-to-your-worker"
    },
    {
      "level": "h2",
      "text": "5. Deploy the Worker",
      "id": "5.-deploy-the-worker"
    },
    {
      "level": "h2",
      "text": "6. Test Your Worker",
      "id": "6.-test-your-worker"
    },
    {
      "level": "h2",
      "text": "7. Verify the response",
      "id": "7.-verify-the-response"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "1. Set up your Cloudflare Worker",
      "id": "1.-set-up-your-cloudflare-worker"
    },
    {
      "level": "h2",
      "text": "2. Import GCP Service key into the Worker as Secrets",
      "id": "2.-import-gcp-service-key-into-the-worker-as-secrets"
    },
    {
      "level": "h2",
      "text": "3. Install library to handle JWT operations",
      "id": "3.-install-library-to-handle-jwt-operations"
    },
    {
      "level": "h2",
      "text": "4. Generate JSON web token",
      "id": "4.-generate-json-web-token"
    },
    {
      "level": "h2",
      "text": "5. Make authenticated requests to Google BigQuery",
      "id": "5.-make-authenticated-requests-to-google-bigquery"
    },
    {
      "level": "h2",
      "text": "6. Format results from the query",
      "id": "6.-format-results-from-the-query"
    },
    {
      "level": "h2",
      "text": "7. Feed data into Workers AI",
      "id": "7.-feed-data-into-workers-ai"
    },
    {
      "level": "h2",
      "text": "Final result",
      "id": "final-result"
    },
    {
      "level": "h2",
      "text": "Conclusion",
      "id": "conclusion"
    },
    {
      "level": "h2",
      "text": "Next Steps",
      "id": "next-steps"
    },
    {
      "level": "h2",
      "text": "Recommendations",
      "id": "recommendations"
    },
    {
      "level": "h2",
      "text": "Capacity calculator",
      "id": "capacity-calculator"
    },
    {
      "level": "h2",
      "text": "Scaling considerations",
      "id": "scaling-considerations"
    },
    {
      "level": "h2",
      "text": "Next steps",
      "id": "next-steps"
    },
    {
      "level": "h2",
      "text": "Supported parameters",
      "id": "supported-parameters"
    },
    {
      "level": "h2",
      "text": "Examples",
      "id": "examples"
    },
    {
      "level": "h2",
      "text": "Response fields",
      "id": "response-fields"
    },
    {
      "level": "h3",
      "text": "Successful response",
      "id": "successful-response"
    },
    {
      "level": "h3",
      "text": "Error response",
      "id": "error-response"
    },
    {
      "level": "h2",
      "text": "Using POST",
      "id": "using-post"
    },
    {
      "level": "h2",
      "text": "Using GET",
      "id": "using-get"
    },
    {
      "level": "h2",
      "text": "Billing",
      "id": "billing"
    },
    {
      "level": "h2",
      "text": "1. Identify payment requirements",
      "id": "1.-identify-payment-requirements"
    },
    {
      "level": "h2",
      "text": "2. Access paid content",
      "id": "2.-access-paid-content"
    },
    {
      "level": "h3",
      "text": "2.1. Include payment headers",
      "id": "2.1.-include-payment-headers"
    },
    {
      "level": "h3",
      "text": "2.2. Sign your request with Web Bot Auth",
      "id": "2.2.-sign-your-request-with-web-bot-auth"
    },
    {
      "level": "h3",
      "text": "2.3. Review response headers",
      "id": "2.3.-review-response-headers"
    },
    {
      "level": "h2",
      "text": "3. Track your spending",
      "id": "3.-track-your-spending"
    },
    {
      "level": "h2",
      "text": "Additional resources",
      "id": "additional-resources"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Authenticate with Web Bot Auth",
      "id": "authenticate-with-web-bot-auth"
    },
    {
      "level": "h2",
      "text": "Discover participating domains",
      "id": "discover-participating-domains"
    },
    {
      "level": "h3",
      "text": "API endpoint",
      "id": "api-endpoint"
    },
    {
      "level": "h3",
      "text": "Request parameters",
      "id": "request-parameters"
    },
    {
      "level": "h3",
      "text": "Request headers",
      "id": "request-headers"
    },
    {
      "level": "h3",
      "text": "Example request",
      "id": "example-request"
    },
    {
      "level": "h3",
      "text": "Response format",
      "id": "response-format"
    },
    {
      "level": "h3",
      "text": "Response fields",
      "id": "response-fields"
    },
    {
      "level": "h2",
      "text": "Use discovery data",
      "id": "use-discovery-data"
    },
    {
      "level": "h2",
      "text": "Additional resources",
      "id": "additional-resources"
    },
    {
      "level": "h2",
      "text": "Content access restriction",
      "id": "content-access-restriction"
    },
    {
      "level": "h2",
      "text": "1. Follow Web Bot Auth protocol",
      "id": "1.-follow-web-bot-auth-protocol"
    },
    {
      "level": "h2",
      "text": "2. Follow verified bot policy",
      "id": "2.-follow-verified-bot-policy"
    },
    {
      "level": "h2",
      "text": "3. Submit verification request",
      "id": "3.-submit-verification-request"
    },
    {
      "level": "h2",
      "text": "Disable Pay Per Crawl by URI pattern",
      "id": "disable-pay-per-crawl-by-uri-pattern"
    },
    {
      "level": "h2",
      "text": "Additional resources",
      "id": "additional-resources"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Configure domain access",
      "id": "configure-domain-access"
    },
    {
      "level": "h2",
      "text": "Create a new Stripe account",
      "id": "create-a-new-stripe-account"
    },
    {
      "level": "h2",
      "text": "Billing lifecycle",
      "id": "billing-lifecycle"
    },
    {
      "level": "h3",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h2",
      "text": "View crawler activity",
      "id": "view-crawler-activity"
    },
    {
      "level": "h2",
      "text": "Additional considerations",
      "id": "additional-considerations"
    },
    {
      "level": "h3",
      "text": "Robots.txt management",
      "id": "robots.txt-management"
    },
    {
      "level": "h3",
      "text": "Ongoing optimization",
      "id": "ongoing-optimization"
    },
    {
      "level": "h2",
      "text": "Additional resources",
      "id": "additional-resources"
    },
    {
      "level": "h2",
      "text": "Bulk actions",
      "id": "bulk-actions"
    },
    {
      "level": "h2",
      "text": "Description and Beta mode",
      "id": "description-and-beta-mode"
    },
    {
      "level": "h2",
      "text": "Deprecation",
      "id": "deprecation"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Explore documentation",
      "id": "explore-documentation"
    },
    {
      "level": "h2",
      "text": "Format",
      "id": "format"
    },
    {
      "level": "h2",
      "text": "A sample query",
      "id": "a-sample-query"
    },
    {
      "level": "h2",
      "text": "Access the Create API Token page",
      "id": "access-the-create-api-token-page"
    },
    {
      "level": "h2",
      "text": "Configure a custom API token",
      "id": "configure-a-custom-api-token"
    },
    {
      "level": "h2",
      "text": "Review and create your API token",
      "id": "review-and-create-your-api-token"
    },
    {
      "level": "h2",
      "text": "Copy and test your API token",
      "id": "copy-and-test-your-api-token"
    },
    {
      "level": "h2",
      "text": "Aggregated roll-ups versus Adaptive Bit Rate",
      "id": "aggregated-roll-ups-versus-adaptive-bit-rate"
    },
    {
      "level": "h2",
      "text": "Sampling improvements",
      "id": "sampling-improvements"
    },
    {
      "level": "h2",
      "text": "Main nodes",
      "id": "main-nodes"
    },
    {
      "level": "h2",
      "text": "Attack nodes",
      "id": "attack-nodes"
    },
    {
      "level": "h3",
      "text": "`dosdAttackAnalyticsGroups`",
      "id": "`dosdattackanalyticsgroups`"
    },
    {
      "level": "h3",
      "text": "`dosdNetworkAnalyticsAdaptiveGroups`",
      "id": "`dosdnetworkanalyticsadaptivegroups`"
    },
    {
      "level": "h3",
      "text": "`advancedTcpProtectionNetworkAnalyticsAdaptiveGroups`",
      "id": "`advancedtcpprotectionnetworkanalyticsadaptivegroups`"
    },
    {
      "level": "h3",
      "text": "`advancedDnsProtectionNetworkAnalyticsAdaptiveGroups`",
      "id": "`advanceddnsprotectionnetworkanalyticsadaptivegroups`"
    },
    {
      "level": "h3",
      "text": "`magicFirewallNetworkAnalyticsAdaptiveGroups`",
      "id": "`magicfirewallnetworkanalyticsadaptivegroups`"
    },
    {
      "level": "h2",
      "text": "Agent policy",
      "id": "agent-policy"
    },
    {
      "level": "h3",
      "text": "Minimum traffic",
      "id": "minimum-traffic"
    },
    {
      "level": "h3",
      "text": "Minimum zones",
      "id": "minimum-zones"
    },
    {
      "level": "h3",
      "text": "Agent identification",
      "id": "agent-identification"
    },
    {
      "level": "h3",
      "text": "Service purpose",
      "id": "service-purpose"
    },
    {
      "level": "h3",
      "text": "Public documentation",
      "id": "public-documentation"
    },
    {
      "level": "h2",
      "text": "Breach of policy",
      "id": "breach-of-policy"
    },
    {
      "level": "h2",
      "text": "Bot policy",
      "id": "bot-policy"
    },
    {
      "level": "h3",
      "text": "Minimum traffic",
      "id": "minimum-traffic"
    },
    {
      "level": "h3",
      "text": "Minimum zones",
      "id": "minimum-zones"
    },
    {
      "level": "h3",
      "text": "Bot identification",
      "id": "bot-identification"
    },
    {
      "level": "h3",
      "text": "Domain owner consent",
      "id": "domain-owner-consent"
    },
    {
      "level": "h3",
      "text": "Service purpose",
      "id": "service-purpose"
    },
    {
      "level": "h3",
      "text": "Crawling etiquette",
      "id": "crawling-etiquette"
    },
    {
      "level": "h3",
      "text": "Public documentation",
      "id": "public-documentation"
    },
    {
      "level": "h2",
      "text": "Breach of Policy",
      "id": "breach-of-policy"
    },
    {
      "level": "h2",
      "text": "Use when",
      "id": "use-when"
    },
    {
      "level": "h2",
      "text": "How to",
      "id": "how-to"
    },
    {
      "level": "h3",
      "text": "TXT records",
      "id": "txt-records"
    },
    {
      "level": "h3",
      "text": "HTTP tokens",
      "id": "http-tokens"
    },
    {
      "level": "h2",
      "text": "Use when",
      "id": "use-when"
    },
    {
      "level": "h2",
      "text": "How to",
      "id": "how-to"
    },
    {
      "level": "h3",
      "text": "Normal setup (CNAME target)",
      "id": "normal-setup-(cname-target)"
    },
    {
      "level": "h3",
      "text": "Apex proxying",
      "id": "apex-proxying"
    },
    {
      "level": "h2",
      "text": "Refresh validation",
      "id": "refresh-validation"
    },
    {
      "level": "h2",
      "text": "Success codes",
      "id": "success-codes"
    },
    {
      "level": "h2",
      "text": "Error codes",
      "id": "error-codes"
    },
    {
      "level": "h2",
      "text": "Success codes",
      "id": "success-codes"
    },
    {
      "level": "h2",
      "text": "Error codes",
      "id": "error-codes"
    },
    {
      "level": "h2",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "How it works",
      "id": "how-it-works"
    },
    {
      "level": "h2",
      "text": "Enable",
      "id": "enable"
    },
    {
      "level": "h2",
      "text": "Product compatibility",
      "id": "product-compatibility"
    },
    {
      "level": "h2",
      "text": "Zone hold",
      "id": "zone-hold"
    },
    {
      "level": "h2",
      "text": "Additional support",
      "id": "additional-support"
    },
    {
      "level": "h2",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "How it works",
      "id": "how-it-works"
    },
    {
      "level": "h2",
      "text": "Enable",
      "id": "enable"
    },
    {
      "level": "h2",
      "text": "Product compatibility",
      "id": "product-compatibility"
    },
    {
      "level": "h2",
      "text": "Zone hold",
      "id": "zone-hold"
    },
    {
      "level": "h2",
      "text": "Additional support",
      "id": "additional-support"
    },
    {
      "level": "h2",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "How it works",
      "id": "how-it-works"
    },
    {
      "level": "h2",
      "text": "Enable",
      "id": "enable"
    },
    {
      "level": "h2",
      "text": "Product compatibility",
      "id": "product-compatibility"
    },
    {
      "level": "h2",
      "text": "Zone hold",
      "id": "zone-hold"
    },
    {
      "level": "h2",
      "text": "Additional support",
      "id": "additional-support"
    },
    {
      "level": "h3",
      "text": "Resolving SSL errors using Cloudflare Managed Certificates",
      "id": "resolving-ssl-errors-using-cloudflare-managed-certificates"
    },
    {
      "level": "h2",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "How it works",
      "id": "how-it-works"
    },
    {
      "level": "h2",
      "text": "Enable",
      "id": "enable"
    },
    {
      "level": "h3",
      "text": "Additional requirements for wildcard subdomains",
      "id": "additional-requirements-for-wildcard-subdomains"
    },
    {
      "level": "h2",
      "text": "Product compatibility",
      "id": "product-compatibility"
    },
    {
      "level": "h2",
      "text": "Zone hold",
      "id": "zone-hold"
    },
    {
      "level": "h2",
      "text": "Additional support",
      "id": "additional-support"
    },
    {
      "level": "h3",
      "text": "Resolving SSL errors",
      "id": "resolving-ssl-errors"
    },
    {
      "level": "h2",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "How it works",
      "id": "how-it-works"
    },
    {
      "level": "h2",
      "text": "Enable",
      "id": "enable"
    },
    {
      "level": "h2",
      "text": "Product compatibility",
      "id": "product-compatibility"
    },
    {
      "level": "h2",
      "text": "Zone hold",
      "id": "zone-hold"
    },
    {
      "level": "h2",
      "text": "Additional support",
      "id": "additional-support"
    },
    {
      "level": "h3",
      "text": "Resolving SSL errors using Cloudflare Managed Certificates",
      "id": "resolving-ssl-errors-using-cloudflare-managed-certificates"
    },
    {
      "level": "h3",
      "text": "Best practice Zone-level configuration",
      "id": "best-practice-zone-level-configuration"
    },
    {
      "level": "h2",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "How it works",
      "id": "how-it-works"
    },
    {
      "level": "h2",
      "text": "Enable",
      "id": "enable"
    },
    {
      "level": "h2",
      "text": "Product compatibility",
      "id": "product-compatibility"
    },
    {
      "level": "h2",
      "text": "Zone hold",
      "id": "zone-hold"
    },
    {
      "level": "h2",
      "text": "Additional support",
      "id": "additional-support"
    },
    {
      "level": "h3",
      "text": "DNS CAA records",
      "id": "dns-caa-records"
    },
    {
      "level": "h2",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "How it works",
      "id": "how-it-works"
    },
    {
      "level": "h2",
      "text": "Enable",
      "id": "enable"
    },
    {
      "level": "h2",
      "text": "Zone hold",
      "id": "zone-hold"
    },
    {
      "level": "h2",
      "text": "Product compatibility",
      "id": "product-compatibility"
    },
    {
      "level": "h2",
      "text": "Additional support",
      "id": "additional-support"
    },
    {
      "level": "h3",
      "text": "DNS CAA records",
      "id": "dns-caa-records"
    },
    {
      "level": "h2",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "How it works",
      "id": "how-it-works"
    },
    {
      "level": "h2",
      "text": "Enable",
      "id": "enable"
    },
    {
      "level": "h2",
      "text": "Product compatibility",
      "id": "product-compatibility"
    },
    {
      "level": "h2",
      "text": "Zone hold",
      "id": "zone-hold"
    },
    {
      "level": "h2",
      "text": "Additional support",
      "id": "additional-support"
    },
    {
      "level": "h3",
      "text": "Resolving SSL errors",
      "id": "resolving-ssl-errors"
    },
    {
      "level": "h2",
      "text": "Use cases",
      "id": "use-cases"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h2",
      "text": "Enable mTLS",
      "id": "enable-mtls"
    },
    {
      "level": "h2",
      "text": "Minimum TLS Version",
      "id": "minimum-tls-version"
    },
    {
      "level": "h3",
      "text": "Scope",
      "id": "scope"
    },
    {
      "level": "h3",
      "text": "Setup",
      "id": "setup"
    },
    {
      "level": "h2",
      "text": "Cipher suites",
      "id": "cipher-suites"
    },
    {
      "level": "h2",
      "text": "Alerts for mutual TLS certificates",
      "id": "alerts-for-mutual-tls-certificates"
    },
    {
      "level": "h2",
      "text": "Certificate validation",
      "id": "certificate-validation"
    },
    {
      "level": "h3",
      "text": "Validation succeeded",
      "id": "validation-succeeded"
    },
    {
      "level": "h3",
      "text": "Validation failed",
      "id": "validation-failed"
    },
    {
      "level": "h2",
      "text": "Certificate issuance",
      "id": "certificate-issuance"
    },
    {
      "level": "h3",
      "text": "Issuance succeeded",
      "id": "issuance-succeeded"
    },
    {
      "level": "h3",
      "text": "Issuance failed",
      "id": "issuance-failed"
    },
    {
      "level": "h2",
      "text": "Certificate deployment",
      "id": "certificate-deployment"
    },
    {
      "level": "h3",
      "text": "Deployment succeeded",
      "id": "deployment-succeeded"
    },
    {
      "level": "h3",
      "text": "Deployment failed",
      "id": "deployment-failed"
    },
    {
      "level": "h2",
      "text": "Certificate deletion",
      "id": "certificate-deletion"
    },
    {
      "level": "h3",
      "text": "Deletion succeeded",
      "id": "deletion-succeeded"
    },
    {
      "level": "h3",
      "text": "Deletion failed",
      "id": "deletion-failed"
    },
    {
      "level": "h2",
      "text": "Certificate renewal",
      "id": "certificate-renewal"
    },
    {
      "level": "h3",
      "text": "Upcoming renewal",
      "id": "upcoming-renewal"
    },
    {
      "level": "h3",
      "text": "Renewal succeeded",
      "id": "renewal-succeeded"
    },
    {
      "level": "h3",
      "text": "Renewal failed",
      "id": "renewal-failed"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Alerts",
      "id": "alerts"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "1. Choose security tagging system",
      "id": "1.-choose-security-tagging-system"
    },
    {
      "level": "h2",
      "text": "2. Deploy rulesets",
      "id": "2.-deploy-rulesets"
    },
    {
      "level": "h2",
      "text": "Next steps",
      "id": "next-steps"
    },
    {
      "level": "h2",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "Setup",
      "id": "setup"
    },
    {
      "level": "h2",
      "text": "Footnotes",
      "id": "footnotes"
    },
    {
      "level": "h2",
      "text": "Requirements",
      "id": "requirements"
    },
    {
      "level": "h2",
      "text": "Use a custom origin",
      "id": "use-a-custom-origin"
    },
    {
      "level": "h2",
      "text": "SNI rewrites",
      "id": "sni-rewrites"
    },
    {
      "level": "h3",
      "text": "SNI rewrite options",
      "id": "sni-rewrite-options"
    },
    {
      "level": "h3",
      "text": "Set an SNI rewrite",
      "id": "set-an-sni-rewrite"
    },
    {
      "level": "h2",
      "text": "Access JWTs",
      "id": "access-jwts"
    },
    {
      "level": "h3",
      "text": "Multi-domain applications",
      "id": "multi-domain-applications"
    },
    {
      "level": "h2",
      "text": "Access cookies",
      "id": "access-cookies"
    },
    {
      "level": "h3",
      "text": "CF\\_Authorization (team domain)",
      "id": "cf\\_authorization-(team-domain)"
    },
    {
      "level": "h3",
      "text": "CF\\_Authorization (Access application domain)",
      "id": "cf\\_authorization-(access-application-domain)"
    },
    {
      "level": "h3",
      "text": "CF\\_Binding",
      "id": "cf\\_binding"
    },
    {
      "level": "h3",
      "text": "CF\\_Session",
      "id": "cf\\_session"
    },
    {
      "level": "h3",
      "text": "CF\\_AppSession",
      "id": "cf\\_appsession"
    },
    {
      "level": "h3",
      "text": "CF\\_Device",
      "id": "cf\\_device"
    },
    {
      "level": "h2",
      "text": "Cookie settings",
      "id": "cookie-settings"
    },
    {
      "level": "h3",
      "text": "SameSite Attribute",
      "id": "samesite-attribute"
    },
    {
      "level": "h3",
      "text": "HttpOnly",
      "id": "httponly"
    },
    {
      "level": "h3",
      "text": "Binding cookie",
      "id": "binding-cookie"
    },
    {
      "level": "h3",
      "text": "Cookie Path Attribute",
      "id": "cookie-path-attribute"
    },
    {
      "level": "h2",
      "text": "Allow third-party cookies in the browser",
      "id": "allow-third-party-cookies-in-the-browser"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "1. Add your application to Access",
      "id": "1.-add-your-application-to-access"
    },
    {
      "level": "h2",
      "text": "2. Connect your origin to Cloudflare",
      "id": "2.-connect-your-origin-to-cloudflare"
    },
    {
      "level": "h2",
      "text": "3. Validate the Access token",
      "id": "3.-validate-the-access-token"
    },
    {
      "level": "h2",
      "text": "Product compatibility",
      "id": "product-compatibility"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h2",
      "text": "Turn on browser rendering",
      "id": "turn-on-browser-rendering"
    },
    {
      "level": "h3",
      "text": "SSH and VNC",
      "id": "ssh-and-vnc"
    },
    {
      "level": "h3",
      "text": "RDP",
      "id": "rdp"
    },
    {
      "level": "h3",
      "text": "SSH key exchange algorithms",
      "id": "ssh-key-exchange-algorithms"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "1. Add a target",
      "id": "1.-add-a-target"
    },
    {
      "level": "h2",
      "text": "2. Add an infrastructure application",
      "id": "2.-add-an-infrastructure-application"
    },
    {
      "level": "h2",
      "text": "3. (Recommended) Modify order of precedence in Gateway",
      "id": "3.-(recommended)-modify-order-of-precedence-in-gateway"
    },
    {
      "level": "h2",
      "text": "4. Configure the server",
      "id": "4.-configure-the-server"
    },
    {
      "level": "h2",
      "text": "5. Connect as a user",
      "id": "5.-connect-as-a-user"
    },
    {
      "level": "h3",
      "text": "Connect to different VNET",
      "id": "connect-to-different-vnet"
    },
    {
      "level": "h3",
      "text": "Display available targets",
      "id": "display-available-targets"
    },
    {
      "level": "h2",
      "text": "Revoke a user's session",
      "id": "revoke-a-user's-session"
    },
    {
      "level": "h2",
      "text": "Infrastructure policy selectors",
      "id": "infrastructure-policy-selectors"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Add your application to Access",
      "id": "add-your-application-to-access"
    },
    {
      "level": "h2",
      "text": "Authentication flow",
      "id": "authentication-flow"
    },
    {
      "level": "h3",
      "text": "HTTPS applications",
      "id": "https-applications"
    },
    {
      "level": "h3",
      "text": "Non-HTTPS applications",
      "id": "non-https-applications"
    },
    {
      "level": "h2",
      "text": "Order of precedence",
      "id": "order-of-precedence"
    },
    {
      "level": "h3",
      "text": "Access vs Gateway policies",
      "id": "access-vs-gateway-policies"
    },
    {
      "level": "h3",
      "text": "Private hostname vs private IP",
      "id": "private-hostname-vs-private-ip"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h3",
      "text": "Browser Isolation is not compatible with apps on non-`443` ports",
      "id": "browser-isolation-is-not-compatible-with-apps-on-non-`443`-ports"
    },
    {
      "level": "h3",
      "text": "Google Chrome restricts access to private hostnames",
      "id": "google-chrome-restricts-access-to-private-hostnames"
    },
    {
      "level": "h2",
      "text": "1. Secure the server behind Cloudflare Access",
      "id": "1.-secure-the-server-behind-cloudflare-access"
    },
    {
      "level": "h2",
      "text": "2. Ensure Unix usernames match user SSO identities",
      "id": "2.-ensure-unix-usernames-match-user-sso-identities"
    },
    {
      "level": "h2",
      "text": "3. Generate a short-lived certificate public key",
      "id": "3.-generate-a-short-lived-certificate-public-key"
    },
    {
      "level": "h2",
      "text": "4. Save your public key",
      "id": "4.-save-your-public-key"
    },
    {
      "level": "h2",
      "text": "5. Modify your `sshd_config` file",
      "id": "5.-modify-your-`sshd_config`-file"
    },
    {
      "level": "h2",
      "text": "6. Restart your SSH server",
      "id": "6.-restart-your-ssh-server"
    },
    {
      "level": "h2",
      "text": "7. Connect as a user",
      "id": "7.-connect-as-a-user"
    },
    {
      "level": "h3",
      "text": "Configure your client SSH config",
      "id": "configure-your-client-ssh-config"
    },
    {
      "level": "h3",
      "text": "Connect through a browser-based terminal",
      "id": "connect-through-a-browser-based-terminal"
    },
    {
      "level": "h2",
      "text": "Add groups to registry",
      "id": "add-groups-to-registry"
    },
    {
      "level": "h2",
      "text": "Remove groups from registry",
      "id": "remove-groups-from-registry"
    },
    {
      "level": "h2",
      "text": "Filter impersonation registry",
      "id": "filter-impersonation-registry"
    },
    {
      "level": "h2",
      "text": "Add users to registry",
      "id": "add-users-to-registry"
    },
    {
      "level": "h2",
      "text": "Remove users from registry",
      "id": "remove-users-from-registry"
    },
    {
      "level": "h2",
      "text": "Edit a user",
      "id": "edit-a-user"
    },
    {
      "level": "h2",
      "text": "Filter a user",
      "id": "filter-a-user"
    },
    {
      "level": "h2",
      "text": "Configure domain age",
      "id": "configure-domain-age"
    },
    {
      "level": "h2",
      "text": "Configure blank email detection",
      "id": "configure-blank-email-detection"
    },
    {
      "level": "h2",
      "text": "Configure ACH change from free email detection",
      "id": "configure-ach-change-from-free-email-detection"
    },
    {
      "level": "h2",
      "text": "Configure HTML attachment email detection",
      "id": "configure-html-attachment-email-detection"
    },
    {
      "level": "h2",
      "text": "How allow policies work",
      "id": "how-allow-policies-work"
    },
    {
      "level": "h3",
      "text": "Accept sender",
      "id": "accept-sender"
    },
    {
      "level": "h2",
      "text": "Configure allow policies",
      "id": "configure-allow-policies"
    },
    {
      "level": "h3",
      "text": "Use case 1",
      "id": "use-case-1"
    },
    {
      "level": "h3",
      "text": "Use case 2",
      "id": "use-case-2"
    },
    {
      "level": "h3",
      "text": "Use case 3",
      "id": "use-case-3"
    },
    {
      "level": "h3",
      "text": "CSV uploads",
      "id": "csv-uploads"
    },
    {
      "level": "h2",
      "text": "Export allow policies",
      "id": "export-allow-policies"
    },
    {
      "level": "h2",
      "text": "Edit allow policy",
      "id": "edit-allow-policy"
    },
    {
      "level": "h2",
      "text": "Delete allow policy",
      "id": "delete-allow-policy"
    },
    {
      "level": "h2",
      "text": "How blocked senders work",
      "id": "how-blocked-senders-work"
    },
    {
      "level": "h2",
      "text": "Configure blocked senders",
      "id": "configure-blocked-senders"
    },
    {
      "level": "h3",
      "text": "CSV uploads",
      "id": "csv-uploads"
    },
    {
      "level": "h2",
      "text": "Export blocked senders",
      "id": "export-blocked-senders"
    },
    {
      "level": "h2",
      "text": "Edit a blocked sender",
      "id": "edit-a-blocked-sender"
    },
    {
      "level": "h2",
      "text": "Delete a blocked sender",
      "id": "delete-a-blocked-sender"
    },
    {
      "level": "h2",
      "text": "Link actions settings",
      "id": "link-actions-settings"
    },
    {
      "level": "h2",
      "text": "Add patterns for URLs",
      "id": "add-patterns-for-urls"
    },
    {
      "level": "h2",
      "text": "Subject prefix",
      "id": "subject-prefix"
    },
    {
      "level": "h3",
      "text": "Advanced settings",
      "id": "advanced-settings"
    },
    {
      "level": "h2",
      "text": "Body prefix",
      "id": "body-prefix"
    },
    {
      "level": "h3",
      "text": "Advanced settings",
      "id": "advanced-settings"
    },
    {
      "level": "h3",
      "text": "Add threat types variable",
      "id": "add-threat-types-variable"
    },
    {
      "level": "h3",
      "text": "CSV uploads",
      "id": "csv-uploads"
    },
    {
      "level": "h2",
      "text": "Edit users",
      "id": "edit-users"
    },
    {
      "level": "h2",
      "text": "Remove users",
      "id": "remove-users"
    },
    {
      "level": "h2",
      "text": "How trusted domains work",
      "id": "how-trusted-domains-work"
    },
    {
      "level": "h2",
      "text": "Configure trusted domains",
      "id": "configure-trusted-domains"
    },
    {
      "level": "h3",
      "text": "CSV uploads",
      "id": "csv-uploads"
    },
    {
      "level": "h2",
      "text": "Export trusted domains",
      "id": "export-trusted-domains"
    },
    {
      "level": "h2",
      "text": "Edit trusted domains",
      "id": "edit-trusted-domains"
    },
    {
      "level": "h2",
      "text": "Delete trusted domains",
      "id": "delete-trusted-domains"
    },
    {
      "level": "h2",
      "text": "Set up PhishNet for Google Workspace",
      "id": "set-up-phishnet-for-google-workspace"
    },
    {
      "level": "h2",
      "text": "Submit phish with PhishNet",
      "id": "submit-phish-with-phishnet"
    },
    {
      "level": "h2",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h3",
      "text": "IPv4",
      "id": "ipv4"
    },
    {
      "level": "h3",
      "text": "IPv6",
      "id": "ipv6"
    },
    {
      "level": "h2",
      "text": "Microsoft 365 `/24` addresses",
      "id": "microsoft-365-`/24`-addresses"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Initiate MX/Inline configuration",
      "id": "initiate-mx/inline-configuration"
    },
    {
      "level": "h2",
      "text": "Associate an integration",
      "id": "associate-an-integration"
    },
    {
      "level": "h2",
      "text": "Connect a domain",
      "id": "connect-a-domain"
    },
    {
      "level": "h2",
      "text": "Users who do not have domains with Cloudflare",
      "id": "users-who-do-not-have-domains-with-cloudflare"
    },
    {
      "level": "h2",
      "text": "Enter domain manually",
      "id": "enter-domain-manually"
    },
    {
      "level": "h3",
      "text": "Add a domain to Cloudflare",
      "id": "add-a-domain-to-cloudflare"
    },
    {
      "level": "h2",
      "text": "Verify successful deployment",
      "id": "verify-successful-deployment"
    },
    {
      "level": "h2",
      "text": "Create a test",
      "id": "create-a-test"
    },
    {
      "level": "h2",
      "text": "Test results",
      "id": "test-results"
    },
    {
      "level": "h2",
      "text": "Export DEX application test logs",
      "id": "export-dex-application-test-logs"
    },
    {
      "level": "h2",
      "text": "Related resources",
      "id": "related-resources"
    },
    {
      "level": "h2",
      "text": "Create a test",
      "id": "create-a-test"
    },
    {
      "level": "h2",
      "text": "Test results",
      "id": "test-results"
    },
    {
      "level": "h2",
      "text": "Export DEX application test logs",
      "id": "export-dex-application-test-logs"
    },
    {
      "level": "h2",
      "text": "Related resources",
      "id": "related-resources"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "View results for all devices",
      "id": "view-results-for-all-devices"
    },
    {
      "level": "h2",
      "text": "View results for an individual device",
      "id": "view-results-for-an-individual-device"
    },
    {
      "level": "h2",
      "text": "Export DEX application test logs",
      "id": "export-dex-application-test-logs"
    },
    {
      "level": "h2",
      "text": "Related resources",
      "id": "related-resources"
    },
    {
      "level": "h2",
      "text": "Types of PII",
      "id": "types-of-pii"
    },
    {
      "level": "h2",
      "text": "Exclude PII",
      "id": "exclude-pii"
    },
    {
      "level": "h2",
      "text": "Set up a bucket",
      "id": "set-up-a-bucket"
    },
    {
      "level": "h2",
      "text": "Validate a bucket",
      "id": "validate-a-bucket"
    },
    {
      "level": "h2",
      "text": "List configured buckets",
      "id": "list-configured-buckets"
    },
    {
      "level": "h2",
      "text": "R2",
      "id": "r2"
    },
    {
      "level": "h3",
      "text": "Create bucket and API token",
      "id": "create-bucket-and-api-token"
    },
    {
      "level": "h3",
      "text": "Create initial request",
      "id": "create-initial-request"
    },
    {
      "level": "h3",
      "text": "Validate bucket ownership",
      "id": "validate-bucket-ownership"
    },
    {
      "level": "h2",
      "text": "Send a packet capture request",
      "id": "send-a-packet-capture-request"
    },
    {
      "level": "h3",
      "text": "Packet capture limits",
      "id": "packet-capture-limits"
    },
    {
      "level": "h2",
      "text": "Check packet capture status",
      "id": "check-packet-capture-status"
    },
    {
      "level": "h2",
      "text": "Download packet captures",
      "id": "download-packet-captures"
    },
    {
      "level": "h2",
      "text": "List packet captures",
      "id": "list-packet-captures"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "User account settings",
      "id": "user-account-settings"
    },
    {
      "level": "h3",
      "text": "Inactive or suspended users",
      "id": "inactive-or-suspended-users"
    },
    {
      "level": "h3",
      "text": "Gemini licensing",
      "id": "gemini-licensing"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "Gmail administrator settings",
      "id": "gmail-administrator-settings"
    },
    {
      "level": "h3",
      "text": "Email forwarding",
      "id": "email-forwarding"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "Gmail administrator settings",
      "id": "gmail-administrator-settings"
    },
    {
      "level": "h3",
      "text": "Email forwarding",
      "id": "email-forwarding"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "User account settings",
      "id": "user-account-settings"
    },
    {
      "level": "h3",
      "text": "Inactive or suspended users",
      "id": "inactive-or-suspended-users"
    },
    {
      "level": "h3",
      "text": "Third-party apps",
      "id": "third-party-apps"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "User account settings",
      "id": "user-account-settings"
    },
    {
      "level": "h3",
      "text": "Inactive or suspended users",
      "id": "inactive-or-suspended-users"
    },
    {
      "level": "h3",
      "text": "Third-party apps",
      "id": "third-party-apps"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "Calendar sharing",
      "id": "calendar-sharing"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "Calendar sharing",
      "id": "calendar-sharing"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "File sharing",
      "id": "file-sharing"
    },
    {
      "level": "h3",
      "text": "Data Loss Prevention (optional)",
      "id": "data-loss-prevention-(optional)"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "File sharing",
      "id": "file-sharing"
    },
    {
      "level": "h3",
      "text": "Data Loss Prevention (optional)",
      "id": "data-loss-prevention-(optional)"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "User account settings",
      "id": "user-account-settings"
    },
    {
      "level": "h3",
      "text": "Third-party apps",
      "id": "third-party-apps"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "User account settings",
      "id": "user-account-settings"
    },
    {
      "level": "h3",
      "text": "Third-party apps",
      "id": "third-party-apps"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "File sharing",
      "id": "file-sharing"
    },
    {
      "level": "h3",
      "text": "Data Loss Prevention (optional)",
      "id": "data-loss-prevention-(optional)"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "File sharing",
      "id": "file-sharing"
    },
    {
      "level": "h3",
      "text": "Data Loss Prevention (optional)",
      "id": "data-loss-prevention-(optional)"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "Calendar sharing",
      "id": "calendar-sharing"
    },
    {
      "level": "h3",
      "text": "Email administrator settings",
      "id": "email-administrator-settings"
    },
    {
      "level": "h3",
      "text": "Email forwarding",
      "id": "email-forwarding"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "Calendar sharing",
      "id": "calendar-sharing"
    },
    {
      "level": "h3",
      "text": "Email administrator settings",
      "id": "email-administrator-settings"
    },
    {
      "level": "h3",
      "text": "Email forwarding",
      "id": "email-forwarding"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "File sharing",
      "id": "file-sharing"
    },
    {
      "level": "h3",
      "text": "Data Loss Prevention (optional)",
      "id": "data-loss-prevention-(optional)"
    },
    {
      "level": "h2",
      "text": "Integration prerequisites",
      "id": "integration-prerequisites"
    },
    {
      "level": "h2",
      "text": "Integration permissions",
      "id": "integration-permissions"
    },
    {
      "level": "h2",
      "text": "Security findings",
      "id": "security-findings"
    },
    {
      "level": "h3",
      "text": "File sharing",
      "id": "file-sharing"
    },
    {
      "level": "h3",
      "text": "Data Loss Prevention (optional)",
      "id": "data-loss-prevention-(optional)"
    },
    {
      "level": "h2",
      "text": "Identify unhealthy compute accounts",
      "id": "identify-unhealthy-compute-accounts"
    },
    {
      "level": "h2",
      "text": "Repair an unhealthy compute account",
      "id": "repair-an-unhealthy-compute-account"
    },
    {
      "level": "h2",
      "text": "Upgrade a compute account",
      "id": "upgrade-a-compute-account"
    },
    {
      "level": "h2",
      "text": "Roll API tokens",
      "id": "roll-api-tokens"
    },
    {
      "level": "h3",
      "text": "Common token issues",
      "id": "common-token-issues"
    },
    {
      "level": "h2",
      "text": "Identify unhealthy or outdated integrations",
      "id": "identify-unhealthy-or-outdated-integrations"
    },
    {
      "level": "h2",
      "text": "Repair an unhealthy integration",
      "id": "repair-an-unhealthy-integration"
    },
    {
      "level": "h2",
      "text": "Upgrade an integration",
      "id": "upgrade-an-integration"
    },
    {
      "level": "h2",
      "text": "GitHub repository",
      "id": "github-repository"
    },
    {
      "level": "h2",
      "text": "Latest release",
      "id": "latest-release"
    },
    {
      "level": "h3",
      "text": "Linux",
      "id": "linux"
    },
    {
      "level": "h3",
      "text": "macOS",
      "id": "macos"
    },
    {
      "level": "h3",
      "text": "Windows",
      "id": "windows"
    },
    {
      "level": "h3",
      "text": "Docker",
      "id": "docker"
    },
    {
      "level": "h2",
      "text": "Deprecated releases",
      "id": "deprecated-releases"
    },
    {
      "level": "h2",
      "text": "Connectors",
      "id": "connectors"
    },
    {
      "level": "h2",
      "text": "Network overview (beta)",
      "id": "network-overview-(beta)"
    },
    {
      "level": "h2",
      "text": "Network Analytics",
      "id": "network-analytics"
    },
    {
      "level": "h2",
      "text": "Traceroutes",
      "id": "traceroutes"
    },
    {
      "level": "h2",
      "text": "Packet captures",
      "id": "packet-captures"
    },
    {
      "level": "h2",
      "text": "Query analytics with GraphQL",
      "id": "query-analytics-with-graphql"
    },
    {
      "level": "h2",
      "text": "Before you begin",
      "id": "before-you-begin"
    },
    {
      "level": "h2",
      "text": "Set up method",
      "id": "set-up-method"
    },
    {
      "level": "h3",
      "text": "Automatic set up",
      "id": "automatic-set-up"
    },
    {
      "level": "h3",
      "text": "Manual set up",
      "id": "manual-set-up"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h3",
      "text": "Use compatible tunnel endpoint routers",
      "id": "use-compatible-tunnel-endpoint-routers"
    },
    {
      "level": "h3",
      "text": "Set maximum segment size",
      "id": "set-maximum-segment-size"
    },
    {
      "level": "h3",
      "text": "Follow router vendor guidelines",
      "id": "follow-router-vendor-guidelines"
    },
    {
      "level": "h2",
      "text": "Set up an IPsec logpush job",
      "id": "set-up-an-ipsec-logpush-job"
    },
    {
      "level": "h2",
      "text": "Filter DoH requests by location",
      "id": "filter-doh-requests-by-location"
    },
    {
      "level": "h3",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h3",
      "text": "Configure browser for DoH",
      "id": "configure-browser-for-doh"
    },
    {
      "level": "h3",
      "text": "Configure operating system for DoH",
      "id": "configure-operating-system-for-doh"
    },
    {
      "level": "h3",
      "text": "Use generic DoH endpoint",
      "id": "use-generic-doh-endpoint"
    },
    {
      "level": "h2",
      "text": "Filter DoH requests by user",
      "id": "filter-doh-requests-by-user"
    },
    {
      "level": "h3",
      "text": "1. Create a service token for the account",
      "id": "1.-create-a-service-token-for-the-account"
    },
    {
      "level": "h3",
      "text": "2. Enable DoH functionality for the service token",
      "id": "2.-enable-doh-functionality-for-the-service-token"
    },
    {
      "level": "h3",
      "text": "3. Create a user",
      "id": "3.-create-a-user"
    },
    {
      "level": "h3",
      "text": "4. Generate a DoH token for the user",
      "id": "4.-generate-a-doh-token-for-the-user"
    },
    {
      "level": "h3",
      "text": "5. Send an authenticated DoH query",
      "id": "5.-send-an-authenticated-doh-query"
    },
    {
      "level": "h2",
      "text": "Configure DoT queries",
      "id": "configure-dot-queries"
    },
    {
      "level": "h3",
      "text": "1. Obtain your DoT hostname",
      "id": "1.-obtain-your-dot-hostname"
    },
    {
      "level": "h3",
      "text": "2. Configure your DoT client",
      "id": "2.-configure-your-dot-client"
    }
  ],
  "url": "llms-txt#include-full-completion-timing",
  "links": []
}