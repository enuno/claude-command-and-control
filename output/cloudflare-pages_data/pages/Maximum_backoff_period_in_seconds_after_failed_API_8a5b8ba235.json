{
  "title": "Maximum backoff period in seconds after failed API calls (default: 30).",
  "content": "export CLOUDFLARE_MAX_BACKOFF=20\nbash\ngit checkout -b step5-pagerule\nhcl",
  "code_samples": [
    {
      "code": "</page>\n\n<page>\n---\ntitle: Rule IDs change when I modify a ruleset · Cloudflare Terraform docs\ndescription: For cloudflare_ruleset resources, the Cloudflare provider may\n  delete a rule and create a new one when you modify a ruleset in your Terraform\n  configuration. This happens because the API cannot match rules in your new\n  Terraform configuration with existing rules in your Cloudflare configuration.\n  Modifying a ruleset in your Terraform configuration and applying the changes\n  will create new rules with different rule IDs in your Cloudflare account or\n  zone.\nlastUpdated: 2024-12-09T20:51:36.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/terraform/troubleshooting/rule-id-changes/\n  md: https://developers.cloudflare.com/terraform/troubleshooting/rule-id-changes/index.md\n---\n\nFor [`cloudflare_ruleset`](https://registry.terraform.io/providers/cloudflare/cloudflare/latest/docs/resources/ruleset) resources, the Cloudflare provider may delete a rule and create a new one when you modify a ruleset in your Terraform configuration. This happens because the API cannot match rules in your new Terraform configuration with existing rules in your Cloudflare configuration. Modifying a ruleset in your Terraform configuration and applying the changes will create new rules with different rule IDs in your Cloudflare account or zone.\n\nThis behavior may have an impact on any automation or monitoring systems you may have configured that rely on having immutable rule IDs between rule modifications.\n\n## How to keep the same rule ID between modifications\n\nTo keep existing rule IDs when making changes to a ruleset through Terraform, add a `ref` field to each rule.\n\nThe `ref` field is a user-defined external identifier that must be unique for each rule in a ruleset. When you provide a `ref` value, the provider will match the rule in your updated Terraform configuration with the existing rule with the same `ref` external identifier, and the rule ID will be preserved.\n\n`ref` values have a string data type with a minimum length of one character. For example, `my_ref`.\n\nOnce you set the `ref` field of a rule, changing the `ref` field value will make Terraform create a new rule.\n\n## `cf-terraforming` support for `ref` field values\n\nBy default, when you create a rule, its `ref` value will be equal to the rule ID. You can set `ref` values via Cloudflare API.\n\nWhen you [import your existing Cloudflare configuration to Terraform](https://developers.cloudflare.com/terraform/advanced-topics/import-cloudflare-resources/) using [`cf-terraforming`](https://github.com/cloudflare/cf-terraforming), the generated Terraform configuration will have `ref` values for each rule, with the same value as the rule ID.\n\nIf you manually created your Terraform configuration and your rules' configuration does not have a `ref` field, add a `ref` field to each rule so that each ruleset modification does not generate new rule IDs.\n\n</page>\n\n<page>\n---\ntitle: Add exceptions with Page Rules · Cloudflare Terraform docs\ndescription: Page Rules let you override zone settings for specific URL\n  patterns. Redirects old URLs with a 301 permanent redirect.\nlastUpdated: 2025-10-09T15:47:46.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/terraform/tutorial/add-page-rules/\n  md: https://developers.cloudflare.com/terraform/tutorial/add-page-rules/index.md\n---\n\nIn the [Configure HTTPS settings](https://developers.cloudflare.com/terraform/tutorial/configure-https-settings/) tutorial, you configured zone settings that apply to all incoming requests for `example.com`. In this tutorial, you will add an exception to these settings using [Page Rules](https://developers.cloudflare.com/rules/page-rules/).\n\nSpecifically, you will increase the security level for a URL known to be expensive to render and cannot be cached: `https://www.example.com/expensive-db-call`. Additionally, you will add a redirect from the previous URL used to host this page.\n\nNote\n\nTerraform code snippets below refer to the v5 SDK only.\n\n## 1. Create Page Rules configuration\n\nCreate a new branch and append the configuration.",
      "language": "unknown"
    },
    {
      "code": "Page Rules let you override zone settings for specific URL patterns. Add two Page Rules to your `main.tf`:",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "How to keep the same rule ID between modifications",
      "id": "how-to-keep-the-same-rule-id-between-modifications"
    },
    {
      "level": "h2",
      "text": "`cf-terraforming` support for `ref` field values",
      "id": "`cf-terraforming`-support-for-`ref`-field-values"
    },
    {
      "level": "h2",
      "text": "1. Create Page Rules configuration",
      "id": "1.-create-page-rules-configuration"
    }
  ],
  "url": "llms-txt#maximum-backoff-period-in-seconds-after-failed-api-calls-(default:-30).",
  "links": []
}