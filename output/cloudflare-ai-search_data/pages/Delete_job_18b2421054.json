{
  "title": "Delete job",
  "content": "r = requests.delete(logpush_url + \"/jobs/%s\" % id, headers=headers)\nprint(r.status_code, r.text)\nassert r.status_code == 200\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/logpush/jobs\" \\\n  --request GET \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\"\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/logpush/ownership\" \\\n  --request POST \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"destination_conf\": \"s3://<BUCKET_PATH>?region=us-west-2\"\n  }'\njson\n{\n  \"errors\": [],\n  \"messages\": [],\n  \"result\": {\n    \"valid\": true,\n    \"message\": \"\",\n    \"filename\": \"<PATH_TO_CHALLENGE_FILE>.txt\"\n  },\n  \"success\": true\n}\nplaintext\n<scheme>://<destination-address>\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/logpush/validate/destination/exists\" \\\n  --request POST \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"destination_conf\": \"s3://foo\"\n  }'\njson\n{\n  \"errors\": [],\n  \"messages\": [],\n  \"result\": {\n    \"exists\": false\n  },\n  \"success\": true\n}\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/logpush/jobs\" \\\n  --request POST \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"name\": \"<DOMAIN_NAME>\",\n    \"destination_conf\": \"s3://<BUCKET_PATH>?region=us-west-2\",\n    \"dataset\": \"http_requests\",\n    \"output_options\": {\n        \"field_names\": [\n            \"ClientIP\",\n            \"ClientRequesrHost\",\n            \"ClientRequestMethod\",\n            \" ClientRequestURI\",\n            \"EdgeEndTimestamp\",\n            \"EdgeResponseBytes\",\n            \"EdgeResponseStatus\",\n            \"EdgeStartTimestamp\",\n            \"RayID\"\n        ],\n        \"timestamp_format\": \"rfc3339\"\n    },\n    \"kind\": \"edge\"\n  }'\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/logpush/validate/origin\" \\\n  --request POST \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"logpull_options\": \"fields=RayID,ClientIP,EdgeStartTimestamp&timestamps=rfc3339&CVE-2021-44228=true\",\n    \"dataset\": \"http_requests\"\n  }'\njson\n{\n  \"errors\": [],\n  \"messages\": [],\n  \"result\": {\n    \"valid\": true,\n    \"message\": \"\"\n  },\n  \"success\": true\n}\njson\n\"action_parameters\": {\n//select raw (default) or transformed request header\n  \"request_fields\": [\n    { \"name\": \"<http_request_header_raw>\" }\n  ],\n  \"transformed_request_fields\": [\n    { \"name\": \"<http_request_header_transformed>\" }\n  ],\n//select raw or transformed (default) response header\n  \"response_fields\": [\n    { \"name\": \"<http_response_header_transformed>\" }\n  ],\n  \"raw_response_fields\": [\n    { \"name\": \"<http_response_header_raw>\" }\n  ],\n  \"cookie_fields\": [\n    { \"name\": \"<cookie_name>\" }\n  ]\n}\nbash\n   curl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/rulesets\" \\\n     --request GET \\\n     --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\"\n   bash\n   curl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/rulesets\" \\\n     --request POST \\\n     --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n     --json '{\n       \"name\": \"Zone-level phase entry point\",\n       \"kind\": \"zone\",\n       \"description\": \"This ruleset configures custom log fields.\",\n       \"phase\": \"http_log_custom_fields\"\n     }'\n   bash\n   curl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/rulesets/$RULESET_ID\" \\\n     --request PUT \\\n     --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n     --json '{\n       \"rules\": [\n           {\n               \"action\": \"log_custom_field\",\n               \"expression\": \"true\",\n               \"description\": \"Set Logpush custom fields for HTTP requests\",\n               \"action_parameters\": {\n                   \"request_fields\": [\n                       {\n                           \"name\": \"content-type\"\n                       },\n                       {\n                           \"name\": \"x-forwarded-for\"\n                       }\n                   ],\n                   \"transformed_request_fields\": [\n                       {\n                           \"name\": \"host\"\n                       }\n                   ],\n                   \"response_fields\": [\n                       {\n                           \"name\": \"server\"\n                       },\n                       {\n                           \"name\": \"content-type\"\n                       }\n                   ],\n                   \"raw_response_fields\": [\n                       {\n                           \"name\": \"allow\"\n                       }\n                   ],\n                   \"cookie_fields\": [\n                       {\n                           \"name\": \"__ga\"\n                       },\n                       {\n                           \"name\": \"accountNumber\"\n                       },\n                       {\n                           \"name\": \"__cfruid\"\n                       }\n                   ]\n               }\n           }\n       ]\n     }'\n   json\n   {\n     \"result\": {\n       \"id\": \"<RULESET_ID>\",\n       \"name\": \"Zone-level phase entry point\",\n       \"description\": \"This ruleset configures custom log fields.\",\n       \"kind\": \"zone\",\n       \"version\": \"2\",\n       \"rules\": [\n         {\n           \"id\": \"<RULE_ID_1>\",\n           \"version\": \"1\",\n           \"action\": \"log_custom_field\",\n           \"action_parameters\": {\n             \"request_fields\": [\n               { \"name\": \"content-type\" },\n               { \"name\": \"x-forwarded-for\" }\n             ],\n             \"transformed_request_fields\": [{ \"name\": \"host\" }],\n             \"response_fields\": [\n               { \"name\": \"server\" },\n               { \"name\": \"content-type\" }\n             ],\n             \"raw_response_fields\": [{ \"name\": \"allow\" }],\n             \"cookie_fields\": [\n               { \"name\": \"__ga\" },\n               { \"name\": \"accountNumber\" },\n               { \"name\": \"__cfruid\" }\n             ]\n           },\n           \"expression\": \"true\",\n           \"description\": \"Set Logpush custom fields for HTTP requests\",\n           \"last_updated\": \"2021-11-21T11:02:08.769537Z\",\n           \"ref\": \"<RULE_REF_1>\",\n           \"enabled\": true\n         }\n       ],\n       \"last_updated\": \"2021-11-21T11:02:08.769537Z\",\n       \"phase\": \"http_log_custom_fields\"\n     },\n     \"success\": true,\n     \"errors\": [],\n     \"messages\": []\n   }\n   bash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/rulesets/$RULESET_ID\" \\\n  --request PUT \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"rules\": [\n        {\n            \"action\": \"log_custom_field\",\n            \"expression\": \"true\",\n            \"description\": \"Set Logpush custom fields for HTTP requests\",\n            \"action_parameters\": {\n                \"response_fields\": [\n                    {\n                        \"name\": \"set-cookie\",\n                        \"preserve_duplicates\": true\n                    }\n                ]\n            }\n        }\n    ]\n  }'\njson\n{\n  // ...\n  \"ResponseFields\": {\n    \"set-cookie\": [\"name1=val1\", \"name2=val2\", ...]\n  }\n}\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/logpush/jobs\" \\\n  --request POST \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"name\": \"<DOMAIN_NAME>\",\n    \"destination_conf\": \"s3://<BUCKET_PATH>?region=us-west-2\",\n    \"dataset\": \"http_requests\",\n    \"output_options\": {\n        \"field_names\": [\n            \"RayID\",\n            \"EdgeStartTimestamp\",\n            \"Cookies\",\n            \"RequestHeaders\",\n            \"ResponseHeaders\"\n        ],\n        \"timestamp_format\": \"rfc3339\"\n    },\n    \"ownership_challenge\": \"<OWNERSHIP_CHALLENGE_TOKEN>\"\n  }'\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/logpush/jobs\" \\\n  --request POST \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"name\": \"static-assets\",\n    \"output_options\": {\n        \"field_names\": [\n            \"ClientIP\",\n            \"EdgeStartTimestamp\",\n            \"RayID\"\n        ],\n        \"sample_rate\": 0.1,\n        \"timestamp_format\": \"rfc3339\",\n        \"CVE-2021-44228\": true\n    },\n    \"dataset\": \"http_requests\",\n    \"filter\": \"{\\\"where\\\":{\\\"and\\\":[{\\\"key\\\":\\\"ClientRequestPath\\\",\\\"operator\\\":\\\"contains\\\",\\\"value\\\":\\\"/static\\\"},{\\\"key\\\":\\\"ClientRequestHost\\\",\\\"operator\\\":\\\"eq\\\",\\\"value\\\":\\\"example.com\\\"}]}}\",\n    \"destination_conf\": \"s3://<BUCKET_PATH>?region=us-west-2/\"\n  }'\njson\n{\n  \"id\": <JOB_ID>,\n  \"dataset\": \"http_requests\",\n  \"enabled\": false,\n  \"name\": \"<DOMAIN_NAME>\",\n  \"logpull_options\": \"fields=ClientIP,EdgeStartTimestamp,RayID&sample=0.1&timestamps=rfc3339\",\n  \"destination_conf\": \"s3://<BUCKET_PATH>?region=us-west-2\"\n}\njson\n{\n  \"id\": <JOB_ID>,\n  \"dataset\": \"http_requests\",\n  \"enabled\": false,\n  \"name\": \"<DOMAIN_NAME>\",\n  \"output_options\": {\n    \"field_names\": [\"ClientIP\", \"EdgeStartTimestamp\", \"RayID\"],\n    \"sample_rate\": 0.1,\n    \"timestamp_format\": \"rfc3339\"\n  },\n  \"destination_conf\": \"s3://<BUCKET_PATH>?region=us-west-2\"\n}\njson\n{\n  \"record_prefix\": \"{\",\n  \"record_suffix\": \"}\\n\",\n  \"field_delimiter\": \",\"\n}\njson\n\"output_options\": {\n  \"field_names\": [\"ClientIP\", \"EdgeStartTimestamp\", \"RayID\"],\n  \"output_type\": \"ndjson\"\n}\njson\n{\"ClientIP\":\"89.163.242.206\",\"EdgeStartTimestamp\":1506702504433000200,\"RayID\":\"3a6050bcbe121a87\"}\n{\"ClientIP\":\"89.163.242.207\",\"EdgeStartTimestamp\":1506702504433000300,\"RayID\":\"3a6050bcbe121a88\"}\n{\"ClientIP\":\"89.163.242.208\",\"EdgeStartTimestamp\":1506702504433000400,\"RayID\":\"3a6050bcbe121a89\"}\njson\n\"output_options\": {\n  \"field_names\": [\"ClientIP\", \"EdgeStartTimestamp\", \"RayID\"],\n  \"output_type\": \"ndjson\",\n  \"record_template\": \"\\\"client-ip\\\":{{.ClientIP}},\\\"timestamp\\\":{{.EdgeStartTimestamp}},\\\"ray-id\\\":{{.RayID}}\"\n}\njson\n{\"client-ip\":\"89.163.242.206\",\"timestamp\":1506702504433000200,\"ray-id\":\"3a6050bcbe121a87\"}\n{\"client-ip\":\"89.163.242.207\",\"timestamp\":1506702504433000300,\"ray-id\":\"3a6050bcbe121a88\"}\n{\"client-ip\":\"89.163.242.208\",\"timestamp\":1506702504433000400,\"ray-id\":\"3a6050bcbe121a89\"}\njson\n{\n  \"record_suffix\": \"\\n\",\n  \"field_delimiter\": \",\"\n}\njson\n\"output_options\": {\n  \"field_names\": [\"ClientIP\", \"EdgeStartTimestamp\", \"RayID\"],\n  \"output_type\": \"csv\"\n}\ncsv\n\"89.163.242.206\",1506702504433000200,\"3a6050bcbe121a87\"\n\"89.163.242.207\",1506702504433000300,\"3a6050bcbe121a88\"\n\"89.163.242.208\",1506702504433000400,\"3a6050bcbe121a89\"\njson\n\"output_options\": {\n  \"field_names\": [\"ClientIP\", \"EdgeStartTimestamp\", \"RayID\"],\n  \"output_type\": \"csv\",\n  \"batch_prefix\": \"ClientIP,EdgeStartTimestamp,RayID\\n\"\n}\ncsv\nClientIP,EdgeStartTimestamp,RayID\n\"89.163.242.206\",1506702504433000200,\"3a6050bcbe121a87\"\n\"89.163.242.207\",1506702504433000300,\"3a6050bcbe121a88\"\n\"89.163.242.208\",1506702504433000400,\"3a6050bcbe121a89\"\njson\n\"output_options\": {\n  \"field_names\": [\"ClientIP\", \"EdgeStartTimestamp\", \"RayID\"],\n  \"output_type\": \"csv\",\n  \"batch_prefix\": \"ClientIP\\tEdgeStartTimestamp\\tRayID\\n\",\n  \"field_delimiter\": \"\\t\"\n}\ncsv\nClientIP EdgeStartTimestamp  RayID\n\"89.163.242.206\"    1506702504433000200 \"3a6050bcbe121a87\"\n\"89.163.242.207\"    1506702504433000300 \"3a6050bcbe121a88\"\n\"89.163.242.208\"    1506702504433000400 \"3a6050bcbe121a89\"\njson\n\"output_options\": {\n  \"field_names\": [\"ClientIP\", \"EdgeStartTimestamp\", \"RayID\"],\n  \"output_type\": \"ndjson\",\n  \"batch_prefix\": \"{\\\"events\\\":[\",\n  \"batch_suffix\": \"\\n]}\\n\",\n  \"record_prefix\": \"\\n  {\\\"info\\\":{\",\n  \"record_suffix\": \"}}\",\n  \"record_delimiter\": \",\"\n}\njson\n{\"events\":[\n  {\"info\":{\"ClientIP\":\"89.163.242.206\",\"EdgeStartTimestamp\":1506702504433000200,\"RayID\":\"3a6050bcbe121a87\"}},\n  {\"info\":{\"ClientIP\":\"89.163.242.207\",\"EdgeStartTimestamp\":1506702504433000300,\"RayID\":\"3a6050bcbe121a88\"}},\n  {\"info\":{\"ClientIP\":\"89.163.242.208\",\"EdgeStartTimestamp\":1506702504433000400,\"RayID\":\"3a6050bcbe121a89\"}}\n]}\njson\n\"output_options\": {\n  \"field_names\": [\"ClientIP\", \"EdgeStartTimestamp\", \"RayID\"],\n  \"sample_rate\": 0.1,\n  \"timestamp_format\": \"rfc3339\",\n  \"CVE-2021-44228\": true\n}\ndiff\nresource \"cloudflare_logpush_job\" \"example_job\" {\n  enabled             = true\n  zone_id             = \"<ZONE_ID>\"\n  name                = \"My-logpush-job\"\n  logpull_options     = \"fields=RayID,ClientIP,EdgeStartTimestamp,WAFAction,WAFProfile&timestamps=rfc3339\"\n  logpull_options     = \"fields=RayID,ClientIP,EdgeStartTimestamp,SecurityAction&timestamps=rfc3339\"\n  destination_conf = \"r2://cloudflare-logs/http_requests/date={DATE}?account-id=${var.account_id}&access-key-id=${cloudflare_api_token.logpush_r2_token.id}&secret-access-key=${sha256(cloudflare_api_token.logpush_r2_token.value)}\"\n  dataset             = \"http_requests\"\n}\nbash\n  curl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/alerting/v3/policies\" \\\n    --request POST \\\n    --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n    --json '{\n      \"alert_type\": \"magic_wan_tunnel_health\",\n      \"description\": \"<DESCRIBE_POLICY>\",\n      \"enabled\": true,\n      \"filters\": {\n          \"slo\": [\n              \"99.9\"\n          ]\n      },\n      \"mechanisms\": {\n          \"email\": [\n              {\n                  \"id\": \"EMAIL_ADDRESS\"\n              }\n          ]\n      },\n      \"name\": \"<DESCRIBE_ALERT>\"\n    }'\n  json\n    {\n      \"result\": [\n        {\n          \"id\": \"f174e90a-fafe-4643-bbbc-4a0ed4fc8415\",\n          \"name\": \"<POLICY_NAME>\",\n          \"description\": \"<POLICY_DESCRIPTION>\",\n          \"enabled\": true,\n          \"alert_type\": \"magic_wan_tunnel_health\",\n          \"mechanisms\": {\n            \"email\": [\n              {\n                \"id\": \"<YOUR_EMAIL>\"\n              }\n            ]\n          },\n          \"created\": \"2024-09-11T14:13:29.585658Z\",\n          \"modified\": \"2024-09-11T14:13:29.585658Z\",\n          \"conditions\": {\n            \"and\": [\n              {\n                \"or\": [\n                  {\n                    \"<=\": [\n                      {\n                        \"var\": \"slo\"\n                      },\n                      \"99.9\"\n                    ]\n                  }\n                ]\n              }\n            ]\n          },\n          \"filters\": {\n            \"slo\": [\"99.9\"]\n          }\n        }\n      ],\n      \"success\": true,\n      \"errors\": [],\n      \"messages\": []\n    }\n  bash\ncurl \"https://api.cloudflare.com/client/v4/accounts/ACCOUNT_ID/ipsec_tunnels/TUNNEL_ID\" \\\n  --request PATCH \\\n  --json '{\n    \"custom_remote_identities\": {\n        \"fqdn_id\": \"<your_custom_label>.<account_id>.custom.ipsec.cloudflare.com\"\n    }\n  }'\nbash\n  curl \"https://api.cloudflare.com/client/v4/accounts/%7Baccount_id%7D/magic/ipsec_tunnels/%7Bipsec_tunnel_id%7D\" \\\n    --request PUT \\\n    --json '{\n      \"health_check\": {\n          \"rate\": \"low\"\n      }\n    }'\n  bash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/magic/sites/{site_id}/wans \\\n  --header \"X-Auth-Email: <EMAIL>\" \\\n  --header \"X-Auth-Key: <API_KEY>\" \\\n  --header \"Content-Type: application/json\" \\\n  --data '{\n    \"name\": \"<YOUR_WAN_NAME>\",\n    \"physport\": 1,\n    \"priority\": 0,\n    \"vlan_tag\": 0\n  }'\n  bash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/magic/sites/{site_id}/lans \\\n  --header \"X-Auth-Email: <EMAIL>\" \\\n  --header \"X-Auth-Key: <API_KEY>\" \\\n  --header \"Content-Type: application/json\" \\\n  --data '{\n    \"name\": \"<YOUR_LAN_NAME>\",\n    \"physport\": 2,\n    \"static_addressing\": {\n      \"address\": \"172.16.14.0/24\"\n    },\n    \"vlan_tag\": 0\n  }'\n  mermaid\nflowchart LR\n\taccTitle: Magic WAN Connector set up as a DHCP server, and connecting to the Internet.\n  a(Magic WAN Connector)--> b(Internet) --> c(Cloudflare)\n\nsubgraph Customer site\n  d[LAN 1] --> a\n  e[LAN 2] --> a\n  end\n\nclassDef orange fill:#f48120,color: black\n  class a,c orange\nmermaid\nflowchart LR\n\taccTitle: Magic WAN Connector connects to the router in the site, and only some of the LANs connect to Connector.\n  a(Magic WAN Connector)--> b((Site's router)) --> c(Internet) --> i(Cloudflare)\n\nsubgraph Customer site\n  d[LAN 1] --> a\n  e[LAN 2] --> a\n  g(LAN 3) --> b\n  h(LAN 4) --> b\n  end\n\nclassDef orange fill:#f48120,color: black\n  class a,i orange\ngraphql\nquery telemetry(\n  $accountTag: string\n  $snapshotsFilter: AccountMconnTelemetrySnapshotsAdaptiveGroupsFilter_InputObject!\n  $snapshotMountsFilter: AccountMconnTelemetrySnapshotMountsAdaptiveGroupsFilter_InputObject!\n  $snapshotThermalsFilter: AccountMconnTelemetrySnapshotThermalsAdaptiveGroupsFilter_InputObject!\n  $limit: int64!\n) {\n  viewer {\n    accounts(filter: { accountTag: $accountTag }) {\n      snapshots: mconnTelemetrySnapshots(\n        filter: $snapshotsFilter\n        limit: $limit\n        orderBy: [datetimeFiveMinutes_DESC]\n      ) {\n        max {\n          cpuCount\n          loadAverage1m\n          memoryFreeBytes\n          memoryTotalBytes\n        }\n        dimensions {\n          connectorId\n          datetimeFiveMinutes\n        }\n      }\n      snapshotMounts: mconnTelemetrySnapshotMounts(\n        filter: $snapshotMountsFilter\n        limit: $limit\n        orderBy: [datetimeFiveMinutes_DESC]\n      ) {\n        max {\n          availableBytes\n          totalBytes\n        }\n        dimensions {\n          connectorId\n          datetimeFiveMinutes\n        }\n      }\n      snapshotThermals: mconnTelemetrySnapshotThermals(\n        filter: $snapshotThermalsFilter\n        limit: $limit\n        orderBy: [datetimeFiveMinutes_DESC, connectorId_DESC]\n      ) {\n        max {\n          currentCelcius\n        }\n        dimensions {\n          connectorId\n          datetimeFiveMinutes\n        }\n      }\n    }\n  }\n}\nsh\n  tar -xvf mconn-2024-1-3.ova\n  bash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/magic/sites/{site_id}/wans \\\n  --header \"X-Auth-Email: <EMAIL>\" \\\n  --header \"X-Auth-Key: <API_KEY>\" \\\n  --header \"Content-Type: application/json\" \\\n  --data '{\n    \"name\": \"<YOUR_WAN_NAME>\",\n    \"physport\": 1,\n    \"priority\": 0,\n    \"vlan_tag\": 0\n  }'\n  bash\n  curl https://api.cloudflare.com/client/v4/accounts/{account_id}/magic/sites/{site_id}/lans \\\n  --header \"X-Auth-Email: <EMAIL>\" \\\n  --header \"X-Auth-Key: <API_KEY>\" \\\n  --header \"Content-Type: application/json\" \\\n  --data '{\n    \"name\": \"<YOUR_LAN_NAME>\",\n    \"physport\": 2,\n    \"static_addressing\": {\n      \"address\": \"172.16.14.0/24\"\n    },\n    \"vlan_tag\": 0\n  }'\n  sh\nnpx create-next-app --example with-static-export my-app\nsh\ncd my-app\nsh\ngit remote add origin https://github.com/<GH_USERNAME>/<REPOSITORY_NAME>.git\ngit branch -M main\ngit push -u origin main\njs\nconst cookieName = \"ab-test-cookie\";\nconst newHomepagePathName = \"/test\";\n\nconst abTest = async (context) => {\n  const url = new URL(context.request.url);\n  // if homepage\n  if (url.pathname === \"/\") {\n    // if cookie ab-test-cookie=new then change the request to go to /test\n    // if no cookie set, pass x% of traffic and set a cookie value to \"current\" or \"new\"\n\nlet cookie = request.headers.get(\"cookie\");\n    // is cookie set?\n    if (cookie && cookie.includes(`${cookieName}=new`)) {\n      // pass the request to /test\n      url.pathname = newHomepagePathName;\n      return context.env.ASSETS.fetch(url);\n    } else {\n      const percentage = Math.floor(Math.random() * 100);\n      let version = \"current\"; // default version\n      // change pathname and version name for 50% of traffic\n      if (percentage < 50) {\n        url.pathname = newHomepagePathName;\n        version = \"new\";\n      }\n      // get the static file from ASSETS, and attach a cookie\n      const asset = await context.env.ASSETS.fetch(url);\n      let response = new Response(asset.body, asset);\n      response.headers.append(\"Set-Cookie\", `${cookieName}=${version}; path=/`);\n      return response;\n    }\n  }\n  return context.next();\n};\n\nexport const onRequest = [abTest];\nts\n// Respond to OPTIONS method\nexport const onRequestOptions: PagesFunction = async () => {\n  return new Response(null, {\n    status: 204,\n    headers: {\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Headers\": \"*\",\n      \"Access-Control-Allow-Methods\": \"GET, OPTIONS\",\n      \"Access-Control-Max-Age\": \"86400\",\n    },\n  });\n};\n\n// Set CORS to all /api responses\nexport const onRequest: PagesFunction = async (context) => {\n  const response = await context.next();\n  response.headers.set(\"Access-Control-Allow-Origin\", \"*\");\n  response.headers.set(\"Access-Control-Max-Age\", \"86400\");\n  return response;\n};\nsh\n  npm i @cloudflare/pages-plugin-cloudflare-access\n  sh\n  yarn add @cloudflare/pages-plugin-cloudflare-access\n  sh\n  pnpm add @cloudflare/pages-plugin-cloudflare-access\n  typescript\nimport cloudflareAccessPlugin from \"@cloudflare/pages-plugin-cloudflare-access\";\n\nexport const onRequest: PagesFunction = cloudflareAccessPlugin({\n  domain: \"https://test.cloudflareaccess.com\",\n  aud: \"4714c1358e65fe4b408ad6d432a5f878f08194bdb4752441fd56faefa9b2b6f2\",\n});\ntypescript\nimport type { PluginData } from \"@cloudflare/pages-plugin-cloudflare-access\";\n\nexport const onRequest: PagesFunction<unknown, any, PluginData> = async ({\n  data,\n}) => {\n  return new Response(\n    `Hello, ${data.cloudflareAccess.JWT.payload.email || \"service user\"}!`,\n  );\n};\ntypescript\nimport { getIdentity } from \"@cloudflare/pages-plugin-cloudflare-access/api\";\n\nexport const onRequest: PagesFunction = async ({ data }) => {\n  const identity = await getIdentity({\n    jwt: \"eyJhbGciOiJIUzI1NiIsImtpZCI6IjkzMzhhYmUxYmFmMmZlNDkyZjY0NmE3MzZmMjVhZmJmN2IwMjVlMzVjNjI3YmU0ZjYwYzQxNGQ0YzczMDY5YjgiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOlsiOTdlMmFhZTEyMDEyMWY5MDJkZjhiYzk5ZmMzNDU5MTNhYjE4NmQxNzRmMzA3OWVhNzI5MjM2NzY2YjJlN2M0YSJdLCJlbWFpbCI6ImFkbWluQGV4YW1wbGUuY29tIiwiZXhwIjoxNTE5NDE4MjE0LCJpYXQiOjE1MTkzMzE4MTUsImlzcyI6Imh0dHBzOi8vdGVzdC5jbG91ZGZsYXJlYWNjZXNzLmNvbSIsIm5vbmNlIjoiMWQ4MDgzZjcwOGE0Nzk4MjI5NmYyZDk4OTZkNzBmMjA3YTI3OTM4ZjAyNjU0MGMzOTJiOTAzZTVmZGY0ZDZlOSIsInN1YiI6ImNhNjM5YmI5LTI2YWItNDJlNS1iOWJmLTNhZWEyN2IzMzFmZCJ9.05vGt-_0Mw6WEFJF3jpaqkNb88PUMplsjzlEUvCEfnQ\",\n    domain: \"https://test.cloudflareaccess.com\",\n  });\n\nreturn new Response(`Hello, ${identity.name || \"service user\"}!`);\n};\ntypescript\nimport type { PluginData } from \"@cloudflare/pages-plugin-cloudflare-access\";\n\nexport const onRequest: PagesFunction<unknown, any, PluginData> = async ({\n  data,\n}) => {\n  const identity = await data.cloudflareAccess.JWT.getIdentity();\n\nreturn new Response(`Hello, ${identity.name || \"service user\"}!`);\n};\ntypescript\nimport { generateLoginURL } from \"@cloudflare/pages-plugin-cloudflare-access/api\";\n\nexport const onRequest = () => {\n  const loginURL = generateLoginURL({\n    redirectURL: \"https://example.com/greet\",\n    domain: \"https://test.cloudflareaccess.com\",\n    aud: \"4714c1358e65fe4b408ad6d432a5f878f08194bdb4752441fd56faefa9b2b6f2\",\n  });\n\nreturn new Response(null, {\n    status: 302,\n    headers: { Location: loginURL },\n  });\n};\ntypescript\nimport { generateLogoutURL } from \"@cloudflare/pages-plugin-cloudflare-access/api\";\n\nexport const onRequest = () =>\n  new Response(null, {\n    status: 302,\n    headers: {\n      Location: generateLogoutURL({\n        domain: \"https://test.cloudflareaccess.com\",\n      }),\n    },\n  });\nsh\n  npm i @cloudflare/pages-plugin-google-chat\n  sh\n  yarn add @cloudflare/pages-plugin-google-chat\n  sh\n  pnpm add @cloudflare/pages-plugin-google-chat\n  typescript\nimport googleChatPlugin from \"@cloudflare/pages-plugin-google-chat\";\n\nexport const onRequest: PagesFunction = googleChatPlugin(async (message) => {\n  if (message.text.includes(\"ping\")) {\n    return { text: \"pong\" };\n  }\n\nreturn { text: \"Sorry, I could not understand your message.\" };\n});\ntypescript\nimport { GoogleChatAPI } from \"@cloudflare/pages-plugin-google-chat/api\";\n\nexport const onRequest: PagesFunction = () => {\n  // Initialize a GoogleChatAPI with your service account's credentials\n  const googleChat = new GoogleChatAPI({\n    credentials: {\n      client_email: \"SERVICE_ACCOUNT_EMAIL_ADDRESS\",\n      private_key: \"SERVICE_ACCOUNT_PRIVATE_KEY\",\n    },\n  });\n\n// Post a message\n  // https://developers.google.com/chat/api/reference/rest/v1/spaces.messages/create\n  const message = await googleChat.createMessage(\n    { parent: \"spaces/AAAAAAAAAAA\" },\n    undefined,\n    {\n      text: \"I'm an alert!\",\n    },\n  );\n\nreturn new Response(\"Alert sent.\");\n};\nsh\n  npm i @cloudflare/pages-plugin-graphql\n  sh\n  yarn add @cloudflare/pages-plugin-graphql\n  sh\n  pnpm add @cloudflare/pages-plugin-graphql\n  typescript\nimport graphQLPlugin from \"@cloudflare/pages-plugin-graphql\";\nimport {\n  graphql,\n  GraphQLSchema,\n  GraphQLObjectType,\n  GraphQLString,\n} from \"graphql\";\n\nconst schema = new GraphQLSchema({\n  query: new GraphQLObjectType({\n    name: \"RootQueryType\",\n    fields: {\n      hello: {\n        type: GraphQLString,\n        resolve() {\n          return \"Hello, world!\";\n        },\n      },\n    },\n  }),\n});\n\nexport const onRequest: PagesFunction = graphQLPlugin({\n  schema,\n  graphql,\n});\nsh\n  npm i @cloudflare/pages-plugin-hcaptcha\n  sh\n  yarn add @cloudflare/pages-plugin-hcaptcha\n  sh\n  pnpm add @cloudflare/pages-plugin-hcaptcha\n  typescript\nimport hCaptchaPlugin from \"@cloudflare/pages-plugin-hcaptcha\";\n\nexport const onRequestPost: PagesFunction[] = [\n  hCaptchaPlugin({\n    secret: \"0x0000000000000000000000000000000000000000\",\n    sitekey: \"10000000-ffff-ffff-ffff-000000000001\",\n  }),\n  async (context) => {\n    // Request has been validated as coming from a human\n\nconst formData = await context.request.formData();\n\n// Store user credentials\n\nreturn new Response(\"Successfully registered!\");\n  },\n];\nsh\n  npm i @cloudflare/pages-plugin-honeycomb\n  sh\n  yarn add @cloudflare/pages-plugin-honeycomb\n  sh\n  pnpm add @cloudflare/pages-plugin-honeycomb\n  typescript\nimport honeycombPlugin from \"@cloudflare/pages-plugin-honeycomb\";\n\nexport const onRequest: PagesFunction<{\n  HONEYCOMB_API_KEY: string;\n  HONEYCOMB_DATASET: string;\n}> = (context) => {\n  return honeycombPlugin({\n    apiKey: context.env.HONEYCOMB_API_KEY,\n    dataset: context.env.HONEYCOMB_DATASET,\n  })(context);\n};\ntypescript\nimport honeycombPlugin from \"@cloudflare/pages-plugin-honeycomb\";\n\nexport const onRequest = honeycombPlugin({\n  apiKey: \"YOUR_HONEYCOMB_API_KEY\",\n  dataset: \"YOUR_HONEYCOMB_DATASET_NAME\",\n});\ntypescript\nimport type { PluginData } from \"@cloudflare/pages-plugin-honeycomb\";\n\nexport const onRequest: PagesFunction<unknown, any, PluginData> = async ({\n  data,\n  next,\n  request,\n}) => {\n  // Authenticate the user from the request and extract user's email address\n  const email = await getEmailFromRequest(request);\n\ndata.honeycomb.tracer.addData({ email });\n\nreturn next();\n};\nsh\n  npm i @cloudflare/pages-plugin-sentry\n  sh\n  yarn add @cloudflare/pages-plugin-sentry\n  sh\n  pnpm add @cloudflare/pages-plugin-sentry\n  typescript\nimport sentryPlugin from \"@cloudflare/pages-plugin-sentry\";\n\nexport const onRequest: PagesFunction = sentryPlugin({\n  dsn: \"https://sentry.io/welcome/xyz\",\n});\ntypescript\nimport sentryPlugin from \"@cloudflare/pages-plugin-sentry\";\n\nexport const onRequest: PagesFunction<{\n  SENTRY_DSN: string;\n}> = (context) => {\n  return sentryPlugin({ dsn: context.env.SENTRY_DSN })(context);\n};\ntypescript\nimport sentryPlugin from \"@cloudflare/pages-plugin-sentry\";\n\nexport const onRequest: PagesFunction<{\n  KV: KVNamespace;\n}> = async (context) => {\n  return sentryPlugin({ dsn: await context.env.KV.get(\"SENTRY_DSN\") })(context);\n};\ntypescript\nimport type { PluginData } from \"@cloudflare/pages-plugin-sentry\";\n\nexport const onRequest: PagesFunction<unknown, any, PluginData> = async ({\n  data,\n  next,\n}) => {\n  // Authenticate the user from the request and extract user's email address\n  const email = await getEmailFromRequest(request);\n\ndata.sentry.setUser({ email });\n\nreturn next();\n};\nsh\n  npm i @cloudflare/pages-plugin-static-forms\n  sh\n  yarn add @cloudflare/pages-plugin-static-forms\n  sh\n  pnpm add @cloudflare/pages-plugin-static-forms\n  typescript\nimport staticFormsPlugin from \"@cloudflare/pages-plugin-static-forms\";\n\nexport const onRequest: PagesFunction = staticFormsPlugin({\n  respondWith: ({ formData, name }) => {\n    const email = formData.get(\"email\");\n    return new Response(\n      `Hello, ${email}! Thank you for submitting the ${name} form.`,\n    );\n  },\n});\nhtml\n<body>\n  <h1>Sales enquiry</h1>\n  <form data-static-form-name=\"sales\">\n    <label>Email address <input type=\"email\" name=\"email\" /></label>\n    <label>Message <textarea name=\"message\"></textarea></label>\n    <button type=\"submit\">Submit</button>\n  </form>\n</body>\nsh\n  npm i @cloudflare/pages-plugin-stytch\n  sh\n  yarn add @cloudflare/pages-plugin-stytch\n  sh\n  pnpm add @cloudflare/pages-plugin-stytch\n  typescript\nimport stytchPlugin from \"@cloudflare/pages-plugin-stytch\";\nimport { envs } from \"@cloudflare/pages-plugin-stytch/api\";\n\nexport const onRequest: PagesFunction = stytchPlugin({\n  project_id: \"YOUR_STYTCH_PROJECT_ID\",\n  secret: \"YOUR_STYTCH_PROJECT_SECRET\",\n  env: envs.live,\n});\nsh\n  npm i @cloudflare/pages-plugin-turnstile\n  sh\n  yarn add @cloudflare/pages-plugin-turnstile\n  sh\n  pnpm add @cloudflare/pages-plugin-turnstile\n  typescript\nimport turnstilePlugin from \"@cloudflare/pages-plugin-turnstile\";\n\n/**\n * POST /api/submit-with-plugin\n */\n\nexport const onRequestPost = [\n  turnstilePlugin({\n    // This is the demo secret key. In prod, we recommend you store\n    // your secret key(s) safely.\n    secret: \"0x4AAAAAAASh4E5cwHGsTTePnwcPbnFru6Y\",\n  }),\n  // Alternatively, this is how you can use a secret key which has been stored as an environment variable\n  // (async (context) => {\n  //   return turnstilePlugin({secret: context.env.SECRET_KEY})(context)\n  // }),\n  async (context) => {\n    // Request has been validated as coming from a human\n    const formData = await context.request.formData();\n    // Additional solve metadata data is available at context.data.turnstile\n    return new Response(\n      `Successfully verified! ${JSON.stringify(context.data.turnstile)}`,\n    );\n  },\n];\nsh\n  npm i @cloudflare/pages-plugin-vercel-og\n  sh\n  yarn add @cloudflare/pages-plugin-vercel-og\n  sh\n  pnpm add @cloudflare/pages-plugin-vercel-og\n  typescript\nimport React from \"react\";\nimport vercelOGPagesPlugin from \"@cloudflare/pages-plugin-vercel-og\";\n\ninterface Props {\n  ogTitle: string;\n}\n\nexport const onRequest = vercelOGPagesPlugin<Props>({\n  imagePathSuffix: \"/social-image.png\",\n  component: ({ ogTitle, pathname }) => {\n    return <div style={{ display: \"flex\" }}>{ogTitle}</div>;\n  },\n  extractors: {\n    on: {\n      'meta[property=\"og:title\"]': (props) => ({\n        element(element) {\n          props.ogTitle = element.getAttribute(\"content\");\n        },\n      }),\n    },\n  },\n  autoInject: {\n    openGraph: true,\n  },\n});\ntypescript\nimport React from \"react\";\nimport { ImageResponse } from \"@cloudflare/pages-plugin-vercel-og/api\";\n\nexport const onRequest: PagesFunction = async () => {\n  return new ImageResponse(\n    <div style={{ display: \"flex\" }}>Hello, world!</div>,\n    {\n      width: 1200,\n      height: 630,\n    }\n  );\n};\nbash\nnpx wrangler pipelines sinks create my-sink \\\n  --type r2 \\\n  --bucket my-bucket\nbash\n--format json\nbash\n--format parquet --compression zstd\nbash\n--target-row-group-size 256\nplaintext\nanalytics/year=2025/month=09/day=18/002507a5-d449-48e8-a484-b1bea916102f.parquet\nbash\n--path analytics/events\nbash\n--partitioning \"year=%Y/month=%m/day=%d/hour=%H\"\nbash\n--roll-interval 60  # Write files every 60 seconds\nbash\n--roll-size 100  # Create new file after 100MB\nbash\nnpx wrangler pipelines sinks create my-sink \\\n  --type r2 \\\n  --bucket my-bucket \\\n  --access-key-id YOUR_ACCESS_KEY_ID \\\n  --secret-access-key YOUR_SECRET_ACCESS_KEY\nbash\nnpx wrangler pipelines sinks create my-sink \\\n  --type r2-data-catalog \\\n  --bucket my-bucket \\\n  --namespace my_namespace \\\n  --table my_table \\\n  --catalog-token YOUR_CATALOG_TOKEN\nbash\n--compression zstd\nbash\n--target-row-group-size 256\nbash\n--roll-interval 60  # Write files every 60 seconds\nbash\n--roll-size 100  # Create new file after 100MB\nbash\n--catalog-token YOUR_CATALOG_TOKEN\nplaintext\narray_append(array, element)\nplaintext\n> select array_append([1, 2, 3], 4);\n+--------------------------------------+\n| array_append(List([1,2,3]),Int64(4)) |\n+--------------------------------------+\n| [1, 2, 3, 4]                         |\n+--------------------------------------+\nplaintext\narray_sort(array, desc, nulls_first)\nplaintext\n> select array_sort([3, 1, 2]);\n+-----------------------------+\n| array_sort(List([3,1,2]))   |\n+-----------------------------+\n| [1, 2, 3]                   |\n+-----------------------------+\nplaintext\narray_resize(array, size, value)\nplaintext\n> select array_resize([1, 2, 3], 5, 0);\n+-------------------------------------+\n| array_resize(List([1,2,3],5,0))     |\n+-------------------------------------+\n| [1, 2, 3, 0, 0]                     |\n+-------------------------------------+\nplaintext\narray_concat(array[, ..., array_n])\nplaintext\n> select array_concat([1, 2], [3, 4], [5, 6]);\n+---------------------------------------------------+\n| array_concat(List([1,2]),List([3,4]),List([5,6])) |\n+---------------------------------------------------+\n| [1, 2, 3, 4, 5, 6]                                |\n+---------------------------------------------------+\nplaintext\narray_has(array, element)\nplaintext\narray_has_all(array, sub-array)\nplaintext\narray_has_any(array, sub-array)\nplaintext\narray_dims(array)\nplaintext\n> select array_dims([[1, 2, 3], [4, 5, 6]]);\n+---------------------------------+\n| array_dims(List([1,2,3,4,5,6])) |\n+---------------------------------+\n| [2, 3]                          |\n+---------------------------------+\nplaintext\narray_distinct(array)\nplaintext\n> select array_distinct([1, 3, 2, 3, 1, 2, 4]);\n+---------------------------------+\n| array_distinct(List([1,2,3,4])) |\n+---------------------------------+\n| [1, 2, 3, 4]                    |\n+---------------------------------+\nplaintext\narray_element(array, index)\nplaintext\n> select array_element([1, 2, 3, 4], 3);\n+-----------------------------------------+\n| array_element(List([1,2,3,4]),Int64(3)) |\n+-----------------------------------------+\n| 3                                       |\n+-----------------------------------------+\nplaintext\narray_fill(element, array)\nplaintext\nflatten(array)\nplaintext\narray_intersect(array1, array2)\nplaintext\n> select array_intersect([1, 2, 3, 4], [5, 6, 3, 4]);\n+----------------------------------------------------+\n| array_intersect([1, 2, 3, 4], [5, 6, 3, 4]);       |\n+----------------------------------------------------+\n| [3, 4]                                             |\n+----------------------------------------------------+\n> select array_intersect([1, 2, 3, 4], [5, 6, 7, 8]);\n+----------------------------------------------------+\n| array_intersect([1, 2, 3, 4], [5, 6, 7, 8]);       |\n+----------------------------------------------------+\n| []                                                 |\n+----------------------------------------------------+\nplaintext\narray_length(array, dimension)\nplaintext\n> select array_length([1, 2, 3, 4, 5]);\n+---------------------------------+\n| array_length(List([1,2,3,4,5])) |\n+---------------------------------+\n| 5                               |\n+---------------------------------+\nplaintext\narray_ndims(array, element)\nplaintext\n> select array_ndims([[1, 2, 3], [4, 5, 6]]);\n+----------------------------------+\n| array_ndims(List([1,2,3,4,5,6])) |\n+----------------------------------+\n| 2                                |\n+----------------------------------+\nplaintext\narray_prepend(element, array)\nplaintext\n> select array_prepend(1, [2, 3, 4]);\n+---------------------------------------+\n| array_prepend(Int64(1),List([2,3,4])) |\n+---------------------------------------+\n| [1, 2, 3, 4]                          |\n+---------------------------------------+\nplaintext\narray_pop_front(array)\nplaintext\n> select array_pop_front([1, 2, 3]);\n+-------------------------------+\n| array_pop_front(List([1,2,3])) |\n+-------------------------------+\n| [2, 3]                        |\n+-------------------------------+\nplaintext\narray_pop_back(array)\nplaintext\n> select array_pop_back([1, 2, 3]);\n+-------------------------------+\n| array_pop_back(List([1,2,3])) |\n+-------------------------------+\n| [1, 2]                        |\n+-------------------------------+\nplaintext\narray_position(array, element)\narray_position(array, element, index)\nplaintext\n> select array_position([1, 2, 2, 3, 1, 4], 2);\n+----------------------------------------------+\n| array_position(List([1,2,2,3,1,4]),Int64(2)) |\n+----------------------------------------------+\n| 2                                            |\n+----------------------------------------------+\nplaintext\narray_positions(array, element)\nplaintext\n> select array_positions([1, 2, 2, 3, 1, 4], 2);\n+-----------------------------------------------+\n| array_positions(List([1,2,2,3,1,4]),Int64(2)) |\n+-----------------------------------------------+\n| [2, 3]                                        |\n+-----------------------------------------------+\nplaintext\narray_repeat(element, count)\nplaintext\n> select array_repeat(1, 3);\n+---------------------------------+\n| array_repeat(Int64(1),Int64(3)) |\n+---------------------------------+\n| [1, 1, 1]                       |\n+---------------------------------+\nplaintext\n> select array_repeat([1, 2], 2);\n+------------------------------------+\n| array_repeat(List([1,2]),Int64(2)) |\n+------------------------------------+\n| [[1, 2], [1, 2]]                   |\n+------------------------------------+\nplaintext\narray_remove(array, element)\nplaintext\n> select array_remove([1, 2, 2, 3, 2, 1, 4], 2);\n+----------------------------------------------+\n| array_remove(List([1,2,2,3,2,1,4]),Int64(2)) |\n+----------------------------------------------+\n| [1, 2, 3, 2, 1, 4]                           |\n+----------------------------------------------+\nplaintext\narray_remove_n(array, element, max)\nplaintext\n> select array_remove_n([1, 2, 2, 3, 2, 1, 4], 2, 2);\n+---------------------------------------------------------+\n| array_remove_n(List([1,2,2,3,2,1,4]),Int64(2),Int64(2)) |\n+---------------------------------------------------------+\n| [1, 3, 2, 1, 4]                                         |\n+---------------------------------------------------------+\nplaintext\narray_remove_all(array, element)\nplaintext\n> select array_remove_all([1, 2, 2, 3, 2, 1, 4], 2);\n+--------------------------------------------------+\n| array_remove_all(List([1,2,2,3,2,1,4]),Int64(2)) |\n+--------------------------------------------------+\n| [1, 3, 1, 4]                                     |\n+--------------------------------------------------+\nplaintext\narray_replace(array, from, to)\nplaintext\n> select array_replace([1, 2, 2, 3, 2, 1, 4], 2, 5);\n+--------------------------------------------------------+\n| array_replace(List([1,2,2,3,2,1,4]),Int64(2),Int64(5)) |\n+--------------------------------------------------------+\n| [1, 5, 2, 3, 2, 1, 4]                                  |\n+--------------------------------------------------------+\nplaintext\narray_replace_n(array, from, to, max)\nplaintext\n> select array_replace_n([1, 2, 2, 3, 2, 1, 4], 2, 5, 2);\n+-------------------------------------------------------------------+\n| array_replace_n(List([1,2,2,3,2,1,4]),Int64(2),Int64(5),Int64(2)) |\n+-------------------------------------------------------------------+\n| [1, 5, 5, 3, 2, 1, 4]                                             |\n+-------------------------------------------------------------------+\nplaintext\narray_replace_all(array, from, to)\nplaintext\n> select array_replace_all([1, 2, 2, 3, 2, 1, 4], 2, 5);\n+------------------------------------------------------------+\n| array_replace_all(List([1,2,2,3,2,1,4]),Int64(2),Int64(5)) |\n+------------------------------------------------------------+\n| [1, 5, 5, 3, 5, 1, 4]                                      |\n+------------------------------------------------------------+\nplaintext\narray_reverse(array)\nplaintext\n> select array_reverse([1, 2, 3, 4]);\n+------------------------------------------------------------+\n| array_reverse(List([1, 2, 3, 4]))                          |\n+------------------------------------------------------------+\n| [4, 3, 2, 1]                                               |\n+------------------------------------------------------------+\nplaintext\narray_slice(array, begin, end)\nplaintext\n> select array_slice([1, 2, 3, 4, 5, 6, 7, 8], 3, 6);\n+--------------------------------------------------------+\n| array_slice(List([1,2,3,4,5,6,7,8]),Int64(3),Int64(6)) |\n+--------------------------------------------------------+\n| [3, 4, 5, 6]                                           |\n+--------------------------------------------------------+\nplaintext\narray_to_string(array, delimiter)\nplaintext\n> select array_to_string([[1, 2, 3, 4], [5, 6, 7, 8]], ',');\n+----------------------------------------------------+\n| array_to_string(List([1,2,3,4,5,6,7,8]),Utf8(\",\")) |\n+----------------------------------------------------+\n| 1,2,3,4,5,6,7,8                                    |\n+----------------------------------------------------+\nplaintext\narray_union(array1, array2)\nplaintext\n> select array_union([1, 2, 3, 4], [5, 6, 3, 4]);\n+----------------------------------------------------+\n| array_union([1, 2, 3, 4], [5, 6, 3, 4]);           |\n+----------------------------------------------------+\n| [1, 2, 3, 4, 5, 6]                                 |\n+----------------------------------------------------+\n> select array_union([1, 2, 3, 4], [5, 6, 7, 8]);\n+----------------------------------------------------+\n| array_union([1, 2, 3, 4], [5, 6, 7, 8]);           |\n+----------------------------------------------------+\n| [1, 2, 3, 4, 5, 6, 7, 8]                           |\n+----------------------------------------------------+\nplaintext\narray_except(array1, array2)\nplaintext\n> select array_except([1, 2, 3, 4], [5, 6, 3, 4]);\n+----------------------------------------------------+\n| array_except([1, 2, 3, 4], [5, 6, 3, 4]);           |\n+----------------------------------------------------+\n| [1, 2]                                 |\n+----------------------------------------------------+\n> select array_except([1, 2, 3, 4], [3, 4, 5, 6]);\n+----------------------------------------------------+\n| array_except([1, 2, 3, 4], [3, 4, 5, 6]);           |\n+----------------------------------------------------+\n| [1, 2]                                 |\n+----------------------------------------------------+\nplaintext\ncardinality(array)\nplaintext\n> select cardinality([[1, 2, 3, 4], [5, 6, 7, 8]]);\n+--------------------------------------+\n| cardinality(List([1,2,3,4,5,6,7,8])) |\n+--------------------------------------+\n| 8                                    |\n+--------------------------------------+\nplaintext\nempty(array)\nplaintext\n> select empty([1]);\n+------------------+\n| empty(List([1])) |\n+------------------+\n| 0                |\n+------------------+\nplaintext\ngenerate_series(start, stop, step)\nplaintext\n> select generate_series(1,3);\n+------------------------------------+\n| generate_series(Int64(1),Int64(3)) |\n+------------------------------------+\n| [1, 2, 3]                          |\n+------------------------------------+\nplaintext\nmake_array(expression1[, ..., expression_n])\nplaintext\n> select make_array(1, 2, 3, 4, 5);\n+----------------------------------------------------------+\n| make_array(Int64(1),Int64(2),Int64(3),Int64(4),Int64(5)) |\n+----------------------------------------------------------+\n| [1, 2, 3, 4, 5]                                          |\n+----------------------------------------------------------+\nplaintext\nstarts_with(str, delimiter[, null_str])\nplaintext\ntrim_array(array, n)\nplaintext\nSELECT range(3);\nSELECT range(1,5);\nSELECT range(1,5,1);\nplaintext\nSELECT range(DATE '1992-09-01', DATE '1993-03-01', INTERVAL '1' MONTH);\nplaintext\nSELECT range(DATE '1992-09-01', DATE '1993-03-01', NULL);\nSELECT range(NULL, DATE '1993-03-01', INTERVAL '1' MONTH);\nSELECT range(DATE '1992-09-01', NULL, INTERVAL '1' MONTH);\nplaintext\nencode(expression, format)\nplaintext\ndecode(expression, format)\nplaintext\ncoalesce(expression1[, ..., expression_n])\nplaintext\nnullif(expression1, expression2)\nplaintext\nnvl(expression1, expression2)\nplaintext\nnvl2(expression1, expression2, expression3)\nplaintext\ndigest(expression, algorithm)\nplaintext\nmd5(expression)\nplaintext\nsha224(expression)\nplaintext\nsha256(expression)\nplaintext\nsha384(expression)\nplaintext\nsha512(expression)\nsql\nSELECT json_contains('{\"a\": 1, \"b\": 2, \"c\": 3}', 'a') FROM source;\ntrue\nsql\nSELECT '{\"a\": 1, \"b\": 2, \"c\": 3}' ? 'a' FROM source;\ntrue\nsql\nSELECT json_get('{\"a\": {\"b\": 2}}', 'a', 'b') FROM source;\n2\nsql\nSELECT '{\"a\": {\"b\": 2}}'->'a'->'b' FROM source;\n2\nsql\nSELECT json_get('{\"a\": {\"b\": 2}}', 'a', 'b')::int FROM source;\n2\nsql\nSELECT json_get_str('{\"a\": {\"b\": \"hello\"}}', 'a', 'b') FROM source;\n\"hello\"\nsql\nSELECT json_get_int('{\"a\": {\"b\": 42}}', 'a', 'b') FROM source;\n42\nsql\nSELECT json_get_float('{\"a\": {\"b\": 3.14}}', 'a', 'b') FROM source;\n3.14\nsql\nSELECT json_get_bool('{\"a\": {\"b\": true}}', 'a', 'b') FROM source;\ntrue\nsql\nSELECT json_get_json('{\"a\": {\"b\": {\"c\": 1}}}', 'a', 'b') FROM source;\n'{\"c\": 1}'\nsql\nSELECT json_as_text('{\"a\": {\"b\": 42}}', 'a', 'b') FROM source;\n\"42\"\nsql\nSELECT '{\"a\": {\"b\": 42}}'->>'a'->>'b' FROM source;\n\"42\"\nsql\nSELECT json_length('{\"a\": [1, 2, 3]}', 'a') FROM source;\n3\nsql\nSELECT extract_json('{\"a\": 1, \"b\": 2, \"c\": 3}', '$.a') FROM source;\n['1']\nsql\nSELECT extract_json_string('{\"a\": \"a\", \"b\": 2, \"c\": 3}', '$.a') FROM source;\n'a'\nplaintext\nabs(numeric_expression)\nplaintext\nacos(numeric_expression)\nplaintext\nacosh(numeric_expression)\nplaintext\nasin(numeric_expression)\nplaintext\nasinh(numeric_expression)\nplaintext\natan(numeric_expression)\nplaintext\natanh(numeric_expression)\nplaintext\natan2(expression_y, expression_x)\nplaintext\ncbrt(numeric_expression)\nplaintext\nceil(numeric_expression)\nplaintext\ncos(numeric_expression)\nplaintext\ncosh(numeric_expression)\nplaintext\ndegrees(numeric_expression)\nplaintext\nexp(numeric_expression)\nplaintext\nfactorial(numeric_expression)\nplaintext\nfloor(numeric_expression)\nplaintext\ngcd(expression_x, expression_y)\nplaintext\nisnan(numeric_expression)\nplaintext\niszero(numeric_expression)\nplaintext\nlcm(expression_x, expression_y)\nplaintext\nln(numeric_expression)\nplaintext\nlog(base, numeric_expression)\nlog(numeric_expression)\nplaintext\nlog10(numeric_expression)\nplaintext\nlog2(numeric_expression)\nplaintext\nnanvl(expression_x, expression_y)\nplaintext\npi()\nplaintext\npower(base, exponent)\nplaintext\nradians(numeric_expression)\nplaintext\nrandom()\nplaintext\nround(numeric_expression[, decimal_places])\nplaintext\nsignum(numeric_expression)\nplaintext\nsin(numeric_expression)\nplaintext\nsinh(numeric_expression)\nplaintext\nsqrt(numeric_expression)\nplaintext\ntan(numeric_expression)\nplaintext\ntanh(numeric_expression)\nplaintext\ntrunc(numeric_expression[, decimal_places])\nplaintext\narrow_cast(expression, datatype)\nplaintext\n> select arrow_cast(-5, 'Int8') as a,\n  arrow_cast('foo', 'Dictionary(Int32, Utf8)') as b,\n  arrow_cast('bar', 'LargeUtf8') as c,\n  arrow_cast('2023-01-02T12:53:02', 'Timestamp(Microsecond, Some(\"+08:00\"))') as d\n  ;\n+----+-----+-----+---------------------------+\n| a  | b   | c   | d                         |\n+----+-----+-----+---------------------------+\n| -5 | foo | bar | 2023-01-02T12:53:02+08:00 |\n+----+-----+-----+---------------------------+\n1 row in set. Query took 0.001 seconds.\nplaintext\narrow_typeof(expression)\nplaintext\n> select arrow_typeof('foo'), arrow_typeof(1);\n+---------------------------+------------------------+\n| arrow_typeof(Utf8(\"foo\")) | arrow_typeof(Int64(1)) |\n+---------------------------+------------------------+\n| Utf8                      | Int64                  |\n+---------------------------+------------------------+\n1 row in set. Query took 0.001 seconds.\nplaintext\nregexp_like(str, regexp[, flags])\nsql\nselect regexp_like('Kln', '[a-zA-Z][a-zA-Z]{2}');\n+--------------------------------------------------------+\n| regexp_like(Utf8(\"Kln\"),Utf8(\"[a-zA-Z][a-zA-Z]{2}\")) |\n+--------------------------------------------------------+\n| true                                                   |\n+--------------------------------------------------------+\nSELECT regexp_like('aBc', '(b|d)', 'i');\n+--------------------------------------------------+\n| regexp_like(Utf8(\"aBc\"),Utf8(\"(b|d)\"),Utf8(\"i\")) |\n+--------------------------------------------------+\n| true                                             |\n+--------------------------------------------------+\nplaintext\nregexp_match(str, regexp[, flags])\nsql\nselect regexp_match('Kln', '[a-zA-Z][a-zA-Z]{2}');\n+---------------------------------------------------------+\n| regexp_match(Utf8(\"Kln\"),Utf8(\"[a-zA-Z][a-zA-Z]{2}\")) |\n+---------------------------------------------------------+\n| [Kln]                                                  |\n+---------------------------------------------------------+\nSELECT regexp_match('aBc', '(b|d)', 'i');\n+---------------------------------------------------+\n| regexp_match(Utf8(\"aBc\"),Utf8(\"(b|d)\"),Utf8(\"i\")) |\n+---------------------------------------------------+\n| [B]                                               |\n+---------------------------------------------------+\nplaintext\nregexp_replace(str, regexp, replacement[, flags])\nsql\nSELECT regexp_replace('foobarbaz', 'b(..)', 'X\\\\1Y', 'g');\n+------------------------------------------------------------------------+\n| regexp_replace(Utf8(\"foobarbaz\"),Utf8(\"b(..)\"),Utf8(\"X\\1Y\"),Utf8(\"g\")) |\n+------------------------------------------------------------------------+\n| fooXarYXazY                                                            |\n+------------------------------------------------------------------------+\nSELECT regexp_replace('aBc', '(b|d)', 'Ab\\\\1a', 'i');\n+-------------------------------------------------------------------+\n| regexp_replace(Utf8(\"aBc\"),Utf8(\"(b|d)\"),Utf8(\"Ab\\1a\"),Utf8(\"i\")) |\n+-------------------------------------------------------------------+\n| aAbBac                                                            |\n+-------------------------------------------------------------------+\nplaintext\nposition(substr in origstr)\nplaintext\nascii(str)\nplaintext\nbit_length(str)\nplaintext\nbtrim(str[, trim_str])\nplaintext\nconcat(str[, ..., str_n])\nplaintext\nconcat(separator, str[, ..., str_n])\nplaintext\nchr(expression)\nplaintext\nends_with(str, substr)\nplaintext\ninitcap(str)\nplaintext\nleft(str, n)\nplaintext\nlength(str)\nplaintext\nlower(str)\nplaintext\nlpad(str, n[, padding_str])\nplaintext\nltrim(str[, trim_str])\nplaintext\noctet_length(str)\nplaintext\nrepeat(str, n)\nplaintext\nreplace(str, substr, replacement)\nplaintext\nreverse(str)\nplaintext\nright(str, n)\nplaintext\nrpad(str, n[, padding_str])\nplaintext\nrtrim(str[, trim_str])\nplaintext\nsplit_part(str, delimiter, pos)\nplaintext\nstarts_with(str, substr)\nplaintext\nstrpos(str, substr)\nplaintext\nsubstr(str, start_pos[, length])\nplaintext\ntranslate(str, chars, translation)\nplaintext\nto_hex(int)\nplaintext\nupper(str)\nplaintext\nuuid()\nplaintext\noverlay(str PLACING substr FROM pos [FOR count])\nplaintext\nlevenshtein(str1, str2)\nplaintext\nsubstr_index(str, delim, count)\nplaintext\nfind_in_set(str, strlist)\nplaintext\nstruct(expression1[, ..., expression_n])\nplaintext\nselect * from t;\n+---+---+\n| a | b |\n+---+---+\n| 1 | 2 |\n| 3 | 4 |\n+---+---+\n\nselect struct(a, b) from t;\n+-----------------+\n| struct(t.a,t.b) |\n+-----------------+\n| {c0: 1, c1: 2}  |\n| {c0: 3, c1: 4}  |\n+-----------------+\nplaintext\ndate_bin(interval, expression, origin-timestamp)\nplaintext\ndate_trunc(precision, expression)\nplaintext\ndate_part(part, expression)\nplaintext\nextract(field FROM source)\nsql\nextract(day FROM '2024-04-13'::date)\ndate_part('day', '2024-04-13'::date)\nplaintext\nmake_date(year, month, day)\nplaintext\n> select make_date(2023, 1, 31);\n+-------------------------------------------+\n| make_date(Int64(2023),Int64(1),Int64(31)) |\n+-------------------------------------------+\n| 2023-01-31                                |\n+-------------------------------------------+\n> select make_date('2023', '01', '31');\n+-----------------------------------------------+\n| make_date(Utf8(\"2023\"),Utf8(\"01\"),Utf8(\"31\")) |\n+-----------------------------------------------+\n| 2023-01-31                                    |\n+-----------------------------------------------+\nplaintext\nto_char(expression, format)\nplaintext\n> > select to_char('2023-03-01'::date, '%d-%m-%Y');\n+----------------------------------------------+\n| to_char(Utf8(\"2023-03-01\"),Utf8(\"%d-%m-%Y\")) |\n+----------------------------------------------+\n| 01-03-2023                                   |\n+----------------------------------------------+\nplaintext\nto_timestamp(expression[, ..., format_n])\nplaintext\n> select to_timestamp('2023-01-31T09:26:56.123456789-05:00');\n+-----------------------------------------------------------+\n| to_timestamp(Utf8(\"2023-01-31T09:26:56.123456789-05:00\")) |\n+-----------------------------------------------------------+\n| 2023-01-31T14:26:56.123456789                             |\n+-----------------------------------------------------------+\n> select to_timestamp('03:59:00.123456789 05-17-2023', '%c', '%+', '%H:%M:%S%.f %m-%d-%Y');\n+--------------------------------------------------------------------------------------------------------+\n| to_timestamp(Utf8(\"03:59:00.123456789 05-17-2023\"),Utf8(\"%c\"),Utf8(\"%+\"),Utf8(\"%H:%M:%S%.f %m-%d-%Y\")) |\n+--------------------------------------------------------------------------------------------------------+\n| 2023-05-17T03:59:00.123456789                                                                          |\n+--------------------------------------------------------------------------------------------------------+\nplaintext\nto_timestamp_millis(expression[, ..., format_n])\nplaintext\n> select to_timestamp_millis('2023-01-31T09:26:56.123456789-05:00');\n+------------------------------------------------------------------+\n| to_timestamp_millis(Utf8(\"2023-01-31T09:26:56.123456789-05:00\")) |\n+------------------------------------------------------------------+\n| 2023-01-31T14:26:56.123                                          |\n+------------------------------------------------------------------+\n> select to_timestamp_millis('03:59:00.123456789 05-17-2023', '%c', '%+', '%H:%M:%S%.f %m-%d-%Y');\n+---------------------------------------------------------------------------------------------------------------+\n| to_timestamp_millis(Utf8(\"03:59:00.123456789 05-17-2023\"),Utf8(\"%c\"),Utf8(\"%+\"),Utf8(\"%H:%M:%S%.f %m-%d-%Y\")) |\n+---------------------------------------------------------------------------------------------------------------+\n| 2023-05-17T03:59:00.123                                                                                       |\n+---------------------------------------------------------------------------------------------------------------+\nplaintext\nto_timestamp_micros(expression[, ..., format_n])\nplaintext\n> select to_timestamp_micros('2023-01-31T09:26:56.123456789-05:00');\n+------------------------------------------------------------------+\n| to_timestamp_micros(Utf8(\"2023-01-31T09:26:56.123456789-05:00\")) |\n+------------------------------------------------------------------+\n| 2023-01-31T14:26:56.123456                                       |\n+------------------------------------------------------------------+\n> select to_timestamp_micros('03:59:00.123456789 05-17-2023', '%c', '%+', '%H:%M:%S%.f %m-%d-%Y');\n+---------------------------------------------------------------------------------------------------------------+\n| to_timestamp_micros(Utf8(\"03:59:00.123456789 05-17-2023\"),Utf8(\"%c\"),Utf8(\"%+\"),Utf8(\"%H:%M:%S%.f %m-%d-%Y\")) |\n+---------------------------------------------------------------------------------------------------------------+\n| 2023-05-17T03:59:00.123456                                                                                    |\n+---------------------------------------------------------------------------------------------------------------+\nplaintext\nto_timestamp_nanos(expression[, ..., format_n])\nplaintext\n> select to_timestamp_nanos('2023-01-31T09:26:56.123456789-05:00');\n+-----------------------------------------------------------------+\n| to_timestamp_nanos(Utf8(\"2023-01-31T09:26:56.123456789-05:00\")) |\n+-----------------------------------------------------------------+\n| 2023-01-31T14:26:56.123456789                                   |\n+-----------------------------------------------------------------+\n> select to_timestamp_nanos('03:59:00.123456789 05-17-2023', '%c', '%+', '%H:%M:%S%.f %m-%d-%Y');\n+--------------------------------------------------------------------------------------------------------------+\n| to_timestamp_nanos(Utf8(\"03:59:00.123456789 05-17-2023\"),Utf8(\"%c\"),Utf8(\"%+\"),Utf8(\"%H:%M:%S%.f %m-%d-%Y\")) |\n+--------------------------------------------------------------------------------------------------------------+\n| 2023-05-17T03:59:00.123456789                                                                                |\n+---------------------------------------------------------------------------------------------------------------+\nplaintext\nto_timestamp_seconds(expression[, ..., format_n])\nplaintext\n> select to_timestamp_seconds('2023-01-31T09:26:56.123456789-05:00');\n+-------------------------------------------------------------------+\n| to_timestamp_seconds(Utf8(\"2023-01-31T09:26:56.123456789-05:00\")) |\n+-------------------------------------------------------------------+\n| 2023-01-31T14:26:56                                               |\n+-------------------------------------------------------------------+\n> select to_timestamp_seconds('03:59:00.123456789 05-17-2023', '%c', '%+', '%H:%M:%S%.f %m-%d-%Y');\n+----------------------------------------------------------------------------------------------------------------+\n| to_timestamp_seconds(Utf8(\"03:59:00.123456789 05-17-2023\"),Utf8(\"%c\"),Utf8(\"%+\"),Utf8(\"%H:%M:%S%.f %m-%d-%Y\")) |\n+----------------------------------------------------------------------------------------------------------------+\n| 2023-05-17T03:59:00                                                                                            |\n+----------------------------------------------------------------------------------------------------------------+\nplaintext\nfrom_unixtime(expression)\ntxt\nPUT / HTTP/1.1\nHost: bucket.account.r2.cloudflarestorage.com\n<CreateBucketConfiguration xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\">\n   <LocationConstraint>auto</LocationConstraint>\n</CreateBucketConfiguration>\nts\n  import { S3Client, GetObjectCommand, PutObjectCommand } from \"@aws-sdk/client-s3\";\n  import { getSignedUrl } from \"@aws-sdk/s3-request-presigner\";\n\nconst S3 = new S3Client({\n    region: \"auto\", // Required by SDK but not used by R2\n    // Provide your Cloudflare account ID\n    endpoint: `https://<ACCOUNT_ID>.r2.cloudflarestorage.com`,\n    // Retrieve your S3 API credentials for your R2 bucket via API tokens (see: https://developers.cloudflare.com/r2/api/tokens)\n    credentials: {\n      accessKeyId: '<ACCESS_KEY_ID>',\n      secretAccessKey: '<SECRET_ACCESS_KEY>',\n    },\n  });\n\n// Generate presigned URL for reading (GET)\n  const getUrl = await getSignedUrl(\n    S3,\n    new GetObjectCommand({ Bucket: \"my-bucket\", Key: \"image.png\" }),\n    { expiresIn: 3600 }, // Valid for 1 hour\n  );\n  // https://my-bucket.<ACCOUNT_ID>.r2.cloudflarestorage.com/image.png?X-Amz-Algorithm=...\n\n// Generate presigned URL for writing (PUT)\n  // Specify ContentType to restrict uploads to a specific file type\n  const putUrl = await getSignedUrl(\n    S3,\n    new PutObjectCommand({\n      Bucket: \"my-bucket\",\n      Key: \"image.png\",\n      ContentType: \"image/png\",\n    }),\n    { expiresIn: 3600 },\n  );\n  python\n  import boto3\n\ns3 = boto3.client(\n      service_name=\"s3\",\n      # Provide your Cloudflare account ID\n      endpoint_url='https://<ACCOUNT_ID>.r2.cloudflarestorage.com',\n      # Retrieve your S3 API credentials for your R2 bucket via API tokens (see: https://developers.cloudflare.com/r2/api/tokens)\n      aws_access_key_id='<ACCESS_KEY_ID>',\n      aws_secret_access_key='<SECRET_ACCESS_KEY>',\n      region_name=\"auto\", # Required by SDK but not used by R2\n  )\n\n# Generate presigned URL for reading (GET)\n  get_url = s3.generate_presigned_url(\n    'get_object',\n    Params={'Bucket': 'my-bucket', 'Key': 'image.png'},\n    ExpiresIn=3600  # Valid for 1 hour\n  )\n  # https://my-bucket.<ACCOUNT_ID>.r2.cloudflarestorage.com/image.png?X-Amz-Algorithm=...\n\n# Generate presigned URL for writing (PUT)\n  # Specify ContentType to restrict uploads to a specific file type\n  put_url = s3.generate_presigned_url(\n    'put_object',\n    Params={\n      'Bucket': 'my-bucket',\n      'Key': 'image.png',\n      'ContentType': 'image/png'\n    },\n    ExpiresIn=3600\n  )\n  sh\n  # Generate presigned URL for reading (GET)\n  # The AWS CLI presign command defaults to GET operations\n  aws s3 presign --endpoint-url https://<ACCOUNT_ID>.r2.cloudflarestorage.com \\\n    s3://my-bucket/image.png \\\n    --expires-in 3600\n\n# Output:\n  # https://<ACCOUNT_ID>.r2.cloudflarestorage.com/my-bucket/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=...\n\n# Note: The AWS CLI presign command only supports GET operations.\n  # For PUT operations, use one of the SDK examples above.\n  sh",
  "code_samples": [
    {
      "code": "</page>\n\n<page>\n---\ntitle: API configuration  Cloudflare Logs docs\ndescription: The table below summarizes the job operations available for both\n  Logpush and Edge Log Delivery jobs. Make sure that Account-scoped datasets use\n  /accounts/{account_id} and Zone-scoped datasets use /zone/{zone_id}. For more\n  information, refer to the Datasets page.\nlastUpdated: 2025-12-16T16:18:13.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/logs/logpush/logpush-job/api-configuration/\n  md: https://developers.cloudflare.com/logs/logpush/logpush-job/api-configuration/index.md\n---\n\n## Endpoints\n\nThe table below summarizes the job operations available for both Logpush and Edge Log Delivery jobs. Make sure that Account-scoped datasets use `/accounts/{account_id}` and Zone-scoped datasets use `/zone/{zone_id}`. For more information, refer to the [Datasets](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/) page.\n\nYou can locate `{zone_id}` and `{account_id}` arguments based on the [Find zone and account IDs](https://developers.cloudflare.com/fundamentals/account/find-account-and-zone-ids/) page. The `{job_id}` argument is numeric, like 123456. The `{dataset_id}` argument indicates the log category (such as `http_requests` or `audit_logs`).\n\n| Operation | Description | API |\n| - | - | - |\n| `POST` | Create job | [Documentation](https://developers.cloudflare.com/api/resources/logpush/subresources/jobs/methods/create/) |\n| `GET` | Retrieve job details | [Documentation](https://developers.cloudflare.com/api/resources/logpush/subresources/datasets/subresources/jobs/methods/get/) |\n| `GET` | Retrieve all jobs for all datasets | [Documentation](https://developers.cloudflare.com/api/resources/logpush/subresources/jobs/methods/list/) |\n| `GET` | Retrieve all jobs for a dataset | [Documentation](https://developers.cloudflare.com/api/resources/logpush/subresources/datasets/subresources/jobs/methods/get/) |\n| `GET` | Retrieve all available fields for a dataset | [Documentation](https://developers.cloudflare.com/api/resources/logpush/subresources/datasets/subresources/fields/methods/get/) |\n| `PUT` | Update job | [Documentation](https://developers.cloudflare.com/api/resources/logpush/subresources/jobs/methods/update/) |\n| `DELETE` | Delete job | [Documentation](https://developers.cloudflare.com/api/resources/logpush/subresources/jobs/methods/delete/) |\n| `POST` | Check whether destination exists | [Documentation](https://developers.cloudflare.com/api/resources/logpush/subresources/validate/methods/destination/) |\n| `POST` | Get ownership challenge | [Documentation](https://developers.cloudflare.com/api/resources/logpush/subresources/ownership/methods/validate/) |\n| `POST` | Validate ownership challenge | [Documentation](https://developers.cloudflare.com/api/resources/logpush/subresources/ownership/methods/validate/) |\n| `POST` | Validate log options | [Documentation](https://developers.cloudflare.com/api/resources/logpush/subresources/validate/methods/origin/) |\n\nFor concrete examples, refer to the tutorials in [Logpush examples](https://developers.cloudflare.com/logs/logpush/examples/).\n\n## Connecting\n\nThe Logpush API requires credentials like any other Cloudflare API.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Logs Write`",
      "language": "unknown"
    },
    {
      "code": "## Ownership\n\nBefore creating a new job, ownership of the destination must be proven.\n\nTo issue an ownership challenge token to your destination:\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Logs Write`",
      "language": "unknown"
    },
    {
      "code": "A challenge file will be written to the destination, and the filename will be in the response (the filename may be expressed as a path, if appropriate for your destination):",
      "language": "unknown"
    },
    {
      "code": "You will need to provide the token contained in the file when creating a job.\n\nNote\n\nWhen using Sumo Logic, you may find it helpful to have [Live Tail](https://help.sumologic.com/05Search/Live-Tail/About-Live-Tail) open to see the challenge file as soon as it is uploaded.\n\n## Destination\n\nYou can specify your cloud service provider destination via the required **destination\\_conf** parameter.\n\nNote\n\nAs of May 2022, defining a unique destination for a Logpush job will no longer be required. As this constraint has been removed, you can now have more than one job writing to the same destination.\n\nThe `destination_conf` parameter must follow this format:",
      "language": "unknown"
    },
    {
      "code": "Supported schemes are listed below, each tailored to specific providers such as R2, S3, etc. Additionally, generic use cases like `https` are also covered:\n\n* `r2`,\n* `gs`,\n* `s3`,\n* `sumo`,\n* `https`,\n* `azure`,\n* `splunk`,\n* `sentinelone`,\n* `datadog`.\n\nThe `destination-address` should generally be provided by the destination provider. However, for certain providers, we require the `destination-address` to follow a specific format:\n\n* **Cloudflare R2** (scheme `r2`): bucket path + account ID + R2 access key ID + R2 secret access key; for example: `r2://<BUCKET_PATH>?account-id=<ACCOUNT_ID>&access-key-id=<R2_ACCESS_KEY_ID>&secret-access-key=<R2_SECRET_ACCESS_KEY>`\n* **AWS S3** (scheme `s3`): bucket + optional directory + region + optional encryption parameter (if required by your policy); for example:`s3://bucket/[dir]?region=<REGION>[&sse=AES256]`\n* **Datadog** (scheme `datadog`): Datadog endpoint URL + Datadog API key + optional parameters; for example: `datadog://<DATADOG_ENDPOINT_URL>?header_DD-API-KEY=<DATADOG_API_KEY>&ddsource=cloudflare&service=<SERVICE>&host=<HOST>&ddtags=<TAGS>`\n* **Google Cloud Storage** (scheme `gs`): bucket + optional directory; for example: `gs://bucket/[dir]`\n* **Microsoft Azure** (scheme `azure`): service-level SAS URL with `https` replaced by `azure` + optional directory added before query string; for example: `azure://<BLOB_CONTAINER_PATH>/[dir]?<QUERY_STRING>`\n* **New Relic** (use scheme `https`): New Relic endpoint URL which is `https://log-api.newrelic.com/log/v1` for US or `https://log-api.eu.newrelic.com/log/v1` for EU + a license key + a format; for example: for US `\"https://log-api.newrelic.com/log/v1?Api-Key=<NR_LICENSE_KEY>&format=cloudflare\"` and for EU `\"https://log-api.eu.newrelic.com/log/v1?Api-Key=<NR_LICENSE_KEY>&format=cloudflare\"`\n* **Splunk** (scheme `splunk`): Splunk endpoint URL + Splunk channel ID + insecure-skip-verify flag + Splunk sourcetype + Splunk authorization token; for example: `splunk://<SPLUNK_ENDPOINT_URL>?channel=<SPLUNK_CHANNEL_ID>&insecure-skip-verify=<INSECURE_SKIP_VERIFY>&sourcetype=<SOURCE_TYPE>&header_Authorization=<SPLUNK_AUTH_TOKEN>`\n* **Sumo Logic** (scheme `sumo`): HTTP source address URL with `https` replaced by `sumo`; for example: `sumo://<SUMO_ENDPOINT_URL>/receiver/v1/http/<UNIQUE_HTTP_COLLECTOR_CODE>`\n* **SentinelOne** (scheme `sentinelone`): SentinelOne endpoint URL + SentinelOne sourcetype + SentinelOne authorization token; for example: `sentinelone://<SENTINELONE_ENDPOINT_URL>?sourcetype=<SOURCE_TYPE>&header_Authorization=<SENTINELONE_AUTH_TOKEN>`\n\nFor **R2**, **S3**, **Google Cloud Storage**, and **Azure**, you can organize logs into daily subdirectories by including the special placeholder `{DATE}` in the URL path. This placeholder will automatically be replaced with the date in the `YYYYMMDD` format (for example, `20180523`).\n\nFor example:\n\n* `s3://mybucket/logs/{DATE}?region=us-east-1&sse=AES256`\n* `azure://myblobcontainer/logs/{DATE}?[QueryString]`\n\nThis approach is useful when you want your logs grouped by day.\n\nFor more information on the value for your cloud storage provider, consult the following conventions:\n\n* [AWS S3 CLI](https://docs.aws.amazon.com/cli/latest/reference/s3/index.html) (S3Uri path argument type)\n* [Google Cloud Storage CLI](https://cloud.google.com/storage/docs/gsutil) (Syntax for accessing resources)\n* [Microsoft Azure Shared Access Signature](https://docs.microsoft.com/en-us/azure/storage/common/storage-sas-overview)\n* [Sumo Logic HTTP Source](https://help.sumologic.com/03Send-Data/Sources/02Sources-for-Hosted-Collectors/HTTP-Source)\n\nTo check if a destination is already in use:\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Logs Write`",
      "language": "unknown"
    },
    {
      "code": "Response",
      "language": "unknown"
    },
    {
      "code": "## Name\n\nA human-readable, optional job name that does not need to be unique. We recommend choosing a meaningful name, such as the domain name, to help you easily identify and manage your job. You can update the name later if needed.\n\n## Kind\n\nThe kind parameter (optional) is used to differentiate between Logpush and Edge Log Delivery jobs. For Logpush jobs, this parameter can be left empty or omitted. For Edge Log Delivery jobs, set `\"kind\": \"edge\"`. Currently, Edge Log Delivery is only supported for the `http_requests` dataset.\n\nNote\n\nThe kind parameter cannot be used to update existing Logpush jobs. You can only specify the kind parameter when creating a new job.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Logs Write`",
      "language": "unknown"
    },
    {
      "code": "## Options\n\nLogpull\\_options has been replaced with Custom Log Formatting output\\_options. Please refer to the [Log Output Options](https://developers.cloudflare.com/logs/logpush/logpush-job/log-output-options/) documentation for instructions on configuring these options and updating your existing jobs to use these options.\n\nIf you are still using logpull\\_options, here are the options that you can customize:\n\n1. **Fields** (optional): Refer to [Datasets](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/) for the currently available fields. The list of fields is also accessible directly from the API: `https://api.cloudflare.com/client/v4/zones/{zone_id}/logpush/datasets/{dataset_id}/fields`. Default fields: `https://api.cloudflare.com/client/v4/zones/{zone_id}/logpush/datasets/{dataset_id}/fields/default`.\n2. **Timestamp format** (optional): The format in which timestamp fields will be returned. Value options: `unixnano` (nanoseconds unit - default), `unix` (seconds unit), `rfc3339` (seconds unit).\n3. **Redaction for CVE-2021-44228** (optional): This option will replace every occurrence of `${` with `x{`. To enable it, set `\"CVE-2021-44228\": true`.\n\nNote\n\nThe **CVE-2021-44228** parameter can only be set through the API at this time. Updating your Logpush job through the dashboard will set this option to false.\n\nTo check if the selected **logpull\\_options** are valid:\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Logs Write`",
      "language": "unknown"
    },
    {
      "code": "Response",
      "language": "unknown"
    },
    {
      "code": "## Filter\n\nUse filters to select the events to include and/or remove from your logs. For more information, refer to [Filters](https://developers.cloudflare.com/logs/logpush/logpush-job/filters/).\n\n## Sampling rate\n\nValue can range from `0.0` (exclusive) to `1.0` (inclusive). `sample=0.1` means `return 10% (1 in 10) of all records`. The default value is `1`, meaning logs will be unsampled.\n\n## Max upload parameters\n\nThese parameters control the size of each upload batch  not how quickly data is delivered. Use them to prevent overloading your destination with uploads that are too large or too small.\n\n| Parameter | Description | Default |\n| - | - | - |\n| `max_upload_bytes` | Maximum uncompressed file size of a batch of logs. | Varies by destination |\n| `max_upload_records` | Maximum number of log lines per batch. | 100,000 |\n| `max_upload_interval_seconds` | Maximum time-span of log data per batch (used during catch-up scenarios). | Varies by destination |\n\nNote\n\nThese settings influence upload size, not delivery latency. Logpush processes data approximately once per minute, regardless of these parameter values. Adjusting these settings results in smaller or larger uploads per batch, which can help you avoid overloading destinations that have memory or request-size constraints.\n\n### When to adjust these parameters\n\n* Reduce `max_upload_records` if your destination struggles with large payloads or runs out of memory processing big batches.\n* Increase `max_upload_records` if you want fewer, larger files (for example, when pushing to object storage like R2 or S3).\n* For destinations like Datadog that have strict payload limits, Logpush automatically uses smaller batch sizes (for example, 1,000 rows).\n\nTip\n\nIf you need to estimate the number of files generated for cost planning (for example, R2 write operations), run Logpush for a representative period and measure the actual output. The number of uploads depends on your data volume and cannot be precisely calculated in advance.\n\n## Custom fields\n\nYou can add custom fields to your HTTP request log entries in the form of HTTP request headers, HTTP response headers, and cookies. Custom fields configuration applies to all the Logpush jobs in a zone that use the HTTP requests dataset. To learn more, refer to [Custom fields](https://developers.cloudflare.com/logs/logpush/logpush-job/custom-fields/).\n\n## Audit\n\nThe following Logpush actions are recorded in **Cloudflare Audit Logs**: create, update, and delete job.\n\n</page>\n\n<page>\n---\ntitle: Custom fields  Cloudflare Logs docs\ndescription: The HTTP requests dataset includes most standard log information by\n  default. However, if you need to capture additional request or response\n  headers or cookies, you can use custom fields to tailor the logs to your\n  specific needs\nlastUpdated: 2025-12-23T12:15:33.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/logs/logpush/logpush-job/custom-fields/\n  md: https://developers.cloudflare.com/logs/logpush/logpush-job/custom-fields/index.md\n---\n\nThe HTTP requests dataset includes most standard log information by default. However, if you need to capture additional request or response headers or cookies, you can use custom fields to tailor the logs to your specific needs\n\nCustom fields are configured per zone and, once set up, are enabled for all Logpush jobs in that zone that use the HTTP requests dataset and include the request headers, response headers, or cookie fields. You can log these fields in their raw form or as transformed values.\n\nBy default:\n\n* **Request headers** are logged as **raw values**.\n* **Response headers** are logged as **transformed values**.\n\nThis default behavior can be changed. You can configure either request or response headers to be logged as raw or transformed, depending on your needs - but not both for the same header.\n\nCustom fields can be enabled via API or the Cloudflare dashboard.\n\nNote\n\nCustom fields are only available for the [HTTP requests dataset](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/zone/http_requests/).\n\nNote\n\nThere is no way to automatically forward all custom headers in Logpush without manually specifying each one. Each request or response header must be individually configured using Custom Fields.\n\n## Enable custom rules via API\n\nUse the [Rulesets API](https://developers.cloudflare.com/ruleset-engine/rulesets-api/) to create a rule that configures custom fields. For more information on concepts like phases, rulesets, and rules, as well as the available API operations, refer to the [Ruleset Engine](https://developers.cloudflare.com/ruleset-engine/) documentation.\n\nTo configure custom fields:\n\n1. Create a rule to configure the list of custom fields.\n2. Include the `Cookies`, `RequestHeaders`, and/or `ResponseHeaders` fields in your Logpush job.\n\n### 1. Create a rule to configure the list of custom fields\n\nCreate a rule configuring the list of custom fields in the `http_log_custom_fields` phase at the zone level. Set the rule action to `log_custom_field` and the rule expression to `true`.\n\nThe `action_parameters` object that you must include in the rule that configures the list of custom fields should have the following structure:",
      "language": "unknown"
    },
    {
      "code": "Ensure that your rule definition complies with the following:\n\n* You must include at least one of the following arrays in the `action_parameters` object: `request_fields`, `transformed_request_fields`, `response_fields`, `raw_response_fields`, and `cookie_fields`.\n* You must enter HTTP request and response header names in lower case.\n* Cookie names are case sensitive  you must enter cookie names with the same capitalization they have in the HTTP request.\n* You must set the rule expression to `true`.\n* You can only log raw or transformed values for either request or response headers but not both for the same header.\n\nPerform the following steps to create the rule:\n\n1. Use the [List zone rulesets](https://developers.cloudflare.com/ruleset-engine/rulesets-api/view/#list-existing-rulesets) operation to check if there is already an [entry point ruleset](https://developers.cloudflare.com/ruleset-engine/about/rulesets/#entry-point-ruleset) for the `http_log_custom_fields` phase at the zone level (you can only have one entry point ruleset per phase):",
      "language": "unknown"
    },
    {
      "code": "If there is an entry point ruleset for the `http_log_custom_fields` phase (that is, a ruleset with `\"kind\": \"zone\"` and `\"phase\": \"http_log_custom_fields\"`), take note of the ruleset ID.\n\n2. (Optional) If the response did not include a ruleset with `\"kind\": \"zone\"` and `\"phase\": \"http_log_custom_fields\"`, create the phase entry point ruleset using the [Create a zone ruleset](https://developers.cloudflare.com/ruleset-engine/rulesets-api/create/) operation:",
      "language": "unknown"
    },
    {
      "code": "Take note of the ruleset ID included in the response.\n\n3. Use the [Update a zone ruleset](https://developers.cloudflare.com/ruleset-engine/rulesets-api/update/) operation to define the rules of the entry point ruleset you found (or created in the previous step), adding a rule with the custom fields configuration. The rules you include in the request will replace all the rules in the ruleset.\n\n   The following example configures custom fields with the names of the HTTP request headers, HTTP response headers, and cookies you wish to include in Logpush logs:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "#### Record duplicate response header values\n\nSome headers sent from the origin  such as `set-cookie`  may have multiple values that you want to capture. You can use the Rulesets API to specify which headers should have all their values logged.",
      "language": "unknown"
    },
    {
      "code": "Note that `preserve_duplicates` applies to both `response_fields` and `raw_response_fields`. If there are no transform rules that affect a header, including `preserve_duplicates` in either `response_fields` or `raw_response_fields` should achieve the same result.\n\nIn this example, all values of the `set-cookie` headers will be logged. They will appear as an array of string values under `ResponseFields`, for example:",
      "language": "unknown"
    },
    {
      "code": "You can use a worker or custom logic at your logpush destination to extract these values.\n\n### 2. Include the custom fields in your Logpush job\n\nNext, include `Cookies`, `RequestHeaders`, `ResponseHeaders`, and/or `ResponseFields`, depending on your custom field configuration, in the list of fields of the `output_options` job parameter when creating or updating a job. The logs will contain the configured custom fields and their values in the request/response.\n\nFor example, consider the following request that creates a job that includes custom fields:\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Logs Write`",
      "language": "unknown"
    },
    {
      "code": "Note for Cloudflare Access users\n\nIf you are a Cloudflare Access user, as of March 2022 you have to manually add the `cf-access-user` user identity header to your logs by creating a custom fields ruleset or adding the `cf-access-user` HTTP request header to your custom fields configuration. Additionally, make sure that you include the `RequestHeaders` field in your Logpush job.\n\n## Enable custom fields via dashboard\n\n1. In the Cloudflare dashboard, go to the **Logpush** page.\n\n   [Go to **Logpush**](https://dash.cloudflare.com/?to=/:account/:zone/analytics/logs)\n\n2. In the **Custom log fields** section, select **Edit Custom Fields**.\n\n3. Select **Set new Custom Field**.\n\n4. From the **Field Type** dropdown, select *Request Header*, *Response Header* or *Cookies* and type the **Field Name**.\n\n5. When you are done, select **Save**.\n\n## Limitations\n\n* Custom fields allow 100 headers per field type  this applies separately to `request_fields`, `transformed_request_fields`, `response_fields`, `raw_response_fields`, and `cookie_fields`.\n* The request header `Range` is currently not supported by Custom Fields.\n* Transformed and raw values for request and response headers are available only via the API and cannot be set through the UI.\n\n</page>\n\n<page>\n---\ntitle: Datasets  Cloudflare Logs docs\ndescription: \"The datasets below describe the fields available by log category:\"\nlastUpdated: 2025-07-25T16:42:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/\n  md: https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/index.md\n---\n\n## Datasets\n\nThe datasets below describe the fields available by log category:\n\n* [Zone-scoped datasets](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/zone/)\n* [Account-scoped datasets](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/)\n\n## API\n\nThe list of fields can also be accessed directly from the API using the following endpoints:\n\n* For zone-scoped datasets: `https://api.cloudflare.com/client/v4/zones/{zone_id}/logpush/datasets/<DATASET>/fields`\n\n* For account-scoped datasets: `https://api.cloudflare.com/client/v4/accounts/{account_id}/logpush/datasets/<DATASET>/fields`\n\nThe `<DATASET>` argument indicates the log category. For example, `http_requests`, `spectrum_events`, `firewall_events`, `nel_reports`, or `dns_logs`.\n\n## Availability\n\n* The availability of Logpush dataset fields depends on your subscription plan.\n* Zone-scoped HTTP requests are available in both Logpush and Logpull.\n* [Custom fields](https://developers.cloudflare.com/logs/logpush/logpush-job/custom-fields/) for HTTP requests are only available in Logpush.\n* All other datasets are only available through Logpush.\n\n## Deprecation\n\nDeprecated fields remain available to prevent breaking existing jobs. They may eventually become empty values if completely removed. Customers are encouraged to migrate away from deprecated fields if they are using them.\n\n## Recommendation\n\nFor log field **ClientIPClass**, Cloudflare recommends using [bot tags](https://developers.cloudflare.com/bots/concepts/bot-tags/) to classify IPs.\n\n## Additional resources\n\nFor more information on logs available in Cloudflare Zero Trust, refer to [Zero Trust logs](https://developers.cloudflare.com/cloudflare-one/insights/logs/).\n\n</page>\n\n<page>\n---\ntitle: Edge Log Delivery  Cloudflare Logs docs\ndescription: Edge Log Delivery allows customers to send logs directly from\n  Cloudflares edge to their destination of choice. You can configure the\n  maximum interval for your log batches between 30 seconds and five minutes.\n  However, you cannot specify a minimum interval for log batches, meaning that\n  log files may be sent in shorter intervals than the maximum specified.\n  Compared to Logpush, Edge Log Delivery sends logs with lower latency, more\n  frequently, and in smaller batches.\nlastUpdated: 2025-07-24T10:11:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/logs/logpush/logpush-job/edge-log-delivery/\n  md: https://developers.cloudflare.com/logs/logpush/logpush-job/edge-log-delivery/index.md\n---\n\nEdge Log Delivery allows customers to send logs directly from Cloudflares edge to their destination of choice. You can configure the maximum interval for your log batches between 30 seconds and five minutes. However, you cannot specify a minimum interval for log batches, meaning that log files may be sent in shorter intervals than the maximum specified. Compared to Logpush, Edge Log Delivery sends logs with lower latency, more frequently, and in smaller batches.\n\nEdge Log Delivery is only available for HTTP request logs. Refer to the [API configuration](https://developers.cloudflare.com/logs/logpush/logpush-job/api-configuration/#kind) page for steps on how to configure a job to use Edge Log Delivery.\n\n</page>\n\n<page>\n---\ntitle: Enable destinations  Cloudflare Logs docs\ndescription: Enable pushing logs to your storage service, SIEM solution, or log\n  management provider.\nlastUpdated: 2025-11-19T12:11:06.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/\n  md: https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/index.md\n---\n\nEnable pushing logs to your storage service, SIEM solution, or log management provider.\n\nNote\n\nNote that you will need to allowlist IP addresses to accept incoming Cloudflare Logpush traffic. Refer to [Cloudflare IPs](https://www.cloudflare.com/ips/) for the complete list of IPs. If you prefer to have a dedicated IP, you can use dedicated [Dedicated Egress IPs for Cloudflare Logpush](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/egress-ip/).\n\n* [Enable Cloudflare R2](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/r2/)\n* [Enable HTTP destination](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/http/)\n* [Enable Amazon S3](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/aws-s3/)\n* [Enable S3-compatible endpoints](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/s3-compatible-endpoints/)\n* [Enable Datadog](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/datadog/)\n* [Enable Elastic](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/elastic/)\n* [Enable Google Cloud Storage](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/google-cloud-storage/)\n* [Enable BigQuery](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/bigquery/)\n* [Enable Microsoft Azure](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/azure/)\n* [Enable New Relic](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/new-relic/)\n* [Enable SentinelOne](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/sentinelone/)\n* [Enable Splunk](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/splunk/)\n* [Enable Sumo Logic](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/sumo-logic/)\n* [Enable Amazon Kinesis](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/kinesis/)\n* [Enable IBM QRadar](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/ibm-qradar/)\n* [Enable IBM Cloud Logs](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/ibm-cloud-logs/)\n* [Enable other providers](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/other-providers/)\n* [Third-party integrations](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/third-party/)\n* [Dedicated Egress IP for Logpush](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/egress-ip/)\n\n</page>\n\n<page>\n---\ntitle: Filters  Cloudflare Logs docs\ndescription: The following table represents the comparison operators that are\n  supported and example values. Filters are added as escaped JSON strings\n  formatted as\n  {\"key\":\"<field>\",\"operator\":\"<comparison_operator>\",\"value\":\"<value>\"}.\nlastUpdated: 2025-12-05T14:26:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/logs/logpush/logpush-job/filters/\n  md: https://developers.cloudflare.com/logs/logpush/logpush-job/filters/index.md\n---\n\nThe following table represents the comparison operators that are supported and example values. Filters are added as escaped JSON strings formatted as `{\"key\":\"<field>\",\"operator\":\"<comparison_operator>\",\"value\":\"<value>\"}`.\n\n* Refer to the [Datasets](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/) page for a list of fields related to each dataset.\n\n* Comparison operators define how values must relate to fields in the log line for an expression to return true.\n\n* Values represent the data associated with fields.\n\n| Name | Operator Notation | String | Int | Bool | Array | Object | Example |\n| - | - | - | - | - | - | - | - |\n| Equal | `eq` |  |  |  |  |  | `{\"key\":\"ClientRequestHost\",\"operator\":\"eq\",\"value\":\"example.com\"}` |\n| Not equal | `!eq` |  |  |  |  |  | `{\"key\":\"ClientCountry\",\"operator\":\"!eq\",\"value\":\"ca\"}` |\n| Less than | `lt` |  |  |  |  |  | `{\"key\":\"BotScore\",\"operator\":\"lt\",\"value\":\"30\"}` |\n| Less than or equal | `leq` |  |  |  |  |  | `{\"key\":\"BotScore\",\"operator\":\"leq\",\"value\":\"30\"}` |\n| Greater than | `gt` |  |  |  |  |  | `{\"key\":\"BotScore\",\"operator\":\"gt\",\"value\":\"30\"}` |\n| Greater than or equal | `geq` |  |  |  |  |  | `{\"key\":\"BotScore\",\"operator\":\"geq\",\"value\":\"30\"}` |\n| Starts with | `startsWith` |  |  |  |  |  | `{\"key\":\"ClientRequestPath\",\"operator\":\"startsWith\",\"value\":\"/foo\"}` |\n| Ends with | `endsWith` |  |  |  |  |  | `{\"key\":\"ClientRequestPath\",\"operator\":\"endsWith\",\"value\":\"/foo\"}` |\n| Does not start with | `!startsWith` |  |  |  |  |  | `{\"key\":\"ClientRequestPath\",\"operator\":\"!startsWith\",\"value\":\"/foo\"}` |\n| Does not end with | `!endsWith` |  |  |  |  |  | `{\"key\":\"ClientRequestPath\",\"operator\":\"!endsWith\",\"value\":\"/foo\"}` |\n| Contains | `contains` |  |  |  |  |  | `{\"key\":\"ClientRequestPath\",\"operator\":\"contains\",\"value\":\"/static\"}` |\n| Does not contain | `!contains` |  |  |  |  |  | `{\"key\":\"ClientRequestPath\",\"operator\":\"!contains\",\"value\":\"/static\"}` |\n| Value is in a set of values | `in` |  |  |  |  |  | `{\"key\":\"EdgeResponseStatus\",\"operator\":\"in\",\"value\":[200,201]}` |\n| Value is not in a set of values | `!in` |  |  |  |  |  | `{\"key\":\"EdgeResponseStatus\",\"operator\":\"!in\",\"value\":[200,201]}` |\n\nThe filter field has limits of approximately 30 operators and 1000 bytes. Anything exceeding this value will return an error.\n\nNote\n\nFiltering is not supported on the following data types: `objects`, `array[object]`.\n\nFor the Firewall events dataset, the following fields are not supported: `Action`, `Description`, `Kind`, `MatchIndex`, `Metadata`, `OriginatorRayID`, `RuleID`, and `Source`.\n\n## Logical Operators\n\n* Filters can be connected using `AND`, `OR` logical operators.\n\n* Logical operators can be nested.\n\nHere are some examples of how the logical operators can be implemented. `X`, `Y` and `Z` are used to represent filter criteria:\n\n* X AND Y AND Z - `{\"where\":{\"and\":[{X},{Y},{Z}]}}`\n\n* X OR Y OR Z - `{\"where\":{\"or\":[{X},{Y},{Z}]}}`\n\n* X AND (Y OR Z) - `{\"where\":{\"and\":[{X}, {\"or\":[{Y},{Z}]}]}}`\n\n* (X AND Y) OR Z - `{\"where\":{\"or\":[{\"and\": [{X},{Y}]},{Z}]}}`\n\nLogpush filters act as a pass-through gate, not an exclusion list. When multiple conditions are joined with AND:\n\n* All conditions must evaluate to TRUE for the log to be pushed.\n* If any single condition is FALSE, the log is excluded.\n\nA common misconception is interpreting the filter as `exclude logs matching ALL conditions` rather than `include logs matching ALL conditions`.\n\n## Set filters via API or dashboard\n\nFilters can be set via API or the Cloudflare dashboard. Note that using a filter is optional, but if used, it must contain the `where` key.\n\n### API\n\nHere is an example request using cURL via API:\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Logs Write`",
      "language": "unknown"
    },
    {
      "code": "### Dashboard\n\nTo set filters through the dashboard:\n\n1. In the Cloudflare dashboard, go to the **Logpush** page at the account or or domain (also known as zone) level.\n\n   For account: [Go to **Logpush**](https://dash.cloudflare.com/?to=/:account/logs)\n\n   For domain (also known as zone): [Go to **Logpush**](https://dash.cloudflare.com/?to=/:account/:zone/analytics/logs)\n\n2. Select the dataset you want to push to a storage service. Depending on your choice, you have access to [account-scoped datasets](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/) and [zone-scoped datasets](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/zone/), respectively.\n\n3. Below **Select data fields**, in the **Filter** section, you can set up your filters.\n\n4. You need to select a [dataset field](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/), an [Operator](https://developers.cloudflare.com/logs/logpush/logpush-job/filters/#logical-operators), and a **Value**.\n\n5. You can connect more filters using `AND` and `OR` logical operators.\n\n6. Select **Next** to continue the setting up of your Logpush job.\n\n</page>\n\n<page>\n---\ntitle: Log Output Options  Cloudflare Logs docs\ndescription: Jobs in Logpush now have a new key, output_options, which replaces\n  logpull_options and allows for more flexible formatting. You can modify\n  output_options via the API.\nlastUpdated: 2025-09-16T08:46:06.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/logs/logpush/logpush-job/log-output-options/\n  md: https://developers.cloudflare.com/logs/logpush/logpush-job/log-output-options/index.md\n---\n\nJobs in Logpush now have a new key, **output\\_options**, which replaces **logpull\\_options** and allows for more flexible formatting. You can modify **output\\_options** via the API.\n\n## Replace logpull\\_options\n\nPreviously, Logpush jobs could be customized by specifying the list of fields, sampling rate, and timestamp format in **logpull\\_options** as [URL-encoded parameters](https://developers.cloudflare.com/logs/logpush/logpush-job/api-configuration/#options). For example:",
      "language": "unknown"
    },
    {
      "code": "We have replaced this with **output\\_options** as it is used for both Logpull and Logpush.",
      "language": "unknown"
    },
    {
      "code": "## Output types\n\nBy default Logpush outputs each record as a single line of JSON (also known as `ndjson`).\n\nWith **output\\_options** you can switch to CSV or single JSON object, further customize prefixes, suffixes, delimiters, or provide your own record template (in a stripped-down version of Go [text/template](https://pkg.go.dev/text/template) syntax).\n\nThe **output\\_options** object has the following settings:\n\n* **field\\_names**: array of strings. For the moment, there is no option to add all fields at once, you need to specify the fields names.\n\n* **output\\_type**: string to specify output type, such as `ndjson` or `csv` (default `ndjson`). This sets default values for the rest of the settings depending on the chosen output type. Some formatting rules (like string quoting) are different between output types.\n\n* **batch\\_prefix**: string to be prepended before each batch.\n\n* **batch\\_suffix**: string to be appended after each batch.\n\n* **record\\_prefix**: string to be prepended before each record.\n\n* **record\\_suffix**: string to be appended after each record.\n\n* **record\\_template**: string to use as template for each record instead of the default comma-separated list. All fields used in the template must be present in **field\\_names** as well, otherwise they will end up as `null`. Format as a Go text/template without any standard functions (like conditionals, loops, sub-templates, etc.). The template can only consist of these three types of tokens:\n\n  * Action: this is either a `{{ .Field }}` or a `{{ \"constant text\" }}`.\n  * Text: this is just constant text in-between the `{{ actions }}`.\n  * Comment: the `{{/* comments */}}` are silently dropped.\n\n* **record\\_delimiter**: string to be inserted in-between the records as separator.\n\n* **field\\_delimiter**: string to join fields. Will be ignored when **record\\_template** is set.\n\n* **timestamp\\_format**: string to specify format for timestamps, such as `unixnano` (nanoseconds unit), `unix` (seconds unit), or `rfc3339` (seconds unit). Default `unixnano`. The API default is `unixnano` when `timestamp_format` is not specified for a job. However, when creating a Logpush job in the Cloudflare dashboard, `timestamp_format` will be set explicitly to `rfc3339` as the default.\n\n* **sample\\_rate**: floating number to specify sampling rate (default 1.0: no sampling). Sampling is applied on top of filtering, and regardless of the current sample\\_interval of the data.\n\n* **CVE-2021-44228**: bool, default false. If set to true, will cause all occurrences of `${` in the generated files to be replaced with `x{`.\n\n## Examples\n\nSpecifying **field\\_names** and **output\\_type** will result in the remaining options being configured as below for the specified **output\\_type**:\n\n### ndjson\n\nDefault output\\_options for `ndjson`",
      "language": "unknown"
    },
    {
      "code": "Example output\\_options",
      "language": "unknown"
    },
    {
      "code": "Example output",
      "language": "unknown"
    },
    {
      "code": "* `ndjson` with different field names:\n\nExample output\\_options",
      "language": "unknown"
    },
    {
      "code": "Example output",
      "language": "unknown"
    },
    {
      "code": "Literal with double curly-braces `({{}})`, that is, `\"double{{curly}}braces\"`, can be inserted following go text/template convention, that is, `\"{{`doublecurlybraces`}}\"`.\n\n### csv\n\nDefault output\\_options for CSV",
      "language": "unknown"
    },
    {
      "code": "Example output\\_options",
      "language": "unknown"
    },
    {
      "code": "Example output",
      "language": "unknown"
    },
    {
      "code": "### csv/json variants\n\nBased on above, other formats similar to csv or json are also supported:\n\n* csv with header:\n\nExample output\\_options",
      "language": "unknown"
    },
    {
      "code": "Example output",
      "language": "unknown"
    },
    {
      "code": "* tsv with header:\n\nExample output\\_options",
      "language": "unknown"
    },
    {
      "code": "Example output",
      "language": "unknown"
    },
    {
      "code": "* json with nested object:\n\nExample output\\_options",
      "language": "unknown"
    },
    {
      "code": "Example output",
      "language": "unknown"
    },
    {
      "code": "## How to migrate\n\nIn order to migrate your jobs from using **logpull\\_options** to the new **output\\_options**, take these steps:\n\n1. Change the `&fields=ClientIP,EdgeStartTimestamp,RayID` parameter to an array in `output_options.field_names`.\n2. Change the `&sample=0.1` parameter to `output_options.sample_rate`.\n3. Change the `&timestamps=rfc3339` parameter to `output_options.timestamp_format`.\n4. Change the `&CVE-2021-44228=true` parameter to `output_options.CVE-2021-44228`.\n\nFor example, if logpull\\_options are `fields=ClientIP,EdgeStartTimestamp,RayID&sample=0.1&timestamps=rfc3339&CVE-2021-44228=true`, the output\\_options would be:",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Logpush ownership challenge  Cloudflare Logs docs\ndescription: The ownership challenge is a one-time verification that proves you\n  have read access to a destination bucket before Cloudflare pushes logs to it.\n  This mechanism prevents you from accidentally configuring a Logpush job that\n  pushes data to a bucket you do not control.\nlastUpdated: 2025-12-12T14:08:12.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/logs/logpush/logpush-job/logpush-ownership-challenge/\n  md: https://developers.cloudflare.com/logs/logpush/logpush-job/logpush-ownership-challenge/index.md\n---\n\nThe ownership challenge is a one-time verification that proves you have read access to a destination bucket before Cloudflare pushes logs to it. This mechanism prevents you from accidentally configuring a Logpush job that pushes data to a bucket you do not control.\n\n## How it works\n\nWhen you create a Logpush job to a storage destination, Cloudflare requires you to prove ownership of that destination:\n\n1. You request an ownership challenge for your `destination_conf`.\n2. Cloudflare writes a JWT to an `ownership-challenge.txt` file in your bucket.\n3. You read the token from your bucket and submit it with your job creation request.\n4. Cloudflare validates the token and creates the job.\n\nFor step-by-step instructions, refer to [Manage Logpush with cURL](https://developers.cloudflare.com/logs/logpush/examples/example-logpush-curl/).\n\n## What the challenge protects against\n\nThe ownership challenge primarily protects you from accidental misconfiguration. Without this verification, you could inadvertently configure a job to push to a bucket you did not intendfor example, pushing to a bucket that is actually owned by someone else.\n\nThe challenge also prevents malicious scenarios where someone could:\n\n* Point a Logpush job at another customer's bucket\n* Push bogus or malicious log data to that bucket\n* Pollute or corrupt the victim's log storage\n\nNote\n\nYou may find the ownership challenge cumbersome because it is unusual and difficult to script via Terraform. However, it exists to prevent costly mistakes.\n\n## Challenge token structure\n\nThe ownership challenge is a JSON Web Token (JWT) containing claims that bind it to a specific context. The token includes:\n\n* **Object type** - Whether the job is zone-scoped, account-scoped, or tenant-scoped\n* **Object ID** - The specific zone or account identifier\n* **Destination configuration** - The full destination configuration string\n* **Destination fingerprint** - A hash of the bucket name and paths/prefixes\n* **Expiration** - The token expires after 7 days\n\nWhen you submit the challenge token, Cloudflare validates that all claims match your job creation request. This prevents the token from being reused for a different account, zone, or destination.\n\n## Security considerations\n\n### Can a compromised token be exploited?\n\nIn practice, an attack using a compromised ownership challenge token is extremely unlikely. An attacker would need:\n\n1. Access to your Cloudflare account (to match the object ID in the token)\n2. Knowledge of the exact bucket name and paths/prefixes (to match the destination fingerprint)\n3. To act within 7 days (before the challenge expires)\n\nYour bucket's IAM/access controls and Cloudflare account security are the primary security layers, not the ownership challenge token.\n\n### Best practices\n\n* **Delete the challenge file after job creation** - Once your Logpush job is created, you can safely delete the `ownership-challenge.txt` file from your bucket.\n* **Restrict bucket permissions** - Grant write access only to Cloudflare's service accounts. For AWS S3, grant `PutObject` permission to `arn:aws:iam::391854517948:user/cloudflare-logpush`. For GCS, grant `Storage Object Admin` to `logpush@cloudflare-data.iam.gserviceaccount.com`.\n* **Monitor your Logpush jobs** - Use the [Logpush health dashboards](https://developers.cloudflare.com/logs/logpush/logpush-health/) to monitor job status and detect anomalies.\n\n## Which destinations require an ownership challenge?\n\n| Destination | Ownership challenge required |\n| - | - |\n| AWS S3 | Yes (or use access key/secret key) |\n| Google Cloud Storage | Yes |\n| Azure Blob Storage | Yes |\n| Sumo Logic | Yes |\n| S3-compatible storage | No |\n| HTTP endpoints | No |\n| Datadog | No |\n| Splunk | No |\n| New Relic | No |\n\nFor destinations that do not require an ownership challenge, Cloudflare uses alternative authentication methods such as API keys or tokens.\n\n## Related resources\n\n* [API configuration](https://developers.cloudflare.com/logs/logpush/logpush-job/api-configuration/)\n* [Manage Logpush with cURL](https://developers.cloudflare.com/logs/logpush/examples/example-logpush-curl/)\n* [Logpush permissions](https://developers.cloudflare.com/logs/logpush/permissions/)\n* [Enable AWS S3 destination](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/aws-s3/)\n* [Enable GCS destination](https://developers.cloudflare.com/logs/logpush/logpush-job/enable-destinations/google-cloud-storage/)\n\n</page>\n\n<page>\n---\ntitle: 2023-02-01 - Updates to security fields  Cloudflare Logs docs\ndescription: \"Cloudflare will deploy some updates to security-related fields in\n  Cloudflare Logs. These updates will affect the following datasets:\"\nlastUpdated: 2025-10-10T13:43:07.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/logs/reference/change-notices/2023-02-01-security-fields-updates/\n  md: https://developers.cloudflare.com/logs/reference/change-notices/2023-02-01-security-fields-updates/index.md\n---\n\nCloudflare will deploy some updates to security-related fields in Cloudflare Logs. These updates will affect the following datasets:\n\n* [HTTP Requests](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/zone/http_requests/)\n* [Firewall Events](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/zone/firewall_events/)\n\n## Timeline\n\nTo minimize possible impacts on our customers' existing SIEM configurations, these updates will happen in two phases according to the following timeline:\n\n### Phase 1 (February 1, 2023)\n\nFor the log fields being added, Cloudflare will gradually start adding them to logs datasets.\n\nFor the log fields being renamed, Cloudflare will:\n\n* **Add new fields** with the same data as the fields that will be removed on phase 2 (described in this document as old fields). These new fields will become gradually available. Refer to the next sections for details.\n* **Announce the deprecation of the old fields.** Cloudflare will remove these fields from logs datasets on August 1, 2023.\n\nFor the log fields being removed, Cloudflare is announcing them as deprecated. Their removal from logs datasets will occur on August 1, 2023.\n\nIn addition to these Cloudflare Logs changes, Cloudflare will also add new security-related fields to the following [GraphQL datasets](https://developers.cloudflare.com/analytics/graphql-api/features/data-sets/):\n\n* `httpRequestsAdaptive`\n* `httpRequestsAdaptiveGroups`\n* `firewallEventsAdaptive`\n* `firewallEventsAdaptiveGroups`\n* `firewallEventsAdaptiveByTimeGroups`\n\n### Phase 2 (August 1, 2023)\n\nFor the log fields being renamed, Cloudflare will remove the old fields from the Cloudflare logs datasets. From August 1, 2023 onwards, only the new fields will be available.\n\nFor the log fields being removed, Cloudflare will also remove them from the Cloudflare logs datasets. From August 1, 2023 onwards, these fields will no longer be available.\n\n## Concepts\n\nThe following concepts are used below in the reviewed field descriptions:\n\n* **Terminating action:** One of the following actions:\n\n  * `block`\n  * `js_challenge`\n  * `managed_challenge`\n  * `challenge` (*Interactive Challenge*)\n\nFor more information on these actions, refer to the [Actions](https://developers.cloudflare.com/ruleset-engine/rules-language/actions/) reference in the Rules language documentation.\n\n* **Security rule:** One of the following rule types:\n\n  * [WAF managed rule](https://developers.cloudflare.com/waf/managed-rules/)\n  * [WAF custom rule](https://developers.cloudflare.com/waf/custom-rules/)\n  * [WAF rate limiting rule](https://developers.cloudflare.com/waf/rate-limiting-rules/)\n\n## HTTP Requests dataset changes\n\nThe following fields will be renamed in the [HTTP Requests](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/zone/http_requests/) dataset according to the two-phase strategy outlined in the [timeline](#timeline):\n\n| New field name | Type | Description | Old field name (deprecated on Aug 1, 2023) |\n| - | - | - | - |\n| `SecurityRuleID` | String | Rule ID of the security rule that triggered a terminating action, if any. | `WAFRuleID` |\n| `SecurityRuleDescription` | String | Rule description of the security rule that triggered a terminating action, if any. | `WAFRuleMessage` |\n| `SecurityAction` | String | Rule action of the security rule that triggered a terminating action, if any. | `WAFAction` |\n| `SecurityRuleIDs` | String Array | Array of security rule IDs that matched the request. | `FirewallMatchesRuleIDs` |\n| `SecurityActions` | String Array | Array of actions that Cloudflare security products performed on the request. | `FirewallMatchesActions` |\n| `SecuritySources` | String Array | Array of Cloudflare security products that matched the request. | `FirewallMatchesSources` |\n\nThe following fields are now deprecated and they will be removed from the HTTP Requests dataset on August 1, 2023:\n\n| Deprecated field name | Notes |\n| - | - |\n| `WAFProfile` | Used in the previous version of WAF managed rules (now deprecated). |\n| `EdgeRateLimitAction` | Used in the previous version of rate limiting rules (now deprecated). |\n| `EdgeRateLimitID` | Used in the previous version of rate limiting rules (now deprecated). |\n| `SecurityLevel` | N/A |\n\n## Firewall Events dataset changes\n\nThe following fields will be added to the [Firewall Events](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/zone/firewall_events/) dataset:\n\n| Field name | Type | Description |\n| - | - | - |\n| `Description` | String | The description of the rule triggered by the request. |\n| `Ref` | String | The user-defined identifier for the rule triggered by the request. |\n\n## Changes to GraphQL datasets\n\nCloudflare will add the following fields to the `httpRequestsAdaptive `and `httpRequestsAdaptiveGroups `datasets:\n\n| Field name | Type | Description |\n| - | - | - |\n| `securityAction` | String | Action of the security rule that triggered a terminating action, if any. |\n| `securitySource` | String | Source of the security rule that triggered a terminating action, if any. |\n\nCloudflare will also add the following field to the `firewallEventsAdaptive`, `firewallEventsAdaptiveGroups`, and `firewallEventsAdaptiveByTimeGroups` datasets:\n\n| Field name | Type | Description |\n| - | - | - |\n| `description` | String | The description of the rule triggered by the request. |\n\nThese new fields will become gradually available.\n\nFor more information on the available datasets, refer to [GraphQL datasets](https://developers.cloudflare.com/analytics/graphql-api/features/data-sets/).\n\n## Update your Logpush jobs and SIEM systems\n\nCloudflare will not update existing Logpush jobs to use the renamed fields. You will need to update the jobs according to the instructions provided below.\n\nAfter updating Logpush jobs, you may need to update external filters or reports in your SIEM systems to reflect the log field changes.\n\n### Update Logpush job in the dashboard\n\n1. In the Cloudflare dashboard, go to the **Logpush** page.\n\n   [Go to **Logpush**](https://dash.cloudflare.com/?to=/:account/:zone/analytics/logs)\n\n2. Select **Edit** next to the Logpush job you wish to edit.\n\n3. Under **Select data fields**, update the fields in your job. The new security log fields are available under **General**.\n\n4. Select **Save changes**.\n\n### Update Logpush job via API\n\nFollow the instructions in [Update output\\_options](https://developers.cloudflare.com/logs/logpush/examples/example-logpush-curl/#optional---update-output_options) to update the fields in the Logpush job.\n\n### Update Logpush job via Terraform\n\nIf you are already managing Logpush jobs via Terraform, update the `logpull_options` in your existing [`cloudflare_logpush_job`](https://registry.terraform.io/providers/cloudflare/cloudflare/latest/docs/resources/logpush_job) Terraform resource. For example:",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Check tunnel health in the dashboard  Cloudflare Magic WAN docs\ndescription: The Cloudflare dashboard monitors the health of all anycast tunnels\n  on your account that route traffic from Cloudflare to your origin network.\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/common-settings/check-tunnel-health-dashboard/\n  md: https://developers.cloudflare.com/magic-wan/configuration/common-settings/check-tunnel-health-dashboard/index.md\n---\n\nThe Cloudflare dashboard monitors the health of all anycast tunnels on your account that route traffic from Cloudflare to your origin network.\n\nThe dashboard shows the view of tunnel health as measured from each Cloudflare location where your traffic is likely to land. If the tunnels are healthy on your side, you will see the majority of servers reporting an **up** status. It is normal for a subset of these locations to show tunnel status as degraded or unhealthy, since the Internet is not homogeneous and intermediary path issues between Cloudflare and your network can cause interruptions for specific paths.\n\nNote\n\nTo access more than one hour of tunnel health data, you should use the [GraphQL API](https://developers.cloudflare.com/magic-wan/analytics/query-tunnel-health/).\n\nNot all data centers are relevant to you at all times. You can refer to the **Average ingress traffic (last hour)** column to understand if a given data center is receiving traffic for your network, and if its health status is relevant to you.\n\nNote\n\nThe steps below cover both the old and new dashboard experiences. To switch dashboard experiences, use the banner at the top of the dashboard.\n\n## Check tunnel health\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/login) and select your account.\n  2. Go to **Magic WAN > Network health**.\n  3. In **Cloudflare colos**, you can choose one or more Cloudflare data centers to filter out the traffic that shows up in your anycast tunnels. For example, if you chose the Lisbon data center, your anycast tunnels would only show connections to that data center.\n  4. You have a list of all your anycast tunnels, as well as their current health status. Find the tunnel you want to inspect and select the arrow (**>**) before it to open its details.\n  5. The details pane shows the connection status between different Cloudflare servers and your tunnel. Select **Traceroute for details** in one of the Cloudflare servers shown to check for issues between Cloudflare and your origin network.\n\n* New dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/login) and select your account.\n\n  2. Go to **Magic WAN > Network health**.\n\n  3. In this screen you can access a list of your tunnels and their current health status. You can also check the amount of health checks passed in the last hour as well as traffic volume for each tunnel.\n\n  4. Find the tunnel you want to inspect, select the three dots next to it, and select:\n\n     * **Create alert**: Opens the [notifications wizard](https://developers.cloudflare.com/magic-wan/configuration/common-settings/configure-magic-tunnel-health-alerts/) so you can create specific alerts for that tunnel when specific conditions are met.\n     * **Network Analytics**: Opens the Analytics section of the dash, prefiltered with the tunnel you want to inspect.\n\n  5. Alternatively, from the list of tunnels, select the tunnel you want to inspect to access details about it.\n\n## Check tunnel health for a specific tunnel\n\nYou can drill down into a specific tunnel to check its health status and other information. To switch dashboard experiences, use the banner at the top of the dashboard.\n\n1. Go to **Magic WAN > Network health**.\n2. Find and select the tunnel you want to inspect.\n\nThe next screen shows you detailed information about the tunnel, including:\n\n* Status information\n\n  * Up: More than 80% of health checks pass.\n  * Degraded: More than 40% of health checks pass.\n  * Down: Less than 40% of health checks pass.\n\n* Health checks passed in the last hour\n\n* Traffic volume in the last hour\n\nIf you select the three dots in front of the tunnel you want to inspect, you have access to the following tools:\n\n* Packet captures: Collect [packet level data for your traffic](https://developers.cloudflare.com/magic-firewall/packet-captures/)\n* Network Analytics: Leverage real-time visibility into [network analytics](https://developers.cloudflare.com/magic-wan/analytics/network-analytics/).\n\nNote\n\nMagic WAN customers with [Customer Metadata Boundary](https://developers.cloudflare.com/data-localization/metadata-boundary/) enabled for the European Union can access GRE, IPsec, and CNI (Cloudflare Network Interconnect) health check and traffic volume data in the Cloudflare dashboard and through the API. This ensures that customers who need to be General Data Protection Regulation (GDPR) compliant can access all Magic WAN features.\n\n## Magic WAN Connector\n\nMagic WAN Connector also includes a heartbeat function, an additional way of communicating its health status which does not depend on successfully setting up any tunnels. The heartbeat function communicates periodically with Cloudflare through HTTPS and lets Cloudflare know that the Magic WAN Connector in question is connected to the Internet and reachable.\n\nRefer to [Heartbeat](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/heartbeat/) to learn more.\n\n</page>\n\n<page>\n---\ntitle: Configure Magic Tunnel health alerts  Cloudflare Magic WAN docs\ndescription: Use the API to set up and configure Magic Tunnel health alerts\nlastUpdated: 2025-09-10T08:51:17.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/common-settings/configure-magic-tunnel-health-alerts/\n  md: https://developers.cloudflare.com/magic-wan/configuration/common-settings/configure-magic-tunnel-health-alerts/index.md\n---\n\nYou can configure Magic Tunnel health alerts to receive email, webhook, and PagerDuty notifications when the percentage of successful health checks for a Magic Tunnel drops below the selected [service-level objective (SLO)](https://developers.cloudflare.com/magic-wan/reference/how-cloudflare-calculates-magic-tunnel-health-alerts/).\n\nMagic Tunnel health alerts monitor the health check success rate of each Magic Tunnel included in the alert that has actively transferred customer traffic (excluding health check traffic) over the past six hours. You can define an SLO threshold for the percentage of health checks that must be successful for each Magic Tunnel. If the number of successful health checks for the Magic Tunnel(s) included in the alert drops below the SLO threshold, an alert fires.\n\n## Alert data\n\nWhen a Magic Tunnel health alert fires, you receive the following data in the email, webhook, and PagerDuty notification:\n\n* Cloudflare account name\n* Cloudflare account ID\n* Alert type\n* Tunnel name\n* Tunnel ID\n* Tunnel status\n* Alert SLO\n* Timestamp\n\n## SLO thresholds\n\nCurrently, there are seven SLO threshold values that you can configure through the Cloudflare dashboard. For a more granular approach, use the [API](#set-up-magic-tunnel-health-alerts).\n\nThe SLO threshold for Magic Tunnel health alerts is the percentage of successful health checks for each Magic Tunnel in the alert:\n\n| Alert Sensitivity Level | SLO threshold |\n| - | - |\n| Minimum | 95.0 |\n| Very low | 96.0 |\n| Low | 97.0 |\n| Medium | 98.0 |\n| High | 99.0 |\n| Very high | 99.5 |\n| Maximum | 99.9 |\n\nThe time it takes to receive alerts depends on the sensitivity level you configure for your SLO thresholds. Higher sensitivity levels notify you faster when a tunnel's health degrades, but they may also trigger alerts for brief or minor disruptions. Lower sensitivity levels reduce the chance of false alarms but may delay notifications for less severe issues.\n\nWhile the underlying detection timing remains consistent across sensitivity levels, the speed of notification depends on how significantly the tunnel's health has dropped and the sensitivity you have chosen. Cloudflare recommends that you [test SLO thresholds](#test-slos) to determine which one better serves your use case.\n\nRefer to [How Cloudflare calculates Magic Tunnel health alerts](https://developers.cloudflare.com/magic-wan/reference/how-cloudflare-calculates-magic-tunnel-health-alerts/) for more information on this topic.\n\n## Set up Magic Tunnel health alerts\n\n* Dashboard\n\n  1. Go to the **Notifications** page.\n\n     [Go to **Notifications**](https://dash.cloudflare.com/?to=/:account/notifications)\n\n  2. Select **Add**.\n\n  3. From the **Product** drop-down menu, select **Magic WAN**.\n\n  4. Select **Magic Tunnel Health Check Alert** > **Select** to add a notification. You can add alerts by tunnel or by data center (beta).\n\n  Alert by tunnel\n\n  1. Select **Alert by tunnel**.\n  2. Enter a name and description for the notification.\n  3. Add webhooks or an email address for the person who should receive the notification, and select **Next**.\n  4. Select the **Alert Sensitivity Level** threshold from the drop-down menu. The threshold defaults to *Medium (98.0)*. You can choose from options between *Minimum (95.0)* and *Maximum (99.9)*. Refer to [How Cloudflare calculates Magic Tunnel health alerts](https://developers.cloudflare.com/magic-wan/reference/how-cloudflare-calculates-magic-tunnel-health-alerts/) for more information on this topic.\n  5. From the **Alert interval** drop-down menu, set the minimum amount of time that must pass before Cloudflare sends you a duplicate alert. Options range from five minutes to seven days.\n  6. Enable **Set as default alert for any new tunnels created in the future** if you want the alert sensitivity level you chose to be automatically applied to all new tunnels you create.\n  7. Select **Next**.\n  8. Choose the tunnels you want to receive alerts for. You can search by specific tunnel names, or filter them by type (Generic Routing Encapsulation (GRE), Internet Protocol Security (IPsec), and CNI (Cloudflare Network Interconnect)). Select **Next**.\n  9. Review the details of your alert. If these details are correct, select **Create alert**.\n\n  Alert by data center (beta)\n\n  1. Select **Alert by data center**.\n  2. Enter a name and description for the notification.\n  3. Add webhooks or an email address for the person who should receive the notification, and select **Next**.\n  4. Select the **Alert Sensitivity Level** threshold from the drop-down menu. The threshold defaults to *Medium (98.0)*. You can choose from options between *Minimum (95.0)* and *Maximum (99.9)*. Refer to [How Cloudflare calculates Magic Tunnel health alerts](https://developers.cloudflare.com/magic-wan/reference/how-cloudflare-calculates-magic-tunnel-health-alerts/) for more information on this topic.\n  5. From the **Alert interval** drop-down menu, set the minimum amount of time that must pass before Cloudflare sends you a duplicate alert. Options range from five minutes to seven days.\n  6. Choose the data centers you want to receive alerts for, and select **Next**.\n  7. Choose the tunnels you want to receive alerts for. You can search by specific tunnel names, or filter them by type (GRE, IPsec, and CNI (Cloudflare Network Interconnect)). Select **Next**.\n  8. Review the details of your alert. If these details are correct, select **Create alert**.\n\n* API\n\n  Note\n\n  Refer to the [documentation for Notifications](https://developers.cloudflare.com/notifications/get-started/) to learn about specific permissions you need to access the service through the Application Programming Interface (API).\n\n  Send a [`POST` request](https://developers.cloudflare.com/api/resources/alerting/subresources/policies/methods/create/) to create a Magic WAN tunnel health alert. You can set tunnel health alerts with any SLO value between `0` and `99.99`.\n\n  Required API token permissions\n\n  At least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n  * `Notifications Write`\n  * `Account Settings Write`",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "## Test SLOs\n\nTo test whether a specific alert sensitivity level works for your use case:\n\n1. [Create an alert](#set-up-magic-tunnel-health-alerts) with a specific sensitivity level for a tunnel with active traffic within the past six hours. If you are unsure which tunnels to choose, refer to [Network Analytics](https://developers.cloudflare.com/magic-wan/analytics/network-analytics/) to learn how you can view real-time and historical data about your network.\n2. Disable the tunnel you are testing, so there is 100% [health check failure](https://developers.cloudflare.com/magic-wan/reference/tunnel-health-checks/).\n3. The time it takes for Cloudflare to send you an alert depends on the sensitivity you chose for your alerts.\n\n</page>\n\n<page>\n---\ntitle: Custom IKE ID for IPsec  Cloudflare Magic WAN docs\ndescription: Magic WAN customers can configure a custom IKE ID for their IPsec\n  tunnels. Customers that are using Magic WAN and a VeloCloud SD-WAN device\n  together should utilize this option to create a high availability\n  configuration.\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/common-settings/custom-ike-id-ipsec/\n  md: https://developers.cloudflare.com/magic-wan/configuration/common-settings/custom-ike-id-ipsec/index.md\n---\n\nMagic WAN customers can configure a custom IKE ID for their IPsec tunnels. Customers that are using Magic WAN and a VeloCloud SD-WAN device together should utilize this option to create a high availability configuration.\n\nNote\n\nThis feature is only available via API. There are no configuration options for a custom IKE ID for an IPsec tunnel in the Cloudflare dashboard.\n\nVeloCloud has a high availability mechanism that allows customers to specify one set of IKE parameters (like IKE ID) and multiple remote IPs. Customers create an IKE ID, and then assign the same custom IKE ID to their primary IPsec tunnel and their backup IPsec tunnel. FQDN is the only supported type for custom IKE IDs.\n\nMagic WAN customers can set a custom IKE ID for an IPsec tunnel using the following API call. Customers will need to fill in the appropriate values for `<account_id>`, `<tunnel_id>`, and the FQDN wildcard before running the API call.",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Enable Magic user roles  Cloudflare Magic WAN docs\ndescription: You can determine which users have, or do not have, configuration\n  edit access for Magic products.\nlastUpdated: 2025-09-10T08:51:17.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/common-settings/enable-magic-roles/\n  md: https://developers.cloudflare.com/magic-wan/configuration/common-settings/enable-magic-roles/index.md\n---\n\nYou can determine which users have, or do not have, configuration edit access for Magic products, including Magic Transit, Magic WAN, and Magic Firewall.\n\nFor example, if multiple teams manage different Cloudflare products on the same account, you can provide select users with edit access and other users with read-only access.\n\n## Assign permissions\n\n1. Go to the **Members** page.\n\n   [Go to **Members**](https://dash.cloudflare.com/?to=/:account/members)\n\n2. Under **Members**, enter an existing user's name and select **Search**.\n\n3. Expand the menu at the end of the user row.\n\n4. From the list, locate **Network Services (Magic)**.\n\n5. Select one of two options:\n\n   * **Network Services (Magic)** - Enables users to view and edit Magic configurations.\n   * **Network Services (Magic, Read-Only)** - Enables users to view but not modify Magic configurations.\n\n</page>\n\n<page>\n---\ntitle: Set up a site  Cloudflare Magic WAN docs\ndescription: Sites represent the local network of a data center, office, or\n  other physical location, and combine all on-ramps available there. Sites also\n  allow you to check, at a glance, the state of your on-ramps and set up health\n  alert settings so that you get notified when there are issues with the site's\n  on-ramps.\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/common-settings/sites/\n  md: https://developers.cloudflare.com/magic-wan/configuration/common-settings/sites/index.md\n---\n\nSites represent the local network of a data center, office, or other physical location, and combine all on-ramps available there. Sites also allow you to check, at a glance, the state of your on-ramps and set up health alert settings so that you get notified when there are issues with the site's on-ramps.\n\nTo use a site, start by setting up your on-ramps. On-ramps can be:\n\n* [GRE or IPsec tunnels](https://developers.cloudflare.com/magic-wan/configuration/manually/how-to/configure-tunnel-endpoints/)\n* [Magic WAN Connector](https://developers.cloudflare.com/magic-wan/configuration/connector/)\n* Direct [CNI link](https://developers.cloudflare.com/magic-wan/network-interconnect/)\n\nWhen you are finished setting these up, refer to the steps below to learn how to set up a site.\n\n## Add a site\n\n1. Go to the **Network overview** page.\n\n[Go to **Network overview**](https://dash.cloudflare.com/?to=/:account/magic-wan/network)\n\n1. Add a name and description for your new site. Optionally, you can also add the geographical coordinates for your site in **Latitude** and **Longitude**. If you add geographical coordinates, once created your site's location will show in the map.\n2. Select **Create and continue**.\n3. Choose one or more on-ramps for your site from the list. Remember to only choose the on-ramps available to that particular site, as the list might show on-ramps available on other locations.\n4. Select **Continue**.\n5. In **Define alert settings** you set up alerts to notify you when there are issues with your site's on-ramps. If you want to set up alerts later, select **Skip this for now** to complete your setup. Otherwise, continue reading.\n6. In **Magic WAN Health Check Alert** > **Notification name**, enter a name for the site's alert.\n7. Under **Alert settings**, choose how you want to be notified when there is an issue. You can add webhooks as well as email addresses.\n8. In **Alert sensitivity level** define the threshold for Magic Tunnel health alerts to be fired. Refer to [How Cloudflare calculates Magic Tunnel health alerts](https://developers.cloudflare.com/magic-wan/reference/how-cloudflare-calculates-magic-tunnel-health-alerts/) for more information.\n9. Select **Complete setup** to finish setting up your site.\n\nYour site is now set up. If you have other sites you need to set up, repeat the steps above. If you did not set up alerts, we strongly recommend that you do it. Otherwise you will not be notified when there is a problem with one of your on-ramps.\n\n***\n\n## Network overview\n\nAfter adding your sites, the Network overview (beta) section of the dashboard provides a summary of the connectivity status and traffic analytics for all your sites. This is a great place to start if you receive a Magic WAN alert, need to begin the troubleshooting process, or are performing routine monitoring.\n\nNetwork overview (beta) has the following data types available:\n\nGeographic map summary\n\n* [Aggregate Magic WAN site health](#site-health)\n* [Magic WAN availability status for sites](#no-status-available)\n* [Magic WAN site geographic location](#no-location-set)\n\nMagic WAN site data table\n\n* Site Name\n* Site Health\n* Site Tunnel Names\n* Site Tunnel Statuses\n* Site Traffic Sent\n* Site Traffic Received\n\nMagic WAN site data\n\n* Traffic Sent by Tunnel\n* Traffic Received by Tunnel\n\nTo start using network overview:\n\n1. Go to the **Network overview** page.\n\n[Go to **Network overview**](https://dash.cloudflare.com/?to=/:account/magic-wan/network)\n\nYou will have access to an overview map with all your active sites, and any alerts for sites that are unhealthy or have no status available to them.\n\nReview the topics below to learn more about the options available to you.\n\n### Network map and traffic overview\n\nThe network map section shows all the sites configured with Magic WAN. At a glance, you can check:\n\n* How many active sites you have\n* Location for sites in a map (if you set up their geographic location)\n* Sites that are healthy or unhealthy\n* Sites that have no status available\n* Sites that have no location set\n\nJust below the map, Traffic overview shows a more granular list of your sites and their status.\n\n#### Site health\n\nSites can be healthy or unhealthy, and Magic WAN uses this information to route traffic. Refer to [Set thresholds for site health](#set-thresholds-for-site-health) to learn more about this topic.\n\n#### No status available\n\nThe status of a site refers to its health. If your sites show a **No status available** message, this means you did not configure your alert settings when creating your site. Refer to [Configure Magic Tunnel health alerts](https://developers.cloudflare.com/magic-wan/configuration/common-settings/configure-magic-tunnel-health-alerts/) to learn how to create an alert for your site.\n\n#### No location set\n\nThe dashboard shows you the number of sites with no location set, meaning sites for which you did not set up a geographic location. To add a location to a site, find the site you want to add location to, and select **no location set** to edit its location settings. Refer to [Set geographic coordinates](#set-geographic-coordinates) for more information.\n\n### Traffic overview\n\nTraffic overview aggregates all Magic WAN sites configured in your account. Here, you can check at-a-glance information about each site like:\n\n* Site status\n* Traffic sent and received\n\nSelect one of your sites to have access to a more detailed view of its traffic, including traffic by tunnel.\n\n***\n\n## Edit a site\n\n### Add or remove on-ramps\n\n1. Go to the **Network overview** page.\n\n[Go to **Network overview**](https://dash.cloudflare.com/?to=/:account/magic-wan/network)\n\n1. Find your site in **Traffic overview** > select the three dots in front of it > **Edit**.\n2. Select **On-ramps**.\n3. Select **Add** to add a new on-ramp.\n4. If you want to remove an on-ramp, select the three dots in front of your on-ramp > **Remove**.\n\n### Set geographic coordinates\n\nIf you add geographic coordinates to your site, it will show up in the Network map. To set up or edit geographic coordinates to an existing site:\n\n1. Go to the **Network overview** page.\n\n[Go to **Network overview**](https://dash.cloudflare.com/?to=/:account/magic-wan/network)\n\n1. Find your site in **Traffic overview** > select the three dots in front of it > **Edit**.\n\n1) In **Basic information**, edit your site's **Latitude** and **Longitude** coordinates.\n2) Select **Save**.\n\n### Set thresholds for site health\n\nWhen you set up an alert for your site, you will be notified when there is an issue with one or more on-ramps. These alerts are sent when the percentage of successful health checks for a Magic WAN on-ramp drops below the selected service-level objective (SLO). Setting health alerts will also show unhealthy tunnels in the Network map and in the Traffic overview sections.\n\nTo set up health alerts:\n\n1. Configure [Magic Tunnel health alerts](https://developers.cloudflare.com/magic-wan/configuration/common-settings/configure-magic-tunnel-health-alerts/) across all of the Magic Tunnels associated with each Magic WAN site.\n2. After configuring Magic Tunnel health alerts, any Magic WAN site with a Magic Tunnel (on-ramp) that is outside of its SLO threshold will be labeled unhealthy in Network map and Traffic overview.\n\n</page>\n\n<page>\n---\ntitle: Update tunnel health checks frequency  Cloudflare Magic WAN docs\ndescription: By default, Cloudflare servers send health checks to each GRE,\n  Cloudflare Network Interconnect (CNI), or IPsec tunnel endpoint you configure\n  to receive traffic from Magic WAN.\nlastUpdated: 2025-10-27T11:06:15.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/common-settings/update-tunnel-health-checks-frequency/\n  md: https://developers.cloudflare.com/magic-wan/configuration/common-settings/update-tunnel-health-checks-frequency/index.md\n---\n\nBy default, Cloudflare servers send [health checks](https://developers.cloudflare.com/magic-wan/reference/tunnel-health-checks/) to each GRE, Cloudflare Network Interconnect (CNI), or IPsec tunnel endpoint you configure to receive traffic from Magic WAN.\n\nFor Magic WAN Connector, Cloudflare sends health checks to IPsec tunnel endpoints.\n\nYou can configure the health check frequency through the dashboard or [the API](https://developers.cloudflare.com/api/resources/magic_transit/subresources/gre_tunnels/methods/update/) to suit your use case. For example, if you are connecting a lower-traffic site that does not need immediate failover and you prefer a lower volume of health check traffic, set the frequency to `low`. On the other hand, if you are connecting a site that is extremely sensitive to any issues and you want proactive failover at the earliest sign of a potential problem, set this to `high`.\n\nAvailable options are `low`, `mid`, and `high`.\n\nTo configure health checks frequency in Magic WAN Connector, refer to [Configure Connector](#configure-connector)\n\n## Manual configuration\n\n* Dashboard\n\n  1. Refer to [Add tunnels](https://developers.cloudflare.com/magic-wan/configuration/manually/how-to/configure-tunnel-endpoints/#add-tunnels) to learn how to create or edit your tunnel.\n  2. Change the **Health check rate** to your desired rate. For example, *Low*.\n  3. Save your changes.\n\n* API\n\n  You can adjust the health check frequency by updating your [GRE](https://developers.cloudflare.com/api/resources/magic_transit/subresources/gre_tunnels/methods/update/), [IPsec](https://developers.cloudflare.com/api/resources/magic_transit/subresources/ipsec_tunnels/methods/update/), or [CNI](https://developers.cloudflare.com/api/resources/magic_transit/subresources/cf_interconnects/methods/update/) tunnels.\n\n  The following example adjusts tunnel health check frequency to `low`. Note that this command applies to GRE, IPsec and CNI tunnels:",
      "language": "unknown"
    },
    {
      "code": "## Configure Connector\n\n1. Go to the **Network overview** page.\n\n[Go to **Network overview**](https://dash.cloudflare.com/?to=/:account/magic-wan/network)\n\n1. Select your site > **Edit**.\n\n1) In **Network** > **WAN configuration** > select your WAN > **Edit**.\n2) Change the **Health check rate** to your desired rate.\n3) Select **Save**.\n\nNote\n\nMagic WAN customers with [Customer Metadata Boundary](https://developers.cloudflare.com/data-localization/metadata-boundary/) enabled for the European Union can access GRE, IPsec, and CNI (Cloudflare Network Interconnect) health check and traffic volume data in the Cloudflare dashboard and through the API. This ensures that customers who need to be General Data Protection Regulation (GDPR) compliant can access all Magic WAN features.\n\n</page>\n\n<page>\n---\ntitle: Configure hardware Connector  Cloudflare Magic WAN docs\ndescription: In this page you will find instructions on how to configure Magic\n  WAN Connector. This guide provides a step-by-step guide for Magic WAN\n  Connector initial setup. You can either return here after setting up your\n  Magic WAN Connector, or refer to the Maintenance section where you will find\n  instructions on how to update your settings.\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/\n  md: https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/index.md\n---\n\nIn this page you will find instructions on how to configure Magic WAN Connector. This guide provides a step-by-step guide for Magic WAN Connector initial setup. You can either return here after setting up your Magic WAN Connector, or refer to the [Maintenance](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/) section where you will find instructions on how to update your settings.\n\n## Prerequisites\n\nYou need to purchase [Magic WAN](https://www.cloudflare.com/magic-wan) before you can purchase and use Magic WAN Connector. Magic WAN Connector can function as your primary edge device for your network, or be deployed in-line with existing network gear.\n\nYou also need to purchase Magic WAN Connector before you can start configuring your settings in the Cloudflare dashboard. Contact your account representative to learn more about purchasing options for Magic WAN Connector.\n\n***\n\n## Before you begin\n\nThere are a couple of decisions you need to make when installing your Magic WAN Connector. Refer to the topics below for more information.\n\n### Determine the need for a high availability configuration\n\nYou can install up to two instances of Magic WAN Connector for redundancy at each of your sites. If one of your devices fails, traffic will fail over to the other, ensuring that you never lose connectivity to that site.\n\nIn this type of high availability (HA) configuration, you will choose a reliable LAN interface as the HA link which will be used to monitor the health of the peer connector. HA links can be dedicated links or can be shared with other LAN traffic.\n\nYou must decide the type of configuration you want for your site from the beginning: no redundancy or with redundancy. You cannot add redundancy after finishing the configuration of your dashboard settings. If, at a later stage, you decide to enable redundancy, you will need to delete your Magic WAN Connector device in the Cloudflare dashboard, and start again.\n\nDo you need a high availability configuration?\n\n* If you need a high availability configuration for your premises, refer to [About high availability configurations](#about-high-availability-configurations) for more information and learn how to configure your Magic WAN Connector device in this mode.\n\n* If you do not need a high availability configuration for you premises, check if you need a [DHCP or a static IP setup](#decide-on-dhcp-vs-static-ip-connections) before proceeding to [Set up Cloudflare dashboard](#set-up-cloudflare-dashboard).\n\nWarning\n\nYou cannot enable high availability for an existing Magic WAN Connector on-ramp. To add high availability to an existing Magic WAN Connector on-ramp in the Cloudflare dashboard, you need to delete the on-ramp and start again. Plan accordingly to create a high availability configuration from the start if needed.\n\n### Decide on DHCP vs static IP connections\n\nYou can use Magic WAN Connector in both DHCP networks and networks that require a static IP configuration. At first boot, however, Magic WAN Connector needs to reach out to Cloudflare to download your settings and go through the activation process. If any of the networks plugged into your Magic WAN Connector device are DHCP enabled, do not use a VLAN, and have an Internet connection, that process is handled automatically. However, if all of the networks require more information to utilize, (such as a network with static IPs, or tagged VLAN networks) your Magic WAN Connector might need some more information to proceed.\n\nThere are couple of ways to provide this information. Choose the one that fits your workflow:\n\n#### Option one - Activate on a DHCP Network\n\n1. Connect Magic WAN Connector to a DHCP port with access to the Internet.\n2. Go through the [setup flow](#set-up-cloudflare-dashboard) below and activate your Magic WAN Connector device.\n3. Refer to [WAN with a static IP address](#wan-with-a-static-ip-address).\n\n#### Option two - Bootstrap via Serial Console\n\nRefer to the [Bootstrap workflow](#bootstrap-via-serial-console).\n\n***\n\n## Port speeds\n\nThe hardware version of the Magic WAN Connector includes two [SFP+ ports](https://en.wikipedia.org/wiki/Small_Form-factor_Pluggable) that support 10G throughput, as well as six RJ45 ports that support 1G throughput.\n\nRefer to [](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/sfp-port-information)SFP+ port information for details on this topic.\n\n***\n\n## Set up Cloudflare dashboard\n\n### Register your Connector\n\nTo set up and use the hardware version of Magic WAN Connector, you first need to register it with your account. This is not applicable to Virtual Magic WAN Connector.\n\n1. Go to Magic WAN's **Configuration** page.[ Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/magic-wan/configuration)\n2. Under **Connectors**, select **Register your appliance**.\n\n1) In **Appliance details** > **Serial number**, insert the serial number for your device. You can optionally add notes about the Magic WAN Connector you are adding to the dashboard.\n2) (Optional) Select **Add** below **Serial number** to add multiple Magic WAN Connectors at once to your account.\n3) Select **Register appliance**.\n\nYour device is now registered with your account.\n\n### Add a Connector on-ramp\n\nYou need to add your Magic WAN Connector to your Cloudflare dashboard and configure its settings before connecting it to the Internet.\n\nTo add a Magic WAN Connector:\n\n1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/) and select your account.\n2. Go to **Networking** > **Magic WAN** > **Connector on-ramps (beta)**.\n3. Select **Add**.\n\n1) In **Name**, enter a descriptive name for your Magic WAN Connector. Optionally, you can also add a description for it.\n2) You need to decide if you want to turn on high availability for the Magic WAN Connector. Refer to [About high availability configurations](#about-high-availability-configurations) for more information.\n3) Select **Create and continue**.\n4) Select **Add Connector**. This will show you a list of devices associated with your account. You need to have bought a Connector already for it to show up here. Refer to [Prerequisites](#prerequisites) if no Connector shows up in this list.\n5) If you have more than one Magic WAN Connector, choose the one that corresponds to the on-ramp you are creating. Magic WAN Connector devices are identified by a serial number, also known as a service tag. Use this information to choose the right Magic WAN Connector.\\\n   Select **Add Connector** when you are ready to proceed.\n6) Magic WAN Connector will be added to your account with an **Interrupt window** defined. The interrupt window is the time period when the Magic WAN Connector software can update, which may result in interruption to existing connections. You can change this later. Refer to [Interrupt window](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/interrupt-service-window/) for more details on how to define when the Magic WAN Connector can update its systems.\n7) Select **Continue** to proceed to creating your WAN and LAN networks.\n\n### Create a WAN\n\n* Dashboard\n\n  When you have more than one anycast IP configured in your account (set up during your Magic WAN onboarding), Magic WAN Connector will automatically create at most two tunnels per WAN port. This improves reliability and performance, and requires no additional configuration on your part.\n\n  1. In **WAN configuration**, select **Create**. You can create one or more [wide area networks (WANs)](https://www.cloudflare.com/learning/network-layer/what-is-a-wan/). Configuring multiple WANs will create multiple IPsec tunnels (one IPsec tunnel per WAN port). This allows Magic WAN Connector to load balance traffic over WANs of equal priority. It also allows Magic WAN Connector to failover between circuits according to their [health](https://developers.cloudflare.com/magic-wan/reference/tunnel-health-checks/). Refer to [WAN settings](https://developers.cloudflare.com/magic-wan/configuration/connector/reference/#wan-settings) for more details.\n\n     Note\n\n     This is not the same as a high availability (HA) configuration. HA configurations need two Magic WAN Connector devices to work. Refer to [About high availability configurations](#about-high-availability-configurations) for more information.\n\n  2. In **Interface name**, enter a descriptive name for your WAN.\n\n  3. **Interface number** refers to the physical Magic WAN Connector Ethernet port that you are using for your WAN. The ports are labeled `GE1`, `GE2`, `GE3`, `GE4`, `GE5`, and `GE6`. Choose the number corresponding to the port that you are using in Connector.\\\n     If you need a throughput higher than 1 Gbps, you can use one of the SFP+ ports. Refer to [SFP+ port information](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/sfp-port-information/) for more information on the hardware supported.\n\n  4. In **VLAN ID**, enter a number between `0` and `4094` to specify a [VLAN ID](https://developers.cloudflare.com/magic-wan/configuration/connector/reference/#vlan-id).\n\n  5. In **Priority**, choose the priority for your WAN. Lower numbers have higher priority. Refer to [Traffic steering](https://developers.cloudflare.com/magic-wan/reference/traffic-steering/) to learn more about how Cloudflare calculates priorities.\n\n  6. In **Health check rate** configure the health check frequency for your site. Options are `low`, `mid`, and `high`. Refer to [Update tunnel health checks frequency](https://developers.cloudflare.com/magic-wan/configuration/common-settings/update-tunnel-health-checks-frequency/) for more information.\n\n  7. **Addressing**: Select **DHCP**. This is needed the first time you set up your Magic WAN Connector to successfully download all settings to the machine and activate it. If you need a static IP address in your network environment:\n\n     1. Continue the set up flow below to activate your Magic WAN Connector.\n     2. Refer to [WAN with a static IP address](#wan-with-a-static-ip-address). If you choose a static IP, you also need to specify the static IP and gateway addresses.\n\n  8. Select **Save** when you are finished.\n\n* API\n\n  Note\n\n  You will need your [account ID](https://developers.cloudflare.com/fundamentals/account/find-account-and-zone-ids/) and [API token](https://developers.cloudflare.com/fundamentals/api/get-started/account-owned-tokens/) to use the API.\n\n  Make a `POST` request [using the API](https://developers.cloudflare.com/api/resources/magic_transit/subresources/sites/subresources/wans/methods/create/) to create a WAN.\n\n  The `static_addressing` object is optional. Omit it if you are using DHCP. If you are using static addressing, add the `secondary_address` parameter when your site is in high availability (HA) mode.\n\n  Example:",
      "language": "unknown"
    },
    {
      "code": "### Create a LAN\n\n* Dashboard\n\n  1. In **LAN configuration**, select **Create**.\n\n  2. Enter a descriptive name for your LAN in **Interface name**.\n\n  3. **Interface number** refers to the physical Magic WAN Connector Ethernet port that you are using for your WAN. The ports are labeled `GE1`, `GE2`, `GE3`, `GE4`, `GE5`, and `GE6`. Choose a number corresponding to the port that you are using in Connector.\\\n     If you need a throughput higher than 1 Gbps, you can use one of the SFP+ ports. Refer to [SFP+ port information](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/sfp-port-information/) for more information on the hardware supported.\n\n  4. In **VLAN ID**, specify a [VLAN ID](https://developers.cloudflare.com/magic-wan/configuration/connector/reference/#vlan-id) to create virtual LANs.\n\n  5. In **Static addressing** > **Static address** give your Magic WAN Connector's LAN interface its IP address. You can also enable the following options if they suit your use case:\n\n     * **This is a DHCP server**: If your Magic WAN Connector is a [DHCP server](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/dhcp-server/).\n     * **This is a DHCP relay**: If your Magic WAN Connector is a [DHCP relay](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/dhcp-relay/).\n\n  6. (Optional) In **Directly attached subnet** > **Static NAT prefix**, enter a CIDR prefix to enable NAT (network address translation). The prefix you enter here should be the same size as the prefix entered in **Static addressing**. For example, both networks have a subnet mask of `/24`: `192.168.100.0/24` and `10.10.100.0/24`.\n\n  7. (Optional) If your LAN contains additional subnets behind a layer 3 router, select **Add routed subnet** under **Routed subnets** to add them:\n\n     * **Prefix**: The CIDR prefix for the subnet behind the L3 router.\n     * **Next hop**: The address of the L3 router to which the Magic WAN Connector should forward packets for this subnet.\n     * **Static NAT prefix**: Optional setting. If you want to enable NAT for a routed subnet, supply an \"external\" prefix for the overlay-facing side of the NAT to use. It must be the same size as **Prefix**.\\\n       Refer to [Routed subnets](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/routed-subnets/) for more information.\n\n  8. Select **Save**.\n\n  9. Select **Done** to finish your configuration. Tunnels and static routes will be automatically created for your Magic WAN Connector, once it boots up.\n\n* API\n\n  Note\n\n  You will need your [account ID](https://developers.cloudflare.com/fundamentals/account/find-account-and-zone-ids/) and [API token](https://developers.cloudflare.com/fundamentals/api/get-started/account-owned-tokens/) to use the API.\n\n  Make a `POST` request [using the API](https://developers.cloudflare.com/api/resources/magic_transit/subresources/sites/subresources/lans/methods/create/) to create a LAN.\n\n  Example:",
      "language": "unknown"
    },
    {
      "code": "#### Network segmentation\n\nAfter setting up your LANs, you can configure your Magic WAN Connector to enable communication between them without traffic leaving your premises. Refer to [Network segmentation](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/network-segmentation/) for more information.\n\n#### DHCP options\n\nMagic WAN Connector supports different types of DHCP configurations. Magic WAN Connector can:\n\n* Connect to a DHCP server or use a static IP address instead of connecting to a DHCP server.\n* Act as a [DHCP server](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/dhcp-server/).\n* Use [DHCP relay](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/dhcp-relay/) to connect to a DHCP server outside the location your Magic WAN Connector is in.\n* [Reserve IP addresses](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/dhcp-static-address-reservation/) for specific devices on your network.\n\n### Add your Magic WAN Connector to a site\n\nAfter finishing your Magic WAN Connector configuration, you need to add it to a site.\n\nSites represent the local network of a data center, office, or other physical location, and combine all on-ramps available there. Sites also allow you to check, at a glance, the state of your on-ramps and set up health alert settings so that Cloudflare notifies you when there are issues with the site's on-ramps.\n\nRefer to [Set up a site](https://developers.cloudflare.com/magic-wan/configuration/common-settings/sites/) for more information.\n\n## Set up your Magic WAN Connector\n\n### Device installation\n\nThere are several deployment options for Magic WAN Connector. Magic WAN Connector can act like a DHCP server for your local network, or integrate with your local setup and have static IP addresses assigned to it.\n\nWhen Magic WAN Connector acts like the WAN router for your site, deployment will be something like this:",
      "language": "unknown"
    },
    {
      "code": "In the example below, the Magic WAN Connector device sits behind the WAN router in your site, and on-ramps only some of the existing LANs to Cloudflare.",
      "language": "unknown"
    },
    {
      "code": "Refer to [Magic WAN Connector deployment options](https://developers.cloudflare.com/reference-architecture/diagrams/sase/magic-wan-connector-deployment/) for a high-level explanation of the deployment options that make sense to most environments, as well as a few advanced use cases.\n\n#### Firewall settings required\n\nIf there is a firewall deployed upstream of Magic WAN Connector, configure the firewall to allow the following traffic:\n\n| Protocol/port | Destination IP/URL | Purpose |\n| - | - | - |\n| `UDP/53` | DNS destination IP `1.1.1.1` | Needed to allow DNS traffic to Cloudflare DNS servers. Cloudflare uses this port for DNS lookups of control plane API. |\n| `TCP/443` | - | Magic WAN Connector will open outbound HTTPS connections over this port for control plane operations. |\n| `UDP/4500` | Destination IP `162.159.64.1` | Needed for Magic WAN Connector initialization and discovery through outbound connections. |\n| `UDP/4500` | Destination IP - Cloudflare anycast IPs | Needed for the Cloudflare anycast IPs assigned to your account for tunnel outbound connections. This traffic is tunnel traffic. |\n| `TCP/7844`, `UDP/7844` | Outbound connections | Used to support debugging features in Magic WAN Connector. |\n| `UDP/123` | `http://time.cloudflare.com/` | Needed for Magic WAN Connector to periodically contact Cloudflare's Time Services. |\n\n## Activate appliance\n\nThe Magic WAN Connector is shipped to you deactivated, and will only establish a connection to the Cloudflare network when it is activated. Cloudflare recommends leaving it deactivated until you finish [setting it up in the dashboard](#set-up-cloudflare-dashboard).\n\nWhen Magic WAN Connector is first activated, you need to have Internet connection. If you chose to set up your Magic WAN Connector with DHCP you will need to have one of the Magic WAN Connector ports connected to the Internet through a device that supports DHCP. This is required so that the Magic WAN Connector can reach the Cloudflare global network and download the required configurations that you [set up](#set-up-cloudflare-dashboard).\n\nIf you set up your Magic WAN Connector with a static IP through the bootstrap method, you do not need a DHCP port. Refer to [DHCP vs static IP connections](#decide-on-dhcp-vs-static-ip-connections) for more information.\n\nWarning\n\nRemember that if you chose the DHCP method you have to connect Magic WAN Connector through a route that supports DHCP for its first connection to the Internet. Otherwise, Magic WAN Connector will not work.\n\nWhen you are ready to connect your Magic WAN Connector to the Cloudflare network:\n\n1. Go to Magic WAN's **Configuration** page.\n\n[Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/magic-wan/configuration)\n\n1. Go to **Connectors**.\n2. Find the Magic WAN Connector you want to activate, select the three dots next to it > **Edit**. Make sure you verify the serial number to choose the right Magic WAN Connector you want to activate.\n3. In the new window, the **Status** dropdown will show as **Deactivated**. Select it to change the status to **Activated**.\n4. The **Interrupt window** is the time period when the Magic WAN Connector software can update, which may result in interruption to existing connections. Choose a time period to minimize disruption to your sites. Refer to [Interrupt window](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/interrupt-service-window/) for more details on how to define when the Magic WAN Connector can update its systems.\n5. Select **Update**.\n\n***\n\n## WAN with a static IP address\n\nAfter activating your device, you can use it in a network configuration with the WAN interface set to a static IP address  that is, an Internet configuration that is not automatically set by DHCP. To use your Magic WAN Connector on a network configuration with a static IP, follow the steps below.\n\nWarning\n\nMake sure you complete the setup workflow and activate your Magic WAN Connector before changing the WAN settings to a static IP.\n\n1. Connect Magic WAN Connector to a DHCP port with access to the Internet.\n2. [Add a Connector on-ramp](#add-a-connector-on-ramp) in the Cloudflare dashboard.\n3. Create a [DHCP WAN](#create-a-wan).\n4. [Activate](#activate-appliance) and power on your Magic WAN Connector.\n5. Wait 60 seconds.\n6. Make changes to the [WAN settings](#create-a-wan) in the Cloudflare dashboard to a static IP set up.\n7. Wait 60 seconds again.\n8. Magic WAN Connector will go offline. This is normal and expected behavior.\n9. Adjust your physical connections as required to match the static configuration.\n10. Magic WAN Connector comes back online.\n\n## Bootstrap via Serial Console\n\nAdvanced users can locally configure their Magic WAN Connector to work in a static IP configuration. This local method does not require having access to a DHCP Internet connection. However, it does require being comfortable with using tools to access the serial port on Magic WAN Connector as well as using a serial terminal client to access the environment in your Magic WAN Connector.\n\nBelow is a detailed description of how to use the serial port to configure your Magic WAN Connector locally.\n\nNote\n\nThe `reset device` option in your Magic WAN Connector clears most of the configuration that is locally cached, resets the password to the default, and reboots.\n\n### Equipment required\n\nTo access the serial port on Magic WAN Connector you will need the following equipment:\n\n* The Magic WAN Connector device\n* A Phillips-head screwdriver\n* A micro-USB to USB-A cable (there should be one included in the packaging of your Magic WAN Connector device)\n* A computer with an available USB port\n* A serial terminal client\n* Optional: if needed, a USB-A to USB-C converter dongle if your computer requires it\n\n### 1. Access the device's serial port\n\n1. Using the Phillips screwdriver, loosen the screw covering the serial console panel on the back of the Magic WAN Connector and turn the panel out of the way.\n   * Pictures and more instructions can be found on [Dell's Technical Documents](https://www.dell.com/support/kbdoc/en-us/000134440/how-to-access-console-port-of-dell-emc-networking-virtual-edge-platform-1405-series).\n2. Connect your computer to your Magic WAN Connector device using the USB cable.\n\n#### Default password\n\nThe default password for your Magic WAN Connector device is the serial number (also known as a Service Tag for Dell devices), all uppercase followed by an `!` (for example, `A1B2C3D!`)\n\n### 2. Install a serial terminal client\n\nTo access the Magic WAN Connector device environment you need a serial terminal client. Follow the instructions below to install one, based on your operating system.\n\n#### Windows\n\nCloudflare recommends using PuTTY for Windows. Download PuTTY from the [official website](https://www.putty.org/) and then install it.\n\n1. Check the COM port of the USB to UART device in the Windows Device Manager. It should show up as something similar to `Silicon Labs CP210x USB to UART Bridge (COMX)`.\n2. Take note of the value in the parentheses (COMX).\n   * Refer to the [Dell Documentation Page](https://infohub.delltechnologies.com/l/virtual-edge-platform-vep-1405-series-diag-os-and-tools-release-notes/bios-installation-and-configuration) for more details on creating a serial console connection.\n3. Launch PuTTY.\n4. Under **Category**, make sure that **Session** (the first item) is selected.\n5. Under **Connection type**, select **Serial**.\n6. In the **Serial Line**, type in the COM port found in step 2 (for example, `COM1`).\n7. In the **Speed**, enter `115200`.\n8. Select Open on the bottom of the dialog box. A terminal window should pop up.\n9. The screen may need to be manually refreshed when a new device is connected. You can do that by pressing `CTRL + C`.\n\n#### macOS\n\nCloudflare recommends installing Screen for macOS. You can install Screen via `brew install screen`. If you do not have `brew` installed, follow the instructions on [Brew's Official Website](https://brew.sh/) to install it.\n\n1. Open the macOS Terminal.\n2. Run `ls /dev/cu.*` to list the connected serial devices.\n3. The command should return an output similar to `/dev/cu.usbserial-0001`. Copy this output to the clipboard or note this down somewhere else.\n4. Run `sudo screen -adRUS mconn <PATH_FROM_STEP_3> 115200`.\n5. The screen may need to be manually refreshed when a new device is connected. You can do that by pressing `CMD + C`.\n\n#### Linux\n\nCloudflare recommends installing Screen for Linux. You can install Screen via your package manager of choice. For example, for Debian/Ubuntu, install by running `sudo apt update && sudo apt install screen`\n\n1. Open Terminal.\n2. List the connected serial devices by running `ls /dev/serial/by-id/*`.\n3. The command should return an output similar to `/dev/serial/by-id/usb-Silicon_Labs_CP2102_USB_to_UART_Bridge_Controller_0001-if00-port0`. Copy this to the clipboard or note this down.\n4. Run `sudo screen -adRUS mconn <PATH_FROM_STEP_3> 115200`.\n5. The screen may need to be manually refreshed when a new device is connected. You can do that by pressing `CTRL + C`.\n\n### 3. Configure a static IP\n\nThe `reset device` option in your Magic WAN Connector clears most of the configuration that is locally cached, resets the password to the default, and reboots.\n\n1. Log into your Magic WAN Connector device. You will be prompted to change your password if you attempt to log in with the default password.\n2. From the menu, go to **Bootstrap** with the arrow keys and select it with the Enter key.\n3. Select the jack (physical port) you want to configure for the initialization of the connector.\n4. Enter the VLAN tag (if applicable) of the network. Leave it blank if untagged.\n5. Select the `static` option as your network type.\n\nNote\n\nThe main reason to use the bootstrapper is if every network your Magic WAN Connector device is plugged into is either static, behind a VLAN, or both. If you find yourself here and configuring a network with DHCP and no VLAN, you are probably not in the right place. See the section on configuring your Magic WAN Connector [via the dashboard](#set-up-cloudflare-dashboard).\n\n1. Enter the IP address you would like the connector to have in CIDR form (for example, `10.0.0.2/24`).\n2. Enter the IP address of the Internet gateway (this must be in the same subnet as the previous IP address you entered and must not be the same address).\n3. Select **Save** and confirm that you want to use the new settings.\n4. The Magic WAN Connector will download the rest of the settings from Cloudflare. The last heartbeat of the Magic WAN Connector should update once it has made contact with Cloudflare.\n\n***\n\n## About high availability configurations\n\nYou need to deploy two Connectors in your premises before you can set up a site in high availability. When you set up a site in high availability, the WANs and LANs in your Magic WAN Connector have the same configuration but are replicated on two nodes. In case of failure of one of the devices, the other device becomes the active node, taking over the configuration of the LAN gateway IP and allowing traffic to continue without disruption.\n\nBecause Magic WAN Connectors in high availability configurations share a single site, you need to set up:\n\n* **Static address**: The IP for the primary node in your site.\n* **Secondary static address**: The IP for the secondary node in your site.\n* **Virtual static address**: The IP that the LAN south of the Magic WAN Connector device will forward traffic to, which is the LAN's gateway IP.\n\nMake sure all IPs are part of the same subnet.\n\nFor detailed information about the expected behavior of high availability configurations, refer to the [High availability configurations](https://developers.cloudflare.com/magic-wan/configuration/connector/reference/#high-availability-configurations) reference page.\n\n### Create a high availability configuration\n\nYou cannot enable high availability for an existing site. To add high availability to an existing site in the Cloudflare dashboard, you need to delete the site and start again.\n\nTo set up a high availability configuration:\n\n1. Follow the steps in [Add a Connector on-ramp](#add-a-connector-on-ramp) up until step 4.\n\n1) After naming your site, select **Turn on high availability**.\n2) Select **Create and continue**.\n3) Select **Add Connector**.\n4) From the list, choose your first Magic WAN Connector > **Add Connector**.\n5) Back on the previous screen, select **Add secondary Connector**.\n6) From the list, choose your second Magic WAN Connector > **Add Connector**.\n7) Select **Continue** to create a WAN. If you are configuring a static IP, configure the IP for the primary node as the static address, and the IP for the secondary node as the secondary static address.\n8) To create a LAN, follow the steps mentioned above in [Create a LAN](#create-a-lan) up until step 4.\n9) In **Static address**, enter the IP for the primary node in your site. For example, `192.168.10.1/24`.\n10) In **Secondary static address**, enter the IP for the secondary node in your site. For example, `192.168.10.2/24`.\n11) In **Virtual static address**, enter the IP that the LAN south of the Magic WAN Connector device will forward traffic to. For example, `192.168.10.3/24`.\n12) Select **Save**.\n13) From the **High availability probing link** drop-down menu, select the port that should be used to monitor the node's health. Cloudflare recommends you choose a reliable interface as the HA probing link. The primary and secondary node's probing link should be connected over a switch, and cannot be a direct connection.\n14) Follow the instructions in [Set up your Magic WAN Connector](#set-up-your-magic-wan-connector) and [Activate appliance](#activate-appliance) to finish setting up your Connectors.\n\n***\n\n## IPsec tunnels and static routes\n\nMagic WAN Connector automatically creates [IPsec tunnels](https://developers.cloudflare.com/magic-wan/reference/gre-ipsec-tunnels/#ipsec-tunnels) and [static routes](https://developers.cloudflare.com/magic-wan/reference/traffic-steering/) for you. You cannot configure these manually.\n\nTo check the IPsec tunnels and static routes created by your Magic WAN Connector:\n\n1. Go to the **Network overview** page.\n\n[Go to **Network overview**](https://dash.cloudflare.com/?to=/:account/magic-wan/network)\n\n1. Select the name of the site for which you want to check the Magic WAN Connector's IPsec tunnels and static routes, and select **Edit**.\n2. Select **Tunnels** to check IPsec tunnels, and **Routes** for the static routes.\n\n***\n\n## Next steps\n\n* [Network options](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/)\n* [Maintenance](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/)\n* [Reference information](https://developers.cloudflare.com/magic-wan/configuration/connector/reference/)\n* [Troubleshooting](https://developers.cloudflare.com/magic-wan/configuration/connector/troubleshooting/)\n\n</page>\n\n<page>\n---\ntitle: Device metrics  Cloudflare Magic WAN docs\ndescription: Cloudflare customers can inspect metrics for a specific Magic WAN\n  Connector in the Cloudflare dashboard. These metrics help you troubleshoot\n  potential issues with your Magic WAN Connector. Refer to Troubleshooting for\n  more information.\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/connector/device-metrics/\n  md: https://developers.cloudflare.com/magic-wan/configuration/connector/device-metrics/index.md\n---\n\nCloudflare customers can inspect metrics for a specific Magic WAN Connector in the Cloudflare dashboard. These metrics help you troubleshoot potential issues with your Magic WAN Connector. Refer to [Troubleshooting](https://developers.cloudflare.com/magic-wan/configuration/connector/troubleshooting/) for more information.\n\n## Query metrics with GraphQL\n\nCustomers can query Cloudflare's GraphQL API to fetch their Magic WAN Connector device metrics. The Cloudflare dashboard displays Magic WAN Connector device metrics over the past one hour. Via the GraphQL API, customers can query for up to 30 days of historical Magic WAN Connector device metrics.\n\nFor example:",
      "language": "unknown"
    },
    {
      "code": "[Run in GraphQL API Explorer](https://graphql.cloudflare.com/explorer?query=I4VwpgTgngBALmANmAtmO0AUAoGMAkAhgMbED2IAdnACqEDmAXDAM4YCWl9uBLlhABxYALMnBYAxdogQRmAQVIVqAWXKVKNJKnTQAyvyGjx8gCaC47AG5gA4hApCpMyAH0AkpQEg4AeQBGAFZgxHAAhDz4fIIiYirK4s6yCkpUcGpkGlrIaBhQBjHG8WksZhbWdg4gTtKyHl4+AcGhEXhRhrG0wpAohIiStZAp5GkZWdq5+h3GNN0Qvf1lApY29o4DLhD13n5BIeGRiOwo7HDMnHAAbAAsEQCUMADePFbsYADukE88eCQj1CxMAAzQZyJ4wP4JOhMAiQtLQmAAXwezzwaNY0zELGYKHUmgmunymPEOHR6JBm2Y7UKWKSkB+ZKOJzOBCZpwZ6LIEFMkAAQlBmABtcwISxoKQ2FScHxgFiuAAiAFE9ABhAC6HJgKM1eF6AA9vmSycRvCqEjq0YgyIRTPIbBAGGAAIwoC261BcqASCBgMD8hAsN0wNAoT00MR9f2yi2Ii2mY5gSgsdiZFiGo1ovH7LnuUxBkXoBMSsBSygywMZpGa2NG6JGOIJbHBvHZHR5Ar19KN0kZinJXjE4oAukQC1sln4ccWrk8iD8oUFsVgYul8sK5XqzXayv69OVwhWQjSQj+ZBRiuV+ARxDnmNxhNJlNJvcZrOhHN5y8wRdFiqrgN3kaNZknWnSzD0fRNrimT4jkhIdmBcwLICFp9kMA40l0EH9COY7HKcVJTpWM58gKMDCoQoq-pK0oBuuqoADQwG+cAfvRm5GtuGa7qil7ECAEA+tQKpIMQ7AgBeQH3mgj6pi+RosR++aUYW4p-rR0aVsB6LaVWeCxoiQA\\&variables=N4IghgxhD2CuB2AXAKmA5iAXCAggYTwHkBVAOWQH0BJAERABoQAbASwFsXEsBGABl4C+QA)\n\n### Average CPU load explained\n\nThe metric `average CPU load` is unique and distinctly different from `CPU utilization` which is another common CPU metric. The Magic WAN Connector uses a [Unix-style CPU load calculation](https://en.wikipedia.org/wiki/Load_\\(computing\\)).\n\nCPU load is a measure of the number of processes that are currently running and that are waiting to be run on the CPU. Cloudflare collects the one minute load average from the device and converts that into a percentage based on the total number of cores in the CPU. If the Magic WAN Connector CPU has eight cores, and a one minute load average of two, then the average CPU load is 25%. If the average CPU load is above 100%, then there are processes in the queue that are waiting to be executed on the CPU.\n\nCloudflare is still evaluating the typical CPU load operating range on the Magic WAN Connector. In general, a healthy range for average CPU load on any device is between 30% and 70%. Customers may experience decreased Magic WAN Connector performance if the average CPU load is consistently above 100%.\n\n</page>\n\n<page>\n---\ntitle: Configure Virtual Connector  Cloudflare Magic WAN docs\ndescription: Learn how to configure Magic WAN Virtual Connector on VMWare ESXi\n  or Proxmox Virtual Environment\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/connector/configure-virtual-connector/\n  md: https://developers.cloudflare.com/magic-wan/configuration/connector/configure-virtual-connector/index.md\n---\n\nVirtual Connector is a virtual device alternative to the hardware based Magic WAN Connector. These two versions of Magic WAN Connector are identical otherwise.\n\nCurrently, you can set up Virtual Connector on VMWare ESXi and Proxmox Virtual Environment. Support for Proxmox is in beta.\n\nIn this page you will find instructions on how to configure Magic WAN Connector. This guide provides a step-by-step guide for Magic WAN Connector initial setup. You can either return here after setting up your Magic WAN Connector, or refer to the [Maintenance](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/) section where you will find instructions on how to update your settings.\n\n## Prerequisites\n\nBefore you can install Virtual Connector, you need an Enterprise account with Magic WAN. Additionally, you need to have a VMware or Proxmox host with sufficient compute, memory, and storage to run the virtual machine with Virtual Connector. This includes:\n\n* Intel x86 CPU architecture\n* ESXi hypervisor 7.0U1 or higher\n* 4 virtual CPUs per virtual connector (We recommend deployment with a 1:1 virtual CPU to physical core allocation to avoid CPU over contention which will cause packet loss.)\n* 8 GB of RAM per virtual connector\n* 8 GB of disk per virtual connector\n* One vSwitch port group or VLAN with access to the Internet (for example, through a WAN)\n* One or more vSwitch port group or VLAN that will be the internal LAN\n\nIf you are installing Virtual Connector on ESXi, refer to [VMware's documentation](https://docs.vmware.com/en/VMware-vSphere/7.0/com.vmware.esxi.install.doc/GUID-B2F01BF5-078A-4C7E-B505-5DFFED0B8C38.html) for more information on how to install ESXi and configure a virtual machine.\n\nIf you are installing Virtual Connector on Virtual Environment, refer to [Proxmox documentation](https://www.proxmox.com/en/products/proxmox-virtual-environment/get-started) for more information on how to install Virtual environment and configure a virtual machine.\n\n***\n\n## Before you begin\n\nThere are a couple of decisions you need to make when installing your Virtual Connector. Refer to the topics below for more information.\n\n### Determine the need for a high availability configuration\n\nYou can install up to two instances of Virtual Connector for redundancy at each of your sites. If one of your devices fails, traffic will fail over to the other, ensuring that you never lose connectivity to that site.\n\nIn this type of high availability (HA) configuration, you will choose a reliable LAN interface as the HA link which will be used to monitor the health of the peer connector. HA links can be dedicated links or can be shared with other LAN traffic.\n\nYou must decide the type of configuration you want for your site from the beginning: no redundancy or with redundancy. You cannot add redundancy after finishing the configuration of your dashboard settings. If, at a later stage, you decide to enable redundancy, you will need to delete your Virtual Connector device in the Cloudflare dashboard, and start again.\n\nDo you need a high availability configuration?\n\n* If you need a high availability configuration for your premises, refer to [About high availability configurations](#about-high-availability-configurations) for more information and learn how to configure your Virtual Connector device in this mode.\n\n* If you do not need a high availability configuration for you premises, check if you need a [DHCP or a static IP setup](#decide-on-dhcp-vs-static-ip-connections) before proceeding to [Set up Cloudflare dashboard](#set-up-cloudflare-dashboard).\n\nWarning\n\nYou cannot enable high availability for an existing Virtual Connector on-ramp. To add high availability to an existing Virtual Connector on-ramp in the Cloudflare dashboard, you need to delete the on-ramp and start again. Plan accordingly to create a high availability configuration from the start if needed.\n\n### Decide on DHCP vs static IP connections\n\nVirtual Connector uses a DHCP connection at first boot to download your settings and go through the activation process. However, if you need to use a static IP in your Virtual Connector, and this is a fresh install:\n\n1. Connect the machine with your Virtual Connector VM to a DHCP port with access to the Internet.\n2. Go through the [setup flow](#set-up-cloudflare-dashboard) below and activate your Virtual Connector device.\n3. Refer to [WAN with a static IP address](#wan-with-a-static-ip-address).\n\n***\n\n## Configure a virtual machine\n\nSelect the appropriate tab below to learn how to configure Virtual Connector on VMWare ESXi or Proxmox Virtual Environment.\n\n* VMWare ESXi\n\n  **1. Obtain the VMWare image**\n\n  Contact your account team at Cloudflare to obtain the Virtual Connector OVA package and license keys. The OVA image includes the files required to install and configure the virtual machine (VM) for Virtual Connector with the appropriate settings. Refer to [VMWare VMs documentation](https://docs.vmware.com/en/VMware-vSphere/7.0/com.vmware.vsphere.vm_admin.doc/GUID-AE61948B-C2EE-436E-BAFB-3C7209088552.html) for more information on this topic.\n\n  This image can be deployed multiple times to create several instances of a Virtual Connector, in different locations or on the same ESXi host.\n\n  You will consume one license key for each instance created. For example, if you want to deploy 10 Virtual Connectors you should request 10 license keys, and your account team will create 10 Virtual Connector instances in your Cloudflare dashboard.\n\n  **2. Deploy the Virtual Connector on VMware**\n\n  The following instructions assume you already have VMware ESXi hypervisor installed with sufficient resources. Refer to [Prerequisites](#prerequisites) for more information.\n\n  1. When setting up your VMware ESXi, you need to create port groups for Virtual Connector. Go to **Networking** > **Port groups**, and prepare your vSwitch port groups and/or VLANs for your desired network topology. For example, a simple deployment typically has:\n\n     * A WAN port group where the Virtual Connector will get an IP address (static or DHCP) that has access to the Internet.\n     * A LAN port group, where the Virtual Connector will act as default router, and possibly DHCP server.\n     * A null, or unused, port group for allocating unused virtual interfaces in the Virtual Connector. You can, for example, create a null port group with the name of `Null port group`, and a **VLAN ID** of `999`.\n\n  VLAN tagging\n\n  Virtual Connector supports creating subinterfaces through the use of [802.1Q VLAN tagging](https://en.wikipedia.org/wiki/IEEE_802.1Q).\n\n  Use VLAN ID `0` when:\n\n  * Connected to a Port Group or Distributed Port Group that is associated with a specific VLAN.\n  * Connected to a Port Group or Distributed Port Group that is configured as a trunk that requires untagged packets.\n\n  You can also configure subinterfaces on the Virtual Connector by associating the network interface with a Port Group or Distributed Port Group trunk and specifying a VLAN ID in addition to the port associated with the network interface (VLAN ID `1`-`4094`).\n\n  Refer to [VMware's documentation](https://kb.vmware.com/s/article/1003825) for more information.\n\n  1. Extract the files in the OVA image provided by your Cloudflare account team. For example:",
      "language": "unknown"
    },
    {
      "code": "Take note of the folder where you are extracting the files to, as you will need to refer to that folder when creating the VM.\n\n  1. Go to **Virtual Machines** > **Create/Register VM** wizard to start deploying the Virtual Connector.\n\n  2. Select **Deploy a virtual machine from an OVF or OVA file** > **Next**.\n\n  3. Choose a descriptive name for your virtual machine.\n\n  4. Upload the files you have extracted from the OVA image. These include `mconn.ovf`, `mconn.nvram`, and `mconn.vmdk`.\n\n  5. Select where you want to save the files extracted from the OVA image > **Next**.\n\n  6. In **Networking mappings**, select assignments for your desired topology according to the port groups you set up previously:\n\n     1. For example, map `eno1` port to `VM Network` to create your WAN, and `eno2` to `LAN0` to act as your LAN port.\n     2. Allocate any unused ports to the `null` port group.\n     3. Take note of your configuration. You will need this information to configure your network in the Cloudflare dashboard.\n\n  7. In **Disk provisioning**, select **Thin**.\n\n  8. Before completing the deployment wizard, disable **Power on automatically**. This is important so that you can configure the license key prior to boot.\n\n  9. Configure the virtual machine with the license key your account team provided you:\n\n     1. Select the Virtual Connector's VM > **Settings**.\n\n     2. Go to **VM Options** > **Advanced** > **Edit Configuration**.\n\n     3. Select **Add parameter** to add your license key. Scroll down to the last entry (this is where VMware adds the new parameter), and add the following two new entries:\n\n        * **Key**: `guestinfo.cloudflare.identity`\n        * **Value** `<YOUR_LICENSE_KEY>`\n\n  Note\n\n  You cannot use the same license key twice, or reuse a key once the virtual machine has been registered with Cloudflare. You need a new key from your account team for every new Virtual Connector.\n\n  1. Select **Save** to finish configuring your Virtual Connector.\n  2. Continue setup in your [Cloudflare dashboard.](#set-up-cloudflare-dashboard)\n\n* Proxmox Virtual Environment (beta)\n\n  **1. Obtain the Virtual Connector script**\n\n  Contact your account team at Cloudflare to obtain your license keys and the Virtual Connector script for Proxmox. The script will set up and configure a Proxmox virtual machine with the appropriate settings for Virtual Connector. Refer to [Prerequisites](#prerequisites) for more information on system requirements.\n\n  The script can be deployed multiple times to create several instances of a Virtual Connector, in different locations or on the same Proxmox host. You will consume one license key for each instance created. For example, if you want to deploy 10 Virtual Connectors you should request 10 license keys, and your account team will create 10 Virtual Connector instances in your Cloudflare dashboard.\n\n  **2. Deploy the Virtual Connector on Proxmox**\n\n  The following instructions assume you already have Proxmox Virtual Environment installed with sufficient resources. Refer to [Prerequisites](#prerequisites) for more information.\n\n  1. In the terminal prompt of your Proxmox server, load the script provided by your account team. For example: `bash YOUR_SCRIPT`. You need elevated privileges to run the script.\n  2. You will be prompted to create a new Virtual Connector. Select **yes** to proceed.\n  3. Set up your Virtual Connector name.\n  4. Enter your license key.\n\n  Note\n\n  You cannot use the same license key twice, or reuse a key once the virtual machine has been registered with Cloudflare. You need a new key from your account team for every new Virtual Connector.\n\n  1. Select the network interface card (NIC) you want to use with Virtual Connector.\n  2. Select the network bridge that corresponds to the physical network interface card (NIC) on your host machine. This bridge allows the network adapter in the virtual machine to communicate through the NIC in the host, as if it were directly connected to the physical network.\n  3. (Optional) Configure your VLAN setting if needed.\n\n  VLAN tagging\n\n  Virtual Connector supports creating subinterfaces through the use of [802.1Q VLAN tagging](https://en.wikipedia.org/wiki/IEEE_802.1Q).\n\n  Use VLAN ID `0` when:\n\n  * Connected to a Port Group or Distributed Port Group that is associated with a specific VLAN.\n  * Connected to a Port Group or Distributed Port Group that is configured as a trunk that requires untagged packets.\n\n  You can also configure subinterfaces on the Virtual Connector by associating the network interface with a Port Group or Distributed Port Group trunk and specifying a VLAN ID in addition to the port associated with the network interface (VLAN ID `1`-`4094`).\n\n  Refer to [Proxmox documentation](https://www.proxmox.com/en/products/proxmox-virtual-environment/get-started) for more information.\n\n  1. Finish your configuration.\n  2. The script will apply your settings and configure the virtual machine template for Virtual Connector.\n  3. In the **Hardware settings** for the new VM, make sure the hardware settings match the minimum requirements for running Virtual Connector. Make changes to the RAM and CPU if needed.\n  4. Continue setup in your [Cloudflare dashboard](#set-up-cloudflare-dashboard).\n\n***\n\n## Set up Cloudflare dashboard\n\n### Add a Connector on-ramp\n\nYou need to add your Virtual Connector to your Cloudflare dashboard and configure its settings before connecting it to the Internet.\n\nTo add a Virtual Connector:\n\n1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/) and select your account.\n2. Go to **Networking** > **Magic WAN** > **Connector on-ramps (beta)**.\n3. Select **Add**.\n\n1) In **Name**, enter a descriptive name for your Virtual Connector. Optionally, you can also add a description for it.\n\n2) You need to decide if you want to turn on high availability for the Virtual Connector. Refer to [About high availability configurations](#about-high-availability-configurations) for more information.\n\n3) Select **Create and continue**.\n\n4) Select **Add Connector**. This will show you a list of devices associated with your account. For a Virtual Connector to show up you need to:\n\n   * **VMWare:** Have already obtained your OVA package and license keys if you are installing on VMWare.\n   * **Proxmox:** Have already obtained your Virtual Connector Script and license keys if you are installing on Proxmox.\n\n   For more information, refer to [Configure a virtual machine](#configure-a-virtual-machine) and select the appropriate tab.\n\n5) If you have more than one Virtual Connector, choose the one that corresponds to the on-ramp you are creating. Virtual Connector devices are identified by a serial number, also known as a service tag. Use this information to choose the right Virtual Connector.\\\n   Select **Add Connector** when you are ready to proceed.\n\n6) Virtual Connector will be added to your account with an **Interrupt window** defined. The interrupt window is the time period when the Virtual Connector software can update, which may result in interruption to existing connections. You can change this later. Refer to [Interrupt window](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/interrupt-service-window/) for more details on how to define when the Virtual Connector can update its systems.\n\n7) Select **Continue** to proceed to creating your WAN and LAN networks.\n\n### Create a WAN\n\n* Dashboard\n\n  When you have more than one anycast IP configured in your account (set up during your Magic WAN onboarding), Virtual Connector will automatically create at most two tunnels per WAN port. This improves reliability and performance, and requires no additional configuration on your part.\n\n  1. In **WAN configuration**, select **Create**. You can create one or more [wide area networks (WANs)](https://www.cloudflare.com/learning/network-layer/what-is-a-wan/). Configuring multiple WANs will create multiple IPsec tunnels (one IPsec tunnel per WAN port). This allows Virtual Connector to load balance traffic over WANs of equal priority. It also allows Virtual Connector to failover between circuits according to their [health](https://developers.cloudflare.com/magic-wan/reference/tunnel-health-checks/). Refer to [WAN settings](https://developers.cloudflare.com/magic-wan/configuration/connector/reference/#wan-settings) for more details.\n\n     Note\n\n     This is not the same as a high availability (HA) configuration. HA configurations need two Virtual Connector devices to work. Refer to [About high availability configurations](#about-high-availability-configurations) for more information.\n\n  2. In **Interface name**, enter a descriptive name for your WAN.\n\n  3. **Interface number** needs to correspond to the virtual network interface on the Virtual Connector instance you have set up in VMware. Following our example from the previous steps, you need to choose port `1` since that is what corresponds to the `eno1` port we set up in VMware.\n\n  4. In **VLAN ID**, enter a number between `0` and `4094` to specify a [VLAN ID](https://developers.cloudflare.com/magic-wan/configuration/connector/reference/#vlan-id).\n\n  5. In **Priority**, choose the priority for your WAN. Lower numbers have higher priority. Refer to [Traffic steering](https://developers.cloudflare.com/magic-wan/reference/traffic-steering/) to learn more about how Cloudflare calculates priorities.\n\n  6. In **Health check rate** configure the health check frequency for your site. Options are `low`, `mid`, and `high`. Refer to [Update tunnel health checks frequency](https://developers.cloudflare.com/magic-wan/configuration/common-settings/update-tunnel-health-checks-frequency/) for more information.\n\n  7. **Addressing**: Select **DHCP**. This is needed the first time you set up your Virtual Connector to successfully download all settings to the machine and activate it. If you need a static IP address in your network environment:\n\n     1. Continue the set up flow below to activate your Virtual Connector.\n     2. Refer to [WAN with a static IP address](#wan-with-a-static-ip-address). If you choose a static IP, you also need to specify the static IP and gateway addresses.\n\n  8. Select **Save** when you are finished.\n\n* API\n\n  Note\n\n  You will need your [account ID](https://developers.cloudflare.com/fundamentals/account/find-account-and-zone-ids/) and [API token](https://developers.cloudflare.com/fundamentals/api/get-started/account-owned-tokens/) to use the API.\n\n  Make a `POST` request [using the API](https://developers.cloudflare.com/api/resources/magic_transit/subresources/sites/subresources/wans/methods/create/) to create a WAN.\n\n  The `static_addressing` object is optional. Omit it if you are using DHCP. If you are using static addressing, add the `secondary_address` parameter when your site is in high availability (HA) mode.\n\n  Example:",
      "language": "unknown"
    },
    {
      "code": "### Create a LAN\n\n* Dashboard\n\n  1. In **LAN configuration**, select **Create**.\n\n  2. Enter a descriptive name for your LAN in **Interface name**.\n\n  3. **Interface number** needs to correspond to the virtual LAN interface on the Virtual Connector instance you have set up in VMware. Following our example from the previous steps, you need to choose port `2` since that is what corresponds to the `eno2` port we set up in VMware.\n\n  4. In **VLAN ID**, specify a [VLAN ID](https://developers.cloudflare.com/magic-wan/configuration/connector/reference/#vlan-id) to create virtual LANs.\n\n  5. In **Static addressing** > **Static address** give your Virtual Connector's LAN interface its IP address. You can also enable the following options if they suit your use case:\n\n     * **This is a DHCP server**: If your Virtual Connector is a [DHCP server](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/dhcp-server/).\n     * **This is a DHCP relay**: If your Virtual Connector is a [DHCP relay](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/dhcp-relay/).\n\n  6. (Optional) In **Directly attached subnet** > **Static NAT prefix**, enter a CIDR prefix to enable NAT (network address translation). The prefix you enter here should be the same size as the prefix entered in **Static addressing**. For example, both networks have a subnet mask of `/24`: `192.168.100.0/24` and `10.10.100.0/24`.\n\n  7. (Optional) If your LAN contains additional subnets behind a layer 3 router, select **Add routed subnet** under **Routed subnets** to add them:\n\n     * **Prefix**: The CIDR prefix for the subnet behind the L3 router.\n     * **Next hop**: The address of the L3 router to which the Virtual Connector should forward packets for this subnet.\n     * **Static NAT prefix**: Optional setting. If you want to enable NAT for a routed subnet, supply an \"external\" prefix for the overlay-facing side of the NAT to use. It must be the same size as **Prefix**.\\\n       Refer to [Routed subnets](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/routed-subnets/) for more information.\n\n  8. Select **Save**.\n\n  9. Select **Done** to finish your configuration. Tunnels and static routes will be automatically created for your Virtual Connector, once it boots up.\n\n* API\n\n  Note\n\n  You will need your [account ID](https://developers.cloudflare.com/fundamentals/account/find-account-and-zone-ids/) and [API token](https://developers.cloudflare.com/fundamentals/api/get-started/account-owned-tokens/) to use the API.\n\n  Make a `POST` request [using the API](https://developers.cloudflare.com/api/resources/magic_transit/subresources/sites/subresources/lans/methods/create/) to create a LAN.\n\n  Example:",
      "language": "unknown"
    },
    {
      "code": "#### Network segmentation\n\nAfter setting up your LANs, you can configure your Virtual Connector to enable communication between them without traffic leaving your premises. Refer to [Network segmentation](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/network-segmentation/) for more information.\n\n#### DHCP options\n\nVirtual Connector supports different types of DHCP configurations. Virtual Connector can:\n\n* Connect to a DHCP server or use a static IP address instead of connecting to a DHCP server.\n* Act as a [DHCP server](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/dhcp-server/).\n* Use [DHCP relay](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/dhcp-relay/) to connect to a DHCP server outside the location your Virtual Connector is in.\n* [Reserve IP addresses](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/dhcp-static-address-reservation/) for specific devices on your network.\n\n### Add your Virtual Connector to a site\n\nAfter finishing your Virtual Connector configuration, you need to add it to a site.\n\nSites represent the local network of a data center, office, or other physical location, and combine all on-ramps available there. Sites also allow you to check, at a glance, the state of your on-ramps and set up health alert settings so that Cloudflare notifies you when there are issues with the site's on-ramps.\n\nRefer to [Set up a site](https://developers.cloudflare.com/magic-wan/configuration/common-settings/sites/) for more information.\n\n## Activate appliance\n\nVirtual Magic WAN Connector is deactivated after you install it, and will only establish a connection to the Cloudflare network when it is activated. Cloudflare recommends leaving it deactivated until you finish [setting it up in the dashboard](#set-up-cloudflare-dashboard).\n\nWhen the Virtual Connector is first activated, one of the ports must be connected to the Internet through a device that supports DHCP. This is required so that the Virtual Connector can reach the Cloudflare global network and download the required configurations that you [set up](#set-up-cloudflare-dashboard).\n\nWarning\n\nRemember to connect Virtual Connector through a route that supports DHCP for its first connection to the Internet. Otherwise, Virtual Connector will not work.\n\nWhen you are ready to connect your Virtual Connector to the Cloudflare network:\n\n1. Go to Magic WAN's **Configuration** page.\n\n[Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/magic-wan/configuration)\n\n1. Go to **Connectors**.\n2. Find the Virtual Connector you want to activate, select the three dots next to it > **Edit**. Make sure you verify the serial number to choose the right Virtual Connector you want to activate.\n3. In the new window, the **Status** dropdown will show as **Deactivated**. Select it to change the status to **Activated**.\n4. The **Interrupt window** is the time period when the Virtual Connector software can update, which may result in interruption to existing connections. Choose a time period to minimize disruption to your sites. Refer to [Interrupt window](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/interrupt-service-window/) for more details on how to define when the Virtual Connector can update its systems.\n5. Select **Update**.\n\n## Boot your Virtual Connector\n\n## Default password to access Virtual Connector\n\nYour Virtual Connector's default password is the last seven characters of your license key, all uppercase, plus an `!` (exclamation mark).\n\nFor example, if your license key is `mconn-abcdefghijklmnopqrstuvwxyz`, your default password will be `TUVWXYZ!`.\n\n***\n\n## WAN with a static IP address\n\nAfter activating your device, you can use it in a network configuration with the WAN interface set to a static IP address - that is, an Internet configuration that is not automatically set by DHCP. To use your Virtual Connector on a network configuration with a static IP, follow the steps below.\n\nWarning\n\nMake sure you complete the setup workflow and activate your Virtual Connector before changing the WAN settings to a static IP.\n\n1. Connect the machine where you installed the VM with Virtual Connector to a DHCP port with access to the Internet.\n2. [Add a Connector on-ramp](#add-a-connector-on-ramp) in the Cloudflare dashboard.\n3. Create a [DHCP WAN](#create-a-wan).\n4. [Activate](#activate-appliance) and boot your Virtual Connector.\n5. Wait 60 seconds.\n6. Make changes to the [WAN settings](#create-a-wan) in the Cloudflare dashboard to a static IP set up.\n7. Wait 60 seconds again.\n8. Modify your [Port Groups](#configure-a-virtual-machine) as needed to change the source from which the WAN port obtains its IP address.\n9. Reboot your virtual machine.\n\n***\n\n## About high availability configurations\n\nYou need to install two Virtual Connectors before you can set up a site in high availability. When you set up a site in high availability, the WANs and LANs in your Virtual Connector have the same configuration but are replicated on two nodes. In case of failure of one of the devices, the other device becomes the active node, taking over the configuration of the LAN gateway IP and allowing traffic to continue without disruption.\n\nBecause Virtual Connectors in high availability configurations share a single site, you need to set up:\n\n* **Static address**: The IP for the primary node in your site.\n* **Secondary static address**: The IP for the secondary node in your site.\n* **Virtual static address**: The IP that the LAN south of the Virtual Connector device will forward traffic to, which is the LAN's gateway IP.\n\nMake sure all IPs are part of the same subnet.\n\nFor detailed information about the expected behavior of high availability configurations, refer to the [High availability configurations](https://developers.cloudflare.com/magic-wan/configuration/connector/reference/#high-availability-configurations) reference page.\n\n### Create a high availability configuration\n\nYou cannot enable high availability for an existing site. To add high availability to an existing site in the Cloudflare dashboard, you need to delete the site and start again.\n\nTo set up a high availability configuration:\n\n1. Follow the steps in [Add a Connector on-ramp](#add-a-connector-on-ramp) up until step 4.\n\n1) After naming your site, select **Turn on high availability**.\n2) Select **Create and continue**.\n3) Select **Add Connector**.\n4) From the list, choose your first Virtual Connector > **Add Connector**.\n5) Back on the previous screen, select **Add secondary Connector**.\n6) From the list, choose your second Virtual Connector > **Add Connector**.\n7) Select **Continue** to create a WAN. If you are configuring a static IP, configure the IP for the primary node as the static address, and the IP for the secondary node as the secondary static address.\n8) To create a LAN, follow the steps mentioned above in [Create a LAN](#create-a-lan) up until step 4.\n9) In **Static address**, enter the IP for the primary node in your site. For example, `192.168.10.1/24`.\n10) In **Secondary static address**, enter the IP for the secondary node in your site. For example, `192.168.10.2/24`.\n11) In **Virtual static address**, enter the IP that the LAN south of the Virtual Connector device will forward traffic to. For example, `192.168.10.3/24`.\n12) Select **Save**.\n13) From the **High availability probing link** drop-down menu, select the port that should be used to monitor the node's health. Cloudflare recommends you choose a reliable interface as the HA probing link. The primary and secondary node's probing link should be connected over a switch, and cannot be a direct connection.\n14) Follow the instructions in [Activate appliance](#activate-appliance) to finish setting up your Connectors.\n\n***\n\n## IPsec tunnels and static routes\n\nVirtual Connector automatically creates [IPsec tunnels](https://developers.cloudflare.com/magic-wan/reference/gre-ipsec-tunnels/#ipsec-tunnels) and [static routes](https://developers.cloudflare.com/magic-wan/reference/traffic-steering/) for you. You cannot configure these manually.\n\nTo check the IPsec tunnels and static routes created by your Virtual Connector:\n\n1. Go to the **Network overview** page.\n\n[Go to **Network overview**](https://dash.cloudflare.com/?to=/:account/magic-wan/network)\n\n1. Select the name of the site for which you want to check the Virtual Connector's IPsec tunnels and static routes, and select **Edit**.\n2. Select **Tunnels** to check IPsec tunnels, and **Routes** for the static routes.\n\n***\n\n## Next steps\n\n* [Network options](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/)\n* [Maintenance](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/)\n* [Reference information](https://developers.cloudflare.com/magic-wan/configuration/connector/reference/)\n* [Troubleshooting](https://developers.cloudflare.com/magic-wan/configuration/connector/troubleshooting/)\n\n</page>\n\n<page>\n---\ntitle: Maintenance  Cloudflare Magic WAN docs\nlastUpdated: 2024-08-30T16:09:27.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/\n  md: https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/index.md\n---\n\n* [Register a hardware Magic WAN Connector](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/register-appliance/)\n* [Activate Magic WAN Connector](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/activate-connector/)\n* [Edit basic information](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/edit-basic-info/)\n* [Add or remove connectors](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/add-remove-connectors/)\n* [Edit network settings](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/edit-network-settings/)\n* [Edit traffic steering settings](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/edit-traffic-steering-settings/)\n* [Edit sites](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/edit-sites/)\n* [Deactivate Magic WAN Connector](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/deactivate-connector/)\n* [Default password](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/default-password/)\n* [Heartbeat](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/heartbeat/)\n* [Interrupt window](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/interrupt-service-window/)\n\n</page>\n\n<page>\n---\ntitle: Network options  Cloudflare Magic WAN docs\nlastUpdated: 2024-08-30T16:09:27.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/\n  md: https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/index.md\n---\n\n* [Application-aware policies](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/application-based-policies/)\n* [DHCP options](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/)\n* [Enable NAT for a subnet](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/nat-subnet/)\n* [Network segmentation](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/network-segmentation/)\n* [Routed subnets](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/routed-subnets/)\n\n</page>\n\n<page>\n---\ntitle: Reference  Cloudflare Magic WAN docs\ndescription: The Magic WAN Connector software is certified for use on the Dell\n  Networking Virtual Edge Platform. It can be purchased with software\n  pre-installed through our partner network for plug-and-play connectivity to\n  Cloudflare One.\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/connector/reference/\n  md: https://developers.cloudflare.com/magic-wan/configuration/connector/reference/index.md\n---\n\nThe Magic WAN Connector software is certified for use on the [Dell Networking Virtual Edge Platform](https://www.dell.com/support/home/en-us/product-support/product/dell-emc-networking-vep1445-vep1485/docs). It can be purchased with software pre-installed through our partner network for plug-and-play connectivity to Cloudflare One.\n\n## Security and other information\n\n* Cloudflare ensures the Magic WAN Connector device is secure and is not altered via TPM/Secure boot (does not apply to Virtual Connector).\n* Connectivity to the Cloudflare global network is secure and all traffic is encrypted through IPsec tunneling. The Magic WAN Connector uses ESP-in-UDP with GCM-AES-256 encryption. Cloudflare uses a non-IKE keying protocol built into our control plane, secured with TLS.\n* The Magic WAN Connector does not support fail open.\n* Customers have the ability to layer on additional security features/policies that are enforced at the Cloudflare network.\n\n***\n\n## ICMP traffic\n\nICMP traffic is routed through the Internet and bypasses [Cloudflare Gateway](https://developers.cloudflare.com/cloudflare-one/traffic-policies/). This enables you to ping resources on the Internet from the Magic WAN Connector directly, which can be useful for debugging.\n\n***\n\n## VLAN ID\n\nThis feature allows you to have multiple [virtual LANs](https://www.cloudflare.com/learning/network-layer/what-is-a-lan/) (VLANs) configured over the same physical port on your Magic WAN Connector. VLAN tagging adds an extra header to [packets](https://www.cloudflare.com/learning/network-layer/what-is-a-packet/) in order to identify which VLAN the packet belongs to and to route it appropriately. This effectively allows you to run multiple networks over the same physical port.\n\nA non-zero value set up for the VLAN ID field in your WAN/LAN is used to handle VLAN-tagged traffic. Cloudflare uses the VLAN ID to handle traffic coming into your Magic WAN Connector device, and applies a VLAN tag with the configured VLAN ID for traffic going out of your Magic WAN Connector through WAN/LAN.\n\nYou can setup VLAN IDs both for WAN and LAN. Refer to [Configure hardware Connector](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/) or [Configure Virtual Connector](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-virtual-connector/) to learn where you can set up VLAN IDs.\n\n## High availability configurations\n\n### Terminology\n\n* **Primary/Secondary**: Used to identify the two nodes which are part of a high availability (HA) configuration pair of Magic WAN Connectors. This identity allows the node to identify which configuration is attributed to it  for example, specifying a primary and secondary IP in a LAN configuration. This identity is configured by the user on the Cloudflare dashboard.\n* **Active/Standby**: These are states that the two nodes in a HA pair will dynamically assume based on an election process. Only one node at any time is expected to be active.\n\n### High availability\n\nA site set up in high availability (HA) mode has two Magic WAN Connectors with the same configuration but replicated in two nodes. In case of failure of one Magic WAN Connector, the other Magic WAN Connector becomes the active node, taking over configuration of the LAN gateway IP and allowing traffic to continue without disruption.\n\n### Active/Standby Election\n\nDuring the LAN configuration, one of the LAN links is configured as a HA link, which is used to exchange heartbeats, resulting in the active / standby election of nodes.\n\nThe state election uses a `PRIORITY` parameter where the node with the higher priority becomes active and the other assumes the standby state. If the priority is the same, the state machine automatically picks one of the nodes as active.\n\nThe HA pair is configured in non-preemptive mode, meaning that once a node becomes active, it will remain active unless its priority drops below that of the other node.\n\n### Configuration\n\nThe two Magic WAN Connectors of a high availability (HA) pair are part of a single site. You designate the Magic WAN Connector [as primary and secondary](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/#create-a-high-availability-configuration) in the Cloudflare dashboard.\n\nNote\n\nThe HA link cannot be connected back-to-back. It has to be connected over a switch. This is because, in a direct connection, if the link is unplugged on one end, the other end also detects a link failure. Since we have configured the system to enter a `FAULT` state when the HA link goes down, the affected node will be unable to function as the active node.\n\n### Failure detection and failover\n\nThe Magic WAN Connector's health can be in one of three states:\n\n* **Good** : All health parameters are good\n\n* **Degraded** : One of the following is true:\n\n  * Health of at least one configured tunnel is `DOWN`\n  * At least one of the LAN links is disconnected (physically unplugged)\n\n* **Down** : If one of the following is true:\n\n  * Health of all tunnels is `DOWN`\n  * All LAN interfaces are disconnected\n  * Magic WAN Connector's software is not healthy\n\nA failover happens when the active node's health declines to a level lower than that of the standby node. For example, from `GOOD` to `DEGRADED`, or from `DEGRADED` to `DOWN`. In the case of a failover where one Magic WAN Connector is acting as a DHCP server, DHCP leases will be synchronized.\n\nWhen a failover occurs, traffic is moved to the new active node. It could take up to 30 seconds for traffic to be fully restored over the new active node.\n\n## WAN settings\n\nThis is where you add and configure your WAN connections. Each configured WAN will create one IPsec tunnel, unless you have more than one anycast IP configured in your account.\n\nWhen you have more than one anycast IP configured in your account (set up during your Magic WAN onboarding), Magic WAN Connector will automatically create at most two tunnels per WAN port. This improves reliability and performance, and requires no additional configuration on your part.\n\nWhen you have multiple WANs you can attribute different priorities to each one. Lower values mean a higher priority. This translates in Magic WAN Connector routing traffic through the higher priority WANs or, more precisely, over the IPsec tunnels established over that interface. On the other hand, if you configure multiple WANs of equal priority, traffic will be distributed over those links through [Equal-Cost Multi-Path (ECMP routing)](https://developers.cloudflare.com/magic-wan/reference/traffic-steering/#equal-cost-multi-path-routing).\n\nCreating several WAN connections also means Magic WAN Connector can failover between circuits according to their health.\n\n### High-capacity use cases\n\nFor high-capacity use cases, multiple tunnels can be established with equal priority. Outgoing traffic is then distributed across all available connections using an [ECMP routing](https://developers.cloudflare.com/magic-wan/reference/traffic-steering/#equal-cost-multi-path-routing) algorithm, which balances the load base.\n\n### Configure multiple tunnels in the same WAN profile\n\nIf you do not have more than one anycast IP configured in your account, and you need to configure multiple tunnels for the same WAN profile, [set up multiple WAN connections](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/#create-a-wan). Each WAN is assigned one IPsec tunnel.\n\n### WAN settings\n\n* **Interface number:** When using the hardware version of Magic WAN Connector, this refers to the Ethernet port that you are using for your WAN. If you need a throughput higher than 1 Gbps, you can use one of the SFP+ ports. Refer to [SFP+ port information](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/sfp-port-information/) for more information on the hardware supported.\\\n  If you are using Virtual Connector, this needs to correspond to the virtual network interface on the Virtual Connector instance you have set up in your virtual machine.\n* **VLAN ID**: Allows you to have multiple virtual WANs configured over the same port on your Magic WAN Connector. Refer to [VLAN ID](#vlan-id) for more information.\n* **Priority**: Assigns a priority to the WAN interface. Lower numbers have higher priority. Refer to [Traffic steering](https://developers.cloudflare.com/magic-wan/reference/traffic-steering/) to learn more about how Cloudflare calculates priorities.\n* **Health check rate:** Configures the health check frequency for your WAN. Options are low, mid, and high. Refer to [Update tunnel health checks frequency](https://developers.cloudflare.com/magic-wan/configuration/common-settings/update-tunnel-health-checks-frequency/) for more information.\n* **Addressing:** Configures the Magic WAN Connector to work in a DHCP or static IP environment.\n\n## LAN settings\n\n* **Interface number:** When using the hardware version of Magic WAN Connector, this refers to the Ethernet port that you are using for your LAN. If you need a throughput higher than 1 Gbps, you can use one of the SFP+ ports. Refer to [SFP+ port information](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/sfp-port-information/) for more information on the hardware supported.\\\n  If you are using the Virtual Connector, this needs to correspond to the virtual LAN interface on the Virtual Connector instance you have set up in your virtual machine.\n* **VLAN ID**: Allows you to have multiple virtual LANs configured over the same port on your Magic WAN Connector. Refer to [VLAN ID](#vlan-id) for more information.\n* **Static addressing:** Configures the type of IP addressing for your Connector. Depending on your use case, this is where you configure your LAN interface IP address, or enable DHCP server or DHCP relay. Refer to [DHCP options](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/dhcp/) to learn more.\n* **Static NAT prefix**: Enable NAT (network address translation). This is an optional setting.\n* **Routed subnets:** Configures additional subnets behind a layer 3 router. Refer to [Routed subnets](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/routed-subnets/) for more information.\n\n### Restrict traffic to your premises\n\nDepending on your use case, you can define policies in your Magic WAN Connector to either allow traffic to flow between your LANs without it leaving your local premises or to forward it via the Cloudflare network where you can add additional security features. The default behavior is to drop all LAN-to-LAN traffic. These policies can be created for specific subnets, and link two LANs.\n\nRefer to [Network segmentation](https://developers.cloudflare.com/magic-wan/configuration/connector/network-options/network-segmentation/) for more information.\n\n</page>\n\n<page>\n---\ntitle: Troubleshooting  Cloudflare Magic WAN docs\ndescription: \"Cloudflare customers can inspect metrics for a specific Magic WAN\n  Connector in the Cloudflare dashboard. These metrics help you troubleshoot\n  potential issues with your device. The information spans categories such as:\"\nlastUpdated: 2025-11-04T17:07:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/connector/troubleshooting/\n  md: https://developers.cloudflare.com/magic-wan/configuration/connector/troubleshooting/index.md\n---\n\n## Device metrics\n\nCloudflare customers can inspect metrics for a specific Magic WAN Connector in the Cloudflare dashboard. These metrics help you troubleshoot potential issues with your device. The information spans categories such as:\n\n* Performance analytics\n* Port analytics\n* Event logs\n* DHCP leasing information\n\nTo find the information above and start troubleshooting your Magic WAN Connector:\n\n1. Go to the **Configuration** page.\n\n[Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/magic-wan/configuration)\n\n1. In the **Magic WAN Connector** tab, select the Magic WAN Connector want to check analytics for.\n2. Select **View analytics**.\n\n### Performance analytics\n\nIn Performance analytics you can review your Magic WAN Connector's performance over time including:\n\n* Kernel boot time (how long it has been running and if it is activated or not)\n* Last device snapshot (this also shows the frequency with which your device captures the snapshots that are used in several troubleshooting procedures)\n* CPU temperature\n* CPU load over time\n* Used RAM over time\n\nTo access performance analytics:\n\n1. Go to the **Configuration** page.\n\n[Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/magic-wan/configuration)\n\n1. In the **Magic WAN Connector** tab, select the Magic WAN Connector want to check analytics for.\n2. Select **View analytics**.\n\n1) Select **Performance analytics**.\n\n### Port analytics\n\nPort analytics gives you access to information related to the packets sent and received through the ports in your Magic WAN Connector. You can adjust the time range for the information displayed in the dashboard regarding to:\n\n* Rate for packets sent and received\n* Rate for data sent and received\n\nThe dashboard provides this information for all active ports in your Magic WAN Connector. To access port analytics:\n\n1. Go to the **Configuration** page.\n\n[Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/magic-wan/configuration)\n\n1. In the **Magic WAN Connector** tab, select the Magic WAN Connector want to check analytics for.\n2. Select **View analytics**.\n\n1) Select **Port analytics**.\n\n### Event logs\n\nUse Event logs to identify general patterns and changes over time. This is useful to find correlations with other data and gather deeper insights into your Magic WAN Connector. The following event logs are available:\n\n* `Init`: Initialized `mcon-agent` process. This process manages Connector.\n* `Leave`: Stopped `mcon-agent` process.\n* `StartAttestation`: Started attestation to verify the integrity of Connector before allowing the device to connect to your account.\n* `FinishAttestationSuccess`: Finished attestation successfully.\n* `FinishAttestationFailure`: Failed attestation.\n* `StartRotateCryptKey`: Started cryptography key rotation.\n* `FinishRotateCryptKeySuccess`: Finished cryptography key rotation.\n* `FinishRotateCryptKeyFailure`: Failed cryptography key rotation.\n* `StartRotatePki`: Started public key infrastructure (PKI) rotation.\n* `FinishRotatePkiSuccess`: Finished PKI rotation.\n* `FinishRotatePkiFailure`: Failed PKI rotation.\n* `StartUpgrade`: Began Connector's operating system upgrade.\n* `FinishUpgradeSuccess`: Finished operating system upgrade.\n* `FinishUpgradeFailure`: Failed operating system upgrade.\n* `Reconcile`: Cloudflare is comparing the system's current state against its desired state.\n* `ConfigureCloudflaredTunnel`: Configured Cloudflare Tunnel to debug device.\n\nTo access event logs:\n\n1. Go to the **Configuration** page.\n\n[Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/magic-wan/configuration)\n\n1. In the **Magic WAN Connector** tab, select the Magic WAN Connector want to check analytics for.\n2. Select **View analytics**.\n\n1) Select **Events**.\n2) You can filter results by specific events, and by time.\n\n### DHCP leasing\n\nRefer to the DHCP leasing section to identify DHCP assigned leases and their expiration dates. To access DHCP leasing:\n\n1. Go to the **Configuration** page.\n\n[Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/magic-wan/configuration)\n\n1. In the **Magic WAN Connector** tab, select the Magic WAN Connector want to check analytics for.\n2. Select **View analytics**.\n\n1) Select **DHCP leasing**.\n\n## Troubleshooting tips\n\nIf you are experiencing difficulties with your Magic WAN Connector, refer to the following tips to troubleshoot what might be happening.\n\n## I have set up a site, but my Magic WAN Connector is not working\n\nMake sure that you have [activated your Magic WAN Connector](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/#activate-appliance). Cloudflare ships the Magic WAN Connector deactivated, and the it will only establish a connection to the Cloudflare network when it is activated.\n\n## I have tried to activate Magic WAN Connector, but it is still not working\n\nCheck if your Magic WAN Connector is connected to the Internet via a port that can serve DHCP. This is required the first time a Magic WAN Connector boots up so that it can reach the Cloudflare global network and download the required configurations that you set up in the Site configuration step. Refer to [Activate Connector](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/#activate-appliance) for more details.\n\nIf you have a firewall deployed upstream of the Magic WAN Connector, [check your firewall settings](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/#firewall-settings-required). You might need to configure your firewall to allow traffic in specific ports for the Magic WAN Connector to work properly.\n\n## I can access Magic WAN Connector's health checks, but there is no traffic\n\nIf you have a firewall deployed upstream of the Magic WAN Connector, make sure you review your [firewall settings](https://developers.cloudflare.com/magic-wan/configuration/connector/configure-hardware-connector/#firewall-settings-required). You might need to configure your firewall to allow traffic in specific ports for the Magic WAN Connector to work properly.\n\n## Devices I have behind Magic WAN Connector cannot connect to the Internet\n\nIf you have other routing appliances behind Magic WAN Connector, make sure you create policy-based routing policies to send traffic from your devices through Magic WAN Connector, instead of these other routing devices.\n\n## How do I know if my device is contacting Cloudflare?\n\nMagic WAN Connector sends a heartbeat periodically to Cloudflare. You can [access the dashboard](https://developers.cloudflare.com/magic-wan/configuration/connector/maintenance/heartbeat/), and check for the heartbeat status of your Connector device.\n\n## What do I do in the event of hardware issues with Magic WAN Connector?\n\nCloudflare is the single point of contact for any issues related to Magic WAN Connector, including issues with hardware. When required, Cloudflare Support will work with our partner, TD Synnex, to resolve any issues with the physical device.\n\n</page>\n\n<page>\n---\ntitle: How to  Cloudflare Magic WAN docs\nlastUpdated: 2024-08-30T16:09:27.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/manually/how-to/\n  md: https://developers.cloudflare.com/magic-wan/configuration/manually/how-to/index.md\n---\n\n* [Configure tunnel endpoints](https://developers.cloudflare.com/magic-wan/configuration/manually/how-to/configure-tunnel-endpoints/)\n* [Configure routes](https://developers.cloudflare.com/magic-wan/configuration/manually/how-to/configure-routes/)\n* [Configure Cloudflare source IPs](https://developers.cloudflare.com/magic-wan/configuration/manually/how-to/configure-cloudflare-source-ips/)\n* [Run traceroute](https://developers.cloudflare.com/magic-wan/configuration/manually/how-to/traceroute/)\n\n</page>\n\n<page>\n---\ntitle: Third-party integration tutorials  Cloudflare Magic WAN docs\ndescription: Learn how to integrate Cloudflare Magic WAN with third-party products.\nlastUpdated: 2024-08-30T16:09:27.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/\n  md: https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/index.md\n---\n\n* [Alibaba Cloud VPN Gateway](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/alibaba-cloud/)\n* [Amazon AWS Transit Gateway](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/aws/)\n* [Aruba EdgeConnect Enterprise](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/aruba-edgeconnect/)\n* [Cisco IOS XE](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/cisco-ios-xe/)\n* [Cisco SD-WAN](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/viptela/)\n* [Fortinet](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/fortinet/)\n* [Furukawa Electric FITELnet](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/fitelnet/)\n* [Google Cloud VPN](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/google/)\n* [Juniper Networks SRX Series Firewalls](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/juniper/)\n* [Microsoft Azure](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/azure/)\n* [Oracle Cloud](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/oracle/)\n* [Palo Alto Networks NGFW](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/palo-alto/)\n* [pfSense](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/pfsense/)\n* [SonicWall](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/sonicwall/)\n* [Sophos Firewall](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/sophos-firewall/)\n* [strongSwan](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/strongswan/)\n* [Ubiquiti](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/ubiquiti/)\n* [VyOS](https://developers.cloudflare.com/magic-wan/configuration/manually/third-party/vyos/)\n\n</page>\n\n<page>\n---\ntitle: GitHub integration  Cloudflare Pages docs\ndescription: You can connect each Cloudflare Pages project to a GitHub\n  repository, and Cloudflare will automatically deploy your code every time you\n  push a change to a branch.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/configuration/git-integration/github-integration/\n  md: https://developers.cloudflare.com/pages/configuration/git-integration/github-integration/index.md\n---\n\nYou can connect each Cloudflare Pages project to a GitHub repository, and Cloudflare will automatically deploy your code every time you push a change to a branch.\n\n## Features\n\nBeyond automatic deployments, the Cloudflare GitHub integration lets you monitor, manage, and preview deployments directly in GitHub, keeping you informed without leaving your workflow.\n\n### Custom branches\n\nPages will default to setting your [production environment](https://developers.cloudflare.com/pages/configuration/branch-build-controls/#production-branch-control) to the branch you first push. If a branch other than the default branch (e.g. `main`) represents your project's production branch, then go to **Settings** > **Builds** > **Branch control**, change the production branch by clicking the **Production branch** dropdown menu and choose any other branch.\n\nYou can also use [preview deployments](https://developers.cloudflare.com/pages/configuration/preview-deployments/) to preview versions of your project before merging your production branch, and deploying to production. Pages allows you to configure which of your preview branches are automatically deployed using [branch build controls](https://developers.cloudflare.com/pages/configuration/branch-build-controls/). To configure, go to **Settings** > **Builds** > **Branch control** and select an option under **Preview branch**. Use [**Custom branches**](https://developers.cloudflare.com/pages/configuration/branch-build-controls/) to specify branches you wish to include or exclude from automatic preview deployments.\n\n### Preview URLs\n\nEvery time you open a new pull request on your GitHub repository, Cloudflare Pages will create a unique preview URL, which will stay updated as you continue to push new commits to the branch. Note that preview URLs will not be created for pull requests created from forks of your repository. Learn more in [Preview Deployments](https://developers.cloudflare.com/pages/configuration/preview-deployments/).\n\n![GitHub Preview URLs](https://developers.cloudflare.com/_astro/ghpreviewurls.DuZwczMZ_18Cm2.webp)\n\n### Skipping a build via a commit message\n\nWithout any configuration required, you can choose to skip a deployment on an ad hoc basis. By adding the `[CI Skip]`, `[CI-Skip]`, `[Skip CI]`, `[Skip-CI]`, or `[CF-Pages-Skip]` flag as a prefix in your commit message, and Pages will omit that deployment. The prefixes are not case sensitive.\n\n### Check runs\n\nIf you have one or multiple projects connected to a repository (i.e. a [monorepo](https://developers.cloudflare.com/pages/configuration/monorepos/)), you can check on the status of each build within GitHub via [GitHub check runs](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/collaborating-on-repositories-with-code-quality-features/about-status-checks#checks).\n\nYou can see the checks by selecting the status icon next to a commit within your GitHub repository. In the example below, you can select the green check mark to see the results of the check run.\n\n![GitHub status](https://developers.cloudflare.com/_astro/gh-status-check-runs.DkY_pO9C_1RDE3u.webp)\n\nCheck runs will appear like the following in your repository.\n\n![GitHub check runs](https://developers.cloudflare.com/_astro/ghcheckrun.Cv3SMhfT_2kRJYa.webp)\n\nIf a build skips for any reason (i.e. CI Skip, build watch paths, or branch deployment controls), the check run/commit status will not appear.\n\n## Manage access\n\nYou can deploy projects to Cloudflare Workers from your company or side project on GitHub using the [Cloudflare Workers & Pages GitHub App](https://github.com/apps/cloudflare-workers-and-pages).\n\n### Organizational access\n\nYou can deploy projects to Cloudflare Pages from your company or side project on both GitHub and GitLab.\n\nWhen authorizing Cloudflare Pages to access a GitHub account, you can specify access to your individual account or an organization that you belong to on GitHub. In order to be able to add the Cloudflare Pages installation to that organization, your user account must be an owner or have the appropriate role within the organization (that is, the GitHub Apps Manager role). More information on these roles can be seen on [GitHub's documentation](https://docs.github.com/en/organizations/managing-peoples-access-to-your-organization-with-roles/roles-in-an-organization#github-app-managers).\n\nGitHub security consideration\n\nA GitHub account should only point to one Cloudflare account. If you are setting up Cloudflare with GitHub for your organization, Cloudflare recommends that you limit the scope of the application to only the repositories you intend to build with Pages. To modify these permissions, go to the [Applications page](https://github.com/settings/installations) on GitHub and select **Switch settings context** to access your GitHub organization settings. Then, select **Cloudflare Workers & Pages** > For **Repository access**, select **Only select repositories** > select your repositories.\n\n### Remove access\n\nYou can remove Cloudflare Pages' access to your GitHub repository or account by going to the [Applications page](https://github.com/settings/installations) on GitHub (if you are in an organization, select Switch settings context to access your GitHub organization settings). The GitHub App is named Cloudflare Workers and Pages, and it is shared between Workers and Pages projects.\n\n#### Remove Cloudflare access to a GitHub repository\n\nTo remove access to an individual GitHub repository, you can navigate to **Repository access**. Select the **Only select repositories** option, and configure which repositories you would like Cloudflare to have access to.\n\n![GitHub Repository Access](https://developers.cloudflare.com/_astro/github-repository-access.DGHekBft_Z1VFnS0.webp)\n\n#### Remove Cloudflare access to the entire GitHub account\n\nTo remove Cloudflare Workers and Pages access to your entire Git account, you can navigate to **Uninstall \"Cloudflare Workers and Pages\"**, then select **Uninstall**. Removing access to the Cloudflare Workers and Pages app will revoke Cloudflare's access to *all repositories* from that GitHub account. If you want to only disable automatic builds and deployments, follow the [Disable Build](https://developers.cloudflare.com/workers/ci-cd/builds/#disconnecting-builds) instructions.\n\nNote that removing access to GitHub will disable new builds for Workers and Pages project that were connected to those repositories, though your previous deployments will continue to be hosted by Cloudflare Workers.\n\n### Reinstall the Cloudflare GitHub app\n\nIf you see errors where Cloudflare Pages cannot access your git repository, you should attempt to uninstall and reinstall the GitHub application associated with the Cloudflare Pages installation.\n\n1. Go to the installation settings page on GitHub:\n\n   * Navigate to **Settings > Builds** for the Pages project and select **Manage** under Git Repository.\n   * Alternatively, visit these links to find the Cloudflare Workers and Pages installation and select **Configure**:\n\n| | |\n| - | - |\n| **Individual** | `https://github.com/settings/installations` |\n| **Organization** | `https://github.com/organizations/<YOUR_ORGANIZATION_NAME>/settings/installations` |\n\n1. In the Cloudflare Workers and Pages GitHub App settings page, navigate to **Uninstall \"Cloudflare Workers and Pages\"** and select **Uninstall**.\n2. Go back to the [**Workers & Pages** overview](https://dash.cloudflare.com) page. Select **Create application** > **Pages** > **Connect to Git**.\n3. Select the **+ Add account** button, select the GitHub account you want to add, and then select **Install & Authorize**.\n4. You should be redirected to the create project page with your GitHub account or organization in the account list.\n5. Attempt to make a new deployment with your project which was previously broken.\n\n</page>\n\n<page>\n---\ntitle: GitLab integration  Cloudflare Pages docs\ndescription: You can connect each Cloudflare Pages project to a GitLab\n  repository, and Cloudflare will automatically deploy your code every time you\n  push a change to a branch.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/configuration/git-integration/gitlab-integration/\n  md: https://developers.cloudflare.com/pages/configuration/git-integration/gitlab-integration/index.md\n---\n\nYou can connect each Cloudflare Pages project to a GitLab repository, and Cloudflare will automatically deploy your code every time you push a change to a branch.\n\n## Features\n\nBeyond automatic deployments, the Cloudflare GitLab integration lets you monitor, manage, and preview deployments directly in GitLab, keeping you informed without leaving your workflow.\n\n### Custom branches\n\nPages will default to setting your [production environment](https://developers.cloudflare.com/pages/configuration/branch-build-controls/#production-branch-control) to the branch you first push. If a branch other than the default branch (e.g. `main`) represents your project's production branch, then go to **Settings** > **Builds** > **Branch control**, change the production branch by clicking the **Production branch** dropdown menu and choose any other branch.\n\nYou can also use [preview deployments](https://developers.cloudflare.com/pages/configuration/preview-deployments/) to preview versions of your project before merging your production branch, and deploying to production. Pages allows you to configure which of your preview branches are automatically deployed using [branch build controls](https://developers.cloudflare.com/pages/configuration/branch-build-controls/). To configure, go to **Settings** > **Builds** > **Branch control** and select an option under **Preview branch**. Use [**Custom branches**](https://developers.cloudflare.com/pages/configuration/branch-build-controls/) to specify branches you wish to include or exclude from automatic preview deployments.\n\n### Skipping a specific build via a commit message\n\nWithout any configuration required, you can choose to skip a deployment on an ad hoc basis. By adding the `[CI Skip]`, `[CI-Skip]`, `[Skip CI]`, `[Skip-CI]`, or `[CF-Pages-Skip]` flag as a prefix in your commit message, Pages will omit that deployment. The prefixes are not case sensitive.\n\n### Check runs and preview URLs\n\nIf you have one or multiple projects connected to a repository (i.e. a [monorepo](https://developers.cloudflare.com/workers/ci-cd/builds/advanced-setups/#monorepos)), you can check on the status of each build within GitLab via [GitLab commit status](https://docs.gitlab.com/ee/user/project/merge_requests/status_checks.html).\n\nYou can see the statuses by selecting the status icon next to a commit or by going to **Build** > **Pipelines** within your GitLab repository. In the example below, you can select the green check mark to see the results of the check run.\n\n![GitLab Status](https://developers.cloudflare.com/_astro/gl-status-checks.B9jgSbf7_NIlLz.webp)\n\nCheck runs will appear like the following in your repository. You can select one of the statuses to view the [preview URL](https://developers.cloudflare.com/pages/configuration/preview-deployments/) for that deployment.\n\n![GitLab Commit Status](https://developers.cloudflare.com/_astro/glcommitstatus.BXV17OMM_bQMQW.webp)\n\nIf a build skips for any reason (i.e. CI Skip, build watch paths, or branch deployment controls), the check run/commit status will not appear.\n\n## Manage access\n\nYou can deploy projects to Cloudflare Workers from your company or side project on GitLab using the Cloudflare Pages app.\n\n### Organizational access\n\nYou can deploy projects to Cloudflare Pages from your company or side project on both GitHub and GitLab.\n\nWhen you authorize Cloudflare Pages to access your GitLab account, you automatically give Cloudflare Pages access to organizations, groups, and namespaces accessed by your GitLab account. Managing access to these organizations and groups is handled by GitLab.\n\n### Remove access\n\nYou can remove Cloudflare Workers' access to your GitLab account by navigating to [Authorized Applications page](https://gitlab.com/-/profile/applications) on GitLab. Find the applications called Cloudflare Workers and select the **Revoke** button to revoke access.\n\nNote that the GitLab application Cloudflare Workers is shared between Workers and Pages projects, and removing access to GitLab will disable new builds for Workers and Pages, though your previous deployments will continue to be hosted by Cloudflare Pages.\n\n### Reinstall the Cloudflare GitLab app\n\nWhen encountering Git integration related issues, one potential troubleshooting step is attempting to uninstall and reinstall the GitHub or GitLab application associated with the Cloudflare Pages installation.\n\n1. Go to your application settings page on GitLab located here: <https://gitlab.com/-/profile/applications>\n2. Select the **Revoke** button on your Cloudflare Pages installation if it exists.\n3. Go back to the **Workers & Pages** overview page at `https://dash.cloudflare.com/[YOUR_ACCOUNT_ID]/workers-and-pages`. Select **Create application** > **Pages** > **Connect to Git**.\n4. Select the **GitLab** tab at the top, select the **+ Add account** button, select the GitLab account you want to add, and then select **Authorize** on the modal titled \"Authorize Cloudflare Pages to use your account?\".\n5. You will be redirected to the create project page with your GitLab account or organization in the account list.\n6. Attempt to make a new deployment with your project which was previously broken.\n\n</page>\n\n<page>\n---\ntitle: Troubleshooting builds  Cloudflare Pages docs\ndescription: If your git integration is experiencing issues, you may find the\n  following banners in the Deployment page of your Pages project.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/configuration/git-integration/troubleshooting/\n  md: https://developers.cloudflare.com/pages/configuration/git-integration/troubleshooting/index.md\n---\n\nIf your git integration is experiencing issues, you may find the following banners in the Deployment page of your Pages project.\n\n## Project creation\n\n#### `This repository is being used for a Cloudflare Pages project on a different Cloudflare account.`\n\nUsing the same GitHub/GitLab repository across separate Cloudflare accounts is disallowed. To use the repository for a Pages project in that Cloudflare account, you should delete any Pages projects using the repository in other Cloudflare accounts.\n\n## Deployments\n\nIf you run into any issues related to deployments or failing, check your project dashboard to see if there are any SCM installation warnings listed as shown in the screenshot below.\n\n![Pausing a deployment in the Settings of your Pages project](https://developers.cloudflare.com/_astro/git.dashboard-error.z5oiIEkZ_2jHH7j.webp)\n\nTo resolve any errors displayed in the Cloudflare Pages dashboard, follow the steps listed below.\n\n#### `This project is disconnected from your Git account, this may cause deployments to fail.`\n\nTo resolve this issue, follow the steps provided above in the [Reinstalling a Git installation section](https://developers.cloudflare.com/pages/configuration/git-integration/#reinstall-a-git-installation) for the applicable SCM provider. If the issue persists even after uninstalling and reinstalling, contact support.\n\n#### `Cloudflare Pages is not properly installed on your Git account, this may cause deployments to fail.`\n\nTo resolve this issue, follow the steps provided above in the [Reinstalling a Git installation section](https://developers.cloudflare.com/pages/configuration/git-integration/#reinstall-a-git-installation) for the applicable SCM provider. If the issue persists even after uninstalling and reinstalling, contact support.\n\n#### `The Cloudflare Pages installation has been suspended, this may cause deployments to fail.`\n\nGo to your GitHub installation settings:\n\n* `https://github.com/settings/installations` for individual accounts\n* `https://github.com/organizations/<YOUR_ORGANIZATION_NAME>/settings/installations` for organizational accounts\n\nClick **Configure** on the Cloudflare Pages application. Scroll down to the bottom of the page and click **Unsuspend** to allow Cloudflare Pages to make future deployments.\n\n#### `The project is linked to a repository that no longer exists, this may cause deployments to fail.`\n\nYou may have deleted or transferred the repository associated with this Cloudflare Pages project. For a deleted repository, you will need to create a new Cloudflare Pages project with a repository that has not been deleted. For a transferred repository, you can either transfer the repository back to the original Git account or you will need to create a new Cloudflare Pages project with the transferred repository.\n\n#### `The repository cannot be accessed, this may cause deployments to fail.`\n\nYou may have excluded this repository from your installation's repository access settings. Go to your GitHub installation settings:\n\n* `https://github.com/settings/installations` for individual accounts\n* `https://github.com/organizations/<YOUR_ORGANIZATION_NAME>/settings/installations` for organizational accounts\n\nClick **Configure** on the Cloudflare Pages application. Under **Repository access**, ensure that the repository associated with your Cloudflare Pages project is included in the list.\n\n#### `There is an internal issue with your Cloudflare Pages Git installation.`\n\nThis is an internal error in the Cloudflare Pages SCM system. You can attempt to [reinstall your Git installation](https://developers.cloudflare.com/pages/configuration/git-integration/#reinstall-a-git-installation), but if the issue persists, [contact support](https://developers.cloudflare.com/support/contacting-cloudflare-support/).\n\n#### `GitHub/GitLab is having an incident and push events to Cloudflare are operating in a degraded state. Check their status page for more details.`\n\nThis indicates that GitHub or GitLab may be experiencing an incident affecting push events to Cloudflare. It is recommended to monitor their status page ([GitHub](https://www.githubstatus.com/), [GitLab](https://status.gitlab.com/)) for updates and try deploying again later.\n\n</page>\n\n<page>\n---\ntitle: Get started  Cloudflare Pages docs\ndescription: Deploy a static site built using Next.js to Cloudflare Pages\nlastUpdated: 2025-09-17T18:05:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/framework-guides/nextjs/deploy-a-static-nextjs-site/\n  md: https://developers.cloudflare.com/pages/framework-guides/nextjs/deploy-a-static-nextjs-site/index.md\n---\n\nNote\n\nDo not use this guide unless you have a specific use case for static exports. Cloudflare recommends using Workers to deploy your Next.js site, for more instructions refer the [Next.js Workers guide](https://developers.cloudflare.com/workers/framework-guides/web-apps/nextjs).\n\n[Next.js](https://nextjs.org) is an open-source React framework for creating websites and applications. In this guide, you will create a new Next.js application and deploy it using Cloudflare Pages.\n\nThis guide will instruct you how to deploy a static site Next.js project with [static exports](https://nextjs.org/docs/app/building-your-application/deploying/static-exports).\n\n## Before you continue\n\nAll of the framework guides assume you already have a fundamental understanding of [Git](https://git-scm.com/). If you are new to Git, refer to this [summarized Git handbook](https://guides.github.com/introduction/git-handbook/) on how to set up Git on your local machine.\n\nIf you clone with SSH, you must [generate SSH keys](https://docs.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent) on each computer you use to push or pull from GitHub.\n\nRefer to the [GitHub documentation](https://guides.github.com/introduction/git-handbook/) and [Git documentation](https://git-scm.com/book/en/v2) for more information.\n\n## Select your Next.js project\n\nIf you already have a Next.js project that you wish to deploy, ensure that it is [configured for static exports](https://nextjs.org/docs/app/building-your-application/deploying/static-exports), change to its directory, and proceed to the next step. Otherwise, use `create-next-app` to create a new Next.js project.",
      "language": "unknown"
    },
    {
      "code": "After creating your project, a new `my-app` directory will be generated using the official [`with-static-export`](https://github.com/vercel/next.js/tree/canary/examples/with-static-export) example as a template. Change to this directory to continue.",
      "language": "unknown"
    },
    {
      "code": "### Create a GitHub repository\n\nCreate a new GitHub repository by visiting [repo.new](https://repo.new). After creating a new repository, prepare and push your local application to GitHub by running the following commands in your terminal:",
      "language": "unknown"
    },
    {
      "code": "### Deploy your application to Cloudflare Pages\n\nTo deploy your site to Pages:\n\n1. In the Cloudflare dashboard, go to the **Workers & Pages** page.\n\n   [Go to **Workers & Pages**](https://dash.cloudflare.com/?to=/:account/workers-and-pages)\n\n2. Select **Create application**.\n\n3. Select the **Pages** tab.\n\n4. Select **Import an existing Git repository**.\n\n5. Select the new GitHub repository that you created and then select **Begin setup**.\n\n6. In the **Build settings** section, select *Next.js (Static HTML Export)* as your **Framework preset**. Your selection will provide the following information:\n\n| Configuration option | Value |\n| - | - |\n| Production branch | `main` |\n| Build command | `npx next build` |\n| Build directory | `out` |\n\nAfter configuring your site, you can begin your first deploy. Cloudflare Pages will install `next`, your project dependencies, and build your site before deploying it.\n\n## Preview your site\n\nAfter deploying your site, you will receive a unique subdomain for your project on `*.pages.dev`.\n\nEvery time you commit new code to your Next.js site, Cloudflare Pages will automatically rebuild your project and deploy it. You will also get access to [preview deployments](https://developers.cloudflare.com/pages/configuration/preview-deployments/) on new pull requests, so you can preview how changes look to your site before deploying them to production.\n\nFor the complete guide to deploying your first site to Cloudflare Pages, refer to the [Get started guide](https://developers.cloudflare.com/pages/get-started/).\n\n</page>\n\n<page>\n---\ntitle: A/B testing with middleware  Cloudflare Pages docs\ndescription: Set up an A/B test by controlling what page is served based on\n  cookies. This version supports passing the request through to test and control\n  on the origin.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/examples/ab-testing/\n  md: https://developers.cloudflare.com/pages/functions/examples/ab-testing/index.md\n---",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Adding CORS headers  Cloudflare Pages docs\ndescription: A Pages Functions for appending CORS headers.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\ntags: Headers\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/examples/cors-headers/\n  md: https://developers.cloudflare.com/pages/functions/examples/cors-headers/index.md\n---\n\nThis example is a snippet from our Cloudflare Pages Template repo.",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Cloudflare Access  Cloudflare Pages docs\ndescription: The Cloudflare Access Pages Plugin is a middleware to validate\n  Cloudflare Access JWT assertions. It also includes an API to lookup additional\n  information about a given user's JWT.\nlastUpdated: 2025-10-24T20:47:24.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/plugins/cloudflare-access/\n  md: https://developers.cloudflare.com/pages/functions/plugins/cloudflare-access/index.md\n---\n\nThe Cloudflare Access Pages Plugin is a middleware to validate Cloudflare Access JWT assertions. It also includes an API to lookup additional information about a given user's JWT.\n\n## Installation\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## Usage",
      "language": "unknown"
    },
    {
      "code": "The Plugin takes an object with two properties: the `domain` of your Cloudflare Access account, and the policy `aud` (audience) to validate against. Any requests which fail validation will be returned a `403` status code.\n\n### Access the JWT payload\n\nIf you need to use the JWT payload in your application (for example, you need the user's email address), this Plugin will make this available for you at `data.cloudflareAccess.JWT.payload`.\n\nFor example:",
      "language": "unknown"
    },
    {
      "code": "The [entire JWT payload](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/application-token/#payload) will be made available on `data.cloudflareAccess.JWT.payload`. Be aware that the fields available differ between identity authorizations (for example, a user in a browser) and non-identity authorizations (for example, a service token).\n\n### Look up identity\n\nIn order to get more information about a given user's identity, use the provided `getIdentity` API function:",
      "language": "unknown"
    },
    {
      "code": "The `getIdentity` function takes an object with two properties: a `jwt` string, and a `domain` string. It returns a `Promise` of [the object returned by the `/cdn-cgi/access/get-identity` endpoint](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/application-token/#user-identity). This is particularly useful if you want to use a user's group membership for something like application permissions.\n\nFor convenience, this same information can be fetched for the current request's JWT with the `data.cloudflareAccess.JWT.getIdentity` function, (assuming you have already validated the request with the Plugin as above):",
      "language": "unknown"
    },
    {
      "code": "### Login and logout URLs\n\nIf you want to force a login or logout, use these utility functions to generate URLs and redirect a user:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Community Plugins  Cloudflare Pages docs\ndescription: The following are some of the community-maintained Pages Plugins.\n  If you have created a Pages Plugin and would like to share it with developers,\n  create a PR to add it to this alphabeticallly-ordered list using the link in\n  the footer.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/plugins/community-plugins/\n  md: https://developers.cloudflare.com/pages/functions/plugins/community-plugins/index.md\n---\n\nThe following are some of the community-maintained Pages Plugins. If you have created a Pages Plugin and would like to share it with developers, create a PR to add it to this alphabeticallly-ordered list using the link in the footer.\n\n* [pages-plugin-asset-negotiation](https://github.com/Cherry/pages-plugin-asset-negotiation)\n\n  Given a folder of assets in multiple formats, this Plugin will automatically negotiate with a client to serve an optimized version of a requested asset.\n\n* [proxyflare-for-pages](https://github.com/flaregun-net/proxyflare-for-pages)\n\n  Move traffic around your Cloudflare Pages domain with ease. Proxyflare is a reverse-proxy that enables you to:\n\n  * Port forward, redirect, and reroute HTTP and websocket traffic anywhere on the Internet.\n  * Mount an entire website on a subpath (for example, `mysite.com/docs`) on your apex domain.\n  * Serve static text (like `robots.txt` and other structured metadata) from any endpoint.\n\n  Refer to [Proxyflare](https://proxyflare.works) for more information.\n\n* [cloudflare-pages-plugin-rollbar](https://github.com/hckr-studio/cloudflare-pages-plugin-rollbar)\n\n  The [Rollbar](https://rollbar.com/) Pages Plugin captures and logs all exceptions which occur below it in the execution chain of your [Pages Functions](https://developers.cloudflare.com/pages/functions/). Discover, predict, and resolve errors in real-time.\n\n* [cloudflare-pages-plugin-trpc](https://github.com/toyamarinyon/cloudflare-pages-plugin-trpc)\n\n  Allows developers to quickly create a tRPC server with a Cloudflare Pages Function.\n\n* [pages-plugin-twind](https://github.com/helloimalastair/twind-plugin)\n\n  Automatically injects Tailwind CSS styles into HTML pages after analyzing which classes are used.\n\n</page>\n\n<page>\n---\ntitle: Google Chat  Cloudflare Pages docs\ndescription: The Google Chat Pages Plugin creates a Google Chat bot which can\n  respond to messages. It also includes an API for interacting with Google Chat\n  (for example, for creating messages) without the need for user input. This API\n  is useful for situations such as alerts.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/plugins/google-chat/\n  md: https://developers.cloudflare.com/pages/functions/plugins/google-chat/index.md\n---\n\nThe Google Chat Pages Plugin creates a Google Chat bot which can respond to messages. It also includes an API for interacting with Google Chat (for example, for creating messages) without the need for user input. This API is useful for situations such as alerts.\n\n## Installation\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## Usage",
      "language": "unknown"
    },
    {
      "code": "The Plugin takes a function, which in turn takes an incoming message, and returns a `Promise` of a response message (or `void` if there should not be any response).\n\nThe Plugin only exposes a single route, which is the URL you should set in the Google Cloud Console when creating the bot.\n\n![Google Cloud Console's Connection Settings for the Google Chat API showing 'App URL' selected and 'https://example.com/google-chat' entered into the 'App URL' text input.](https://developers.cloudflare.com/_astro/google-chat.PImk30WB_A5LO1.webp)\n\n### API\n\nThe Google Chat API can be called directly using the `GoogleChatAPI` class:",
      "language": "unknown"
    },
    {
      "code": "We recommend storing your service account's credentials in KV rather than in plain text as above.\n\nThe following functions are available on a `GoogleChatAPI` instance. Each take up to three arguments: an object of path parameters, an object of query parameters, and an object of the request body; as described in the [Google Chat API's documentation](https://developers.google.com/chat/api/reference/rest).\n\n* [`downloadMedia`](https://developers.google.com/chat/api/reference/rest/v1/media/download)\n* [`getSpace`](https://developers.google.com/chat/api/reference/rest/v1/spaces/get)\n* [`listSpaces`](https://developers.google.com/chat/api/reference/rest/v1/spaces/list)\n* [`getMember`](https://developers.google.com/chat/api/reference/rest/v1/spaces.members/get)\n* [`listMembers`](https://developers.google.com/chat/api/reference/rest/v1/spaces.members/list)\n* [`createMessage`](https://developers.google.com/chat/api/reference/rest/v1/spaces.messages/create)\n* [`deleteMessage`](https://developers.google.com/chat/api/reference/rest/v1/spaces.messages/delete)\n* [`getMessage`](https://developers.google.com/chat/api/reference/rest/v1/spaces.messages/get)\n* [`updateMessage`](https://developers.google.com/chat/api/reference/rest/v1/spaces.messages/update)\n* [`getAttachment`](https://developers.google.com/chat/api/reference/rest/v1/spaces.messages.attachments/get)\n\n</page>\n\n<page>\n---\ntitle: GraphQL  Cloudflare Pages docs\ndescription: The GraphQL Pages Plugin creates a GraphQL server which can respond\n  to application/json and application/graphql POST requests. It responds with\n  the GraphQL Playground for GET requests.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/plugins/graphql/\n  md: https://developers.cloudflare.com/pages/functions/plugins/graphql/index.md\n---\n\nThe GraphQL Pages Plugin creates a GraphQL server which can respond to `application/json` and `application/graphql` `POST` requests. It responds with [the GraphQL Playground](https://github.com/graphql/graphql-playground) for `GET` requests.\n\n## Installation\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## Usage",
      "language": "unknown"
    },
    {
      "code": "This Plugin only exposes a single route, so wherever it is mounted is wherever it will be available. In the above example, because it is mounted in `functions/graphql.ts`, the server will be available on `/graphql` of your Pages project.\n\n</page>\n\n<page>\n---\ntitle: hCaptcha  Cloudflare Pages docs\ndescription: The hCaptcha Pages Plugin validates hCaptcha tokens.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/plugins/hcaptcha/\n  md: https://developers.cloudflare.com/pages/functions/plugins/hcaptcha/index.md\n---\n\nThe hCaptcha Pages Plugin validates hCaptcha tokens.\n\n## Installation\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## Usage",
      "language": "unknown"
    },
    {
      "code": "This Plugin only exposes a single route. It will be available wherever it is mounted. In the above example, because it is mounted in `functions/register.ts`, it will validate requests to `/register`. The Plugin is mounted with a single object parameter with the following properties.\n\n[`secret`](https://dashboard.hcaptcha.com/settings) (mandatory) and [`sitekey`](https://dashboard.hcaptcha.com/sites) (optional) can both be found in your hCaptcha dashboard.\n\n`response` and `remoteip` are optional strings. `response` the hCaptcha token to verify (defaults to extracting `h-captcha-response` from a `multipart/form-data` request). `remoteip` should be requester's IP address (defaults to the `CF-Connecting-IP` header of the request).\n\n`onError` is an optional function which takes the Pages Function context object and returns a `Promise` of a `Response`. By default, it will return a human-readable error `Response`.\n\n`data.hCaptcha` will be populated in subsequent Pages Functions (including for the `onError` function) with [the hCaptcha response object](https://docs.hcaptcha.com/#verify-the-user-response-server-side).\n\n</page>\n\n<page>\n---\ntitle: Honeycomb  Cloudflare Pages docs\ndescription: The Honeycomb Pages Plugin automatically sends traces to Honeycomb\n  for analysis and observability.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/plugins/honeycomb/\n  md: https://developers.cloudflare.com/pages/functions/plugins/honeycomb/index.md\n---\n\nThe Honeycomb Pages Plugin automatically sends traces to Honeycomb for analysis and observability.\n\n## Installation\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## Usage\n\nThe following usage example uses environment variables you will need to set in your Pages project settings.",
      "language": "unknown"
    },
    {
      "code": "Alternatively, you can hard-code (not advisable for API key) your settings the following way:",
      "language": "unknown"
    },
    {
      "code": "This Plugin is based on the `@cloudflare/workers-honeycomb-logger` and accepts the same [configuration options](https://github.com/cloudflare/workers-honeycomb-logger#config).\n\nEnsure that you enable the option to **Automatically unpack nested JSON** and set the **Maximum unpacking depth** to **5** in your Honeycomb dataset settings.\n\n![Follow the instructions above to toggle on Automatically unpack nested JSON and set the Maximum unpacking depth option to 5 in the Honeycomb dashboard](https://developers.cloudflare.com/_astro/honeycomb.MQ2Vf1tC_2kKhNs.webp)\n\n### Additional context\n\n`data.honeycomb.tracer` has two methods for attaching additional information about a given trace:\n\n* `data.honeycomb.tracer.log` which takes a single argument, a `String`.\n* `data.honeycomb.tracer.addData` which takes a single argument, an object of arbitrary data.\n\nMore information about these methods can be seen on [`@cloudflare/workers-honeycomb-logger`'s documentation](https://github.com/cloudflare/workers-honeycomb-logger#adding-logs-and-other-data).\n\nFor example, if you wanted to use the `addData` method to attach user information:",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Sentry  Cloudflare Pages docs\ndescription: The Sentry Pages Plugin captures and logs all exceptions which\n  occur below it in the execution chain of your Pages Functions. It is therefore\n  recommended that you install this Plugin at the root of your application in\n  functions/_middleware.ts as the very first Plugin.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/plugins/sentry/\n  md: https://developers.cloudflare.com/pages/functions/plugins/sentry/index.md\n---\n\nNote\n\nSentry now provides official support for Cloudflare Workers and Pages. Refer to the [Sentry documentation](https://docs.sentry.io/platforms/javascript/guides/cloudflare/) for more details.\n\nThe Sentry Pages Plugin captures and logs all exceptions which occur below it in the execution chain of your Pages Functions. It is therefore recommended that you install this Plugin at the root of your application in `functions/_middleware.ts` as the very first Plugin.\n\n## Installation\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## Usage",
      "language": "unknown"
    },
    {
      "code": "The Plugin uses [Toucan](https://github.com/robertcepa/toucan-js). Refer to the Toucan README to [review the options it can take](https://github.com/robertcepa/toucan-js#other-options). `context`, `request`, and `event` are automatically populated and should not be manually configured.\n\nIf your [DSN](https://docs.sentry.io/product/sentry-basics/dsn-explainer/) is held as an environment variable or in KV, you can access it like so:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "### Additional context\n\nIf you need to set additional context for Sentry (for example, user information or additional logs), use the `data.sentry` instance in any Function below the Plugin in the execution chain.\n\nFor example, you can access `data.sentry` and set user information like so:",
      "language": "unknown"
    },
    {
      "code": "Again, the full list of features can be found in [Toucan's documentation](https://github.com/robertcepa/toucan-js#features).\n\n</page>\n\n<page>\n---\ntitle: Static Forms  Cloudflare Pages docs\ndescription: The Static Forms Pages Plugin intercepts all form submissions made\n  which have the data-static-form-name attribute set. This allows you to take\n  action on these form submissions by, for example, saving the submission to KV.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/plugins/static-forms/\n  md: https://developers.cloudflare.com/pages/functions/plugins/static-forms/index.md\n---\n\nThe Static Forms Pages Plugin intercepts all form submissions made which have the `data-static-form-name` attribute set. This allows you to take action on these form submissions by, for example, saving the submission to KV.\n\n## Installation\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## Usage",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "The Plugin takes a single argument, an object with a `respondWith` property. This function takes an object with a `formData` property (the [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) instance) and `name` property (the name value of your `data-static-form-name` attribute). It should return a `Response` or `Promise` of a `Response`. It is in this `respondWith` function that you can take action such as serializing the `formData` and saving it to a KV namespace.\n\nThe `method` and `action` attributes of the HTML form do not need to be set. The Plugin will automatically override them to allow it to intercept the submission.\n\n</page>\n\n<page>\n---\ntitle: Stytch  Cloudflare Pages docs\ndescription: The Stytch Pages Plugin is a middleware which validates all\n  requests and their session_token.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/plugins/stytch/\n  md: https://developers.cloudflare.com/pages/functions/plugins/stytch/index.md\n---\n\nThe Stytch Pages Plugin is a middleware which validates all requests and their `session_token`.\n\n## Installation\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## Usage",
      "language": "unknown"
    },
    {
      "code": "We recommend storing your secret in KV rather than in plain text as above.\n\nThe Stytch Plugin takes a single argument, an object with several properties. `project_id` and `secret` are mandatory strings and can be found in [Stytch's dashboard](https://stytch.com/dashboard/api-keys). `env` is also a mandatory string, and can be populated with the `envs.test` or `envs.live` variables in the API. By default, the Plugin validates a `session_token` cookie of the incoming request, but you can also optionally pass in a `session_token` or `session_jwt` string yourself if you are using some other mechanism to identify user sessions. Finally, you can also pass in a `session_duration_minutes` in order to extend the lifetime of the session. More information on these parameters can be found in [Stytch's documentation](https://stytch.com/docs/api/session-auth).\n\nThe validated session response containing user information is made available to subsequent Pages Functions on `data.stytch.session`.\n\n</page>\n\n<page>\n---\ntitle: Turnstile  Cloudflare Pages docs\ndescription: Turnstile is Cloudflare's smart CAPTCHA alternative.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/plugins/turnstile/\n  md: https://developers.cloudflare.com/pages/functions/plugins/turnstile/index.md\n---\n\n[Turnstile](https://developers.cloudflare.com/turnstile/) is Cloudflare's smart CAPTCHA alternative.\n\nThe Turnstile Pages Plugin validates Cloudflare Turnstile tokens.\n\n## Installation\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## Usage",
      "language": "unknown"
    },
    {
      "code": "This Plugin only exposes a single route to verify an incoming Turnstile response in a `POST` as the `cf-turnstile-response` parameter. It will be available wherever it is mounted. In the example above, it is mounted in `functions/register.ts`. As a result, it will validate requests to `/register`.\n\n## Properties\n\nThe Plugin is mounted with a single object parameter with the following properties:\n\n[`secret`](https://dash.cloudflare.com/login) is mandatory and can both be found in your Turnstile dashboard.\n\n`response` and `remoteip` are optional strings. `response` is the Turnstile token to verify. If it is not provided, the plugin will default to extracting `cf-turnstile-response` value from a `multipart/form-data` request). `remoteip` is the requester's IP address. This defaults to the `CF-Connecting-IP` header of the request.\n\n`onError` is an optional function which takes the Pages Function context object and returns a `Promise` of a `Response`. By default, it will return a human-readable error `Response`.\n\n`context.data.turnstile` will be populated in subsequent Pages Functions (including for the `onError` function) with [the Turnstile Siteverify response object](https://developers.cloudflare.com/turnstile/get-started/server-side-validation/).\n\n</page>\n\n<page>\n---\ntitle: vercel/og  Cloudflare Pages docs\ndescription: The @vercel/og Pages Plugin is a middleware which renders social\n  images for webpages. It also includes an API to create arbitrary images.\nlastUpdated: 2025-09-15T21:45:20.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pages/functions/plugins/vercel-og/\n  md: https://developers.cloudflare.com/pages/functions/plugins/vercel-og/index.md\n---\n\nThe `@vercel/og` Pages Plugin is a middleware which renders social images for webpages. It also includes an API to create arbitrary images.\n\nAs the name suggests, it is powered by [`@vercel/og`](https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation). This plugin and its underlying [Satori](https://github.com/vercel/satori) library was created by the Vercel team.\n\n## Install\n\nTo install the `@vercel/og` Pages Plugin, run:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## Use",
      "language": "unknown"
    },
    {
      "code": "The Plugin takes an object with six properties:\n\n* `imagePathSuffix`: the path suffix to make the generate image available at. For example, if you mount this Plugin at `functions/blog/_middleware.ts`, set the `imagePathSuffix` as `/social-image.png` and have a `/blog/hello-world` page, the image will be available at `/blog/hello-world/social-image.png`.\n\n* `component`: the React component that will be used to render the image. By default, the React component is given a `pathname` property equal to the pathname of the underlying webpage (for example, `/blog/hello-world`), but more dynamic properties can be provided with the `extractors` option.\n\n* `extractors`: an optional object with two optional properties: `on` and `onDocument`. These properties can be set to a function which takes an object and returns a [`HTMLRewriter` element handler](https://developers.cloudflare.com/workers/runtime-apis/html-rewriter/#element-handlers) or [document handler](https://developers.cloudflare.com/workers/runtime-apis/html-rewriter/#document-handlers) respectively. The object parameter can be mutated in order to provide the React component with additional properties. In the example above, you will use an element handler to extract the `og:title` meta tag from the webpage and pass that to the React component as the `ogTitle` property. This is the primary mechanism you will use to create dynamic images which use values from the underlying webpage.\n\n* `options`: [an optional object which is given directly to the `@vercel/og` library](https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation/og-image-api).\n\n* `onError`: an optional function which returns a `Response` or a promise of a `Response`. This function is called when a request is made to the `imagePathSuffix` and `extractors` are provided but the underlying webpage is not valid HTML. Defaults to returning a `404` response.\n\n* `autoInject`: an optional object with an optional property: `openGraph`. If set to `true`, the Plugin will automatically set the `og:image`, `og:image:height` and `og:image:width` meta tags on the underlying webpage.\n\n### Generate arbitrary images\n\nUse this Plugin's API to generate arbitrary images, not just as middleware.\n\nFor example, the below code will generate an image saying \"Hello, world!\" which is available at `/greet`.",
      "language": "unknown"
    },
    {
      "code": "This is the same API that the underlying [`@vercel/og` library](https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation/og-image-api) offers.\n\n</page>\n\n<page>\n---\ntitle: R2  Cloudflare Pipelines Docs\ndescription: Write data as JSON or Parquet files to R2 object storage\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sinks/available-sinks/r2/\n  md: https://developers.cloudflare.com/pipelines/sinks/available-sinks/r2/index.md\n---\n\nR2 sinks write processed data from pipelines as raw files to [R2 object storage](https://developers.cloudflare.com/r2/). They currently support writing to JSON and Parquet formats.\n\nTo create an R2 sink, run the [`pipelines sinks create`](https://developers.cloudflare.com/workers/wrangler/commands/#pipelines-sinks-create) command and specify the sink type and target [bucket](https://developers.cloudflare.com/r2/buckets/):",
      "language": "unknown"
    },
    {
      "code": "## Format options\n\nR2 sinks support two output formats:\n\n### JSON format\n\nWrite data as newline-delimited JSON files:",
      "language": "unknown"
    },
    {
      "code": "### Parquet format\n\nWrite data as Parquet files for better query performance and compression:",
      "language": "unknown"
    },
    {
      "code": "**Compression options for Parquet:**\n\n* `zstd` (default) - Best compression ratio\n* `snappy` - Fastest compression\n* `gzip` - Good compression, widely supported\n* `lz4` - Fast compression with reasonable ratio\n* `uncompressed` - No compression\n\n**Row group size:** [Row groups](https://parquet.apache.org/docs/file-format/configurations/) are sets of rows in a Parquet file that are stored together, affecting memory usage and query performance. Configure the target row group size in MB:",
      "language": "unknown"
    },
    {
      "code": "## File organization\n\nFiles are written with UUID names within the partitioned directory structure. For example, with path `analytics` and default partitioning:",
      "language": "unknown"
    },
    {
      "code": "### Path\n\nSet a base directory in your bucket where files will be written:",
      "language": "unknown"
    },
    {
      "code": "### Partitioning\n\nR2 sinks automatically partition files by time using a configurable pattern. The default pattern is `year=%Y/month=%m/day=%d` (Hive-style partitioning).",
      "language": "unknown"
    },
    {
      "code": "For available format specifiers, refer to [strftime documentation](https://docs.rs/chrono/latest/chrono/format/strftime/index.html).\n\n## Batching and rolling policy\n\nControl when files are written to R2. Configure based on your needs:\n\n* **Lower values**: More frequent writes, smaller files, lower latency\n* **Higher values**: Less frequent writes, larger files, better query performance\n\n### Roll interval\n\nSet how often files are written (default: 300 seconds):",
      "language": "unknown"
    },
    {
      "code": "### Roll size\n\nSet maximum file size in MB before creating a new file:",
      "language": "unknown"
    },
    {
      "code": "## Authentication\n\nR2 sinks require an API credentials (Access Key ID and Secret Access Key) with [Object Read & Write permissions](https://developers.cloudflare.com/r2/api/tokens/#permissions) to write data to your bucket.",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: R2 Data Catalog  Cloudflare Pipelines Docs\ndescription: Write data as Apache Iceberg tables to R2 Data Catalog\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sinks/available-sinks/r2-data-catalog/\n  md: https://developers.cloudflare.com/pipelines/sinks/available-sinks/r2-data-catalog/index.md\n---\n\nR2 Data Catalog sinks write processed data from pipelines as [Apache Iceberg](https://iceberg.apache.org/) tables to [R2 Data Catalog](https://developers.cloudflare.com/r2/data-catalog/). Iceberg tables provide ACID transactions, schema evolution, and time travel capabilities for analytics workloads.\n\nTo create an R2 Data Catalog sink, run the [`pipelines sinks create`](https://developers.cloudflare.com/workers/wrangler/commands/#pipelines-sinks-create) command and specify the sink type, target bucket, namespace, and table name:",
      "language": "unknown"
    },
    {
      "code": "The sink will create the specified namespace and table if they do not exist. Sinks cannot be created for existing Iceberg tables.\n\n## Format\n\nR2 Data Catalog sinks only support Parquet format. JSON format is not supported for Iceberg tables.\n\n### Compression options\n\nConfigure Parquet compression for optimal storage and query performance:",
      "language": "unknown"
    },
    {
      "code": "**Available compression options:**\n\n* `zstd` (default) - Best compression ratio\n* `snappy` - Fastest compression\n* `gzip` - Good compression, widely supported\n* `lz4` - Fast compression with reasonable ratio\n* `uncompressed` - No compression\n\n### Row group size\n\n[Row groups](https://parquet.apache.org/docs/file-format/configurations/) are sets of rows in a Parquet file that are stored together, affecting memory usage and query performance. Configure the target row group size in MB:",
      "language": "unknown"
    },
    {
      "code": "## Batching and rolling policy\n\nControl when data is written to Iceberg tables. Configure based on your needs:\n\n* **Lower values**: More frequent writes, smaller files, lower latency\n* **Higher values**: Less frequent writes, larger files, better query performance\n\n### Roll interval\n\nSet how often files are written (default: 300 seconds):",
      "language": "unknown"
    },
    {
      "code": "### Roll size\n\nSet maximum file size in MB before creating a new file:",
      "language": "unknown"
    },
    {
      "code": "## Authentication\n\nR2 Data Catalog sinks require an API token with [R2 Admin Read & Write permissions](https://developers.cloudflare.com/r2/data-catalog/manage-catalogs/#create-api-token-in-the-dashboard). This permission grants the sink access to both R2 Data Catalog and R2 storage.",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Array functions  Cloudflare Pipelines Docs\ndescription: Scalar functions for manipulating arrays\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/array/\n  md: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/array/index.md\n---\n\n*Cloudflare Pipelines scalar function implementations are based on [Apache DataFusion](https://arrow.apache.org/datafusion/) (via [Arroyo](https://www.arroyo.dev/)) and these docs are derived from the DataFusion function reference.*\n\n## `array_append`\n\nAppends an element to the end of an array.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **element**: Element to append to the array.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* array\\_push\\_back\n* list\\_append\n* list\\_push\\_back\n\n## `array_sort`\n\nSort array.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **desc**: Whether to sort in descending order(`ASC` or `DESC`).\n* **nulls\\_first**: Whether to sort nulls first(`NULLS FIRST` or `NULLS LAST`).\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_sort\n\n## `array_resize`\n\nResizes the list to contain size elements. Initializes new elements with value or empty if value is not set.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **size**: New size of given array.\n* **value**: Defines new elements' value or empty if value is not set.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_resize\n\n## `array_cat`\n\n*Alias of [array\\_concat](#array_concat).*\n\n## `array_concat`\n\nConcatenates arrays.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression to concatenate. Can be a constant, column, or function, and any combination of array operators.\n* **array\\_n**: Subsequent array column or literal array to concatenate.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* array\\_cat\n* list\\_cat\n* list\\_concat\n\n## `array_contains`\n\n*Alias of [array\\_has](#array_has).*\n\n## `array_has`\n\nReturns true if the array contains the element",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **element**: Scalar or Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Aliases**\n\n* list\\_has\n\n## `array_has_all`\n\nReturns true if all elements of sub-array exist in array",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **sub-array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Aliases**\n\n* list\\_has\\_all\n\n## `array_has_any`\n\nReturns true if any elements exist in both arrays",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **sub-array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Aliases**\n\n* list\\_has\\_any\n\n## `array_dims`\n\nReturns an array of the array's dimensions.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_dims\n\n## `array_distinct`\n\nReturns distinct values from the array after removing duplicates.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_distinct\n\n## `array_element`\n\nExtracts the element with the index n from the array.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **index**: Index to extract the element from the array.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* array\\_extract\n* list\\_element\n* list\\_extract\n\n## `array_extract`\n\n*Alias of [array\\_element](#array_element).*\n\n## `array_fill`\n\nReturns an array filled with copies of the given value.\n\nDEPRECATED: use `array_repeat` instead!",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **element**: Element to copy to the array.\n\n## `flatten`\n\nConverts an array of arrays to a flat array\n\n* Applies to any depth of nested arrays\n* Does not change arrays that are already flat\n\nThe flattened array contains all the elements from all source arrays.\n\n**Arguments**\n\n* **array**: Array expression Can be a constant, column, or function, and any combination of array operators.",
      "language": "unknown"
    },
    {
      "code": "## `array_indexof`\n\n*Alias of [array\\_position](#array_position).*\n\n## `array_intersect`\n\nReturns an array of elements in the intersection of array1 and array2.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array1**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **array2**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "***\n\n**Aliases**\n\n* list\\_intersect\n\n## `array_join`\n\n*Alias of [array\\_to\\_string](#array_to_string).*\n\n## `array_length`\n\nReturns the length of the array dimension.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **dimension**: Array dimension.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_length\n\n## `array_ndims`\n\nReturns the number of dimensions of the array.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_ndims\n\n## `array_prepend`\n\nPrepends an element to the beginning of an array.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **element**: Element to prepend to the array.\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* array\\_push\\_front\n* list\\_prepend\n* list\\_push\\_front\n\n## `array_pop_front`\n\nReturns the array without the first element.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_pop\\_front\n\n## `array_pop_back`\n\nReturns the array without the last element.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_pop\\_back\n\n## `array_position`\n\nReturns the position of the first occurrence of the specified element in the array.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **element**: Element to search for position in the array.\n* **index**: Index at which to start searching.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* array\\_indexof\n* list\\_indexof\n* list\\_position\n\n## `array_positions`\n\nSearches for an element in the array, returns all occurrences.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **element**: Element to search for positions in the array.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_positions\n\n## `array_push_back`\n\n*Alias of [array\\_append](#array_append).*\n\n## `array_push_front`\n\n*Alias of [array\\_prepend](#array_prepend).*\n\n## `array_repeat`\n\nReturns an array containing element `count` times.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **element**: Element expression. Can be a constant, column, or function, and any combination of array operators.\n* **count**: Value of how many times to repeat the element.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_repeat\n\n## `array_remove`\n\nRemoves the first element from the array equal to the given value.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **element**: Element to be removed from the array.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_remove\n\n## `array_remove_n`\n\nRemoves the first `max` elements from the array equal to the given value.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **element**: Element to be removed from the array.\n* **max**: Number of first occurrences to remove.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_remove\\_n\n\n## `array_remove_all`\n\nRemoves all elements from the array equal to the given value.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **element**: Element to be removed from the array.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_remove\\_all\n\n## `array_replace`\n\nReplaces the first occurrence of the specified element with another specified element.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **from**: Initial element.\n* **to**: Final element.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_replace\n\n## `array_replace_n`\n\nReplaces the first `max` occurrences of the specified element with another specified element.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **from**: Initial element.\n* **to**: Final element.\n* **max**: Number of first occurrences to replace.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_replace\\_n\n\n## `array_replace_all`\n\nReplaces all occurrences of the specified element with another specified element.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **from**: Initial element.\n* **to**: Final element.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_replace\\_all\n\n## `array_reverse`\n\nReturns the array with the order of the elements reversed.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_reverse\n\n## `array_slice`\n\nReturns a slice of the array based on 1-indexed start and end positions.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **begin**: Index of the first element. If negative, it counts backward from the end of the array.\n* **end**: Index of the last element. If negative, it counts backward from the end of the array.\n* **stride**: Stride of the array slice. The default is 1.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* list\\_slice\n\n## `array_to_string`\n\nConverts each element to its text representation.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **delimiter**: Array element separator.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* array\\_join\n* list\\_join\n* list\\_to\\_string\n\n## `array_union`\n\nReturns an array of elements that are present in both arrays (all elements from both arrays) with out duplicates.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array1**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **array2**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "***\n\n**Aliases**\n\n* list\\_union\n\n## `array_except`\n\nReturns an array of the elements that appear in the first array but not in the second.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array1**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **array2**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "***\n\n**Aliases**\n\n* list\\_except\n\n## `cardinality`\n\nReturns the total number of elements in the array.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "## `empty`\n\nReturns 1 for an empty array or 0 for a non-empty array.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* array\\_empty,\n* list\\_empty\n\n## `generate_series`\n\nSimilar to the range function, but it includes the upper bound.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **start**: start of the range\n* **end**: end of the range (included)\n* **step**: increase by step (can not be 0)\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "## `list_append`\n\n*Alias of [array\\_append](#array_append).*\n\n## `list_cat`\n\n*Alias of [array\\_concat](#array_concat).*\n\n## `list_concat`\n\n*Alias of [array\\_concat](#array_concat).*\n\n## `list_dims`\n\n*Alias of [array\\_dims](#array_dims).*\n\n## `list_distinct`\n\n*Alias of [array\\_dims](#array_distinct).*\n\n## `list_element`\n\n*Alias of [array\\_element](#array_element).*\n\n## `list_empty`\n\n*Alias of [empty](#empty).*\n\n## `list_except`\n\n*Alias of [array\\_element](#array_except).*\n\n## `list_extract`\n\n*Alias of [array\\_element](#array_element).*\n\n## `list_has`\n\n*Alias of [array\\_has](#array_has).*\n\n## `list_has_all`\n\n*Alias of [array\\_has\\_all](#array_has_all).*\n\n## `list_has_any`\n\n*Alias of [array\\_has\\_any](#array_has_any).*\n\n## `list_indexof`\n\n*Alias of [array\\_position](#array_position).*\n\n## `list_intersect`\n\n*Alias of [array\\_position](#array_intersect).*\n\n## `list_join`\n\n*Alias of [array\\_to\\_string](#array_to_string).*\n\n## `list_length`\n\n*Alias of [array\\_length](#array_length).*\n\n## `list_ndims`\n\n*Alias of [array\\_ndims](#array_ndims).*\n\n## `list_prepend`\n\n*Alias of [array\\_prepend](#array_prepend).*\n\n## `list_pop_back`\n\n*Alias of [array\\_pop\\_back](#array_pop_back).*\n\n## `list_pop_front`\n\n*Alias of [array\\_pop\\_front](#array_pop_front).*\n\n## `list_position`\n\n*Alias of [array\\_position](#array_position).*\n\n## `list_positions`\n\n*Alias of [array\\_positions](#array_positions).*\n\n## `list_push_back`\n\n*Alias of [array\\_append](#array_append).*\n\n## `list_push_front`\n\n*Alias of [array\\_prepend](#array_prepend).*\n\n## `list_repeat`\n\n*Alias of [array\\_repeat](#array_repeat).*\n\n## `list_resize`\n\n*Alias of [array\\_resize](#array_resize).*\n\n## `list_remove`\n\n*Alias of [array\\_remove](#array_remove).*\n\n## `list_remove_n`\n\n*Alias of [array\\_remove\\_n](#array_remove_n).*\n\n## `list_remove_all`\n\n*Alias of [array\\_remove\\_all](#array_remove_all).*\n\n## `list_replace`\n\n*Alias of [array\\_replace](#array_replace).*\n\n## `list_replace_n`\n\n*Alias of [array\\_replace\\_n](#array_replace_n).*\n\n## `list_replace_all`\n\n*Alias of [array\\_replace\\_all](#array_replace_all).*\n\n## `list_reverse`\n\n*Alias of [array\\_reverse](#array_reverse).*\n\n## `list_slice`\n\n*Alias of [array\\_slice](#array_slice).*\n\n## `list_sort`\n\n*Alias of [array\\_sort](#array_sort).*\n\n## `list_to_string`\n\n*Alias of [array\\_to\\_string](#array_to_string).*\n\n## `list_union`\n\n*Alias of [array\\_union](#array_union).*\n\n## `make_array`\n\nReturns an Arrow array using the specified input expressions.",
      "language": "unknown"
    },
    {
      "code": "## `array_empty`\n\n*Alias of [empty](#empty).*\n\n**Arguments**\n\n* **expression\\_n**: Expression to include in the output array. Can be a constant, column, or function, and any combination of arithmetic or string operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* make\\_list\n\n## `make_list`\n\n*Alias of [make\\_array](#make_array).*\n\n## `string_to_array`\n\nSplits a string in to an array of substrings based on a delimiter. Any substrings matching the optional `null_str` argument are replaced with NULL. `SELECT string_to_array('abc##def', '##')` or `SELECT string_to_array('abc def', ' ', 'def')`",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to split.\n* **delimiter**: Delimiter string to split on.\n* **null\\_str**: Substring values to be replaced with `NULL`\n\n**Aliases**\n\n* string\\_to\\_list\n\n## `string_to_list`\n\n*Alias of [string\\_to\\_array](#string_to_array).*\n\n## `trim_array`\n\nRemoves the last n elements from the array.\n\nDEPRECATED: use `array_slice` instead!",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **array**: Array expression. Can be a constant, column, or function, and any combination of array operators.\n* **n**: Element to trim the array.\n\n## `range`\n\nReturns an Arrow array between start and stop with step. `SELECT range(2, 10, 3) -> [2, 5, 8]` or `SELECT range(DATE '1992-09-01', DATE '1993-03-01', INTERVAL '1' MONTH);`\n\nThe range start..end contains all values with start <= x < end. It is empty if start >= end.\n\nStep can not be 0 (then the range will be nonsense.).\n\nNote that when the required range is a number, it accepts (stop), (start, stop), and (start, stop, step) as parameters, but when the required range is a date, it must be 3 non-NULL parameters. For example,",
      "language": "unknown"
    },
    {
      "code": "are allowed in number ranges\n\nbut in date ranges, only",
      "language": "unknown"
    },
    {
      "code": "is allowed, and",
      "language": "unknown"
    },
    {
      "code": "are not allowed\n\n**Arguments**\n\n* **start**: start of the range\n* **end**: end of the range (not included)\n* **step**: increase by step (can not be 0)\n\n**Aliases**\n\n* generate\\_series\n\n</page>\n\n<page>\n---\ntitle: Binary string functions  Cloudflare Pipelines Docs\ndescription: Scalar functions for manipulating binary strings\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/binary-string/\n  md: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/binary-string/index.md\n---\n\n*Cloudflare Pipelines scalar function implementations are based on [Apache DataFusion](https://arrow.apache.org/datafusion/) (via [Arroyo](https://www.arroyo.dev/)) and these docs are derived from the DataFusion function reference.*\n\n## `encode`\n\nEncode binary data into a textual representation.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression containing string or binary data\n\n* **format**: Supported formats are: `base64`, `hex`\n\n**Related functions**: [decode](#decode)\n\n## `decode`\n\nDecode binary data from textual representation in string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression containing encoded string data\n\n* **format**: Same arguments as [encode](#encode)\n\n**Related functions**: [encode](#encode)\n\n</page>\n\n<page>\n---\ntitle: Conditional functions  Cloudflare Pipelines Docs\ndescription: Scalar functions to implement conditional logic\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/conditional/\n  md: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/conditional/index.md\n---\n\n*Cloudflare Pipelines scalar function implementations are based on [Apache DataFusion](https://arrow.apache.org/datafusion/) (via [Arroyo](https://www.arroyo.dev/)) and these docs are derived from the DataFusion function reference.*\n\n## `coalesce`\n\nReturns the first of its arguments that is not *null*. Returns *null* if all arguments are *null*. This function is often used to substitute a default value for *null* values.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression1, expression\\_n**: Expression to use if previous expressions are *null*. Can be a constant, column, or function, and any combination of arithmetic operators. Pass as many expression arguments as necessary.\n\n## `nullif`\n\nReturns *null* if *expression1* equals *expression2*; otherwise it returns *expression1*. This can be used to perform the inverse operation of [`coalesce`](#coalesce).",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression1**: Expression to compare and return if equal to expression2. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **expression2**: Expression to compare to expression1. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `nvl`\n\nReturns *expression2* if *expression1* is NULL; otherwise it returns *expression1*.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression1**: return if expression1 not is NULL. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **expression2**: return if expression1 is NULL. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `nvl2`\n\nReturns *expression2* if *expression1* is not NULL; otherwise it returns *expression3*.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression1**: conditional expression. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **expression2**: return if expression1 is not NULL. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **expression3**: return if expression1 is NULL. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `ifnull`\n\n*Alias of [nvl](#nvl).*\n\n</page>\n\n<page>\n---\ntitle: Hashing functions  Cloudflare Pipelines Docs\ndescription: Scalar functions for hashing values\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/hashing/\n  md: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/hashing/index.md\n---\n\n*Cloudflare Pipelines scalar function implementations are based on [Apache DataFusion](https://arrow.apache.org/datafusion/) (via [Arroyo](https://www.arroyo.dev/)) and these docs are derived from the DataFusion function reference.*\n\n## `digest`\n\nComputes the binary hash of an expression using the specified algorithm.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n* **algorithm**: String expression specifying algorithm to use. Must be one of:\n\n  * md5\n  * sha224\n  * sha256\n  * sha384\n  * sha512\n  * blake2s\n  * blake2b\n  * blake3\n\n## `md5`\n\nComputes an MD5 128-bit checksum for a string expression.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n## `sha224`\n\nComputes the SHA-224 hash of a binary string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n## `sha256`\n\nComputes the SHA-256 hash of a binary string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n## `sha384`\n\nComputes the SHA-384 hash of a binary string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n## `sha512`\n\nComputes the SHA-512 hash of a binary string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n</page>\n\n<page>\n---\ntitle: JSON functions  Cloudflare Pipelines Docs\ndescription: Scalar functions for manipulating JSON\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/json/\n  md: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/json/index.md\n---\n\nCloudflare Pipelines provides two set of JSON functions, the first based on PostgreSQL's SQL functions and syntax, and the second based on the [JSONPath](https://jsonpath.com/) standard.\n\n## SQL functions\n\nThe SQL functions provide basic JSON parsing functions similar to those found in PostgreSQL.\n\n### json\\_contains\n\nReturns `true` if the JSON string contains the specified key(s).",
      "language": "unknown"
    },
    {
      "code": "Also available via the `?` operator:",
      "language": "unknown"
    },
    {
      "code": "### json\\_get\n\nRetrieves the value from a JSON string by the specified path (keys). Returns the value as its native type (string, int, etc.).",
      "language": "unknown"
    },
    {
      "code": "Also available via the `->` operator:",
      "language": "unknown"
    },
    {
      "code": "Various permutations of `json_get` functions are available for retrieving values as a specific type, or you can use SQL type annotations:",
      "language": "unknown"
    },
    {
      "code": "### json\\_get\\_str\n\nRetrieves a string value from a JSON string by the specified path. Returns an empty string if the value does not exist or is not a string.",
      "language": "unknown"
    },
    {
      "code": "### json\\_get\\_int\n\nRetrieves an integer value from a JSON string by the specified path. Returns `0` if the value does not exist or is not an integer.",
      "language": "unknown"
    },
    {
      "code": "### json\\_get\\_float\n\nRetrieves a float value from a JSON string by the specified path. Returns `0.0` if the value does not exist or is not a float.",
      "language": "unknown"
    },
    {
      "code": "### json\\_get\\_bool\n\nRetrieves a boolean value from a JSON string by the specified path. Returns `false` if the value does not exist or is not a boolean.",
      "language": "unknown"
    },
    {
      "code": "### json\\_get\\_json\n\nRetrieves a nested JSON string from a JSON string by the specified path. The value is returned as raw JSON.",
      "language": "unknown"
    },
    {
      "code": "### json\\_as\\_text\n\nRetrieves any value from a JSON string by the specified path and returns it as a string, regardless of the original type.",
      "language": "unknown"
    },
    {
      "code": "Also available via the `->>` operator:",
      "language": "unknown"
    },
    {
      "code": "### json\\_length\n\nReturns the length of a JSON object or array at the specified path. Returns `0` if the path does not exist or is not an object/array.",
      "language": "unknown"
    },
    {
      "code": "## Json path functions\n\nJSON functions provide basic json parsing functions using [JsonPath](https://goessner.net/articles/JsonPath/), an evolving standard for querying JSON objects.\n\n### extract\\_json\n\nReturns the JSON elements in the first argument that match the JsonPath in the second argument. The returned value is an array of json strings.",
      "language": "unknown"
    },
    {
      "code": "### extract\\_json\\_string\n\nReturns an unescaped String for the first item matching the JsonPath, if it is a string.",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Math functions  Cloudflare Pipelines Docs\ndescription: Scalar functions for mathematical operations\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/math/\n  md: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/math/index.md\n---\n\n*Cloudflare Pipelines scalar function implementations are based on [Apache DataFusion](https://arrow.apache.org/datafusion/) (via [Arroyo](https://www.arroyo.dev/)) and these docs are derived from the DataFusion function reference.*\n\n## `abs`\n\nReturns the absolute value of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `acos`\n\nReturns the arc cosine or inverse cosine of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `acosh`\n\nReturns the area hyperbolic cosine or inverse hyperbolic cosine of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `asin`\n\nReturns the arc sine or inverse sine of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `asinh`\n\nReturns the area hyperbolic sine or inverse hyperbolic sine of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `atan`\n\nReturns the arc tangent or inverse tangent of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `atanh`\n\nReturns the area hyperbolic tangent or inverse hyperbolic tangent of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `atan2`\n\nReturns the arc tangent or inverse tangent of `expression_y / expression_x`.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression\\_y**: First numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **expression\\_x**: Second numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `cbrt`\n\nReturns the cube root of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `ceil`\n\nReturns the nearest integer greater than or equal to a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `cos`\n\nReturns the cosine of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `cosh`\n\nReturns the hyperbolic cosine of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `degrees`\n\nConverts radians to degrees.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `exp`\n\nReturns the base-e exponential of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to use as the exponent. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `factorial`\n\nFactorial. Returns 1 if value is less than 2.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `floor`\n\nReturns the nearest integer less than or equal to a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `gcd`\n\nReturns the greatest common divisor of `expression_x` and `expression_y`. Returns 0 if both inputs are zero.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression\\_x**: First numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **expression\\_y**: Second numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `isnan`\n\nReturns true if a given number is +NaN or -NaN otherwise returns false.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `iszero`\n\nReturns true if a given number is +0.0 or -0.0 otherwise returns false.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `lcm`\n\nReturns the least common multiple of `expression_x` and `expression_y`. Returns 0 if either input is zero.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression\\_x**: First numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **expression\\_y**: Second numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `ln`\n\nReturns the natural logarithm of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `log`\n\nReturns the base-x logarithm of a number. Can either provide a specified base, or if omitted then takes the base-10 of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **base**: Base numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `log10`\n\nReturns the base-10 logarithm of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `log2`\n\nReturns the base-2 logarithm of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `nanvl`\n\nReturns the first argument if it's not *NaN*. Returns the second argument otherwise.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression\\_x**: Numeric expression to return if it's not *NaN*. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **expression\\_y**: Numeric expression to return if the first expression is *NaN*. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `pi`\n\nReturns an approximate value of .",
      "language": "unknown"
    },
    {
      "code": "## `power`\n\nReturns a base expression raised to the power of an exponent.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **base**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **exponent**: Exponent numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n**Aliases**\n\n* pow\n\n## `pow`\n\n*Alias of [power](#power).*\n\n## `radians`\n\nConverts degrees to radians.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `random`\n\nReturns a random float value in the range \\[0, 1). The random seed is unique to each row.",
      "language": "unknown"
    },
    {
      "code": "## `round`\n\nRounds a number to the nearest integer.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **decimal\\_places**: Optional. The number of decimal places to round to. Defaults to 0.\n\n## `signum`\n\nReturns the sign of a number. Negative numbers return `-1`. Zero and positive numbers return `1`.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `sin`\n\nReturns the sine of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `sinh`\n\nReturns the hyperbolic sine of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `sqrt`\n\nReturns the square root of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `tan`\n\nReturns the tangent of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `tanh`\n\nReturns the hyperbolic tangent of a number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `trunc`\n\nTruncates a number to a whole number or truncated to the specified decimal places.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **numeric\\_expression**: Numeric expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n* **decimal\\_places**: Optional. The number of decimal places to truncate to. Defaults to 0 (truncate to a whole number). If `decimal_places` is a positive integer, truncates digits to the right of the decimal point. If `decimal_places` is a negative integer, replaces digits to the left of the decimal point with `0`.\n\n</page>\n\n<page>\n---\ntitle: Other functions  Cloudflare Pipelines Docs\ndescription: Miscellaneous scalar functions\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/other/\n  md: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/other/index.md\n---\n\n*Cloudflare Pipelines scalar function implementations are based on [Apache DataFusion](https://arrow.apache.org/datafusion/) (via [Arroyo](https://www.arroyo.dev/)) and these docs are derived from the DataFusion function reference.*\n\n## `arrow_cast`\n\nCasts a value to a specific Arrow data type:",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression to cast. Can be a constant, column, or function, and any combination of arithmetic or string operators.\n* **datatype**: [Arrow data type](https://docs.rs/arrow/latest/arrow/datatypes/enum.DataType.html) name to cast to, as a string. The format is the same as that returned by \\[`arrow_typeof`]\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "## `arrow_typeof`\n\nReturns the name of the underlying [Arrow data type](https://docs.rs/arrow/latest/arrow/datatypes/enum.DataType.html) of the expression:",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression to evaluate. Can be a constant, column, or function, and any combination of arithmetic or string operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Regex functions  Cloudflare Pipelines Docs\ndescription: Scalar functions for regular expressions\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/regex/\n  md: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/regex/index.md\n---\n\n*Cloudflare Pipelines scalar function implementations are based on [Apache DataFusion](https://arrow.apache.org/datafusion/) (via [Arroyo](https://www.arroyo.dev/)) and these docs are derived from the DataFusion function reference.*\n\nCloudflare Pipelines uses a [PCRE-like](https://en.wikibooks.org/wiki/Regular_Expressions/Perl-Compatible_Regular_Expressions) regular expression [syntax](https://docs.rs/regex/latest/regex/#syntax) (minus support for several features including look-around and backreferences).\n\n## `regexp_like`\n\nReturns true if a [regular expression](https://docs.rs/regex/latest/regex/#syntax) has at least one match in a string, false otherwise.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n* **regexp**: Regular expression to test against the string expression. Can be a constant, column, or function.\n\n* **flags**: Optional regular expression flags that control the behavior of the regular expression. The following flags are supported:\n\n  * **i**: case-insensitive: letters match both upper and lower case\n  * **m**: multi-line mode: ^ and $ match begin/end of line\n  * **s**: allow . to match \\n\n  * **R**: enables CRLF mode: when multi-line mode is enabled, \\r\\n is used\n  * **U**: swap the meaning of x\\* and x\\*?\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "Additional examples can be found [here](https://github.com/apache/datafusion/blob/main/datafusion-examples/examples/regexp.rs)\n\n## `regexp_match`\n\nReturns a list of [regular expression](https://docs.rs/regex/latest/regex/#syntax) matches in a string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n* **regexp**: Regular expression to match against. Can be a constant, column, or function.\n\n* **flags**: Optional regular expression flags that control the behavior of the regular expression. The following flags are supported:\n\n  * **i**: case-insensitive: letters match both upper and lower case\n  * **m**: multi-line mode: ^ and $ match begin/end of line\n  * **s**: allow . to match \\n\n  * **R**: enables CRLF mode: when multi-line mode is enabled, \\r\\n is used\n  * **U**: swap the meaning of x\\* and x\\*?\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "Additional examples can be found [here](https://github.com/apache/datafusion/blob/main/datafusion-examples/examples/regexp.rs)\n\n## `regexp_replace`\n\nReplaces substrings in a string that match a [regular expression](https://docs.rs/regex/latest/regex/#syntax).",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n* **regexp**: Regular expression to match against. Can be a constant, column, or function.\n\n* **replacement**: Replacement string expression. Can be a constant, column, or function, and any combination of string operators.\n\n* **flags**: Optional regular expression flags that control the behavior of the regular expression. The following flags are supported:\n\n  * **g**: (global) Search globally and don't return after the first match\n  * **i**: case-insensitive: letters match both upper and lower case\n  * **m**: multi-line mode: ^ and $ match begin/end of line\n  * **s**: allow . to match \\n\n  * **R**: enables CRLF mode: when multi-line mode is enabled, \\r\\n is used\n  * **U**: swap the meaning of x\\* and x\\*?\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "Additional examples can be found [here](https://github.com/apache/datafusion/blob/main/datafusion-examples/examples/regexp.rs)\n\n## `position`\n\nReturns the position of `substr` in `origstr` (counting from 1). If `substr` does not appear in `origstr`, return 0.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **substr**: The pattern string.\n* **origstr**: The model string.\n\n</page>\n\n<page>\n---\ntitle: String functions  Cloudflare Pipelines Docs\ndescription: Scalar functions for manipulating strings\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/string/\n  md: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/string/index.md\n---\n\n*Cloudflare Pipelines scalar function implementations are based on [Apache DataFusion](https://arrow.apache.org/datafusion/) (via [Arroyo](https://www.arroyo.dev/)) and these docs are derived from the DataFusion function reference.*\n\n## `ascii`\n\nReturns the ASCII value of the first character in a string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n**Related functions**: [chr](#chr)\n\n## `bit_length`\n\nReturns the bit length of a string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n**Related functions**: [length](#length), [octet\\_length](#octet_length)\n\n## `btrim`\n\nTrims the specified trim string from the start and end of a string. If no trim string is provided, all whitespace is removed from the start and end of the input string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n* **trim\\_str**: String expression to trim from the beginning and end of the input string. Can be a constant, column, or function, and any combination of arithmetic operators. *Default is whitespace characters.*\n\n**Related functions**: [ltrim](#ltrim), [rtrim](#rtrim)\n\n**Aliases**\n\n* trim\n\n## `char_length`\n\n*Alias of [length](#length).*\n\n## `character_length`\n\n*Alias of [length](#length).*\n\n## `concat`\n\nConcatenates multiple strings together.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to concatenate. Can be a constant, column, or function, and any combination of string operators.\n* **str\\_n**: Subsequent string column or literal string to concatenate.\n\n**Related functions**: [concat\\_ws](#concat_ws)\n\n## `concat_ws`\n\nConcatenates multiple strings together with a specified separator.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **separator**: Separator to insert between concatenated strings.\n* **str**: String expression to concatenate. Can be a constant, column, or function, and any combination of string operators.\n* **str\\_n**: Subsequent string column or literal string to concatenate.\n\n**Related functions**: [concat](#concat)\n\n## `chr`\n\nReturns the character with the specified ASCII or Unicode code value.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression containing the ASCII or Unicode code value to operate on. Can be a constant, column, or function, and any combination of arithmetic or string operators.\n\n**Related functions**: [ascii](#ascii)\n\n## `ends_with`\n\nTests if a string ends with a substring.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to test. Can be a constant, column, or function, and any combination of string operators.\n* **substr**: Substring to test for.\n\n## `initcap`\n\nCapitalizes the first character in each word in the input string. Words are delimited by non-alphanumeric characters.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n**Related functions**: [lower](#lower), [upper](#upper)\n\n## `instr`\n\n*Alias of [strpos](#strpos).*\n\n**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n* **substr**: Substring expression to search for. Can be a constant, column, or function, and any combination of string operators.\n\n## `left`\n\nReturns a specified number of characters from the left side of a string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n* **n**: Number of characters to return.\n\n**Related functions**: [right](#right)\n\n## `length`\n\nReturns the number of characters in a string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n**Aliases**\n\n* char\\_length\n* character\\_length\n\n**Related functions**: [bit\\_length](#bit_length), [octet\\_length](#octet_length)\n\n## `lower`\n\nConverts a string to lower-case.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n**Related functions**: [initcap](#initcap), [upper](#upper)\n\n## `lpad`\n\nPads the left side of a string with another string to a specified string length.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n* **n**: String length to pad to.\n* **padding\\_str**: String expression to pad with. Can be a constant, column, or function, and any combination of string operators. *Default is a space.*\n\n**Related functions**: [rpad](#rpad)\n\n## `ltrim`\n\nTrims the specified trim string from the beginning of a string. If no trim string is provided, all whitespace is removed from the start of the input string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n* **trim\\_str**: String expression to trim from the beginning of the input string. Can be a constant, column, or function, and any combination of arithmetic operators. *Default is whitespace characters.*\n\n**Related functions**: [btrim](#btrim), [rtrim](#rtrim)\n\n## `octet_length`\n\nReturns the length of a string in bytes.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n**Related functions**: [bit\\_length](#bit_length), [length](#length)\n\n## `repeat`\n\nReturns a string with an input string repeated a specified number.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to repeat. Can be a constant, column, or function, and any combination of string operators.\n* **n**: Number of times to repeat the input string.\n\n## `replace`\n\nReplaces all occurrences of a specified substring in a string with a new substring.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to repeat. Can be a constant, column, or function, and any combination of string operators.\n* **substr**: Substring expression to replace in the input string. Can be a constant, column, or function, and any combination of string operators.\n* **replacement**: Replacement substring expression. Can be a constant, column, or function, and any combination of string operators.\n\n## `reverse`\n\nReverses the character order of a string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to repeat. Can be a constant, column, or function, and any combination of string operators.\n\n## `right`\n\nReturns a specified number of characters from the right side of a string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n* **n**: Number of characters to return.\n\n**Related functions**: [left](#left)\n\n## `rpad`\n\nPads the right side of a string with another string to a specified string length.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n* **n**: String length to pad to.\n* **padding\\_str**: String expression to pad with. Can be a constant, column, or function, and any combination of string operators. *Default is a space.*\n\n**Related functions**: [lpad](#lpad)\n\n## `rtrim`\n\nTrims the specified trim string from the end of a string. If no trim string is provided, all whitespace is removed from the end of the input string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n* **trim\\_str**: String expression to trim from the end of the input string. Can be a constant, column, or function, and any combination of arithmetic operators. *Default is whitespace characters.*\n\n**Related functions**: [btrim](#btrim), [ltrim](#ltrim)\n\n## `split_part`\n\nSplits a string based on a specified delimiter and returns the substring in the specified position.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to spit. Can be a constant, column, or function, and any combination of string operators.\n* **delimiter**: String or character to split on.\n* **pos**: Position of the part to return.\n\n## `starts_with`\n\nTests if a string starts with a substring.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to test. Can be a constant, column, or function, and any combination of string operators.\n* **substr**: Substring to test for.\n\n## `strpos`\n\nReturns the starting position of a specified substring in a string. Positions begin at 1. If the substring does not exist in the string, the function returns 0.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n* **substr**: Substring expression to search for. Can be a constant, column, or function, and any combination of string operators.\n\n**Aliases**\n\n* instr\n\n## `substr`\n\nExtracts a substring of a specified number of characters from a specific starting position in a string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n* **start\\_pos**: Character position to start the substring at. The first character in the string has a position of 1.\n* **length**: Number of characters to extract. If not specified, returns the rest of the string after the start position.\n\n## `translate`\n\nTranslates characters in a string to specified translation characters.",
      "language": "unknown"
    },
    {
      "code": "* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n* **chars**: Characters to translate.\n* **translation**: Translation characters. Translation characters replace only characters at the same position in the **chars** string.\n\n## `to_hex`\n\nConverts an integer to a hexadecimal string.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **int**: Integer expression to convert. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `trim`\n\n*Alias of [btrim](#btrim).*\n\n## `upper`\n\nConverts a string to upper-case.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on. Can be a constant, column, or function, and any combination of string operators.\n\n**Related functions**: [initcap](#initcap), [lower](#lower)\n\n## `uuid`\n\nReturns UUID v4 string value which is unique per row.",
      "language": "unknown"
    },
    {
      "code": "## `overlay`\n\nReturns the string which is replaced by another string from the specified position and specified count length. For example, `overlay('Txxxxas' placing 'hom' from 2 for 4)  Thomas`",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on.\n* **substr**: the string to replace part of str.\n* **pos**: the start position to replace of str.\n* **count**: the count of characters to be replaced from start position of str. If not specified, will use substr length instead.\n\n## `levenshtein`\n\nReturns the Levenshtein distance between the two given strings. For example, `levenshtein('kitten', 'sitting') = 3`",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str1**: String expression to compute Levenshtein distance with str2.\n* **str2**: String expression to compute Levenshtein distance with str1.\n\n## `substr_index`\n\nReturns the substring from str before count occurrences of the delimiter delim. If count is positive, everything to the left of the final delimiter (counting from the left) is returned. If count is negative, everything to the right of the final delimiter (counting from the right) is returned. For example, `substr_index('www.apache.org', '.', 1) = www`, `substr_index('www.apache.org', '.', -1) = org`",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to operate on.\n* **delim**: the string to find in str to split str.\n* **count**: The number of times to search for the delimiter. Can be both a positive or negative number.\n\n## `find_in_set`\n\nReturns a value in the range of 1 to N if the string str is in the string list strlist consisting of N substrings. For example, `find_in_set('b', 'a,b,c,d') = 2`",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **str**: String expression to find in strlist.\n* **strlist**: A string list is a string composed of substrings separated by , characters.\n\n</page>\n\n<page>\n---\ntitle: Struct functions  Cloudflare Pipelines Docs\ndescription: Scalar functions for manipulating structs\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/struct/\n  md: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/struct/index.md\n---\n\n*Cloudflare Pipelines scalar function implementations are based on [Apache DataFusion](https://arrow.apache.org/datafusion/) (via [Arroyo](https://www.arroyo.dev/)) and these docs are derived from the DataFusion function reference.*\n\n## `struct`\n\nReturns an Arrow struct using the specified input expressions. Fields in the returned struct use the `cN` naming convention. For example: `c0`, `c1`, `c2`, etc.",
      "language": "unknown"
    },
    {
      "code": "For example, this query converts two columns `a` and `b` to a single column with a struct type of fields `c0` and `c1`:",
      "language": "unknown"
    },
    {
      "code": "#### Arguments\n\n* **expression\\_n**: Expression to include in the output struct. Can be a constant, column, or function, and any combination of arithmetic or string operators.\n\n</page>\n\n<page>\n---\ntitle: Time and date functions  Cloudflare Pipelines Docs\ndescription: Scalar functions for handling times and dates\nlastUpdated: 2025-09-25T04:07:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/time-and-date/\n  md: https://developers.cloudflare.com/pipelines/sql-reference/scalar-functions/time-and-date/index.md\n---\n\n*Cloudflare Pipelines scalar function implementations are based on [Apache DataFusion](https://arrow.apache.org/datafusion/) (via [Arroyo](https://www.arroyo.dev/)) and these docs are derived from the DataFusion function reference.*\n\n## `date_bin`\n\nCalculates time intervals and returns the start of the interval nearest to the specified timestamp. Use `date_bin` to downsample time series data by grouping rows into time-based \"bins\" or \"windows\" and applying an aggregate or selector function to each window.\n\nFor example, if you \"bin\" or \"window\" data into 15 minute intervals, an input timestamp of `2023-01-01T18:18:18Z` will be updated to the start time of the 15 minute bin it is in: `2023-01-01T18:15:00Z`.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **interval**: Bin interval.\n* **expression**: Time expression to operate on. Can be a constant, column, or function.\n* **origin-timestamp**: Optional. Starting point used to determine bin boundaries. If not specified defaults `1970-01-01T00:00:00Z` (the UNIX epoch in UTC).\n\nThe following intervals are supported:\n\n* nanoseconds\n* microseconds\n* milliseconds\n* seconds\n* minutes\n* hours\n* days\n* weeks\n* months\n* years\n* century\n\n## `date_trunc`\n\nTruncates a timestamp value to a specified precision.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **precision**: Time precision to truncate to. The following precisions are supported:\n\n  * year / YEAR\n  * quarter / QUARTER\n  * month / MONTH\n  * week / WEEK\n  * day / DAY\n  * hour / HOUR\n  * minute / MINUTE\n  * second / SECOND\n\n* **expression**: Time expression to operate on. Can be a constant, column, or function.\n\n**Aliases**\n\n* datetrunc\n\n## `datetrunc`\n\n*Alias of [date\\_trunc](#date_trunc).*\n\n## `date_part`\n\nReturns the specified part of the date as an integer.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **part**: Part of the date to return. The following date parts are supported:\n\n  * year\n  * quarter *(emits value in inclusive range \\[1, 4] based on which quartile of the year the date is in)*\n  * month\n  * week *(week of the year)*\n  * day *(day of the month)*\n  * hour\n  * minute\n  * second\n  * millisecond\n  * microsecond\n  * nanosecond\n  * dow *(day of the week)*\n  * doy *(day of the year)*\n  * epoch *(seconds since Unix epoch)*\n\n* **expression**: Time expression to operate on. Can be a constant, column, or function.\n\n**Aliases**\n\n* datepart\n\n## `datepart`\n\n*Alias of [date\\_part](#date_part).*\n\n## `extract`\n\nReturns a sub-field from a time value as an integer.",
      "language": "unknown"
    },
    {
      "code": "Equivalent to calling `date_part('field', source)`. For example, these are equivalent:",
      "language": "unknown"
    },
    {
      "code": "See [date\\_part](#date_part).\n\n## `make_date`\n\nMake a date from year/month/day component parts.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **year**: Year to use when making the date. Can be a constant, column or function, and any combination of arithmetic operators.\n* **month**: Month to use when making the date. Can be a constant, column or function, and any combination of arithmetic operators.\n* **day**: Day to use when making the date. Can be a constant, column or function, and any combination of arithmetic operators.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "## `to_char`\n\nReturns a string representation of a date, time, timestamp or duration based on a [Chrono format](https://docs.rs/chrono/latest/chrono/format/strftime/index.html). Unlike the PostgreSQL equivalent of this function numerical formatting is not supported.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression to operate on. Can be a constant, column, or function that results in a date, time, timestamp or duration.\n* **format**: A [Chrono format](https://docs.rs/chrono/latest/chrono/format/strftime/index.html) string to use to convert the expression.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "**Aliases**\n\n* date\\_format\n\n## `to_timestamp`\n\nConverts a value to a timestamp (`YYYY-MM-DDT00:00:00Z`). Supports strings, integer, unsigned integer, and double types as input. Strings are parsed as RFC3339 (e.g. '2023-07-20T05:44:00') if no \\[Chrono formats] are provided. Integers, unsigned integers, and doubles are interpreted as seconds since the unix epoch (`1970-01-01T00:00:00Z`). Returns the corresponding timestamp.\n\nNote: `to_timestamp` returns `Timestamp(Nanosecond)`. The supported range for integer input is between `-9223372037` and `9223372036`. Supported range for string input is between `1677-09-21T00:12:44.0` and `2262-04-11T23:47:16.0`. Please use `to_timestamp_seconds` for the input outside of supported bounds.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **format\\_n**: Optional [Chrono format](https://docs.rs/chrono/latest/chrono/format/strftime/index.html) strings to use to parse the expression. Formats will be tried in the order they appear with the first successful one being returned. If none of the formats successfully parse the expression an error will be returned.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "## `to_timestamp_millis`\n\nConverts a value to a timestamp (`YYYY-MM-DDT00:00:00.000Z`). Supports strings, integer, and unsigned integer types as input. Strings are parsed as RFC3339 (e.g. '2023-07-20T05:44:00') if no [Chrono format](https://docs.rs/chrono/latest/chrono/format/strftime/index.html)s are provided. Integers and unsigned integers are interpreted as milliseconds since the unix epoch (`1970-01-01T00:00:00Z`). Returns the corresponding timestamp.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **format\\_n**: Optional [Chrono format](https://docs.rs/chrono/latest/chrono/format/strftime/index.html) strings to use to parse the expression. Formats will be tried in the order they appear with the first successful one being returned. If none of the formats successfully parse the expression an error will be returned.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "## `to_timestamp_micros`\n\nConverts a value to a timestamp (`YYYY-MM-DDT00:00:00.000000Z`). Supports strings, integer, and unsigned integer types as input. Strings are parsed as RFC3339 (e.g. '2023-07-20T05:44:00') if no [Chrono format](https://docs.rs/chrono/latest/chrono/format/strftime/index.html)s are provided. Integers and unsigned integers are interpreted as microseconds since the unix epoch (`1970-01-01T00:00:00Z`) Returns the corresponding timestamp.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **format\\_n**: Optional [Chrono format](https://docs.rs/chrono/latest/chrono/format/strftime/index.html) strings to use to parse the expression. Formats will be tried in the order they appear with the first successful one being returned. If none of the formats successfully parse the expression an error will be returned.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "## `to_timestamp_nanos`\n\nConverts a value to a timestamp (`YYYY-MM-DDT00:00:00.000000000Z`). Supports strings, integer, and unsigned integer types as input. Strings are parsed as RFC3339 (e.g. '2023-07-20T05:44:00') if no \\[Chrono formats] are provided. Integers and unsigned integers are interpreted as nanoseconds since the unix epoch (`1970-01-01T00:00:00Z`). Returns the corresponding timestamp.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **format\\_n**: Optional [Chrono format](https://docs.rs/chrono/latest/chrono/format/strftime/index.html) strings to use to parse the expression. Formats will be tried in the order they appear with the first successful one being returned. If none of the formats successfully parse the expression an error will be returned.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "## `to_timestamp_seconds`\n\nConverts a value to a timestamp (`YYYY-MM-DDT00:00:00.000Z`). Supports strings, integer, and unsigned integer types as input. Strings are parsed as RFC3339 (e.g. '2023-07-20T05:44:00') if no [Chrono format](https://docs.rs/chrono/latest/chrono/format/strftime/index.html)s are provided. Integers and unsigned integers are interpreted as seconds since the unix epoch (`1970-01-01T00:00:00Z`). Returns the corresponding timestamp.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n* **format\\_n**: Optional [Chrono format](https://docs.rs/chrono/latest/chrono/format/strftime/index.html) strings to use to parse the expression. Formats will be tried in the order they appear with the first successful one being returned. If none of the formats successfully parse the expression an error will be returned.\n\n**Example**",
      "language": "unknown"
    },
    {
      "code": "## `from_unixtime`\n\nConverts an integer to RFC3339 timestamp format (`YYYY-MM-DDT00:00:00.000000000Z`). Integers and unsigned integers are interpreted as nanoseconds since the unix epoch (`1970-01-01T00:00:00Z`) return the corresponding timestamp.",
      "language": "unknown"
    },
    {
      "code": "**Arguments**\n\n* **expression**: Expression to operate on. Can be a constant, column, or function, and any combination of arithmetic operators.\n\n## `now`\n\nReturns the UTC timestamp at pipeline start.\n\nThe now() return value is determined at query compilation time, and will be constant across the execution of the pipeline.\n\n</page>\n\n<page>\n---\ntitle: S3 API compatibility  Cloudflare R2 docs\ndescription: >-\n  R2 implements the S3 API to allow users and their applications to migrate with\n  ease. When comparing to AWS S3, Cloudflare has removed some API operations'\n  features and added others. The S3 API operations are listed below with their\n  current implementation status. Feature implementation is currently in\n  progress. Refer back to this page for updates.\n\n  The API is available via the https://<ACCOUNT_ID>.r2.cloudflarestorage.com\n  endpoint. Find your account ID in the Cloudflare dashboard.\nlastUpdated: 2025-07-07T17:37:12.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/r2/api/s3/api/\n  md: https://developers.cloudflare.com/r2/api/s3/api/index.md\n---\n\nR2 implements the S3 API to allow users and their applications to migrate with ease. When comparing to AWS S3, Cloudflare has removed some API operations' features and added others. The S3 API operations are listed below with their current implementation status. Feature implementation is currently in progress. Refer back to this page for updates. The API is available via the `https://<ACCOUNT_ID>.r2.cloudflarestorage.com` endpoint. Find your [account ID in the Cloudflare dashboard](https://developers.cloudflare.com/fundamentals/account/find-account-and-zone-ids/).\n\n## How to read this page\n\nThis page has two sections: bucket-level operations and object-level operations.\n\nEach section will have two tables: a table of implemented APIs and a table of unimplemented APIs.\n\nRefer the feature column of each table to review which features of an API have been implemented and which have not.\n\n Feature Implemented\\\n Feature Implemented (Experimental)\\\n Feature Not Implemented\n\n## Bucket region\n\nWhen using the S3 API, the region for an R2 bucket is `auto`. For compatibility with tools that do not allow you to specify a region, an empty value and `us-east-1` will alias to the `auto` region.\n\nThis also applies to the `LocationConstraint` for the `CreateBucket` API.\n\n## Checksum Types\n\nChecksums have an algorithm and a [type](https://docs.aws.amazon.com/AmazonS3/latest/userguide/checking-object-integrity.html#ChecksumTypes). Refer to the table below.\n\n| Checksum Algorithm | `FULL_OBJECT` | `COMPOSITE` |\n| - | - | - |\n| CRC-64/NVME (`CRC64NVME`) |  |  |\n| CRC-32 (`CRC32`) |  |  |\n| CRC-32C (`CRC32C`) |  |  |\n| SHA-1 (`SHA1`) |  |  |\n| SHA-256 (`SHA256`) |  |  |\n\n## Bucket-level operations\n\nThe following tables are related to bucket-level operations.\n\n### Implemented bucket-level operations\n\nBelow is a list of implemented bucket-level operations. Refer to the Feature column to review which features have been implemented () and have not been implemented ().\n\n| API Name | Feature |\n| - | - |\n|  [ListBuckets](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBuckets.html) | |\n|  [HeadBucket](https://docs.aws.amazon.com/AmazonS3/latest/API/API_HeadBucket.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [CreateBucket](https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateBucket.html) |  ACL:   x-amz-acl   x-amz-grant-full-control   x-amz-grant-read   x-amz-grant-read-acp   x-amz-grant-write   x-amz-grant-write-acp  Object Locking:   x-amz-bucket-object-lock-enabled  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [DeleteBucket](https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteBucket.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [DeleteBucketCors](https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteBucketCors.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketCors](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketCors.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketLifecycleConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketLifecycleConfiguration.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketLocation](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketLocation.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketEncryption](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketEncryption.html) |  Bucket Owner:  x-amz-expected-bucket-owner |\n|  [PutBucketCors](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketCors.html) |  Checksums:   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketLifecycleConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketLifecycleConfiguration.html) |  Checksums:   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n\n### Unimplemented bucket-level operations\n\nUnimplemented bucket-level operations\n\n| API Name | Feature |\n| - | - |\n|  [GetBucketAccelerateConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketAccelerateConfiguration.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketAcl](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketAcl.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketAnalyticsConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketAnalyticsConfiguration.html) |  id  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketIntelligentTieringConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketIntelligentTieringConfiguration.html) |  id |\n|  [GetBucketInventoryConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketInventoryConfiguration.html) |  id  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketLifecycle](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketLifecycle.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketLogging](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketLogging.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketMetricsConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketMetricsConfiguration.html) |  id  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketNotification](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketNotification.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketNotificationConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketNotificationConfiguration.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketOwnershipControls](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketOwnershipControls.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketPolicy](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketPolicy.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketPolicyStatus](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketPolicyStatus.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketReplication](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketReplication.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketRequestPayment](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketRequestPayment.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketTagging](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketTagging.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketVersioning](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketVersioning.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetBucketWebsite](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketWebsite.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetObjectLockConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObjectLockConfiguration.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetPublicAccessBlock](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetPublicAccessBlock.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [ListBucketAnalyticsConfigurations](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBucketAnalyticsConfigurations.html) |  Query Parameters:   continuation-token  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [ListBucketIntelligentTieringConfigurations](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBucketIntelligentTieringConfigurations.html) |  Query Parameters:   continuation-token  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [ListBucketInventoryConfigurations](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBucketInventoryConfigurations.html) |  Query Parameters:   continuation-token  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [ListBucketMetricsConfigurations](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBucketMetricsConfigurations.html) |  Query Parameters:   continuation-token  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketAccelerateConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketAccelerateConfiguration.html) |  Checksums:   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketAcl](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketAcl.html) |  Permissions:   x-amz-grant-full-control   x-amz-grant-read   x-amz-grant-read-acp   x-amz-grant-write   x-amz-grant-write-acp  Checksums:   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketAnalyticsConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketAnalyticsConfiguration.html) |  id  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketEncryption](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketEncryption.html) |  Checksums:   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketIntelligentTieringConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketIntelligentTieringConfiguration.html) |  id  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketInventoryConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketInventoryConfiguration.html) |  id  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketLifecycle](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketLifecycle.html) |  Checksums:   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketLogging](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketLifecycle.html) |  Checksums:   Content-MD5   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketMetricsConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketMetricsConfiguration.html) |  id  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketNotification](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketNotification.html) |  Checksums:   Content-MD5   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketNotificationConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketNotificationConfiguration.html) |  Validation:   x-amz-skip-destination-validation  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketOwnershipControls](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketOwnershipControls.html) |  Checksums:   Content-MD5  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketPolicy](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketPolicy.html) |  Validation:   x-amz-confirm-remove-self-bucket-access  Checksums:   Content-MD5   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketReplication](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketReplication.html) |  Object Locking:   x-amz-bucket-object-lock-token  Checksums:   Content-MD5   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketRequestPayment](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketRequestPayment.html) |  Checksums:   Content-MD5   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketTagging](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketTagging.html) |  Checksums:   Content-MD5   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketVersioning](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketVersioning.html) |  Multi-factor authentication:   x-amz-mfa  Checksums:   Content-MD5   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutBucketWebsite](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketWebsite.html) |  Checksums:   Content-MD5  Bucket Owner:  x-amz-expected-bucket-owner |\n|  [PutObjectLockConfiguration](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObjectLockConfiguration.html) |  Object Locking:   x-amz-bucket-object-lock-token  Checksums:   Content-MD5  Request Payer:   x-amz-request-payer  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutPublicAccessBlock](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutPublicAccessBlock.html) |  Checksums:   Content-MD5   x-amz-sdk-checksum-algorithm   x-amz-checksum-algorithm  Bucket Owner:   x-amz-expected-bucket-owner |\n\n## Object-level operations\n\nThe following tables are related to object-level operations.\n\n### Implemented object-level operations\n\nBelow is a list of implemented object-level operations. Refer to the Feature column to review which features have been implemented () and have not been implemented ().\n\n| API Name | Feature |\n| - | - |\n|  [HeadObject](https://docs.aws.amazon.com/AmazonS3/latest/API/API_HeadObject.html) |  Conditional Operations:   If-Match   If-Modified-Since   If-None-Match   If-Unmodified-Since  Range:   Range (has no effect in HeadObject)   partNumber  SSE-C:   x-amz-server-side-encryption-customer-algorithm   x-amz-server-side-encryption-customer-key   x-amz-server-side-encryption-customer-key-MD5  Request Payer:   x-amz-request-payer  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [ListObjects](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjects.html) | Query Parameters:   delimiter   encoding-type   marker   max-keys   prefix  Request Payer:   x-amz-request-payer  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [ListObjectsV2](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html) | Query Parameters:   list-type   continuation-token   delimiter   encoding-type   fetch-owner   max-keys   prefix   start-after  Request Payer:   x-amz-request-payer  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [GetObject](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html) |  Conditional Operations:   If-Match   If-Modified-Since   If-None-Match   If-Unmodified-Since  Range:   Range   PartNumber  SSE-C:   x-amz-server-side-encryption-customer-algorithm   x-amz-server-side-encryption-customer-key   x-amz-server-side-encryption-customer-key-MD5  Request Payer:   x-amz-request-payer  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [PutObject](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html) |  System Metadata:   Content-Type   Cache-Control   Content-Disposition   Content-Encoding   Content-Language   Expires   Content-MD5  Storage Class:   x-amz-storage-class    STANDARD    STANDARD\\_IA  Object Lifecycle  Website:   x-amz-website-redirect-location  SSE:   x-amz-server-side-encryption-aws-kms-key-id   x-amz-server-side-encryption   x-amz-server-side-encryption-context   x-amz-server-side-encryption-bucket-key-enabled  SSE-C:   x-amz-server-side-encryption-customer-algorithm   x-amz-server-side-encryption-customer-key   x-amz-server-side-encryption-customer-key-MD5  Request Payer:   x-amz-request-payer  Tagging:   x-amz-tagging  Object Locking:   x-amz-object-lock-mode   x-amz-object-lock-retain-until-date   x-amz-object-lock-legal-hold  ACL:   x-amz-acl   x-amz-grant-full-control   x-amz-grant-read   x-amz-grant-read-acp   x-amz-grant-write-acp  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [DeleteObject](https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteObject.html) |  Multi-factor authentication:   x-amz-mfa  Object Locking:   x-amz-bypass-governance-retention  Request Payer:   x-amz-request-payer  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [DeleteObjects](https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteObjects.html) |  Multi-factor authentication:   x-amz-mfa  Object Locking:   x-amz-bypass-governance-retention  Request Payer:   x-amz-request-payer  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [ListMultipartUploads](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListMultipartUploads.html) |  Query Parameters:   delimiter   encoding-type   key-marker   max-uploads   prefix   upload-id-marker |\n|  [CreateMultipartUpload](https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html) |  System Metadata:   Content-Type   Cache-Control   Content-Disposition   Content-Encoding   Content-Language   Expires   Content-MD5  Storage Class:   x-amz-storage-class    STANDARD    STANDARD\\_IA  Website:   x-amz-website-redirect-location  SSE:   x-amz-server-side-encryption-aws-kms-key-id   x-amz-server-side-encryption   x-amz-server-side-encryption-context   x-amz-server-side-encryption-bucket-key-enabled  SSE-C:   x-amz-server-side-encryption-customer-algorithm   x-amz-server-side-encryption-customer-key   x-amz-server-side-encryption-customer-key-MD5  Request Payer:   x-amz-request-payer  Tagging:   x-amz-tagging  Object Locking:   x-amz-object-lock-mode   x-amz-object-lock-retain-until-date   x-amz-object-lock-legal-hold  ACL:   x-amz-acl   x-amz-grant-full-control   x-amz-grant-read   x-amz-grant-read-acp   x-amz-grant-write-acp  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [CompleteMultipartUpload](https://docs.aws.amazon.com/AmazonS3/latest/API/API_CompleteMultipartUpload.html) |  Bucket Owner:   x-amz-expected-bucket-owner  Request Payer:   x-amz-request-payer |\n|  [AbortMultipartUpload](https://docs.aws.amazon.com/AmazonS3/latest/API/API_AbortMultipartUpload.html) |  Request Payer:   x-amz-request-payer |\n|  [CopyObject](https://docs.aws.amazon.com/AmazonS3/latest/API/API_CopyObject.html) |  Operation Metadata:   x-amz-metadata-directive  System Metadata:   Content-Type   Cache-Control   Content-Disposition   Content-Encoding   Content-Language   Expires  Conditional Operations:   x-amz-copy-source   x-amz-copy-source-if-match   x-amz-copy-source-if-modified-since   x-amz-copy-source-if-none-match   x-amz-copy-source-if-unmodified-since  Storage Class:   x-amz-storage-class    STANDARD    STANDARD\\_IA  ACL:   x-amz-acl   x-amz-grant-full-control   x-amz-grant-read   x-amz-grant-read-acp   x-amz-grant-write-acp  Website:   x-amz-website-redirect-location  SSE:   x-amz-server-side-encryption   x-amz-server-side-encryption-aws-kms-key-id   x-amz-server-side-encryption-context   x-amz-server-side-encryption-bucket-key-enabled  SSE-C:   x-amz-server-side-encryption-customer-algorithm   x-amz-server-side-encryption-customer-key   x-amz-server-side-encryption-customer-key-MD5   x-amz-copy-source-server-side-encryption-customer-algorithm   x-amz-copy-source-server-side-encryption-customer-key   x-amz-copy-source-server-side-encryption-customer-key-MD5  Request Payer:   x-amz-request-payer  Tagging:   x-amz-tagging   x-amz-tagging-directive  Object Locking:   x-amz-object-lock-mode   x-amz-object-lock-retain-until-date   x-amz-object-lock-legal-hold  Bucket Owner:   x-amz-expected-bucket-owner   x-amz-source-expected-bucket-owner  Checksums:   x-amz-checksum-algorithm |\n|  [UploadPart](https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPart.html) |  System Metadata:   Content-MD5  SSE:   x-amz-server-side-encryption  SSE-C:   x-amz-server-side-encryption-customer-algorithm   x-amz-server-side-encryption-customer-key   x-amz-server-side-encryption-customer-key-MD5  Request Payer:   x-amz-request-payer  Bucket Owner:   x-amz-expected-bucket-owner |\n|  [UploadPartCopy](https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPartCopy.html) |  Conditional Operations:   x-amz-copy-source   x-amz-copy-source-if-match   x-amz-copy-source-if-modified-since   x-amz-copy-source-if-none-match   x-amz-copy-source-if-unmodified-since  Range:   x-amz-copy-source-range  SSE-C:   x-amz-server-side-encryption-customer-algorithm   x-amz-server-side-encryption-customer-key   x-amz-server-side-encryption-customer-key-MD5   x-amz-copy-source-server-side-encryption-customer-algorithm   x-amz-copy-source-server-side-encryption-customer-key   x-amz-copy-source-server-side-encryption-customer-key-MD5  Request Payer:   x-amz-request-payer  Bucket Owner:   x-amz-expected-bucket-owner   x-amz-source-expected-bucket-owner |\n|  [ListParts](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListParts.html) | Query Parameters:   max-parts   part-number-marker  Request Payer:   x-amz-request-payer  Bucket Owner:   x-amz-expected-bucket-owner |\n\nWarning\n\nEven though `ListObjects` is a supported operation, it is recommended that you use `ListObjectsV2` instead when developing applications. For more information, refer to [ListObjects](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjects.html).\n\n### Unimplemented object-level operations\n\nUnimplemented object-level operations\n\n| API Name | Feature |\n| - | - |\n|  [GetObjectTagging](https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObjectTagging.html) |  Bucket Owner:   x-amz-expected-bucket-owner  Request Payer:   x-amz-request-payer |\n|  [PutObjectTagging](https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObjectTagging.html) |  Bucket Owner:   x-amz-expected-bucket-owner  Request Payer:   x-amz-request-payer  Checksums:   x-amz-sdk-checksum-algorithm |\n|  [DeleteObjectTagging](https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteObjectTagging.html) |  Bucket Owner:   x-amz-expected-bucket-owner |\n\n</page>\n\n<page>\n---\ntitle: Extensions  Cloudflare R2 docs\ndescription: R2 implements some extensions on top of the basic S3 API. This page\n  outlines these additional, available features. Some of the functionality\n  described in this page requires setting a custom header. For examples on how\n  to do so, refer to Configure custom headers.\nlastUpdated: 2025-04-08T15:24:25.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/r2/api/s3/extensions/\n  md: https://developers.cloudflare.com/r2/api/s3/extensions/index.md\n---\n\nR2 implements some extensions on top of the basic S3 API. This page outlines these additional, available features. Some of the functionality described in this page requires setting a custom header. For examples on how to do so, refer to [Configure custom headers](https://developers.cloudflare.com/r2/examples/aws/custom-header).\n\n## Extended metadata using Unicode\n\nThe [Workers R2 API](https://developers.cloudflare.com/r2/api/workers/workers-api-reference/) supports Unicode in keys and values natively without requiring any additional encoding or decoding for the `customMetadata` field. These fields map to the `x-amz-meta-`-prefixed headers used within the R2 S3-compatible API endpoint.\n\nHTTP header names and values may only contain ASCII characters, which is a small subset of the Unicode character library. To easily accommodate users, R2 adheres to [RFC 2047](https://datatracker.ietf.org/doc/html/rfc2047) and automatically decodes all `x-amz-meta-*` header values before storage. On retrieval, any metadata values with unicode are RFC 2047-encoded before rendering the response. The length limit for metadata values is applied to the decoded Unicode value.\n\nMetadata variance\n\nBe mindful when using both Workers and S3 API endpoints to access the same data. If the R2 metadata keys contain Unicode, they are stripped when accessed through the S3 API and the `x-amz-missing-meta` header is set to the number of keys that were omitted.\n\nThese headers map to the `httpMetadata` field in the [R2 bindings](https://developers.cloudflare.com/workers/runtime-apis/bindings/):\n\n| HTTP Header | Property Name |\n| - | - |\n| `Content-Encoding` | `httpMetadata.contentEncoding` |\n| `Content-Type` | `httpMetadata.contentType` |\n| `Content-Language` | `httpMetadata.contentLanguage` |\n| `Content-Disposition` | `httpMetadata.contentDisposition` |\n| `Cache-Control` | `httpMetadata.cacheControl` |\n| `Expires` | `httpMetadata.expires` |\n| | |\n\nIf using Unicode in object key names, refer to [Unicode Interoperability](https://developers.cloudflare.com/r2/reference/unicode-interoperability/).\n\n## Auto-creating buckets on upload\n\nIf you are creating buckets on demand, you might initiate an upload with the assumption that a target bucket exists. In this situation, if you received a `NoSuchBucket` error, you would probably issue a `CreateBucket` operation. However, following this approach can cause issues: if the body has already been partially consumed, the upload will need to be aborted. A common solution to this issue, followed by other object storage providers, is to use the [HTTP `100`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status/100) response to detect whether the body should be sent, or if the bucket must be created before retrying the upload. However, Cloudflare does not support the HTTP `100` response. Even if the HTTP `100` response was supported, you would still have additional latency due to the round trips involved.\n\nTo support sending an upload with a streaming body to a bucket that may not exist yet, upload operations such as `PutObject` or `CreateMultipartUpload` allow you to specify a header that will ensure the `NoSuchBucket` error is not returned. If the bucket does not exist at the time of upload, it is implicitly instantiated with the following `CreateBucket` request:",
      "language": "unknown"
    },
    {
      "code": "This is only useful if you are creating buckets on demand because you do not know the name of the bucket or the preferred access location ahead of time. For example, you have one bucket per one of your customers and the bucket is created on first upload to the bucket and not during account registration. In these cases, the [`ListBuckets` extension](#listbuckets), which supports accounts with more than 1,000 buckets, may also be useful.\n\n## PutObject and CreateMultipartUpload\n\n### cf-create-bucket-if-missing\n\nAdd a `cf-create-bucket-if-missing` header with the value `true` to implicitly create the bucket if it does not exist yet. Refer to [Auto-creating buckets on upload](#auto-creating-buckets-on-upload) for a more detailed explanation of when to add this header.\n\n## PutObject\n\n### Conditional operations in `PutObject`\n\n`PutObject` supports [conditional uploads](https://developer.mozilla.org/en-US/docs/Web/HTTP/Conditional_requests) via the [`If-Match`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/If-Match), [`If-None-Match`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/If-None-Match), [`If-Modified-Since`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/If-Modified-Since), and [`If-Unmodified-Since`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/If-Unmodified-Since) headers. These headers will cause the `PutObject` operation to be rejected with `412 PreconditionFailed` error codes when the preceding state of the object that is being written to does not match the specified conditions.\n\n## CopyObject\n\n### MERGE metadata directive\n\nThe `x-amz-metadata-directive` allows a `MERGE` value, in addition to the standard `COPY` and `REPLACE` options. When used, `MERGE` is a combination of `COPY` and `REPLACE`, which will `COPY` any metadata keys from the source object and `REPLACE` those that are specified in the request with the new value. You cannot use `MERGE` to remove existing metadata keys from the source  use `REPLACE` instead.\n\n## `ListBuckets`\n\n`ListBuckets` supports all the same search parameters as `ListObjectsV2` in R2 because some customers may have more than 1,000 buckets. Because tooling, like existing S3 libraries, may not expose a way to set these search parameters, these values may also be sent in via headers. Values in headers take precedence over the search parameters.\n\n| Search parameter | HTTP Header | Meaning |\n| - | - | - |\n| `prefix` | `cf-prefix` | Show buckets with this prefix only. |\n| `start-after` | `cf-start-after` | Show buckets whose name appears lexicographically in the account. |\n| `continuation-token` | `cf-continuation-token` | Resume listing from a previously returned continuation token. |\n| `max-keys` | `cf-max-keys` | Return this maximum number of buckets. Default and max is `1000`. |\n| | | |\n\nThe XML response contains a `NextContinuationToken` and `IsTruncated` elements as appropriate. Since these may not be accessible from existing S3 APIs, these are also available in response headers:\n\n| XML Response Element | HTTP Response Header | Meaning |\n| - | - | - |\n| `IsTruncated` | `cf-is-truncated` | This is set to `true` if the list of buckets returned is not all the buckets on the account. |\n| `NextContinuationToken` | `cf-next-continuation-token` | This is set to continuation token to pass on a subsequent `ListBuckets` to resume the listing. |\n| `StartAfter` | | This is the start-after value that was passed in on the request. |\n| `KeyCount` | | The number of buckets returned. |\n| `ContinuationToken` | | The continuation token that was supplied in the request. |\n| `MaxKeys` | | The max keys that were specified in the request. |\n| | | |\n\n### Conditional operations in `CopyObject` for the destination object\n\nNote\n\nThis feature is currently in beta. If you have feedback, reach out to us on the [Cloudflare Developer Discord](https://discord.cloudflare.com) in the #r2-storage channel or open a thread on the [Community Forum](https://community.cloudflare.com/c/developers/storage/81).\n\n`CopyObject` already supports conditions that relate to the source object through the `x-amz-copy-source-if-...` headers as part of our compliance with the S3 API. In addition to this, R2 supports an R2 specific set of headers that allow the `CopyObject` operation to be conditional on the target object:\n\n* `cf-copy-destination-if-match`\n* `cf-copy-destination-if-none-match`\n* `cf-copy-destination-if-modified-since`\n* `cf-copy-destination-if-unmodified-since`\n\nThese headers work akin to the similarly named conditional headers supported on `PutObject`. When the preceding state of the destination object to does not match the specified conditions the `CopyObject` operation will be rejected with a `412 PreconditionFailed` error code.\n\n#### Non-atomicity relative to `x-amz-copy-source-if`\n\nThe `x-amz-copy-source-if-...` headers are guaranteed to be checked when the source object for the copy operation is selected, and the `cf-copy-destination-if-...` headers are guaranteed to be checked when the object is committed to the bucket state. However, the time at which the source object is selected for copying, and the point in time when the destination object is committed to the bucket state are not necessarily the same. This means that the `cf-copy-destination-if-...` headers are not atomic in relation to the `x-amz-copy-source-if...` headers.\n\n</page>\n\n<page>\n---\ntitle: Presigned URLs  Cloudflare R2 docs\ndescription: Presigned URLs are an S3 concept for granting temporary access to\n  objects without exposing your API credentials. A presigned URL includes\n  signature parameters in the URL itself, authorizing anyone with the URL to\n  perform a specific operation (like GetObject or PutObject) on a specific\n  object until the URL expires.\nlastUpdated: 2025-12-02T15:31:53.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/r2/api/s3/presigned-urls/\n  md: https://developers.cloudflare.com/r2/api/s3/presigned-urls/index.md\n---\n\nPresigned URLs are an [S3 concept](https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-presigned-url.html) for granting temporary access to objects without exposing your API credentials. A presigned URL includes signature parameters in the URL itself, authorizing anyone with the URL to perform a specific operation (like `GetObject` or `PutObject`) on a specific object until the URL expires.\n\nThey are ideal for granting temporary access to specific objects, such as allowing users to upload files directly to R2 or providing time-limited download links.\n\nTo generate a presigned URL, you specify:\n\n1. **Resource identifier**: Account ID, bucket name, and object path\n2. **Operation**: The S3 API operation permitted (GET, PUT, HEAD, or DELETE)\n3. **Expiry**: Timeout from 1 second to 7 days (604,800 seconds)\n\nPresigned URLs are generated client-side with no communication with R2, requiring only your R2 API credentials and an implementation of the AWS Signature Version 4 signing algorithm.\n\n## Generate a presigned URL\n\n### Prerequisites\n\n* [Account ID](https://developers.cloudflare.com/fundamentals/account/find-account-and-zone-ids/) (for constructing the S3 endpoint URL)\n* [R2 API token](https://developers.cloudflare.com/r2/api/tokens/) (Access Key ID and Secret Access Key)\n* AWS SDK or compatible S3 client library\n\n### SDK examples\n\n* JavaScript",
      "language": "unknown"
    },
    {
      "code": "* Python",
      "language": "unknown"
    },
    {
      "code": "* CLI",
      "language": "unknown"
    },
    {
      "code": "For complete examples and additional operations, refer to the SDK-specific documentation:\n\n* [AWS SDK for JavaScript](https://developers.cloudflare.com/r2/examples/aws/aws-sdk-js-v3/#generate-presigned-urls)\n* [AWS SDK for Python (Boto3)](https://developers.cloudflare.com/r2/examples/aws/boto3/#generate-presigned-urls)\n* [AWS CLI](https://developers.cloudflare.com/r2/examples/aws/aws-cli/#generate-presigned-urls)\n* [AWS SDK for Go](https://developers.cloudflare.com/r2/examples/aws/aws-sdk-go/#generate-presigned-urls)\n* [AWS SDK for PHP](https://developers.cloudflare.com/r2/examples/aws/aws-sdk-php/#generate-presigned-urls)\n\n### Best practices\n\nWhen generating presigned URLs, you can limit abuse and misuse by:\n\n* **Restricting Content-Type**: Specify the allowed `Content-Type` in your SDK's parameters. The signature will include this header, so uploads will fail with a `403/SignatureDoesNotMatch` error if the client sends a different `Content-Type` for an upload request.\n* **Configuring CORS**: If your presigned URLs will be used from a browser, set up [CORS rules](https://developers.cloudflare.com/r2/buckets/cors/#use-cors-with-a-presigned-url) on your bucket to control which origins can make requests.\n\n## Using a presigned URL\n\nOnce generated, use a presigned URL like any HTTP endpoint. The signature is embedded in the URL, so no additional authentication headers are required.",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Endpoints",
      "id": "endpoints"
    },
    {
      "level": "h2",
      "text": "Connecting",
      "id": "connecting"
    },
    {
      "level": "h2",
      "text": "Ownership",
      "id": "ownership"
    },
    {
      "level": "h2",
      "text": "Destination",
      "id": "destination"
    },
    {
      "level": "h2",
      "text": "Name",
      "id": "name"
    },
    {
      "level": "h2",
      "text": "Kind",
      "id": "kind"
    },
    {
      "level": "h2",
      "text": "Options",
      "id": "options"
    },
    {
      "level": "h2",
      "text": "Filter",
      "id": "filter"
    },
    {
      "level": "h2",
      "text": "Sampling rate",
      "id": "sampling-rate"
    },
    {
      "level": "h2",
      "text": "Max upload parameters",
      "id": "max-upload-parameters"
    },
    {
      "level": "h3",
      "text": "When to adjust these parameters",
      "id": "when-to-adjust-these-parameters"
    },
    {
      "level": "h2",
      "text": "Custom fields",
      "id": "custom-fields"
    },
    {
      "level": "h2",
      "text": "Audit",
      "id": "audit"
    },
    {
      "level": "h2",
      "text": "Enable custom rules via API",
      "id": "enable-custom-rules-via-api"
    },
    {
      "level": "h3",
      "text": "1. Create a rule to configure the list of custom fields",
      "id": "1.-create-a-rule-to-configure-the-list-of-custom-fields"
    },
    {
      "level": "h3",
      "text": "2. Include the custom fields in your Logpush job",
      "id": "2.-include-the-custom-fields-in-your-logpush-job"
    },
    {
      "level": "h2",
      "text": "Enable custom fields via dashboard",
      "id": "enable-custom-fields-via-dashboard"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h2",
      "text": "Datasets",
      "id": "datasets"
    },
    {
      "level": "h2",
      "text": "API",
      "id": "api"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Deprecation",
      "id": "deprecation"
    },
    {
      "level": "h2",
      "text": "Recommendation",
      "id": "recommendation"
    },
    {
      "level": "h2",
      "text": "Additional resources",
      "id": "additional-resources"
    },
    {
      "level": "h2",
      "text": "Logical Operators",
      "id": "logical-operators"
    },
    {
      "level": "h2",
      "text": "Set filters via API or dashboard",
      "id": "set-filters-via-api-or-dashboard"
    },
    {
      "level": "h3",
      "text": "API",
      "id": "api"
    },
    {
      "level": "h3",
      "text": "Dashboard",
      "id": "dashboard"
    },
    {
      "level": "h2",
      "text": "Replace logpull\\_options",
      "id": "replace-logpull\\_options"
    },
    {
      "level": "h2",
      "text": "Output types",
      "id": "output-types"
    },
    {
      "level": "h2",
      "text": "Examples",
      "id": "examples"
    },
    {
      "level": "h3",
      "text": "ndjson",
      "id": "ndjson"
    },
    {
      "level": "h3",
      "text": "csv",
      "id": "csv"
    },
    {
      "level": "h3",
      "text": "csv/json variants",
      "id": "csv/json-variants"
    },
    {
      "level": "h2",
      "text": "How to migrate",
      "id": "how-to-migrate"
    },
    {
      "level": "h2",
      "text": "How it works",
      "id": "how-it-works"
    },
    {
      "level": "h2",
      "text": "What the challenge protects against",
      "id": "what-the-challenge-protects-against"
    },
    {
      "level": "h2",
      "text": "Challenge token structure",
      "id": "challenge-token-structure"
    },
    {
      "level": "h2",
      "text": "Security considerations",
      "id": "security-considerations"
    },
    {
      "level": "h3",
      "text": "Can a compromised token be exploited?",
      "id": "can-a-compromised-token-be-exploited?"
    },
    {
      "level": "h3",
      "text": "Best practices",
      "id": "best-practices"
    },
    {
      "level": "h2",
      "text": "Which destinations require an ownership challenge?",
      "id": "which-destinations-require-an-ownership-challenge?"
    },
    {
      "level": "h2",
      "text": "Related resources",
      "id": "related-resources"
    },
    {
      "level": "h2",
      "text": "Timeline",
      "id": "timeline"
    },
    {
      "level": "h3",
      "text": "Phase 1 (February 1, 2023)",
      "id": "phase-1-(february-1,-2023)"
    },
    {
      "level": "h3",
      "text": "Phase 2 (August 1, 2023)",
      "id": "phase-2-(august-1,-2023)"
    },
    {
      "level": "h2",
      "text": "Concepts",
      "id": "concepts"
    },
    {
      "level": "h2",
      "text": "HTTP Requests dataset changes",
      "id": "http-requests-dataset-changes"
    },
    {
      "level": "h2",
      "text": "Firewall Events dataset changes",
      "id": "firewall-events-dataset-changes"
    },
    {
      "level": "h2",
      "text": "Changes to GraphQL datasets",
      "id": "changes-to-graphql-datasets"
    },
    {
      "level": "h2",
      "text": "Update your Logpush jobs and SIEM systems",
      "id": "update-your-logpush-jobs-and-siem-systems"
    },
    {
      "level": "h3",
      "text": "Update Logpush job in the dashboard",
      "id": "update-logpush-job-in-the-dashboard"
    },
    {
      "level": "h3",
      "text": "Update Logpush job via API",
      "id": "update-logpush-job-via-api"
    },
    {
      "level": "h3",
      "text": "Update Logpush job via Terraform",
      "id": "update-logpush-job-via-terraform"
    },
    {
      "level": "h2",
      "text": "Check tunnel health",
      "id": "check-tunnel-health"
    },
    {
      "level": "h2",
      "text": "Check tunnel health for a specific tunnel",
      "id": "check-tunnel-health-for-a-specific-tunnel"
    },
    {
      "level": "h2",
      "text": "Magic WAN Connector",
      "id": "magic-wan-connector"
    },
    {
      "level": "h2",
      "text": "Alert data",
      "id": "alert-data"
    },
    {
      "level": "h2",
      "text": "SLO thresholds",
      "id": "slo-thresholds"
    },
    {
      "level": "h2",
      "text": "Set up Magic Tunnel health alerts",
      "id": "set-up-magic-tunnel-health-alerts"
    },
    {
      "level": "h2",
      "text": "Test SLOs",
      "id": "test-slos"
    },
    {
      "level": "h2",
      "text": "Assign permissions",
      "id": "assign-permissions"
    },
    {
      "level": "h2",
      "text": "Add a site",
      "id": "add-a-site"
    },
    {
      "level": "h2",
      "text": "Network overview",
      "id": "network-overview"
    },
    {
      "level": "h3",
      "text": "Network map and traffic overview",
      "id": "network-map-and-traffic-overview"
    },
    {
      "level": "h3",
      "text": "Traffic overview",
      "id": "traffic-overview"
    },
    {
      "level": "h2",
      "text": "Edit a site",
      "id": "edit-a-site"
    },
    {
      "level": "h3",
      "text": "Add or remove on-ramps",
      "id": "add-or-remove-on-ramps"
    },
    {
      "level": "h3",
      "text": "Set geographic coordinates",
      "id": "set-geographic-coordinates"
    },
    {
      "level": "h3",
      "text": "Set thresholds for site health",
      "id": "set-thresholds-for-site-health"
    },
    {
      "level": "h2",
      "text": "Manual configuration",
      "id": "manual-configuration"
    },
    {
      "level": "h2",
      "text": "Configure Connector",
      "id": "configure-connector"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Before you begin",
      "id": "before-you-begin"
    },
    {
      "level": "h3",
      "text": "Determine the need for a high availability configuration",
      "id": "determine-the-need-for-a-high-availability-configuration"
    },
    {
      "level": "h3",
      "text": "Decide on DHCP vs static IP connections",
      "id": "decide-on-dhcp-vs-static-ip-connections"
    },
    {
      "level": "h2",
      "text": "Port speeds",
      "id": "port-speeds"
    },
    {
      "level": "h2",
      "text": "Set up Cloudflare dashboard",
      "id": "set-up-cloudflare-dashboard"
    },
    {
      "level": "h3",
      "text": "Register your Connector",
      "id": "register-your-connector"
    },
    {
      "level": "h3",
      "text": "Add a Connector on-ramp",
      "id": "add-a-connector-on-ramp"
    },
    {
      "level": "h3",
      "text": "Create a WAN",
      "id": "create-a-wan"
    },
    {
      "level": "h3",
      "text": "Create a LAN",
      "id": "create-a-lan"
    },
    {
      "level": "h3",
      "text": "Add your Magic WAN Connector to a site",
      "id": "add-your-magic-wan-connector-to-a-site"
    },
    {
      "level": "h2",
      "text": "Set up your Magic WAN Connector",
      "id": "set-up-your-magic-wan-connector"
    },
    {
      "level": "h3",
      "text": "Device installation",
      "id": "device-installation"
    },
    {
      "level": "h2",
      "text": "Activate appliance",
      "id": "activate-appliance"
    },
    {
      "level": "h2",
      "text": "WAN with a static IP address",
      "id": "wan-with-a-static-ip-address"
    },
    {
      "level": "h2",
      "text": "Bootstrap via Serial Console",
      "id": "bootstrap-via-serial-console"
    },
    {
      "level": "h3",
      "text": "Equipment required",
      "id": "equipment-required"
    },
    {
      "level": "h3",
      "text": "1. Access the device's serial port",
      "id": "1.-access-the-device's-serial-port"
    },
    {
      "level": "h3",
      "text": "2. Install a serial terminal client",
      "id": "2.-install-a-serial-terminal-client"
    },
    {
      "level": "h3",
      "text": "3. Configure a static IP",
      "id": "3.-configure-a-static-ip"
    },
    {
      "level": "h2",
      "text": "About high availability configurations",
      "id": "about-high-availability-configurations"
    },
    {
      "level": "h3",
      "text": "Create a high availability configuration",
      "id": "create-a-high-availability-configuration"
    },
    {
      "level": "h2",
      "text": "IPsec tunnels and static routes",
      "id": "ipsec-tunnels-and-static-routes"
    },
    {
      "level": "h2",
      "text": "Next steps",
      "id": "next-steps"
    },
    {
      "level": "h2",
      "text": "Query metrics with GraphQL",
      "id": "query-metrics-with-graphql"
    },
    {
      "level": "h3",
      "text": "Average CPU load explained",
      "id": "average-cpu-load-explained"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Before you begin",
      "id": "before-you-begin"
    },
    {
      "level": "h3",
      "text": "Determine the need for a high availability configuration",
      "id": "determine-the-need-for-a-high-availability-configuration"
    },
    {
      "level": "h3",
      "text": "Decide on DHCP vs static IP connections",
      "id": "decide-on-dhcp-vs-static-ip-connections"
    },
    {
      "level": "h2",
      "text": "Configure a virtual machine",
      "id": "configure-a-virtual-machine"
    },
    {
      "level": "h2",
      "text": "Set up Cloudflare dashboard",
      "id": "set-up-cloudflare-dashboard"
    },
    {
      "level": "h3",
      "text": "Add a Connector on-ramp",
      "id": "add-a-connector-on-ramp"
    },
    {
      "level": "h3",
      "text": "Create a WAN",
      "id": "create-a-wan"
    },
    {
      "level": "h3",
      "text": "Create a LAN",
      "id": "create-a-lan"
    },
    {
      "level": "h3",
      "text": "Add your Virtual Connector to a site",
      "id": "add-your-virtual-connector-to-a-site"
    },
    {
      "level": "h2",
      "text": "Activate appliance",
      "id": "activate-appliance"
    },
    {
      "level": "h2",
      "text": "Boot your Virtual Connector",
      "id": "boot-your-virtual-connector"
    },
    {
      "level": "h2",
      "text": "Default password to access Virtual Connector",
      "id": "default-password-to-access-virtual-connector"
    },
    {
      "level": "h2",
      "text": "WAN with a static IP address",
      "id": "wan-with-a-static-ip-address"
    },
    {
      "level": "h2",
      "text": "About high availability configurations",
      "id": "about-high-availability-configurations"
    },
    {
      "level": "h3",
      "text": "Create a high availability configuration",
      "id": "create-a-high-availability-configuration"
    },
    {
      "level": "h2",
      "text": "IPsec tunnels and static routes",
      "id": "ipsec-tunnels-and-static-routes"
    },
    {
      "level": "h2",
      "text": "Next steps",
      "id": "next-steps"
    },
    {
      "level": "h2",
      "text": "Security and other information",
      "id": "security-and-other-information"
    },
    {
      "level": "h2",
      "text": "ICMP traffic",
      "id": "icmp-traffic"
    },
    {
      "level": "h2",
      "text": "VLAN ID",
      "id": "vlan-id"
    },
    {
      "level": "h2",
      "text": "High availability configurations",
      "id": "high-availability-configurations"
    },
    {
      "level": "h3",
      "text": "Terminology",
      "id": "terminology"
    },
    {
      "level": "h3",
      "text": "High availability",
      "id": "high-availability"
    },
    {
      "level": "h3",
      "text": "Active/Standby Election",
      "id": "active/standby-election"
    },
    {
      "level": "h3",
      "text": "Configuration",
      "id": "configuration"
    },
    {
      "level": "h3",
      "text": "Failure detection and failover",
      "id": "failure-detection-and-failover"
    },
    {
      "level": "h2",
      "text": "WAN settings",
      "id": "wan-settings"
    },
    {
      "level": "h3",
      "text": "High-capacity use cases",
      "id": "high-capacity-use-cases"
    },
    {
      "level": "h3",
      "text": "Configure multiple tunnels in the same WAN profile",
      "id": "configure-multiple-tunnels-in-the-same-wan-profile"
    },
    {
      "level": "h3",
      "text": "WAN settings",
      "id": "wan-settings"
    },
    {
      "level": "h2",
      "text": "LAN settings",
      "id": "lan-settings"
    },
    {
      "level": "h3",
      "text": "Restrict traffic to your premises",
      "id": "restrict-traffic-to-your-premises"
    },
    {
      "level": "h2",
      "text": "Device metrics",
      "id": "device-metrics"
    },
    {
      "level": "h3",
      "text": "Performance analytics",
      "id": "performance-analytics"
    },
    {
      "level": "h3",
      "text": "Port analytics",
      "id": "port-analytics"
    },
    {
      "level": "h3",
      "text": "Event logs",
      "id": "event-logs"
    },
    {
      "level": "h3",
      "text": "DHCP leasing",
      "id": "dhcp-leasing"
    },
    {
      "level": "h2",
      "text": "Troubleshooting tips",
      "id": "troubleshooting-tips"
    },
    {
      "level": "h2",
      "text": "I have set up a site, but my Magic WAN Connector is not working",
      "id": "i-have-set-up-a-site,-but-my-magic-wan-connector-is-not-working"
    },
    {
      "level": "h2",
      "text": "I have tried to activate Magic WAN Connector, but it is still not working",
      "id": "i-have-tried-to-activate-magic-wan-connector,-but-it-is-still-not-working"
    },
    {
      "level": "h2",
      "text": "I can access Magic WAN Connector's health checks, but there is no traffic",
      "id": "i-can-access-magic-wan-connector's-health-checks,-but-there-is-no-traffic"
    },
    {
      "level": "h2",
      "text": "Devices I have behind Magic WAN Connector cannot connect to the Internet",
      "id": "devices-i-have-behind-magic-wan-connector-cannot-connect-to-the-internet"
    },
    {
      "level": "h2",
      "text": "How do I know if my device is contacting Cloudflare?",
      "id": "how-do-i-know-if-my-device-is-contacting-cloudflare?"
    },
    {
      "level": "h2",
      "text": "What do I do in the event of hardware issues with Magic WAN Connector?",
      "id": "what-do-i-do-in-the-event-of-hardware-issues-with-magic-wan-connector?"
    },
    {
      "level": "h2",
      "text": "Features",
      "id": "features"
    },
    {
      "level": "h3",
      "text": "Custom branches",
      "id": "custom-branches"
    },
    {
      "level": "h3",
      "text": "Preview URLs",
      "id": "preview-urls"
    },
    {
      "level": "h3",
      "text": "Skipping a build via a commit message",
      "id": "skipping-a-build-via-a-commit-message"
    },
    {
      "level": "h3",
      "text": "Check runs",
      "id": "check-runs"
    },
    {
      "level": "h2",
      "text": "Manage access",
      "id": "manage-access"
    },
    {
      "level": "h3",
      "text": "Organizational access",
      "id": "organizational-access"
    },
    {
      "level": "h3",
      "text": "Remove access",
      "id": "remove-access"
    },
    {
      "level": "h3",
      "text": "Reinstall the Cloudflare GitHub app",
      "id": "reinstall-the-cloudflare-github-app"
    },
    {
      "level": "h2",
      "text": "Features",
      "id": "features"
    },
    {
      "level": "h3",
      "text": "Custom branches",
      "id": "custom-branches"
    },
    {
      "level": "h3",
      "text": "Skipping a specific build via a commit message",
      "id": "skipping-a-specific-build-via-a-commit-message"
    },
    {
      "level": "h3",
      "text": "Check runs and preview URLs",
      "id": "check-runs-and-preview-urls"
    },
    {
      "level": "h2",
      "text": "Manage access",
      "id": "manage-access"
    },
    {
      "level": "h3",
      "text": "Organizational access",
      "id": "organizational-access"
    },
    {
      "level": "h3",
      "text": "Remove access",
      "id": "remove-access"
    },
    {
      "level": "h3",
      "text": "Reinstall the Cloudflare GitLab app",
      "id": "reinstall-the-cloudflare-gitlab-app"
    },
    {
      "level": "h2",
      "text": "Project creation",
      "id": "project-creation"
    },
    {
      "level": "h2",
      "text": "Deployments",
      "id": "deployments"
    },
    {
      "level": "h2",
      "text": "Before you continue",
      "id": "before-you-continue"
    },
    {
      "level": "h2",
      "text": "Select your Next.js project",
      "id": "select-your-next.js-project"
    },
    {
      "level": "h3",
      "text": "Create a GitHub repository",
      "id": "create-a-github-repository"
    },
    {
      "level": "h3",
      "text": "Deploy your application to Cloudflare Pages",
      "id": "deploy-your-application-to-cloudflare-pages"
    },
    {
      "level": "h2",
      "text": "Preview your site",
      "id": "preview-your-site"
    },
    {
      "level": "h2",
      "text": "Installation",
      "id": "installation"
    },
    {
      "level": "h2",
      "text": "Usage",
      "id": "usage"
    },
    {
      "level": "h3",
      "text": "Access the JWT payload",
      "id": "access-the-jwt-payload"
    },
    {
      "level": "h3",
      "text": "Look up identity",
      "id": "look-up-identity"
    },
    {
      "level": "h3",
      "text": "Login and logout URLs",
      "id": "login-and-logout-urls"
    },
    {
      "level": "h2",
      "text": "Installation",
      "id": "installation"
    },
    {
      "level": "h2",
      "text": "Usage",
      "id": "usage"
    },
    {
      "level": "h3",
      "text": "API",
      "id": "api"
    },
    {
      "level": "h2",
      "text": "Installation",
      "id": "installation"
    },
    {
      "level": "h2",
      "text": "Usage",
      "id": "usage"
    },
    {
      "level": "h2",
      "text": "Installation",
      "id": "installation"
    },
    {
      "level": "h2",
      "text": "Usage",
      "id": "usage"
    },
    {
      "level": "h2",
      "text": "Installation",
      "id": "installation"
    },
    {
      "level": "h2",
      "text": "Usage",
      "id": "usage"
    },
    {
      "level": "h3",
      "text": "Additional context",
      "id": "additional-context"
    },
    {
      "level": "h2",
      "text": "Installation",
      "id": "installation"
    },
    {
      "level": "h2",
      "text": "Usage",
      "id": "usage"
    },
    {
      "level": "h3",
      "text": "Additional context",
      "id": "additional-context"
    },
    {
      "level": "h2",
      "text": "Installation",
      "id": "installation"
    },
    {
      "level": "h2",
      "text": "Usage",
      "id": "usage"
    },
    {
      "level": "h2",
      "text": "Installation",
      "id": "installation"
    },
    {
      "level": "h2",
      "text": "Usage",
      "id": "usage"
    },
    {
      "level": "h2",
      "text": "Installation",
      "id": "installation"
    },
    {
      "level": "h2",
      "text": "Usage",
      "id": "usage"
    },
    {
      "level": "h2",
      "text": "Properties",
      "id": "properties"
    },
    {
      "level": "h2",
      "text": "Install",
      "id": "install"
    },
    {
      "level": "h2",
      "text": "Use",
      "id": "use"
    },
    {
      "level": "h3",
      "text": "Generate arbitrary images",
      "id": "generate-arbitrary-images"
    },
    {
      "level": "h2",
      "text": "Format options",
      "id": "format-options"
    },
    {
      "level": "h3",
      "text": "JSON format",
      "id": "json-format"
    },
    {
      "level": "h3",
      "text": "Parquet format",
      "id": "parquet-format"
    },
    {
      "level": "h2",
      "text": "File organization",
      "id": "file-organization"
    },
    {
      "level": "h3",
      "text": "Path",
      "id": "path"
    },
    {
      "level": "h3",
      "text": "Partitioning",
      "id": "partitioning"
    },
    {
      "level": "h2",
      "text": "Batching and rolling policy",
      "id": "batching-and-rolling-policy"
    },
    {
      "level": "h3",
      "text": "Roll interval",
      "id": "roll-interval"
    },
    {
      "level": "h3",
      "text": "Roll size",
      "id": "roll-size"
    },
    {
      "level": "h2",
      "text": "Authentication",
      "id": "authentication"
    },
    {
      "level": "h2",
      "text": "Format",
      "id": "format"
    },
    {
      "level": "h3",
      "text": "Compression options",
      "id": "compression-options"
    },
    {
      "level": "h3",
      "text": "Row group size",
      "id": "row-group-size"
    },
    {
      "level": "h2",
      "text": "Batching and rolling policy",
      "id": "batching-and-rolling-policy"
    },
    {
      "level": "h3",
      "text": "Roll interval",
      "id": "roll-interval"
    },
    {
      "level": "h3",
      "text": "Roll size",
      "id": "roll-size"
    },
    {
      "level": "h2",
      "text": "Authentication",
      "id": "authentication"
    },
    {
      "level": "h2",
      "text": "`array_append`",
      "id": "`array_append`"
    },
    {
      "level": "h2",
      "text": "`array_sort`",
      "id": "`array_sort`"
    },
    {
      "level": "h2",
      "text": "`array_resize`",
      "id": "`array_resize`"
    },
    {
      "level": "h2",
      "text": "`array_cat`",
      "id": "`array_cat`"
    },
    {
      "level": "h2",
      "text": "`array_concat`",
      "id": "`array_concat`"
    },
    {
      "level": "h2",
      "text": "`array_contains`",
      "id": "`array_contains`"
    },
    {
      "level": "h2",
      "text": "`array_has`",
      "id": "`array_has`"
    },
    {
      "level": "h2",
      "text": "`array_has_all`",
      "id": "`array_has_all`"
    },
    {
      "level": "h2",
      "text": "`array_has_any`",
      "id": "`array_has_any`"
    },
    {
      "level": "h2",
      "text": "`array_dims`",
      "id": "`array_dims`"
    },
    {
      "level": "h2",
      "text": "`array_distinct`",
      "id": "`array_distinct`"
    },
    {
      "level": "h2",
      "text": "`array_element`",
      "id": "`array_element`"
    },
    {
      "level": "h2",
      "text": "`array_extract`",
      "id": "`array_extract`"
    },
    {
      "level": "h2",
      "text": "`array_fill`",
      "id": "`array_fill`"
    },
    {
      "level": "h2",
      "text": "`flatten`",
      "id": "`flatten`"
    },
    {
      "level": "h2",
      "text": "`array_indexof`",
      "id": "`array_indexof`"
    },
    {
      "level": "h2",
      "text": "`array_intersect`",
      "id": "`array_intersect`"
    },
    {
      "level": "h2",
      "text": "`array_join`",
      "id": "`array_join`"
    },
    {
      "level": "h2",
      "text": "`array_length`",
      "id": "`array_length`"
    },
    {
      "level": "h2",
      "text": "`array_ndims`",
      "id": "`array_ndims`"
    },
    {
      "level": "h2",
      "text": "`array_prepend`",
      "id": "`array_prepend`"
    },
    {
      "level": "h2",
      "text": "`array_pop_front`",
      "id": "`array_pop_front`"
    },
    {
      "level": "h2",
      "text": "`array_pop_back`",
      "id": "`array_pop_back`"
    },
    {
      "level": "h2",
      "text": "`array_position`",
      "id": "`array_position`"
    },
    {
      "level": "h2",
      "text": "`array_positions`",
      "id": "`array_positions`"
    },
    {
      "level": "h2",
      "text": "`array_push_back`",
      "id": "`array_push_back`"
    },
    {
      "level": "h2",
      "text": "`array_push_front`",
      "id": "`array_push_front`"
    },
    {
      "level": "h2",
      "text": "`array_repeat`",
      "id": "`array_repeat`"
    },
    {
      "level": "h2",
      "text": "`array_remove`",
      "id": "`array_remove`"
    },
    {
      "level": "h2",
      "text": "`array_remove_n`",
      "id": "`array_remove_n`"
    },
    {
      "level": "h2",
      "text": "`array_remove_all`",
      "id": "`array_remove_all`"
    },
    {
      "level": "h2",
      "text": "`array_replace`",
      "id": "`array_replace`"
    },
    {
      "level": "h2",
      "text": "`array_replace_n`",
      "id": "`array_replace_n`"
    },
    {
      "level": "h2",
      "text": "`array_replace_all`",
      "id": "`array_replace_all`"
    },
    {
      "level": "h2",
      "text": "`array_reverse`",
      "id": "`array_reverse`"
    },
    {
      "level": "h2",
      "text": "`array_slice`",
      "id": "`array_slice`"
    },
    {
      "level": "h2",
      "text": "`array_to_string`",
      "id": "`array_to_string`"
    },
    {
      "level": "h2",
      "text": "`array_union`",
      "id": "`array_union`"
    },
    {
      "level": "h2",
      "text": "`array_except`",
      "id": "`array_except`"
    },
    {
      "level": "h2",
      "text": "`cardinality`",
      "id": "`cardinality`"
    },
    {
      "level": "h2",
      "text": "`empty`",
      "id": "`empty`"
    },
    {
      "level": "h2",
      "text": "`generate_series`",
      "id": "`generate_series`"
    },
    {
      "level": "h2",
      "text": "`list_append`",
      "id": "`list_append`"
    },
    {
      "level": "h2",
      "text": "`list_cat`",
      "id": "`list_cat`"
    },
    {
      "level": "h2",
      "text": "`list_concat`",
      "id": "`list_concat`"
    },
    {
      "level": "h2",
      "text": "`list_dims`",
      "id": "`list_dims`"
    },
    {
      "level": "h2",
      "text": "`list_distinct`",
      "id": "`list_distinct`"
    },
    {
      "level": "h2",
      "text": "`list_element`",
      "id": "`list_element`"
    },
    {
      "level": "h2",
      "text": "`list_empty`",
      "id": "`list_empty`"
    },
    {
      "level": "h2",
      "text": "`list_except`",
      "id": "`list_except`"
    },
    {
      "level": "h2",
      "text": "`list_extract`",
      "id": "`list_extract`"
    },
    {
      "level": "h2",
      "text": "`list_has`",
      "id": "`list_has`"
    },
    {
      "level": "h2",
      "text": "`list_has_all`",
      "id": "`list_has_all`"
    },
    {
      "level": "h2",
      "text": "`list_has_any`",
      "id": "`list_has_any`"
    },
    {
      "level": "h2",
      "text": "`list_indexof`",
      "id": "`list_indexof`"
    },
    {
      "level": "h2",
      "text": "`list_intersect`",
      "id": "`list_intersect`"
    },
    {
      "level": "h2",
      "text": "`list_join`",
      "id": "`list_join`"
    },
    {
      "level": "h2",
      "text": "`list_length`",
      "id": "`list_length`"
    },
    {
      "level": "h2",
      "text": "`list_ndims`",
      "id": "`list_ndims`"
    },
    {
      "level": "h2",
      "text": "`list_prepend`",
      "id": "`list_prepend`"
    },
    {
      "level": "h2",
      "text": "`list_pop_back`",
      "id": "`list_pop_back`"
    },
    {
      "level": "h2",
      "text": "`list_pop_front`",
      "id": "`list_pop_front`"
    },
    {
      "level": "h2",
      "text": "`list_position`",
      "id": "`list_position`"
    },
    {
      "level": "h2",
      "text": "`list_positions`",
      "id": "`list_positions`"
    },
    {
      "level": "h2",
      "text": "`list_push_back`",
      "id": "`list_push_back`"
    },
    {
      "level": "h2",
      "text": "`list_push_front`",
      "id": "`list_push_front`"
    },
    {
      "level": "h2",
      "text": "`list_repeat`",
      "id": "`list_repeat`"
    },
    {
      "level": "h2",
      "text": "`list_resize`",
      "id": "`list_resize`"
    },
    {
      "level": "h2",
      "text": "`list_remove`",
      "id": "`list_remove`"
    },
    {
      "level": "h2",
      "text": "`list_remove_n`",
      "id": "`list_remove_n`"
    },
    {
      "level": "h2",
      "text": "`list_remove_all`",
      "id": "`list_remove_all`"
    },
    {
      "level": "h2",
      "text": "`list_replace`",
      "id": "`list_replace`"
    },
    {
      "level": "h2",
      "text": "`list_replace_n`",
      "id": "`list_replace_n`"
    },
    {
      "level": "h2",
      "text": "`list_replace_all`",
      "id": "`list_replace_all`"
    },
    {
      "level": "h2",
      "text": "`list_reverse`",
      "id": "`list_reverse`"
    },
    {
      "level": "h2",
      "text": "`list_slice`",
      "id": "`list_slice`"
    },
    {
      "level": "h2",
      "text": "`list_sort`",
      "id": "`list_sort`"
    },
    {
      "level": "h2",
      "text": "`list_to_string`",
      "id": "`list_to_string`"
    },
    {
      "level": "h2",
      "text": "`list_union`",
      "id": "`list_union`"
    },
    {
      "level": "h2",
      "text": "`make_array`",
      "id": "`make_array`"
    },
    {
      "level": "h2",
      "text": "`array_empty`",
      "id": "`array_empty`"
    },
    {
      "level": "h2",
      "text": "`make_list`",
      "id": "`make_list`"
    },
    {
      "level": "h2",
      "text": "`string_to_array`",
      "id": "`string_to_array`"
    },
    {
      "level": "h2",
      "text": "`string_to_list`",
      "id": "`string_to_list`"
    },
    {
      "level": "h2",
      "text": "`trim_array`",
      "id": "`trim_array`"
    },
    {
      "level": "h2",
      "text": "`range`",
      "id": "`range`"
    },
    {
      "level": "h2",
      "text": "`encode`",
      "id": "`encode`"
    },
    {
      "level": "h2",
      "text": "`decode`",
      "id": "`decode`"
    },
    {
      "level": "h2",
      "text": "`coalesce`",
      "id": "`coalesce`"
    },
    {
      "level": "h2",
      "text": "`nullif`",
      "id": "`nullif`"
    },
    {
      "level": "h2",
      "text": "`nvl`",
      "id": "`nvl`"
    },
    {
      "level": "h2",
      "text": "`nvl2`",
      "id": "`nvl2`"
    },
    {
      "level": "h2",
      "text": "`ifnull`",
      "id": "`ifnull`"
    },
    {
      "level": "h2",
      "text": "`digest`",
      "id": "`digest`"
    },
    {
      "level": "h2",
      "text": "`md5`",
      "id": "`md5`"
    },
    {
      "level": "h2",
      "text": "`sha224`",
      "id": "`sha224`"
    },
    {
      "level": "h2",
      "text": "`sha256`",
      "id": "`sha256`"
    },
    {
      "level": "h2",
      "text": "`sha384`",
      "id": "`sha384`"
    },
    {
      "level": "h2",
      "text": "`sha512`",
      "id": "`sha512`"
    },
    {
      "level": "h2",
      "text": "SQL functions",
      "id": "sql-functions"
    },
    {
      "level": "h3",
      "text": "json\\_contains",
      "id": "json\\_contains"
    },
    {
      "level": "h3",
      "text": "json\\_get",
      "id": "json\\_get"
    },
    {
      "level": "h3",
      "text": "json\\_get\\_str",
      "id": "json\\_get\\_str"
    },
    {
      "level": "h3",
      "text": "json\\_get\\_int",
      "id": "json\\_get\\_int"
    },
    {
      "level": "h3",
      "text": "json\\_get\\_float",
      "id": "json\\_get\\_float"
    },
    {
      "level": "h3",
      "text": "json\\_get\\_bool",
      "id": "json\\_get\\_bool"
    },
    {
      "level": "h3",
      "text": "json\\_get\\_json",
      "id": "json\\_get\\_json"
    },
    {
      "level": "h3",
      "text": "json\\_as\\_text",
      "id": "json\\_as\\_text"
    },
    {
      "level": "h3",
      "text": "json\\_length",
      "id": "json\\_length"
    },
    {
      "level": "h2",
      "text": "Json path functions",
      "id": "json-path-functions"
    },
    {
      "level": "h3",
      "text": "extract\\_json",
      "id": "extract\\_json"
    },
    {
      "level": "h3",
      "text": "extract\\_json\\_string",
      "id": "extract\\_json\\_string"
    },
    {
      "level": "h2",
      "text": "`abs`",
      "id": "`abs`"
    },
    {
      "level": "h2",
      "text": "`acos`",
      "id": "`acos`"
    },
    {
      "level": "h2",
      "text": "`acosh`",
      "id": "`acosh`"
    },
    {
      "level": "h2",
      "text": "`asin`",
      "id": "`asin`"
    },
    {
      "level": "h2",
      "text": "`asinh`",
      "id": "`asinh`"
    },
    {
      "level": "h2",
      "text": "`atan`",
      "id": "`atan`"
    },
    {
      "level": "h2",
      "text": "`atanh`",
      "id": "`atanh`"
    },
    {
      "level": "h2",
      "text": "`atan2`",
      "id": "`atan2`"
    },
    {
      "level": "h2",
      "text": "`cbrt`",
      "id": "`cbrt`"
    },
    {
      "level": "h2",
      "text": "`ceil`",
      "id": "`ceil`"
    },
    {
      "level": "h2",
      "text": "`cos`",
      "id": "`cos`"
    },
    {
      "level": "h2",
      "text": "`cosh`",
      "id": "`cosh`"
    },
    {
      "level": "h2",
      "text": "`degrees`",
      "id": "`degrees`"
    },
    {
      "level": "h2",
      "text": "`exp`",
      "id": "`exp`"
    },
    {
      "level": "h2",
      "text": "`factorial`",
      "id": "`factorial`"
    },
    {
      "level": "h2",
      "text": "`floor`",
      "id": "`floor`"
    },
    {
      "level": "h2",
      "text": "`gcd`",
      "id": "`gcd`"
    },
    {
      "level": "h2",
      "text": "`isnan`",
      "id": "`isnan`"
    },
    {
      "level": "h2",
      "text": "`iszero`",
      "id": "`iszero`"
    },
    {
      "level": "h2",
      "text": "`lcm`",
      "id": "`lcm`"
    },
    {
      "level": "h2",
      "text": "`ln`",
      "id": "`ln`"
    },
    {
      "level": "h2",
      "text": "`log`",
      "id": "`log`"
    },
    {
      "level": "h2",
      "text": "`log10`",
      "id": "`log10`"
    },
    {
      "level": "h2",
      "text": "`log2`",
      "id": "`log2`"
    },
    {
      "level": "h2",
      "text": "`nanvl`",
      "id": "`nanvl`"
    },
    {
      "level": "h2",
      "text": "`pi`",
      "id": "`pi`"
    },
    {
      "level": "h2",
      "text": "`power`",
      "id": "`power`"
    },
    {
      "level": "h2",
      "text": "`pow`",
      "id": "`pow`"
    },
    {
      "level": "h2",
      "text": "`radians`",
      "id": "`radians`"
    },
    {
      "level": "h2",
      "text": "`random`",
      "id": "`random`"
    },
    {
      "level": "h2",
      "text": "`round`",
      "id": "`round`"
    },
    {
      "level": "h2",
      "text": "`signum`",
      "id": "`signum`"
    },
    {
      "level": "h2",
      "text": "`sin`",
      "id": "`sin`"
    },
    {
      "level": "h2",
      "text": "`sinh`",
      "id": "`sinh`"
    },
    {
      "level": "h2",
      "text": "`sqrt`",
      "id": "`sqrt`"
    },
    {
      "level": "h2",
      "text": "`tan`",
      "id": "`tan`"
    },
    {
      "level": "h2",
      "text": "`tanh`",
      "id": "`tanh`"
    },
    {
      "level": "h2",
      "text": "`trunc`",
      "id": "`trunc`"
    },
    {
      "level": "h2",
      "text": "`arrow_cast`",
      "id": "`arrow_cast`"
    },
    {
      "level": "h2",
      "text": "`arrow_typeof`",
      "id": "`arrow_typeof`"
    },
    {
      "level": "h2",
      "text": "`regexp_like`",
      "id": "`regexp_like`"
    },
    {
      "level": "h2",
      "text": "`regexp_match`",
      "id": "`regexp_match`"
    },
    {
      "level": "h2",
      "text": "`regexp_replace`",
      "id": "`regexp_replace`"
    },
    {
      "level": "h2",
      "text": "`position`",
      "id": "`position`"
    },
    {
      "level": "h2",
      "text": "`ascii`",
      "id": "`ascii`"
    },
    {
      "level": "h2",
      "text": "`bit_length`",
      "id": "`bit_length`"
    },
    {
      "level": "h2",
      "text": "`btrim`",
      "id": "`btrim`"
    },
    {
      "level": "h2",
      "text": "`char_length`",
      "id": "`char_length`"
    },
    {
      "level": "h2",
      "text": "`character_length`",
      "id": "`character_length`"
    },
    {
      "level": "h2",
      "text": "`concat`",
      "id": "`concat`"
    },
    {
      "level": "h2",
      "text": "`concat_ws`",
      "id": "`concat_ws`"
    },
    {
      "level": "h2",
      "text": "`chr`",
      "id": "`chr`"
    },
    {
      "level": "h2",
      "text": "`ends_with`",
      "id": "`ends_with`"
    },
    {
      "level": "h2",
      "text": "`initcap`",
      "id": "`initcap`"
    },
    {
      "level": "h2",
      "text": "`instr`",
      "id": "`instr`"
    },
    {
      "level": "h2",
      "text": "`left`",
      "id": "`left`"
    },
    {
      "level": "h2",
      "text": "`length`",
      "id": "`length`"
    },
    {
      "level": "h2",
      "text": "`lower`",
      "id": "`lower`"
    },
    {
      "level": "h2",
      "text": "`lpad`",
      "id": "`lpad`"
    },
    {
      "level": "h2",
      "text": "`ltrim`",
      "id": "`ltrim`"
    },
    {
      "level": "h2",
      "text": "`octet_length`",
      "id": "`octet_length`"
    },
    {
      "level": "h2",
      "text": "`repeat`",
      "id": "`repeat`"
    },
    {
      "level": "h2",
      "text": "`replace`",
      "id": "`replace`"
    },
    {
      "level": "h2",
      "text": "`reverse`",
      "id": "`reverse`"
    },
    {
      "level": "h2",
      "text": "`right`",
      "id": "`right`"
    },
    {
      "level": "h2",
      "text": "`rpad`",
      "id": "`rpad`"
    },
    {
      "level": "h2",
      "text": "`rtrim`",
      "id": "`rtrim`"
    },
    {
      "level": "h2",
      "text": "`split_part`",
      "id": "`split_part`"
    },
    {
      "level": "h2",
      "text": "`starts_with`",
      "id": "`starts_with`"
    },
    {
      "level": "h2",
      "text": "`strpos`",
      "id": "`strpos`"
    },
    {
      "level": "h2",
      "text": "`substr`",
      "id": "`substr`"
    },
    {
      "level": "h2",
      "text": "`translate`",
      "id": "`translate`"
    },
    {
      "level": "h2",
      "text": "`to_hex`",
      "id": "`to_hex`"
    },
    {
      "level": "h2",
      "text": "`trim`",
      "id": "`trim`"
    },
    {
      "level": "h2",
      "text": "`upper`",
      "id": "`upper`"
    },
    {
      "level": "h2",
      "text": "`uuid`",
      "id": "`uuid`"
    },
    {
      "level": "h2",
      "text": "`overlay`",
      "id": "`overlay`"
    },
    {
      "level": "h2",
      "text": "`levenshtein`",
      "id": "`levenshtein`"
    },
    {
      "level": "h2",
      "text": "`substr_index`",
      "id": "`substr_index`"
    },
    {
      "level": "h2",
      "text": "`find_in_set`",
      "id": "`find_in_set`"
    },
    {
      "level": "h2",
      "text": "`struct`",
      "id": "`struct`"
    },
    {
      "level": "h2",
      "text": "`date_bin`",
      "id": "`date_bin`"
    },
    {
      "level": "h2",
      "text": "`date_trunc`",
      "id": "`date_trunc`"
    },
    {
      "level": "h2",
      "text": "`datetrunc`",
      "id": "`datetrunc`"
    },
    {
      "level": "h2",
      "text": "`date_part`",
      "id": "`date_part`"
    },
    {
      "level": "h2",
      "text": "`datepart`",
      "id": "`datepart`"
    },
    {
      "level": "h2",
      "text": "`extract`",
      "id": "`extract`"
    },
    {
      "level": "h2",
      "text": "`make_date`",
      "id": "`make_date`"
    },
    {
      "level": "h2",
      "text": "`to_char`",
      "id": "`to_char`"
    },
    {
      "level": "h2",
      "text": "`to_timestamp`",
      "id": "`to_timestamp`"
    },
    {
      "level": "h2",
      "text": "`to_timestamp_millis`",
      "id": "`to_timestamp_millis`"
    },
    {
      "level": "h2",
      "text": "`to_timestamp_micros`",
      "id": "`to_timestamp_micros`"
    },
    {
      "level": "h2",
      "text": "`to_timestamp_nanos`",
      "id": "`to_timestamp_nanos`"
    },
    {
      "level": "h2",
      "text": "`to_timestamp_seconds`",
      "id": "`to_timestamp_seconds`"
    },
    {
      "level": "h2",
      "text": "`from_unixtime`",
      "id": "`from_unixtime`"
    },
    {
      "level": "h2",
      "text": "`now`",
      "id": "`now`"
    },
    {
      "level": "h2",
      "text": "How to read this page",
      "id": "how-to-read-this-page"
    },
    {
      "level": "h2",
      "text": "Bucket region",
      "id": "bucket-region"
    },
    {
      "level": "h2",
      "text": "Checksum Types",
      "id": "checksum-types"
    },
    {
      "level": "h2",
      "text": "Bucket-level operations",
      "id": "bucket-level-operations"
    },
    {
      "level": "h3",
      "text": "Implemented bucket-level operations",
      "id": "implemented-bucket-level-operations"
    },
    {
      "level": "h3",
      "text": "Unimplemented bucket-level operations",
      "id": "unimplemented-bucket-level-operations"
    },
    {
      "level": "h2",
      "text": "Object-level operations",
      "id": "object-level-operations"
    },
    {
      "level": "h3",
      "text": "Implemented object-level operations",
      "id": "implemented-object-level-operations"
    },
    {
      "level": "h3",
      "text": "Unimplemented object-level operations",
      "id": "unimplemented-object-level-operations"
    },
    {
      "level": "h2",
      "text": "Extended metadata using Unicode",
      "id": "extended-metadata-using-unicode"
    },
    {
      "level": "h2",
      "text": "Auto-creating buckets on upload",
      "id": "auto-creating-buckets-on-upload"
    },
    {
      "level": "h2",
      "text": "PutObject and CreateMultipartUpload",
      "id": "putobject-and-createmultipartupload"
    },
    {
      "level": "h3",
      "text": "cf-create-bucket-if-missing",
      "id": "cf-create-bucket-if-missing"
    },
    {
      "level": "h2",
      "text": "PutObject",
      "id": "putobject"
    },
    {
      "level": "h3",
      "text": "Conditional operations in `PutObject`",
      "id": "conditional-operations-in-`putobject`"
    },
    {
      "level": "h2",
      "text": "CopyObject",
      "id": "copyobject"
    },
    {
      "level": "h3",
      "text": "MERGE metadata directive",
      "id": "merge-metadata-directive"
    },
    {
      "level": "h2",
      "text": "`ListBuckets`",
      "id": "`listbuckets`"
    },
    {
      "level": "h3",
      "text": "Conditional operations in `CopyObject` for the destination object",
      "id": "conditional-operations-in-`copyobject`-for-the-destination-object"
    },
    {
      "level": "h2",
      "text": "Generate a presigned URL",
      "id": "generate-a-presigned-url"
    },
    {
      "level": "h3",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h3",
      "text": "SDK examples",
      "id": "sdk-examples"
    },
    {
      "level": "h3",
      "text": "Best practices",
      "id": "best-practices"
    },
    {
      "level": "h2",
      "text": "Using a presigned URL",
      "id": "using-a-presigned-url"
    }
  ],
  "url": "llms-txt#delete-job",
  "links": []
}