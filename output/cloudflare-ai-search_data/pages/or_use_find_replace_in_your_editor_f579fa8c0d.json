{
  "title": "(or use find-replace in your editor)",
  "content": "sed -i 's/agents-sdk/agents/g' $(grep -rl 'agents-sdk' .)\njs\n  // via https://github.com/cloudflare/agents/tree/main/examples/cross-domain\n  export default {\n    async fetch(request, env) {\n      return (\n        // Set { cors: true } to enable CORS headers.\n        (await routeAgentRequest(request, env, { cors: true })) ||\n        new Response(\"Not found\", { status: 404 })\n      );\n    },\n  };\n  ts\n  // via https://github.com/cloudflare/agents/tree/main/examples/cross-domain\n  export default {\n    async fetch(request: Request, env: Env) {\n      return (\n        // Set { cors: true } to enable CORS headers.\n        (await routeAgentRequest(request, env, { cors: true })) ||\n        new Response(\"Not found\", { status: 404 })\n      );\n    },\n  } satisfies ExportedHandler<Env>;\n  js\n  // server.ts\n  import { unstable_callable, Agent } from \"agents\";\n  export class Rpc extends Agent {\n    // Use the decorator to define a callable method\n    @unstable_callable({\n      description: \"rpc test\",\n    })\n    async getHistory() {\n      return this.sql`SELECT * FROM history ORDER BY created_at DESC LIMIT 10`;\n    }\n  }\n  ts\n  // server.ts\n  import { unstable_callable, Agent, type StreamingResponse } from \"agents\";\n  import type { Env } from \"../server\";\n\nexport class Rpc extends Agent<Env> {\n     // Use the decorator to define a callable method\n     @unstable_callable({\n       description: \"rpc test\",\n     })\n     async getHistory() {\n       return this.sql`SELECT * FROM history ORDER BY created_at DESC LIMIT 10`;\n     }\n  }\n  sh",
  "code_samples": [
    {
      "code": "All future updates will be pushed to the new `agents` package, and the older package has been marked as deprecated.\n\n#### Agents SDK updates New\n\nWe've added a number of big new features to the Agents SDK over the past few weeks, including:\n\n* You can now set `cors: true` when using `routeAgentRequest` to return permissive default CORS headers to Agent responses.\n* The regular client now syncs state on the agent (just like the React version).\n* `useAgentChat` bug fixes for passing headers/credentials, including properly clearing cache on unmount.\n* Experimental `/schedule` module with a prompt/schema for adding scheduling to your app (with evals!).\n* Changed the internal `zod` schema to be compatible with the limitations of Google's Gemini models by removing the discriminated union, allowing you to use Gemini models with the scheduling API.\n\nWe've also fixed a number of bugs with state synchronization and the React hooks.\n\n* JavaScript",
      "language": "unknown"
    },
    {
      "code": "* TypeScript",
      "language": "unknown"
    },
    {
      "code": "#### Call Agent methods from your client code New\n\nWe've added a new [`@unstable_callable()`](https://developers.cloudflare.com/agents/api-reference/agents-api/) decorator for defining methods that can be called directly from clients. This allows you call methods from within your client code: you can call methods (with arguments) and get native JavaScript objects back.\n\n* JavaScript",
      "language": "unknown"
    },
    {
      "code": "* TypeScript",
      "language": "unknown"
    },
    {
      "code": "#### agents-starter Updated\n\nWe've fixed a number of small bugs in the [`agents-starter`](https://github.com/cloudflare/agents-starter) project â€” a real-time, chat-based example application with tool-calling & human-in-the-loop built using the Agents SDK. The starter has also been upgraded to use the latest [wrangler v4](https://developers.cloudflare.com/changelog/2025-03-13-wrangler-v4/) release.\n\nIf you're new to Agents, you can install and run the `agents-starter` project in two commands:",
      "language": "unknown"
    }
  ],
  "headings": [],
  "url": "llms-txt#(or-use-find-replace-in-your-editor)",
  "links": []
}