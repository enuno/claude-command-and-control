{
  "title": "Create a test CSV",
  "content": "echo \"year,rating,title\n2020,8.5,Movie A\n2021,7.2,Movie B\n2022,9.1,Movie C\" > test.csv\nsh\nnpm run dev\nsh\ncurl -X POST http://localhost:8787 \\\n  -F \"file=@test.csv\" \\\n  -F \"question=What is the average rating by year?\"\njson\n{\n  \"success\": true,\n  \"output\": \"Average ratings by year:\\n2020: 8.5\\n2021: 7.2\\n2022: 9.1\",\n  \"chart\": \"data:image/png;base64,...\",\n  \"code\": \"import pandas as pd\\nimport matplotlib.pyplot as plt\\n...\"\n}\nsh\nnpx wrangler deploy\nsh\nnpx wrangler secret put ANTHROPIC_API_KEY\nsh\n  npm create cloudflare@latest -- claude-code-sandbox --template=cloudflare/sandbox-sdk/examples/claude-code\n  sh\n  yarn create cloudflare claude-code-sandbox --template=cloudflare/sandbox-sdk/examples/claude-code\n  sh\n  pnpm create cloudflare@latest claude-code-sandbox --template=cloudflare/sandbox-sdk/examples/claude-code\n  sh\ncd claude-code-sandbox\nsh\necho \"ANTHROPIC_API_KEY=your_api_key_here\" > .dev.vars\nsh\nnpm run dev\nsh\ncurl -X POST http://localhost:8787/ \\\n  -d '{\n    \"repo\": \"https://github.com/cloudflare/agents\",\n    \"task\": \"remove the emojis from the readme\"\n  }'\njson\n{\n  \"logs\": \"Done! I've removed the brain emoji from the README title. The heading now reads \\\"# Cloudflare Agents\\\" instead of \\\"# ðŸ§  Cloudflare Agents\\\".\",\n  \"diff\": \"diff --git a/README.md b/README.md\\nindex 9296ac9..027c218 100644\\n--- a/README.md\\n+++ b/README.md\\n@@ -1,4 +1,4 @@\\n-# ðŸ§  Cloudflare Agents\\n+# Cloudflare Agents\\n \\n ![npm install agents](assets/npm-install-agents.svg)\\n \"\n}\nsh\nnpx wrangler deploy\nsh\nnpx wrangler secret put ANTHROPIC_API_KEY\nsh\n  npm create cloudflare@latest -- test-pipeline --template=cloudflare/sandbox-sdk/examples/minimal\n  sh\n  yarn create cloudflare test-pipeline --template=cloudflare/sandbox-sdk/examples/minimal\n  sh\n  pnpm create cloudflare@latest test-pipeline --template=cloudflare/sandbox-sdk/examples/minimal\n  sh\ncd test-pipeline\ntypescript\nimport { getSandbox, proxyToSandbox, parseSSEStream, type Sandbox, type ExecEvent } from '@cloudflare/sandbox';\n\nexport { Sandbox } from '@cloudflare/sandbox';\n\ninterface Env {\n  Sandbox: DurableObjectNamespace<Sandbox>;\n  GITHUB_TOKEN?: string;\n}\n\nexport default {\n  async fetch(request: Request, env: Env): Promise<Response> {\n    const proxyResponse = await proxyToSandbox(request, env);\n    if (proxyResponse) return proxyResponse;\n\nif (request.method !== 'POST') {\n      return new Response('POST { \"repoUrl\": \"https://github.com/owner/repo\", \"branch\": \"main\" }');\n    }\n\ntry {\n      const { repoUrl, branch } = await request.json();\n\nif (!repoUrl) {\n        return Response.json({ error: 'repoUrl required' }, { status: 400 });\n      }\n\nconst sandbox = getSandbox(env.Sandbox, `test-${Date.now()}`);\n\ntry {\n        // Clone repository\n        console.log('Cloning repository...');\n        let cloneUrl = repoUrl;\n\nif (env.GITHUB_TOKEN && cloneUrl.includes('github.com')) {\n          cloneUrl = cloneUrl.replace('https://', `https://${env.GITHUB_TOKEN}@`);\n        }\n\nawait sandbox.gitCheckout(cloneUrl, {\n          ...(branch && { branch }),\n          depth: 1,\n          targetDir: 'repo'\n        });\n        console.log('Repository cloned');\n\n// Detect project type\n        const projectType = await detectProjectType(sandbox);\n        console.log(`Detected ${projectType} project`);\n\n// Install dependencies\n        const installCmd = getInstallCommand(projectType);\n        if (installCmd) {\n          console.log('Installing dependencies...');\n          const installStream = await sandbox.execStream(`cd /workspace/repo && ${installCmd}`);\n\nlet installExitCode = 0;\n          for await (const event of parseSSEStream<ExecEvent>(installStream)) {\n            if (event.type === 'stdout' || event.type === 'stderr') {\n              console.log(event.data);\n            } else if (event.type === 'complete') {\n              installExitCode = event.exitCode;\n            }\n          }\n\nif (installExitCode !== 0) {\n            return Response.json({\n              success: false,\n              error: 'Install failed',\n              exitCode: installExitCode\n            });\n          }\n          console.log('Dependencies installed');\n        }\n\n// Run tests\n        console.log('Running tests...');\n        const testCmd = getTestCommand(projectType);\n        const testStream = await sandbox.execStream(`cd /workspace/repo && ${testCmd}`);\n\nlet testExitCode = 0;\n        for await (const event of parseSSEStream<ExecEvent>(testStream)) {\n          if (event.type === 'stdout' || event.type === 'stderr') {\n            console.log(event.data);\n          } else if (event.type === 'complete') {\n            testExitCode = event.exitCode;\n          }\n        }\n        console.log(`Tests completed with exit code ${testExitCode}`);\n\nreturn Response.json({\n          success: testExitCode === 0,\n          exitCode: testExitCode,\n          projectType,\n          message: testExitCode === 0 ? 'All tests passed' : 'Tests failed'\n        });\n\n} finally {\n        await sandbox.destroy();\n      }\n\n} catch (error: any) {\n      return Response.json({ error: error.message }, { status: 500 });\n    }\n  },\n};\n\nasync function detectProjectType(sandbox: any): Promise<string> {\n  try {\n    await sandbox.readFile('/workspace/repo/package.json');\n    return 'nodejs';\n  } catch {}\n\ntry {\n    await sandbox.readFile('/workspace/repo/requirements.txt');\n    return 'python';\n  } catch {}\n\ntry {\n    await sandbox.readFile('/workspace/repo/go.mod');\n    return 'go';\n  } catch {}\n\nfunction getInstallCommand(projectType: string): string {\n  switch (projectType) {\n    case 'nodejs': return 'npm install';\n    case 'python': return 'pip install -r requirements.txt || pip install -e .';\n    case 'go': return 'go mod download';\n    default: return '';\n  }\n}\n\nfunction getTestCommand(projectType: string): string {\n  switch (projectType) {\n    case 'nodejs': return 'npm test';\n    case 'python': return 'python -m pytest || python -m unittest discover';\n    case 'go': return 'go test ./...';\n    default: return 'echo \"Unknown project type\"';\n  }\n}\nsh\nnpm run dev\nsh\ncurl -X POST http://localhost:8787 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"repoUrl\": \"https://github.com/cloudflare/sandbox-sdk\"\n  }'\njson\n{\n  \"success\": true,\n  \"exitCode\": 0,\n  \"projectType\": \"nodejs\",\n  \"message\": \"All tests passed\"\n}\nsh\nnpx wrangler deploy\nsh\nnpx wrangler secret put GITHUB_TOKEN\nsh\n  npm create cloudflare@latest -- code-review-bot --template=cloudflare/sandbox-sdk/examples/minimal\n  sh\n  yarn create cloudflare code-review-bot --template=cloudflare/sandbox-sdk/examples/minimal\n  sh\n  pnpm create cloudflare@latest code-review-bot --template=cloudflare/sandbox-sdk/examples/minimal\n  sh\ncd code-review-bot\nsh\n  npm i @anthropic-ai/sdk @octokit/rest\n  sh\n  yarn add @anthropic-ai/sdk @octokit/rest\n  sh\n  pnpm add @anthropic-ai/sdk @octokit/rest\n  typescript\nimport { getSandbox, proxyToSandbox, type Sandbox } from \"@cloudflare/sandbox\";\nimport { Octokit } from \"@octokit/rest\";\nimport Anthropic from \"@anthropic-ai/sdk\";\n\nexport { Sandbox } from \"@cloudflare/sandbox\";\n\ninterface Env {\n  Sandbox: DurableObjectNamespace<Sandbox>;\n  GITHUB_TOKEN: string;\n  ANTHROPIC_API_KEY: string;\n  WEBHOOK_SECRET: string;\n}\n\nexport default {\n  async fetch(\n    request: Request,\n    env: Env,\n    ctx: ExecutionContext,\n  ): Promise<Response> {\n    const proxyResponse = await proxyToSandbox(request, env);\n    if (proxyResponse) return proxyResponse;\n\nconst url = new URL(request.url);\n\nif (url.pathname === \"/webhook\" && request.method === \"POST\") {\n      const signature = request.headers.get(\"x-hub-signature-256\");\n      const contentType = request.headers.get(\"content-type\") || \"\";\n      const body = await request.text();\n\n// Verify webhook signature\n      if (\n        !signature ||\n        !(await verifySignature(body, signature, env.WEBHOOK_SECRET))\n      ) {\n        return Response.json({ error: \"Invalid signature\" }, { status: 401 });\n      }\n\nconst event = request.headers.get(\"x-github-event\");\n\n// Parse payload (GitHub can send as JSON or form-encoded)\n      let payload;\n      if (contentType.includes(\"application/json\")) {\n        payload = JSON.parse(body);\n      } else {\n        // Handle form-encoded payload\n        const params = new URLSearchParams(body);\n        payload = JSON.parse(params.get(\"payload\") || \"{}\");\n      }\n\n// Handle opened and reopened PRs\n      if (\n        event === \"pull_request\" &&\n        (payload.action === \"opened\" || payload.action === \"reopened\")\n      ) {\n        console.log(`Starting review for PR #${payload.pull_request.number}`);\n        // Use waitUntil to ensure the review completes even after response is sent\n        ctx.waitUntil(\n          reviewPullRequest(payload, env).catch(console.error),\n        );\n        return Response.json({ message: \"Review started\" });\n      }\n\nreturn Response.json({ message: \"Event ignored\" });\n    }\n\nreturn new Response(\n      \"Code Review Bot\\n\\nConfigure GitHub webhook to POST /webhook\",\n    );\n  },\n};\n\nasync function verifySignature(\n  payload: string,\n  signature: string,\n  secret: string,\n): Promise<boolean> {\n  const encoder = new TextEncoder();\n  const key = await crypto.subtle.importKey(\n    \"raw\",\n    encoder.encode(secret),\n    { name: \"HMAC\", hash: \"SHA-256\" },\n    false,\n    [\"sign\"],\n  );\n\nconst signatureBytes = await crypto.subtle.sign(\n    \"HMAC\",\n    key,\n    encoder.encode(payload),\n  );\n  const expected =\n    \"sha256=\" +\n    Array.from(new Uint8Array(signatureBytes))\n      .map((b) => b.toString(16).padStart(2, \"0\"))\n      .join(\"\");\n\nreturn signature === expected;\n}\n\nasync function reviewPullRequest(payload: any, env: Env): Promise<void> {\n  const pr = payload.pull_request;\n  const repo = payload.repository;\n  const octokit = new Octokit({ auth: env.GITHUB_TOKEN });\n  const sandbox = getSandbox(env.Sandbox, `review-${pr.number}`);\n\ntry {\n    // Post initial comment\n    console.log(\"Posting initial comment...\");\n    await octokit.issues.createComment({\n      owner: repo.owner.login,\n      repo: repo.name,\n      issue_number: pr.number,\n      body: \"Code review in progress...\",\n    });\n    // Clone repository\n    console.log(\"Cloning repository...\");\n    const cloneUrl = `https://${env.GITHUB_TOKEN}@github.com/${repo.owner.login}/${repo.name}.git`;\n    await sandbox.exec(\n      `git clone --depth=1 --branch=${pr.head.ref} ${cloneUrl} /workspace/repo`,\n    );\n\n// Get changed files\n    console.log(\"Fetching changed files...\");\n    const comparison = await octokit.repos.compareCommits({\n      owner: repo.owner.login,\n      repo: repo.name,\n      base: pr.base.sha,\n      head: pr.head.sha,\n    });\n\nconst files = [];\n    for (const file of (comparison.data.files || []).slice(0, 5)) {\n      if (file.status !== \"removed\") {\n        const content = await sandbox.readFile(\n          `/workspace/repo/${file.filename}`,\n        );\n        files.push({\n          path: file.filename,\n          patch: file.patch || \"\",\n          content: content.content,\n        });\n      }\n    }\n\n// Generate review with Claude\n    console.log(`Analyzing ${files.length} files with Claude...`);\n    const anthropic = new Anthropic({ apiKey: env.ANTHROPIC_API_KEY });\n    const response = await anthropic.messages.create({\n      model: \"claude-sonnet-4-5\",\n      max_tokens: 2048,\n      messages: [\n        {\n          role: \"user\",\n          content: `Review this PR:\n\nChanged files:\n${files.map((f) => `File: ${f.path}\\nDiff:\\n${f.patch}\\n\\nContent:\\n${f.content.substring(0, 1000)}`).join(\"\\n\\n\")}\n\nProvide a brief code review focusing on bugs, security, and best practices.`,\n        },\n      ],\n    });\n\nconst review =\n      response.content[0]?.type === \"text\"\n        ? response.content[0].text\n        : \"No review generated\";\n\n// Post review comment\n    console.log(\"Posting review...\");\n    await octokit.issues.createComment({\n      owner: repo.owner.login,\n      repo: repo.name,\n      issue_number: pr.number,\n      body: `## Code Review\\n\\n${review}\\n\\n---\\n*Generated by Claude*`,\n    });\n    console.log(\"Review complete!\");\n  } catch (error: any) {\n    console.error(\"Review failed:\", error);\n    await octokit.issues.createComment({\n      owner: repo.owner.login,\n      repo: repo.name,\n      issue_number: pr.number,\n      body: `Review failed: ${error.message}`,\n    });\n  } finally {\n    await sandbox.destroy();\n  }\n}\nsh\ncat > .dev.vars << EOF\nGITHUB_TOKEN=your_github_token_here\nANTHROPIC_API_KEY=your_anthropic_key_here\nWEBHOOK_SECRET=your_webhook_secret_here\nEOF\nsh\nnpm run dev\nsh\ncloudflared tunnel --url http://localhost:8787\nsh\ngit checkout -b test-review\necho \"console.log('test');\" > test.js\ngit add test.js\ngit commit -m \"Add test file\"\ngit push origin test-review\nsh\nnpx wrangler deploy\nsh",
  "code_samples": [
    {
      "code": "Start the dev server:",
      "language": "unknown"
    },
    {
      "code": "Test with curl:",
      "language": "unknown"
    },
    {
      "code": "Response:",
      "language": "unknown"
    },
    {
      "code": "## 6. Deploy\n\nDeploy your Worker:",
      "language": "unknown"
    },
    {
      "code": "Then set your Anthropic API key as a production secret:",
      "language": "unknown"
    },
    {
      "code": "Paste your API key from the [Anthropic Console](https://console.anthropic.com/) when prompted.\n\nWarning\n\nWait 2-3 minutes after first deployment for container provisioning.\n\n## What you built\n\nAn AI data analysis system that:\n\n* Uploads CSV files to sandboxes\n* Uses Claude's tool calling to generate analysis code\n* Executes Python with pandas and matplotlib\n* Returns text output and visualizations\n\n## Next steps\n\n* [Code Interpreter API](https://developers.cloudflare.com/sandbox/api/interpreter/) - Use the built-in code interpreter\n* [File operations](https://developers.cloudflare.com/sandbox/guides/manage-files/) - Advanced file handling\n* [Streaming output](https://developers.cloudflare.com/sandbox/guides/streaming-output/) - Real-time progress updates\n\n</page>\n\n<page>\n---\ntitle: Run Claude Code on a Sandbox Â· Cloudflare Sandbox SDK docs\ndescription: Use Claude Code to implement a task in your GitHub repository.\nlastUpdated: 2025-10-28T14:48:32.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/sandbox/tutorials/claude-code/\n  md: https://developers.cloudflare.com/sandbox/tutorials/claude-code/index.md\n---\n\nBuild a Worker that takes a repository URL and a task description and uses Sandbox SDK to run Claude Code to implement your task.\n\n**Time to complete:** 5 minutes\n\n## Prerequisites\n\n1. Sign up for a [Cloudflare account](https://dash.cloudflare.com/sign-up/workers-and-pages).\n2. Install [`Node.js`](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm).\n\nNode.js version manager\n\nUse a Node version manager like [Volta](https://volta.sh/) or [nvm](https://github.com/nvm-sh/nvm) to avoid permission issues and change Node.js versions. [Wrangler](https://developers.cloudflare.com/workers/wrangler/install-and-update/), discussed later in this guide, requires a Node version of `16.17.0` or later.\n\nYou'll also need:\n\n* An [Anthropic API key](https://console.anthropic.com/) for Claude Code\n* [Docker](https://www.docker.com/) running locally\n\n## 1. Create your project\n\nCreate a new Sandbox SDK project:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "## 2. Set up local environment variables\n\nCreate a `.dev.vars` file in your project root for local development:",
      "language": "unknown"
    },
    {
      "code": "Replace `your_api_key_here` with your actual API key from the [Anthropic Console](https://console.anthropic.com/).\n\nNote\n\nThe `.dev.vars` file is automatically gitignored and only used during local development with `npm run dev`.\n\n## 3. Test locally\n\nStart the development server:",
      "language": "unknown"
    },
    {
      "code": "Note\n\nFirst run builds the Docker container (2-3 minutes). Subsequent runs are much faster.\n\nTest with curl:",
      "language": "unknown"
    },
    {
      "code": "Response:",
      "language": "unknown"
    },
    {
      "code": "## 4. Deploy\n\nDeploy your Worker:",
      "language": "unknown"
    },
    {
      "code": "Then set your Anthropic API key as a production secret:",
      "language": "unknown"
    },
    {
      "code": "Paste your API key from the [Anthropic Console](https://console.anthropic.com/) when prompted.\n\nWarning\n\nAfter first deployment, wait 2-3 minutes for container provisioning. Check status with `npx wrangler containers list`.\n\n## What you built\n\nYou created an API that:\n\n* Accepts a repository URL and natural language task descriptions\n* Creates a Sandbox and clones the repository into it\n* Kicks off Claude Code to implement the given task\n* Returns Claude's output and changes\n\n## Next steps\n\n* [Analyze data with AI](https://developers.cloudflare.com/sandbox/tutorials/analyze-data-with-ai/) - Add pandas and matplotlib for data analysis\n* [Code Interpreter API](https://developers.cloudflare.com/sandbox/api/interpreter/) - Use the built-in code interpreter instead of exec\n* [Streaming output](https://developers.cloudflare.com/sandbox/guides/streaming-output/) - Show real-time execution progress\n* [API reference](https://developers.cloudflare.com/sandbox/api/) - Explore all available methods\n\n## Related resources\n\n* [Anthropic Claude documentation](https://docs.anthropic.com/)\n* [Workers AI](https://developers.cloudflare.com/workers-ai/) - Use Cloudflare's built-in models\n\n</page>\n\n<page>\n---\ntitle: Automated testing pipeline Â· Cloudflare Sandbox SDK docs\ndescription: Build a testing pipeline that clones Git repositories, installs\n  dependencies, runs tests, and reports results.\nlastUpdated: 2025-10-21T14:02:11.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/sandbox/tutorials/automated-testing-pipeline/\n  md: https://developers.cloudflare.com/sandbox/tutorials/automated-testing-pipeline/index.md\n---\n\nBuild a testing pipeline that clones Git repositories, installs dependencies, runs tests, and reports results.\n\n**Time to complete**: 25 minutes\n\n## Prerequisites\n\n1. Sign up for a [Cloudflare account](https://dash.cloudflare.com/sign-up/workers-and-pages).\n2. Install [`Node.js`](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm).\n\nNode.js version manager\n\nUse a Node version manager like [Volta](https://volta.sh/) or [nvm](https://github.com/nvm-sh/nvm) to avoid permission issues and change Node.js versions. [Wrangler](https://developers.cloudflare.com/workers/wrangler/install-and-update/), discussed later in this guide, requires a Node version of `16.17.0` or later.\n\nYou'll also need a GitHub repository with tests (public or private with access token).\n\n## 1. Create your project\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "## 2. Build the pipeline\n\nReplace `src/index.ts`:",
      "language": "unknown"
    },
    {
      "code": "## 3. Test locally\n\nStart the dev server:",
      "language": "unknown"
    },
    {
      "code": "Test with a repository:",
      "language": "unknown"
    },
    {
      "code": "You will see progress logs in the wrangler console, and receive a JSON response:",
      "language": "unknown"
    },
    {
      "code": "## 4. Deploy",
      "language": "unknown"
    },
    {
      "code": "For private repositories, set your GitHub token:",
      "language": "unknown"
    },
    {
      "code": "## What you built\n\nAn automated testing pipeline that:\n\n* Clones Git repositories\n* Detects project type (Node.js, Python, Go)\n* Installs dependencies automatically\n* Runs tests and reports results\n\n## Next steps\n\n* [Streaming output](https://developers.cloudflare.com/sandbox/guides/streaming-output/) - Add real-time test output\n* [Background processes](https://developers.cloudflare.com/sandbox/guides/background-processes/) - Handle long-running tests\n* [Sessions API](https://developers.cloudflare.com/sandbox/api/sessions/) - Cache dependencies between runs\n\n</page>\n\n<page>\n---\ntitle: Build a code review bot Â· Cloudflare Sandbox SDK docs\ndescription: Clone repositories, analyze code with Claude, and post review\n  comments to GitHub PRs.\nlastUpdated: 2025-10-21T16:25:17.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/sandbox/tutorials/code-review-bot/\n  md: https://developers.cloudflare.com/sandbox/tutorials/code-review-bot/index.md\n---\n\nBuild a GitHub bot that responds to pull requests, clones the repository in a sandbox, uses Claude to analyze code changes, and posts review comments.\n\n**Time to complete**: 30 minutes\n\n## Prerequisites\n\n1. Sign up for a [Cloudflare account](https://dash.cloudflare.com/sign-up/workers-and-pages).\n2. Install [`Node.js`](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm).\n\nNode.js version manager\n\nUse a Node version manager like [Volta](https://volta.sh/) or [nvm](https://github.com/nvm-sh/nvm) to avoid permission issues and change Node.js versions. [Wrangler](https://developers.cloudflare.com/workers/wrangler/install-and-update/), discussed later in this guide, requires a Node version of `16.17.0` or later.\n\nYou'll also need:\n\n* A [GitHub account](https://github.com/) and [fine-grained personal access token](https://github.com/settings/personal-access-tokens/new) with the following permissions:\n\n  * **Repository access**: Select the specific repository you want to test with\n\n  * **Permissions** > **Repository permissions**:\n\n    * **Metadata**: Read-only (required)\n    * **Contents**: Read-only (required to clone the repository)\n    * **Pull requests**: Read and write (required to post review comments)\n\n* An [Anthropic API key](https://console.anthropic.com/) for Claude\n\n* A GitHub repository for testing\n\n## 1. Create your project\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "## 2. Install dependencies\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## 3. Build the webhook handler\n\nReplace `src/index.ts`:",
      "language": "unknown"
    },
    {
      "code": "## 4. Set up local environment variables\n\nCreate a `.dev.vars` file in your project root for local development:",
      "language": "unknown"
    },
    {
      "code": "Replace the placeholder values with:\n\n* `GITHUB_TOKEN`: Your GitHub personal access token with repo permissions\n* `ANTHROPIC_API_KEY`: Your API key from the [Anthropic Console](https://console.anthropic.com/)\n* `WEBHOOK_SECRET`: A random string (for example: `openssl rand -hex 32`)\n\nNote\n\nThe `.dev.vars` file is automatically gitignored and only used during local development with `npm run dev`.\n\n## 5. Expose local server with Cloudflare Tunnel\n\nTo test with real GitHub webhooks locally, use [Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/) to expose your local development server.\n\nStart the development server:",
      "language": "unknown"
    },
    {
      "code": "In a separate terminal, create a tunnel to your local server:",
      "language": "unknown"
    },
    {
      "code": "This will output a public URL (for example, `https://example.trycloudflare.com`). Copy this URL for the next step.\n\nNote\n\nIf you do not have `cloudflared` installed, refer to [Downloads](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/downloads/).\n\n## 6. Configure GitHub webhook for local testing\n\nImportant\n\nConfigure this webhook on a **specific GitHub repository** where you will create test pull requests. The bot will only review PRs in repositories where the webhook is configured.\n\n1. Navigate to your test repository on GitHub\n2. Go to **Settings** > **Webhooks** > **Add webhook**\n3. Set **Payload URL**: Your Cloudflare Tunnel URL from Step 5 with `/webhook` appended (for example, `https://example.trycloudflare.com/webhook`)\n4. Set **Content type**: `application/json`\n5. Set **Secret**: Same value you used for `WEBHOOK_SECRET` in your `.dev.vars` file\n6. Select **Let me select individual events** â†’ Check **Pull requests**\n7. Click **Add webhook**\n\n## 7. Test locally with a pull request\n\nCreate a test PR:",
      "language": "unknown"
    },
    {
      "code": "Open the PR on GitHub. The bot should post a review comment within a few seconds.\n\n## 8. Deploy to production\n\nDeploy your Worker:",
      "language": "unknown"
    },
    {
      "code": "Then set your production secrets:",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "6. Deploy",
      "id": "6.-deploy"
    },
    {
      "level": "h2",
      "text": "What you built",
      "id": "what-you-built"
    },
    {
      "level": "h2",
      "text": "Next steps",
      "id": "next-steps"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "1. Create your project",
      "id": "1.-create-your-project"
    },
    {
      "level": "h2",
      "text": "2. Set up local environment variables",
      "id": "2.-set-up-local-environment-variables"
    },
    {
      "level": "h2",
      "text": "3. Test locally",
      "id": "3.-test-locally"
    },
    {
      "level": "h2",
      "text": "4. Deploy",
      "id": "4.-deploy"
    },
    {
      "level": "h2",
      "text": "What you built",
      "id": "what-you-built"
    },
    {
      "level": "h2",
      "text": "Next steps",
      "id": "next-steps"
    },
    {
      "level": "h2",
      "text": "Related resources",
      "id": "related-resources"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "1. Create your project",
      "id": "1.-create-your-project"
    },
    {
      "level": "h2",
      "text": "2. Build the pipeline",
      "id": "2.-build-the-pipeline"
    },
    {
      "level": "h2",
      "text": "3. Test locally",
      "id": "3.-test-locally"
    },
    {
      "level": "h2",
      "text": "4. Deploy",
      "id": "4.-deploy"
    },
    {
      "level": "h2",
      "text": "What you built",
      "id": "what-you-built"
    },
    {
      "level": "h2",
      "text": "Next steps",
      "id": "next-steps"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "1. Create your project",
      "id": "1.-create-your-project"
    },
    {
      "level": "h2",
      "text": "2. Install dependencies",
      "id": "2.-install-dependencies"
    },
    {
      "level": "h2",
      "text": "3. Build the webhook handler",
      "id": "3.-build-the-webhook-handler"
    },
    {
      "level": "h2",
      "text": "4. Set up local environment variables",
      "id": "4.-set-up-local-environment-variables"
    },
    {
      "level": "h2",
      "text": "5. Expose local server with Cloudflare Tunnel",
      "id": "5.-expose-local-server-with-cloudflare-tunnel"
    },
    {
      "level": "h2",
      "text": "6. Configure GitHub webhook for local testing",
      "id": "6.-configure-github-webhook-for-local-testing"
    },
    {
      "level": "h2",
      "text": "7. Test locally with a pull request",
      "id": "7.-test-locally-with-a-pull-request"
    },
    {
      "level": "h2",
      "text": "8. Deploy to production",
      "id": "8.-deploy-to-production"
    }
  ],
  "url": "llms-txt#create-a-test-csv",
  "links": []
}