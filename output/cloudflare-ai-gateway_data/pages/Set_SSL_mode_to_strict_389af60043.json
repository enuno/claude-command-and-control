{
  "title": "Set SSL mode to strict",
  "content": "resource \"cloudflare_zone_setting\" \"ssl\" {\n  zone_id    = var.zone_id\n  setting_id = \"ssl\"\n  value      = \"strict\"\n}\nsh\nterraform plan\nsh\nPlan: 3 to add, 0 to change, 0 to destroy.\n\nTerraform will perform the following actions:\n\n# cloudflare_zone_setting.automatic_https_rewrites will be created\n  + resource \"cloudflare_zone_setting\" \"automatic_https_rewrites\" {\n      + setting_id = \"automatic_https_rewrites\"\n      + value      = \"on\"\n      + zone_id    = \"your-zone-id\"\n    }\n\n# cloudflare_zone_setting.ssl will be created\n  + resource \"cloudflare_zone_setting\" \"ssl\" {\n      + setting_id = \"ssl\"\n      + value      = \"strict\"\n      + zone_id    = \"your-zone-id\"\n    }\n\n# cloudflare_zone_setting.tls_1_3 will be created\n  + resource \"cloudflare_zone_setting\" \"tls_1_3\" {\n      + setting_id = \"tls_1_3\"\n      + value      = \"on\"\n      + zone_id    = \"your-zone-id\"\n    }\nbash\ngit add main.tf\ngit commit -m \"Step 3 - Enable TLS 1.3, automatic HTTPS rewrites, and strict SSL\"\ngit checkout main\ngit merge step3-zone-settings\ngit push\nsh\ncurl -v --tlsv1.3 https://www.example.com 2>&1 | grep \"SSL connection\\|error\"\nsh\nterraform apply\nsh\ncurl -v --tlsv1.3 https://www.example.com 2>&1 | grep \"SSL connection\\|error\"\nbash\ngit checkout -b step5-pagerule\nhcl",
  "code_samples": [
    {
      "code": "## 2. Preview and apply the changes\n\nReview the proposed changes:",
      "language": "unknown"
    },
    {
      "code": "Expected output",
      "language": "unknown"
    },
    {
      "code": "Commit and merge the changes:",
      "language": "unknown"
    },
    {
      "code": "Before applying the changes, try to connect with TLS 1.3. Technically, you should not be able to with default settings. To follow along with this test, you will need to [compile `curl` against BoringSSL](https://everything.curl.dev/source/build/tls/boringssl#build-boringssl).",
      "language": "unknown"
    },
    {
      "code": "As shown above, you should receive an error because TLS 1.3 is not yet enabled on your zone. Enable it by running `terraform apply` and try again.\n\nApply the configuration:",
      "language": "unknown"
    },
    {
      "code": "Type `yes` when prompted.\n\n## 3. Verify the settings\n\nTry the same command as before. The command will now succeed.",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Add exceptions with Page Rules Â· Cloudflare Terraform docs\ndescription: Page Rules let you override zone settings for specific URL\n  patterns. Redirects old URLs with a 301 permanent redirect.\nlastUpdated: 2025-10-09T15:47:46.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/terraform/tutorial/add-page-rules/\n  md: https://developers.cloudflare.com/terraform/tutorial/add-page-rules/index.md\n---\n\nIn the [Configure HTTPS settings](https://developers.cloudflare.com/terraform/tutorial/configure-https-settings/) tutorial, you configured zone settings that apply to all incoming requests for `example.com`. In this tutorial, you will add an exception to these settings using [Page Rules](https://developers.cloudflare.com/rules/page-rules/).\n\nSpecifically, you will increase the security level for a URL known to be expensive to render and cannot be cached: `https://www.example.com/expensive-db-call`. Additionally, you will add a redirect from the previous URL used to host this page.\n\nNote\n\nTerraform code snippets below refer to the v5 SDK only.\n\n## 1. Create Page Rules configuration\n\nCreate a new branch and append the configuration.",
      "language": "unknown"
    },
    {
      "code": "Page Rules let you override zone settings for specific URL patterns. Add two Page Rules to your `main.tf`:",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "2. Preview and apply the changes",
      "id": "2.-preview-and-apply-the-changes"
    },
    {
      "level": "h2",
      "text": "3. Verify the settings",
      "id": "3.-verify-the-settings"
    },
    {
      "level": "h2",
      "text": "1. Create Page Rules configuration",
      "id": "1.-create-page-rules-configuration"
    }
  ],
  "url": "llms-txt#set-ssl-mode-to-strict",
  "links": []
}