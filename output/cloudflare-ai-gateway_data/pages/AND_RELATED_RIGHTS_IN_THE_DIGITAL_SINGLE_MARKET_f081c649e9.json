{
  "title": "AND RELATED RIGHTS IN THE DIGITAL SINGLE MARKET.",
  "content": "bash\ncurl --request PUT \\\nhttps://api.cloudflare.com/client/v4/zones/{zone_id}/fraud_detection/sequence_cookies \\\n--header \"Authorization: Bearer <API_TOKEN>\" \\\n--header \"Content-Type: application/json\" \\\n--data '{\"enabled\": true}'\nbash\ncurl --request PUT https://api.cloudflare.com/client/v4/zones/{zone_id}/fraud_detection/sequence_cookies \\\n--header \"Authorization: Bearer <API_TOKEN>\" \\\n--data '{\"enabled\": false}'\ntxt\ncf.sequence.current_op eq \"bbbbbbbb\" and\nany(cf.sequence.previous_ops[*] == \"aaaaaaaa\")\ntxt\ncf.sequence.current_op eq \"bbbbbbbb\" and\nnot any(cf.sequence.previous_ops[*] == \"aaaaaaaa\")\ntxt\ncf.sequence.current_op eq \"bbbbbbbb\" and\ncf.sequence.msec_since_op[\"aaaaaaaa\"] ge 1000\ntxt\ncf.sequence.current_op eq \"bbbbbbbb\" and\nnot cf.sequence.msec_since_op[\"aaaaaaaa\"] ge 1000\nmermaid\n---\ntitle: Rule phases\n---\nflowchart LR\naccTitle: AI bots rule phases diagram\naccDescr: This diagram details the phases in which AI bots rules run.\nA[Custom rules] --> B[Block AI bots<br>managed rule] --> C[Allow verified bots rule]\nsh\ncurl 'https://api.cloudflare.com/client/v4/zones/{zone_id}/bot_management/feedback' \\\n--header \"X-Auth-Email: <EMAIL>\" \\\n--header \"X-Auth-Key: <API_KEY>\" \\\n--header \"Content-Type: application/json\" \\\n--data '{\n  \"type\": \"false_positive\",\n  \"description\": \"Legitimate customers having low score\",\n  \"expression\": \"(cf.bot_management.score le 46 and ip.src.asnum eq 132892 and http.host eq \\\"api-discovery.theburritobot.com\\\" and cf.bot_management.ja3_hash eq \\\"3fed133de60c35724739b913924b6c24\\\")\",\n  \"first_request_seen_at\": \"2022-08-01T00:00:00Z\",\n  \"last_request_seen_at\": \"2022-08-10T00:00:00Z\",\n  \"requests\": 100,\n  \"requests_by_score\": {\n    \"1\": 50,\n    \"10\": 50\n  },\n  \"requests_by_score_src\": {\n    \"heuristics\": 25,\n    \"machine_learning\": 75\n  },\n  \"requests_by_attribute\": {\n    \"topIPs\": [\n      {\n        \"metric\": \"10.75.34.1\",\n        \"requests\": 100\n      }\n    ],\n    \"topUserAgents\": [\n      {\n        \"metric\": \"curl/7.68.0\",\n        \"requests\": 100\n      }\n    ]\n  }\n}'\nbash\ncurl 'https://api.cloudflare.com/client/v4/zones/{zone_id}/bot_management/feedback' \\\n--header \"X-Auth-Email: <EMAIL>\" \\\n--header \"X-Auth-Key: <API_KEY>\"\nbash\n[\n  {\n    \"created_at\": \"2022-08-19T00:05:24.749712Z\",\n    \"type\": \"false_positive\",\n    \"description\": \"Legitimate customers having low score\",\n    \"expression\": \"(cf.bot_management.score le 46 and ip.src.asnum eq 132892 and http.host eq \\\"api-discovery.theburritobot.com\\\" and cf.bot_management.ja3_hash eq \\\"3fed133de60c35724739b913924b6c24\\\")\",\n    \"first_request_seen_at\": \"2022-08-01T00:00:00Z\",\n    \"last_request_seen_at\": \"2022-08-10T00:00:00Z\",\n    \"requests\": 100,\n    \"requests_by_score\": {\n      \"1\": 50,\n      \"10\": 50\n    },\n    \"requests_by_score_src\": {\n      \"heuristics\": 25,\n      \"machine_learning\": 75\n    },\n    \"requests_by_attribute\": {\n      \"topIPs\": [\n        {\n          \"metric\": \"10.75.34.1\",\n          \"requests\": 100\n        }\n      ],\n      \"topUserAgents\": [\n        {\n          \"metric\": \"curl/7.68.0\",\n          \"requests\": 100\n        }\n      ]\n    }\n  }\n]\njson\n{\n  \"1\": 50,\n  \"10\": 50\n}\njson\n{\n  \"machine_learning\": 75,\n  \"heuristics\": 25\n}\njson\n  {\n    \"topIPs\": [\n      {\n        \"metric\": \"10.75.34.1\"\n        \"requests\": 100\n      }\n    ],\n    \"topUserAgents\": [\n      {\n        \"metric\": \"curl/7.68.0\",\n        \"requests\": 100\n      }\n    ]\n  }\ntxt\n  (cf.bot_management.score eq 1 and not cf.bot_management.verified_bot and not cf.bot_management.static_resource)\n  txt\n  (cf.bot_management.score ge 2 and cf.bot_management.score le 29 and not cf.bot_management.verified_bot and not cf.bot_management.static_resource)\n  txt\n  (not cf.bot_management.js_detection.passed and http.request.method eq \"\" and http.request.uri.path in {\"\"})\n  txt\nnot cf.bot_management.verified_bot\nand not cf.bot_management.static_resource\nand not  cf.bot_management.corporate_proxy\nand cf.bot_management.score lt 30\njs\n  // Configurable Variables\n  const PATH_START = \"/exampleURI\";\n  const DELAY_FROM = 5; // in seconds\n  const DELAY_TO = 10; // in seconds\n\nexport default {\n    async fetch(request, env, ctx) {\n      const url = new URL(request.url);\n      const botScore = request.cf.botManagement.score;\n\nif (url.pathname.startsWith(PATH_START) && botScore < 30) {\n        // Random delay between DELAY_FROM and DELAY_TO seconds\n        const delay =\n          Math.floor(Math.random() * (DELAY_TO - DELAY_FROM + 1)) + DELAY_FROM;\n        await new Promise((resolve) => setTimeout(resolve, delay * 1000));\n\n// Fetch the original request\n        return fetch(request);\n      }\n\n// Fetch the original request without delay\n      return fetch(request);\n    },\n  };\n  ts\n  // Configurable Variables\n  const PATH_START = '/exampleURI';\n  const DELAY_FROM = 5; // in seconds\n  const DELAY_TO = 10; // in seconds\n\nexport default {\n    async fetch(request, env, ctx): Promise<Response> {\n      const url = new URL(request.url);\n      const botScore = request.cf.botManagement.score\n\nif (url.pathname.startsWith(PATH_START) && botScore < 30) {\n        // Random delay between DELAY_FROM and DELAY_TO seconds\n        const delay = Math.floor(Math.random() * (DELAY_TO - DELAY_FROM + 1)) + DELAY_FROM;\n        await new Promise(resolve => setTimeout(resolve, delay * 1000));\n\n// Fetch the original request\n        return fetch(request);\n      }\n\n// Fetch the original request without delay\n      return fetch(request);\n    },\n  } satisfies ExportedHandler<Env>;\n  bash\n  curl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/addressing/address_maps\" \\\n    --request POST \\\n    --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n    --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\" \\\n    --json '{\n      \"description\": \"Example address map\",\n      \"enabled\": true,\n      \"ips\": [\n          \"203.0.113.1\",\n          \"203.0.113.2\"\n      ],\n      \"memberships\": [\n          {\n              \"identifier\": \"<ZONE_ID>\",\n              \"kind\": \"zone\"\n          }\n      ]\n    }'\n  bash\ncurl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/addressing/address_maps\" \\\n  --request POST \\\n  --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n  --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\" \\\n  --json '{\n    \"description\": \"default_sni\",\n    \"default_sni\": \"sni.example.com\",\n    \"enabled\": false,\n    \"ips\": [\n        \"192.0.0.1\"\n    ],\n    \"memberships\": []\n  }'\ntxt\n[COMPANY LETTERHEAD]\n\nLETTER OF AGENCY (\"LOA\")\n\nTo whom it may concern:\n\n[COMPANY NAME] (the \"Company\") authorizes Cloudflare, Inc. with AS13335 to advertise the following IP address blocks / originating ASNs:\n\n- - - - - - - - - - - - - - - - - - -\n[Subnet & Originating ASN]\n[Subnet & Originating ASN]\n[Subnet & Originating ASN]\n- - - - - - - - - - - - - - - - - - -\n\nAs a representative of the Company that is the owner of the aforementioned IP address blocks / originating ASNs, I hereby declare that I am authorized to sign this LOA on the Companyâ€™s behalf.\n\nShould you have any questions please email me at [E-MAIL ADDRESS], or call: [TELEPHONE NUMBER]\n\n[NAME TYPED]\n[TITLE]\n[COMPANY NAME]\n[COMPANY ADDRESS]\n[COMPANY STAMP]\nbash\ncurl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/addressing/prefixes/$PREFIX_ID/bindings\" \\\n  --request GET \\\n  --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n  --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\"\nbash\ncurl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/addressing/prefixes/$PREFIX_ID/bindings\" \\\n  --request POST \\\n  --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n  --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\" \\\n  --json '{\n    \"cidr\": \"203.0.113.100/32\",\n    \"service_id\": \"<SERVICE_ID>\"\n  }'\njson\n{\n  \"errors\": [],\n  \"messages\": [],\n  \"success\": true,\n  \"result\": {\n    \"cidr\": \"203.0.113.100/32\",\n    \"id\": \"<SERVICE_BINDING_ID>\",\n    \"provisioning\": {\n      \"state\": \"provisioning\"\n      },\n    \"service_id\": \"<SERVICE_ID>\",\n    \"service_name\": \"<SERVICE_NAME>\"\n  }\n}\nbash\ncurl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/addressing/prefixes/$PREFIX_ID/bindings\" \\\n  --request GET \\\n  --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n  --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\"\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/spectrum/apps\" \\\n  --request POST \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '[\n    {\n        \"protocol\": \"tcp/22\",\n        \"dns\": {\n            \"type\": \"CNAME\",\n            \"name\": \"ssh.example.com\"\n        },\n        \"origin_direct\": [\n            \"tcp://192.0.2.1:22\"\n        ],\n        \"proxy_protocol\": \"off\",\n        \"ip_firewall\": true,\n        \"tls\": \"full\",\n        \"edge_ips\": {\n            \"type\": \"static\",\n            \"ips\": [\n                \"203.0.113.18\"\n            ]\n        },\n        \"traffic_type\": \"direct\"\n    }\n  ]'\nbash\ncurl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/addressing/prefixes/$PREFIX_ID/bindings\" \\\n  --request GET \\\n  --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n  --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\"\nbash\ncurl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/addressing/prefixes/$PREFIX_ID/bindings\" \\\n  --request POST \\\n  --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n  --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\" \\\n  --json '{\n    \"cidr\": \"203.0.113.100/32\",\n    \"service_id\": \"<SERVICE_ID>\"\n  }'\njson\n{\n  \"errors\": [],\n  \"messages\": [],\n  \"success\": true,\n  \"result\": {\n    \"cidr\": \"203.0.113.100/32\",\n    \"id\": \"<SERVICE_BINDING_ID>\",\n    \"provisioning\": {\n      \"state\": \"provisioning\"\n      },\n    \"service_id\": \"<SERVICE_ID>\",\n    \"service_name\": \"<SERVICE_NAME>\"\n  }\n}\nbash\n   curl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/addressing/prefixes/$PREFIX_ID\" \\\n     --request GET \\\n     --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n     --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\"\n   json\n    \"result\": {\n       \"id\": \"72823e95d6c64d48a8111fec81179816\",\n       \"created_at\": \"2025-02-25T00:34:11.423722Z\",\n       \"modified_at\": \"2025-02-25T00:34:11.423722Z\",\n       \"cidr\": \"203.0.113.0/24\",\n       \"account_id\": \"654c5f71c324478cc9f68d60065d4620\",\n       \"description\": \"\",\n       \"approved\": \"P\",\n       \"on_demand_enabled\": false,\n       \"on_demand_locked\": false,\n       \"advertised\": null,\n       \"advertised_modified_at\": null,\n       \"loa_document_id\": \"b9ff4afe312246a8b2e7324d98f40b23\",\n       \"asn\": 13335,\n       \"ownership_validation_token\": \"<OWNERSHIP_VALIDATION_TOKEN>\",\n       \"delegate_loa_creation\" : true,\n       \"irr_validation_state\": \"valid\",\n       \"rpki_validation_state\": \"valid\",\n       \"ownership_validation_state\": \"missing\",\n     }\n   bash\n   curl \"https://api.cloudflare.com/client/v4/accounts/$ACCOUNT_ID/addressing/prefixes/$PREFIX_ID/validate\" \\\n     --request POST \\\n     --header \"X-Auth-Email: $CLOUDFLARE_EMAIL\" \\\n     --header \"X-Auth-Key: $CLOUDFLARE_API_KEY\"\n   sh\nnpm create cloudflare@latest -- browser-worker\nsh\nnpm i @cloudflare/puppeteer\nsh\nnpm i zod\nnpm i zod-to-json-schema\njsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"compatibility_flags\": [\n      \"nodejs_compat\"\n    ]\n  }\n  toml\n  compatibility_flags = [ \"nodejs_compat\" ]\n  jsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"browser\": {\n      \"binding\": \"MY_BROWSER\"\n    }\n  }\n  toml\n  [browser]\n  binding = \"MY_BROWSER\"\n  plaintext\nACCOUNT_ID=\nAPI_TOKEN=\nts\nimport { z } from \"zod\";\nimport puppeteer from \"@cloudflare/puppeteer\";\nimport zodToJsonSchema from \"zod-to-json-schema\";\n\nexport default {\n  async fetch(request, env) {\n    const url = new URL(request.url);\n    if (url.pathname != \"/\") {\n      return new Response(\"Not found\");\n    }\n\n// Your prompt and site to scrape\n    const userPrompt = \"Extract the first post only.\";\n    const targetUrl = \"https://labs.apnic.net/\";\n\n// Launch browser\n    const browser = await puppeteer.launch(env.MY_BROWSER);\n    const page = await browser.newPage();\n    await page.goto(targetUrl);\n\n// Get website text\n    const renderedText = await page.evaluate(() => {\n      // @ts-ignore js code to run in the browser context\n      const body = document.querySelector(\"body\");\n      return body ? body.innerText : \"\";\n    });\n    // Close browser since we no longer need it\n    await browser.close();\n\n// define your desired json schema\n    const outputSchema = zodToJsonSchema(\n      z.object({ title: z.string(), url: z.string(), date: z.string() })\n    );\n\n// Example prompt\n    const prompt = `\n    You are a sophisticated web scraper. You are given the user data extraction goal and the JSON schema for the output data format.\n    Your task is to extract the requested information from the text and output it in the specified JSON schema format:\n\n${JSON.stringify(outputSchema)}\n\nDO NOT include anything else besides the JSON output, no markdown, no plaintext, just JSON.\n\nUser Data Extraction Goal: ${userPrompt}\n\nText extracted from the webpage: ${renderedText}`;\n\n// TODO call llm\n    //const result = await getLLMResult(env, prompt, outputSchema);\n    //return Response.json(result);\n  }\n\n} satisfies ExportedHandler<Env>;\n`ts\nasync function getLLMResult(env, prompt: string, schema?: any) {\n  const model = \"@hf/thebloke/deepseek-coder-6.7b-instruct-awq\"\n  const requestBody = {\n    messages: [{\n      role: \"user\",\n      content: prompt\n    }],\n  };\n  const aiUrl = `https://api.cloudflare.com/client/v4/accounts/${env.ACCOUNT_ID}/ai/run/${model}`\n\nconst response = await fetch(aiUrl, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${env.API_TOKEN}`,\n    },\n    body: JSON.stringify(requestBody),\n  });\n  if (!response.ok) {\n    console.log(JSON.stringify(await response.text(), null, 2));\n    throw new Error(`LLM call failed ${aiUrl} ${response.status}`);\n  }\n\n// process response\n  const data = await response.json();\n  const text = data.result.response || '';\n  const value = (text.match(//) || [null, text])[1];\n  try {\n    return JSON.parse(value);\n  } catch(e) {\n    console.error(`${e} . Response: ${value}`)\n  }\n}\n`ts\nimport { z } from \"zod\";\nimport puppeteer from \"@cloudflare/puppeteer\";\nimport zodToJsonSchema from \"zod-to-json-schema\";\n\nexport default {\n  async fetch(request, env) {\n    const url = new URL(request.url);\n    if (url.pathname != \"/\") {\n      return new Response(\"Not found\");\n    }\n\n// Your prompt and site to scrape\n    const userPrompt = \"Extract the first post only.\";\n    const targetUrl = \"https://labs.apnic.net/\";\n\n// Launch browser\n    const browser = await puppeteer.launch(env.MY_BROWSER);\n    const page = await browser.newPage();\n    await page.goto(targetUrl);\n\n// Get website text\n    const renderedText = await page.evaluate(() => {\n      // @ts-ignore js code to run in the browser context\n      const body = document.querySelector(\"body\");\n      return body ? body.innerText : \"\";\n    });\n    // Close browser since we no longer need it\n    await browser.close();\n\n// define your desired json schema\n    const outputSchema = zodToJsonSchema(\n      z.object({ title: z.string(), url: z.string(), date: z.string() })\n    );\n\n// Example prompt\n    const prompt = `\n    You are a sophisticated web scraper. You are given the user data extraction goal and the JSON schema for the output data format.\n    Your task is to extract the requested information from the text and output it in the specified JSON schema format:\n\n${JSON.stringify(outputSchema)}\n\nDO NOT include anything else besides the JSON output, no markdown, no plaintext, just JSON.\n\nUser Data Extraction Goal: ${userPrompt}\n\nText extracted from the webpage: ${renderedText}`;\n\n// call llm\n    const result = await getLLMResult(env, prompt, outputSchema);\n    return Response.json(result);\n  }\n\n} satisfies ExportedHandler<Env>;\n\nasync function getLLMResult(env, prompt: string, schema?: any) {\n  const model = \"@hf/thebloke/deepseek-coder-6.7b-instruct-awq\"\n  const requestBody = {\n    messages: [{\n      role: \"user\",\n      content: prompt\n    }],\n  };\n  const aiUrl = `https://api.cloudflare.com/client/v4/accounts/${env.ACCOUNT_ID}/ai/run/${model}`\n\nconst response = await fetch(aiUrl, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${env.API_TOKEN}`,\n    },\n    body: JSON.stringify(requestBody),\n  });\n  if (!response.ok) {\n    console.log(JSON.stringify(await response.text(), null, 2));\n    throw new Error(`LLM call failed ${aiUrl} ${response.status}`);\n  }\n\n// process response\n  const data = await response.json() as { result: { response: string }};\n  const text = data.result.response || '';\n  const value = (text.match(//) || [null, text])[1];\n  try {\n    return JSON.parse(value);\n  } catch(e) {\n    console.error(`${e} . Response: ${value}`)\n  }\n}\nsh\nnpx wrangler dev\njson\n{\n  \"title\": \"IP Addresses in 2024\",\n  \"url\": \"http://example.com/ip-addresses-in-2024\",\n  \"date\": \"11 Jan 2025\"\n}\nsh\n  npm create cloudflare@latest -- browser-worker\n  sh\n  yarn create cloudflare browser-worker\n  sh\n  pnpm create cloudflare@latest browser-worker\n  sh\n  npm i -D @cloudflare/puppeteer\n  sh\n  yarn add -D @cloudflare/puppeteer\n  sh\n  pnpm add -D @cloudflare/puppeteer\n  jsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"browser\": {\n      \"binding\": \"BROWSER\"\n    }\n  }\n  toml\n  browser = { binding = \"BROWSER\" }\n  ts\nimport puppeteer from \"@cloudflare/puppeteer\";\n\nconst generateDocument = (name: string) => {};\n\nexport default {\n  async fetch(request, env) {\n    const { searchParams } = new URL(request.url);\n    let name = searchParams.get(\"name\");\n\nif (!name) {\n      return new Response(\"Please provide a name using the ?name= parameter\");\n    }\n\nconst browser = await puppeteer.launch(env.BROWSER);\n    const page = await browser.newPage();\n\n// Step 1: Define HTML and CSS\n    const document = generateDocument(name);\n\n// Step 2: Send HTML and CSS to our browser\n    await page.setContent(document);\n\n// Step 3: Generate and return PDF\n\nreturn new Response();\n  },\n};\nts\nconst generateDocument = (name: string) => {\n  return `\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <style>\n      html,\n      body,\n      #container {\n        width: 100%;\n        height: 100%;\n        margin: 0;\n      }\n      body {\n        font-family: Baskerville, Georgia, Times, serif;\n        background-color: #f7f1dc;\n      }\n      strong {\n        color: #5c594f;\n        font-size: 128px;\n        margin: 32px 0 48px 0;\n      }\n      em {\n        font-size: 24px;\n      }\n      #container {\n        flex-direction: column;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n      }\n    </style>\n  </head>\n\n<body>\n    <div id=\"container\">\n      <em>This is to certify that</em>\n      <strong>${name}</strong>\n      <em>has rendered a PDF using Cloudflare Workers</em>\n    </div>\n  </body>\n</html>\n`;\n};\nts\nconst browser = await puppeteer.launch(env.BROWSER);\nconst page = await browser.newPage();\nts\nawait page.setContent(document);\nts\nlet pdf = page.pdf({ printBackground: true });\nts\nreturn new Response(pdf, {\n  headers: {\n    \"content-type\": \"application/pdf\",\n  },\n});\nts\nimport puppeteer from \"@cloudflare/puppeteer\";\n\nconst generateDocument = (name: string) => {\n  return `\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <style>\n    html, body, #container {\n    width: 100%;\n      height: 100%;\n    margin: 0;\n    }\n      body {\n        font-family: Baskerville, Georgia, Times, serif;\n        background-color: #f7f1dc;\n      }\n      strong {\n        color: #5c594f;\n    font-size: 128px;\n    margin: 32px 0 48px 0;\n      }\n    em {\n    font-size: 24px;\n    }\n      #container {\n    flex-direction: column;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    text-align: center\n      }\n    </style>\n  </head>\n\n<body>\n    <div id=\"container\">\n    <em>This is to certify that</em>\n    <strong>${name}</strong>\n    <em>has rendered a PDF using Cloudflare Workers</em>\n  </div>\n  </body>\n</html>\n`;\n};\n\nexport default {\n  async fetch(request, env) {\n    const { searchParams } = new URL(request.url);\n    let name = searchParams.get(\"name\");\n\nif (!name) {\n      return new Response(\"Please provide a name using the ?name= parameter\");\n    }\n\nconst browser = await puppeteer.launch(env.BROWSER);\n    const page = await browser.newPage();\n\n// Step 1: Define HTML and CSS\n    const document = generateDocument(name);\n\n// // Step 2: Send HTML and CSS to our browser\n    await page.setContent(document);\n\n// // Step 3: Generate and return PDF\n    const pdf = await page.pdf({ printBackground: true });\n\n// Close browser since we no longer need it\n    await browser.close();\n\nreturn new Response(pdf, {\n      headers: {\n        \"content-type\": \"application/pdf\",\n      },\n    });\n  },\n};\nsh\n  npx wrangler dev\n  sh\n  yarn wrangler dev\n  sh\n  pnpm wrangler dev\n  sh\n  npm i -D @cloudflare/playwright-mcp\n  sh\n  yarn add -D @cloudflare/playwright-mcp\n  sh\n  pnpm add -D @cloudflare/playwright-mcp\n  jsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"name\": \"playwright-mcp-example\",\n    \"main\": \"src/index.ts\",\n    \"compatibility_date\": \"2025-03-10\",\n    \"compatibility_flags\": [\n      \"nodejs_compat\"\n    ],\n    \"browser\": {\n      \"binding\": \"BROWSER\"\n    },\n    \"migrations\": [\n      {\n        \"tag\": \"v1\",\n        \"new_sqlite_classes\": [\n          \"PlaywrightMCP\"\n        ]\n      }\n    ],\n    \"durable_objects\": {\n      \"bindings\": [\n        {\n          \"name\": \"MCP_OBJECT\",\n          \"class_name\": \"PlaywrightMCP\"\n        }\n      ]\n    }\n  }\n  toml\n  name = \"playwright-mcp-example\"\n  main = \"src/index.ts\"\n  compatibility_date = \"2025-03-10\"\n  compatibility_flags = [\"nodejs_compat\"]\n\n[browser]\n  binding = \"BROWSER\"\n\n[[migrations]]\n  tag = \"v1\"\n  new_sqlite_classes = [\"PlaywrightMCP\"]\n\n[[durable_objects.bindings]]\n  name = \"MCP_OBJECT\"\n  class_name = \"PlaywrightMCP\"\n  ts\nimport { env } from 'cloudflare:workers';\nimport { createMcpAgent } from '@cloudflare/playwright-mcp';\n\nexport const PlaywrightMCP = createMcpAgent(env.BROWSER);\n\nexport default {\n  fetch(request: Request, env: Env, ctx: ExecutionContext) {\n    const { pathname } = new URL(request.url);\n\nswitch (pathname) {\n      case '/sse':\n      case '/sse/message':\n        return PlaywrightMCP.serveSSE('/sse').fetch(request, env, ctx);\n      case '/mcp':\n        return PlaywrightMCP.serve('/mcp').fetch(request, env, ctx);\n      default:\n        return new Response('Not Found', { status: 404 });\n    }\n  },\n};\nbash\nnpx wrangler deploy\njs\n  const browser = await puppeteer.launch(env.MYBROWSER);\n  const page = await browser.newPage();\n  await page.addStyleTag({\n    content: `\n      @font-face {\n        font-family: 'CustomFont';\n        src: url('https://your-cdn.com/fonts/MyFont.woff2') format('woff2');\n        font-weight: normal;\n        font-style: normal;\n      }\n\nbody {\n        font-family: 'CustomFont', sans-serif;\n      }\n    `\n  });\n  ts\n  const browser = await puppeteer.launch(env.MYBROWSER);\n  const page = await browser.newPage();\n  await page.addStyleTag({\n    content: `\n      @font-face {\n        font-family: 'CustomFont';\n        src: url('https://your-cdn.com/fonts/MyFont.woff2') format('woff2');\n        font-weight: normal;\n        font-style: normal;\n      }\n\nbody {\n        font-family: 'CustomFont', sans-serif;\n      }\n    `\n  });\n  js\n  const browser = await playwright.launch(env.MYBROWSER);\n  const page = await browser.newPage();\n  await page.addStyleTag({\n    content: `\n      @font-face {\n        font-family: 'CustomFont';\n        src: url('data:font/woff2;base64,<BASE64_STRING>') format('woff2');\n        font-weight: normal;\n        font-style: normal;\n      }\n\nbody {\n        font-family: 'CustomFont', sans-serif;\n      }\n    `\n  });\n  ts\n  const browser = await playwright.launch(env.MYBROWSER);\n  const page = await browser.newPage();\n  await page.addStyleTag({\n    content: `\n      @font-face {\n        font-family: 'CustomFont';\n        src: url('data:font/woff2;base64,<BASE64_STRING>') format('woff2');\n        font-weight: normal;\n        font-style: normal;\n      }\n\nbody {\n        font-family: 'CustomFont', sans-serif;\n      }\n    `\n  });\n  bash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"url\": \"https://example.com/\",\n    \"addStyleTag\": [\n      {\n        \"content\": \"@font-face { font-family: '\\''CustomFont'\\''; src: url('\\''https://your-cdn.com/fonts/MyFont.woff2'\\'') format('\\''woff2'\\''); font-weight: normal; font-style: normal; } body { font-family: '\\''CustomFont'\\'', sans-serif; }\"\n      }\n    ]\n  }' \\\n  --output \"screenshot.png\"\nbash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"url\": \"https://example.com/\",\n    \"addStyleTag\": [\n      {\n        \"content\": \"@font-face { font-family: '\\''CustomFont'\\''; src: url('\\''data:font/woff2;base64,<BASE64_STRING>'\\'') format('\\''woff2'\\''); font-weight: normal; font-style: normal; } body { font-family: '\\''CustomFont'\\'', sans-serif; }\"\n      }\n    ]\n  }' \\\n  --output \"screenshot.png\"\njsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"name\": \"browser-rendering\",\n    \"main\": \"src/index.ts\",\n    \"workers_dev\": true,\n    \"compatibility_flags\": [\n      \"nodejs_compat_v2\"\n    ],\n    \"browser\": {\n      \"binding\": \"MYBROWSER\"\n    }\n  }\n  toml\n  # Top-level configuration\n  name = \"browser-rendering\"\n  main = \"src/index.ts\"\n  workers_dev = true\n  compatibility_flags = [\"nodejs_compat_v2\"]\n\nbrowser = { binding = \"MYBROWSER\" }\n  javascript\nconst browser = await puppeteer.launch(env.MYBROWSER);\ntxt\nhttps://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/content\nbash\n  curl -X 'POST' 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/content' \\\n    -H 'Content-Type: application/json' \\\n    -H 'Authorization: Bearer <apiToken>' \\\n    -d '{\"url\": \"https://developers.cloudflare.com/\"}'\n  typescript\n  import Cloudflare from \"cloudflare\";\n\nconst client = new Cloudflare({\n    apiToken: process.env[\"CLOUDFLARE_API_TOKEN\"],\n  });\n\nconst content = await client.browserRendering.content.create({\n    account_id: process.env[\"CLOUDFLARE_ACCOUNT_ID\"],\n    url: \"https://developers.cloudflare.com/\",\n  });\n\nconsole.log(content);\n  bash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/content' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n      \"url\": \"https://cloudflare.com/\",\n      \"rejectResourceTypes\": [\"image\"],\n      \"rejectRequestPattern\": [\"/^.*\\\\.(css)\"]\n    }'\njson\n{\n  \"url\": \"https://example.com\",\n  \"gotoOptions\": {\n    \"waitUntil\": \"networkidle0\"\n  }\n}\ntxt\nhttps://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/json\nbash\n  curl --request POST 'https://api.cloudflare.com/client/v4/accounts/CF_ACCOUNT_ID/browser-rendering/json' \\\n    --header 'authorization: Bearer CF_API_TOKEN' \\\n    --header 'content-type: application/json' \\\n    --data '{\n    \"url\": \"https://developers.cloudflare.com/\",\n    \"prompt\": \"Get me the list of AI products\",\n    \"response_format\": {\n      \"type\": \"json_schema\",\n      \"schema\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"products\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"link\": {\n                    \"type\": \"string\"\n                  }\n                },\n                \"required\": [\n                  \"name\"\n                ]\n              }\n            }\n          }\n        }\n    }\n  }'\n  json\n  {\n    \"success\": true,\n    \"result\": {\n      \"products\": [\n        {\n          \"name\": \"Build a RAG app\",\n          \"link\": \"https://developers.cloudflare.com/workers-ai/tutorials/build-a-retrieval-augmented-generation-ai/\"\n        },\n        {\n          \"name\": \"Workers AI\",\n          \"link\": \"https://developers.cloudflare.com/workers-ai/\"\n        },\n        {\n          \"name\": \"Vectorize\",\n  13 collapsed lines\n          \"link\": \"https://developers.cloudflare.com/vectorize/\"\n        },\n        {\n          \"name\": \"AI Gateway\",\n          \"link\": \"https://developers.cloudflare.com/ai-gateway/\"\n        },\n        {\n          \"name\": \"AI Playground\",\n          \"link\": \"https://playground.ai.cloudflare.com/\"\n        }\n      ]\n    }\n  }\n  bash\n  curl --request POST 'https://api.cloudflare.com/client/v4/accounts/CF_ACCOUNT_ID/browser-rendering/json' \\\n    --header 'authorization: Bearer CF_API_TOKEN' \\\n    --header 'content-type: application/json' \\\n    --data '{\n      \"url\": \"https://developers.cloudflare.com/\",\n      \"prompt\": \"get me the list of AI products\"\n    }'\n  json\n    \"success\": true,\n    \"result\": {\n      \"AI Products\": [\n        \"Build a RAG app\",\n        \"Workers AI\",\n        \"Vectorize\",\n        \"AI Gateway\",\n        \"AI Playground\"\n      ]\n    }\n  }\n  bash\n  curl --request POST 'https://api.cloudflare.com/client/v4/accounts/CF_ACCOUNT_ID/browser-rendering/json' \\\n    --header 'authorization: Bearer CF_API_TOKEN' \\\n    --header 'content-type: application/json' \\\n    --data '\"response_format\": {\n      \"type\": \"json_schema\",\n      \"schema\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"products\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"link\": {\n                    \"type\": \"string\"\n                  }\n                },\n                \"required\": [\n                  \"name\"\n                ]\n              }\n            }\n          }\n        }\n    }'\n  json\n  {\n    \"success\": true,\n    \"result\": {\n      \"products\": [\n        {\n          \"name\": \"Workers\",\n          \"link\": \"https://developers.cloudflare.com/workers/\"\n        },\n        {\n          \"name\": \"Pages\",\n          \"link\": \"https://developers.cloudflare.com/pages/\"\n        },\n  55 collapsed lines\n        {\n          \"name\": \"R2\",\n          \"link\": \"https://developers.cloudflare.com/r2/\"\n        },\n        {\n          \"name\": \"Images\",\n          \"link\": \"https://developers.cloudflare.com/images/\"\n        },\n        {\n          \"name\": \"Stream\",\n          \"link\": \"https://developers.cloudflare.com/stream/\"\n        },\n        {\n          \"name\": \"Build a RAG app\",\n          \"link\": \"https://developers.cloudflare.com/workers-ai/tutorials/build-a-retrieval-augmented-generation-ai/\"\n        },\n        {\n          \"name\": \"Workers AI\",\n          \"link\": \"https://developers.cloudflare.com/workers-ai/\"\n        },\n        {\n          \"name\": \"Vectorize\",\n          \"link\": \"https://developers.cloudflare.com/vectorize/\"\n        },\n        {\n          \"name\": \"AI Gateway\",\n          \"link\": \"https://developers.cloudflare.com/ai-gateway/\"\n        },\n        {\n          \"name\": \"AI Playground\",\n          \"link\": \"https://playground.ai.cloudflare.com/\"\n        },\n        {\n          \"name\": \"Access\",\n          \"link\": \"https://developers.cloudflare.com/cloudflare-one/access-controls/policies/\"\n        },\n        {\n          \"name\": \"Tunnel\",\n          \"link\": \"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/\"\n        },\n        {\n          \"name\": \"Gateway\",\n          \"link\": \"https://developers.cloudflare.com/cloudflare-one/traffic-policies/\"\n        },\n        {\n          \"name\": \"Browser Isolation\",\n          \"link\": \"https://developers.cloudflare.com/cloudflare-one/remote-browser-isolation/\"\n        },\n        {\n          \"name\": \"Replace your VPN\",\n          \"link\": \"https://developers.cloudflare.com/learning-paths/replace-vpn/concepts/\"\n        }\n      ]\n    }\n  }\n  typescript\n  import Cloudflare from \"cloudflare\";\n\nconst client = new Cloudflare({\n    apiToken: process.env[\"CLOUDFLARE_API_TOKEN\"], // This is the default and can be omitted\n  });\n\nconst json = await client.browserRendering.json.create({\n    account_id: process.env[\"CLOUDFLARE_ACCOUNT_ID\"],\n    url: \"https://developers.cloudflare.com/\",\n    prompt: \"Get me the list of AI products\",\n    response_format: {\n      type: \"json_schema\",\n      schema: {\n        type: \"object\",\n        properties: {\n          products: {\n            type: \"array\",\n            items: {\n              type: \"object\",\n              properties: {\n                name: {\n                  type: \"string\",\n                },\n                link: {\n                  type: \"string\",\n                },\n              },\n              required: [\"name\"],\n            },\n          },\n        },\n      },\n    },\n  });\n  console.log(json);\n  bash\ncurl --request POST \\\n  --url https://api.cloudflare.com/client/v4/accounts/CF_ACCOUNT_ID/browser-rendering/json \\\n  --header 'authorization: Bearer CF_API_TOKEN' \\\n  --header 'content-type: application/json' \\\n  --data '{\n  \"url\": \"http://demoto.xyz/headings\",\n  \"prompt\": \"Get the heading from the page in the form of an object like h1, h2. If there are many headings of the same kind then grab the first one.\",\n  \"response_format\": {\n    \"type\": \"json_schema\",\n    \"schema\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"h1\": {\n          \"type\": \"string\"\n        },\n        \"h2\": {\n          \"type\": \"string\"\n        }\n      },\n      \"required\": [\n        \"h1\"\n      ]\n    }\n  },\n  \"custom_ai\": [\n    {\n      \"model\": \"anthropic/claude-sonnet-4-20250514\",\n      \"authorization\": \"Bearer <ANTHROPIC_API_KEY>\"\n    }\n  ]\n}\njson\n{\n  \"success\": true,\n  \"result\": {\n    \"h1\": \"Heading 1\",\n    \"h2\": \"Heading 2\"\n  }\n}\nplaintext\n\"custom_ai\": [\n  {\n    \"model\": \"anthropic/claude-sonnet-4-20250514\",\n    \"authorization\": \"Bearer <ANTHROPIC_API_KEY>\"\n  },\n  {\n    \"model\": \"workers-ai/@cf/meta/llama-3.3-70b-instruct-fp8-fast\",\n    \"authorization\": \"Bearer <CLOUDFLARE_AUTH_TOKEN>\"\n  },\n{\n    \"model\": \"openai/gpt-4o\",\n    \"authorization\": \"Bearer <OPENAI_API_KEY>\"\n  }\n]\njson\n{\n  \"url\": \"https://example.com\",\n  \"gotoOptions\": {\n    \"waitUntil\": \"networkidle0\"\n  }\n}\ntxt\nhttps://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/links\nbash\n  curl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/links' \\\n    -H 'Authorization: Bearer <apiToken>' \\\n    -H 'Content-Type: application/json' \\\n    -d '{\n      \"url\": \"https://developers.cloudflare.com/\"\n    }'\n  json\n  {\n    \"success\": true,\n    \"result\": [\n      \"https://developers.cloudflare.com/\",\n      \"https://developers.cloudflare.com/products/\",\n      \"https://developers.cloudflare.com/api/\",\n      \"https://developers.cloudflare.com/fundamentals/api/reference/sdks/\",\n      \"https://dash.cloudflare.com/\",\n      \"https://developers.cloudflare.com/fundamentals/subscriptions-and-billing/\",\n      \"https://developers.cloudflare.com/api/\",\n      \"https://developers.cloudflare.com/changelog/\",\n  64 collapsed lines\n      \"https://developers.cloudflare.com/glossary/\",\n      \"https://developers.cloudflare.com/reference-architecture/\",\n      \"https://developers.cloudflare.com/web-analytics/\",\n      \"https://developers.cloudflare.com/support/troubleshooting/http-status-codes/\",\n      \"https://developers.cloudflare.com/registrar/\",\n      \"https://developers.cloudflare.com/1.1.1.1/setup/\",\n      \"https://developers.cloudflare.com/workers/\",\n      \"https://developers.cloudflare.com/pages/\",\n      \"https://developers.cloudflare.com/r2/\",\n      \"https://developers.cloudflare.com/images/\",\n      \"https://developers.cloudflare.com/stream/\",\n      \"https://developers.cloudflare.com/products/?product-group=Developer+platform\",\n      \"https://developers.cloudflare.com/workers-ai/tutorials/build-a-retrieval-augmented-generation-ai/\",\n      \"https://developers.cloudflare.com/workers-ai/\",\n      \"https://developers.cloudflare.com/vectorize/\",\n      \"https://developers.cloudflare.com/ai-gateway/\",\n      \"https://playground.ai.cloudflare.com/\",\n      \"https://developers.cloudflare.com/products/?product-group=AI\",\n      \"https://developers.cloudflare.com/cloudflare-one/access-controls/policies/\",\n      \"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/\",\n      \"https://developers.cloudflare.com/cloudflare-one/traffic-policies/\",\n      \"https://developers.cloudflare.com/cloudflare-one/remote-browser-isolation/\",\n      \"https://developers.cloudflare.com/learning-paths/replace-vpn/concepts/\",\n      \"https://developers.cloudflare.com/products/?product-group=Cloudflare+One\",\n      \"https://workers.cloudflare.com/playground#LYVwNgLglgDghgJwgegGYHsHALQBM4RwDcABAEbogB2+CAngLzbPYZb6HbW5QDGU2AAwAmAIyiAzMIAsATlmi5ALhYs2wDnC40+AkeKlyFcgLAAoAMLoqEAKY3sAESgBnGOhdRo1pSXV4CYhIqOGBbBgAiKBpbAA8AOgArFwjSVCgwe1DwqJiE5IjzKxt7CGwAFToYW184GBgwPgIoa2REuAA3OBdeBFgIAGpgdFxwW3NzOPckElxbVDhwCBIAbzMSEm66Kl4-WwheAAsACgRbAEcQWxcIAEpV9Y2SXmsbkkOIYDASBhIAAwAPABCRwAeQs5QAmgAFACi70+YAAfI8NgCKLg6Cink8AYdREiABK2MBgdAkADqmDAuAByHx2JxJABMCR5UOrhIwEQAGsQDASAB3bokADm9lsCAItlw5DomxIFjJIFwqDAiFslMwPMl8TprNRzOQGKxfyIZkNZwgIAQVGCtkFJAAStd3FQXLZjh8vgAaB5M962OBzBAuXxrAMbCIvEoOCBVWwRXwROyxFDesBEI6ID0QBgAVXKADFsAAOCI+w0bAC+lZx1du5prlerRHMqmY6k02h4-CEYkkMnkilkRWsdgczjcHi8LSovn8mlIITCkTChE0qT8GSyq4iZDJZEKlnHpQqCdq9UavGarWS1gmZhWEW50QA+sNRpkk7k5vkUtW7Ydl2gQ9ro-YGEOxiyMwQA\",\n      \"https://workers.cloudflare.com/playground#LYVwNgLglgDghgJwgegGYHsHALQBM4RwDcABAEbogB2+CAngLzbPYZb6HbW5QDGU2AAwB2AMwAWAKyCAjMICc8meIBcLFm2Ac4XGnwEiJ0uYuUBYAFABhdFQgBTO9gAiUAM4x0bqNFsqSmngExCRUcMD2DABEUDT2AB4AdABWblGkqFBgjuGRMXFJqVGWNnaOENgAKnQw9v5wMDBgfARQtsjJcABucG68CLAQANTA6Ljg9paWCZ5IJLj2qHDgECQA3hYkJL10VLwB9hC8ABYAFAj2AI4g9m4QAJTrm1skvLZ388EkDE8vL8f2MBgdD+KIAd0wYFwUQANM8tgBfIgWeEkC4QEAIKgkABKt08VDc9hSblsp2092RiLhSMs6mYmm0uh4-CEYiksgUSnEJVsDicrg8Xh8bSo-kC2lIYQi0QihG06QCWRyMqiZGBZGK1j55SqNTq20azV4rXaqVsUwsayiwDgsQA+qNxtkoip8gtCmkEXT6Yzgsz9GyjJzTOJmEA\",\n      \"https://workers.cloudflare.com/playground#LYVwNgLglgDghgJwgegGYHsHALQBM4RwDcABAEbogB2+CAngLzbPYZb6HbW5QDGU2AAwBWABwBGAOyjRANgDMAFgCcygFwsWbYBzhcafASInS5S1QFgAUAGF0VCAFMH2ACJQAzjHQeo0e2ok2ngExCRUcMCODABEUDSOAB4AdABWHjGkqFBgzpHRcQkp6THWdg7OENgAKnQwjoFwMDBgfARQ9sipcABucB68CLAQANTA6LjgjtbWSd5IJLiOqHDgECQA3lYkJP10VLxBjhC8ABYAFAiOAI4gjh4QAJSb2zskyABUH69vHyQASo4WnBeI4SAADK7jJzgkgAdz8pxIEFOYNOPnWdEo8M8SIg6BIHmcuBIV1u9wgHmR6B+Ow+yFpvHsD1JjmhYIYJBipwgEBgHjUyGQSUiLUcySZwEyVlpVwgIAQVF2cLgfiOJwuUPQTgANKzyQ9HkRXgBfHVWE1EayaZjaXT6Hj8IRiKQyBQqZRlexOFzuLw+PwdKiBYK6UgRKKxKKEXSZII5PKRmJkMDoMilWzeyo1OoNXbNVq8dqddL2GZWDYxYCqqgAfXGk1yMTUhSWxQyJutNrtoQdhmdJjd5mUzCAA\",\n      \"https://workers.cloudflare.com/playground#LYVwNgLglgDghgJwgegGYHsHALQBM4RwDcABAEbogB2+CAngLzbPYZb6HbW5QDGU2AAwBmACyiAnBMFSAbIICMALhYs2wDnC40+AkeKkyJ8hQFgAUAGF0VCAFNb2ACJQAzjHSuo0G0pLq8AmISKjhgOwYAIigaOwAPADoAK1dI0lQoMAcwiOjYxJTIi2tbBwhsABU6GDs-OBgYMD4CKBtkJLgANzhXXgRYCABqYHRccDsLC3iPJBJcO1Q4cAgSAG9zEhIeuipefzsIXgALAAoEOwBHEDtXCABKNY3Nkl4bW7mb6FCfKgBVACUADIkBgkSJHCAQGCuJTIZDxMKNOwJV7ANJPTavKjvW4EECuazzEEkYSKIgYkjnCAgBBUEj-G4ebHI848c68CAnea3GItGwAwEAGhIuOpBNGdju5M2AF9BeYZUQLKpmOpNNoePwhGJJNI5IpijZ7I4XO5PN5WlQ-AFNKRQuEouFCJo0v5MtkHZEyGB0GQilYjWVKtValsGk1eHyqO1XDZJuZVpFgHAYgB9EZjLKRJR5eYFVIy5UqtVBDW6bUGPXGRTMIA\",\n      \"https://workers.cloudflare.com/playground#LYVwNgLglgDghgJwgegGYHsHALQBM4RwDcABAEbogB2+CAngLzbPYZb6HbW5QDGU2AAwAOAJwBmAIyiATKMkB2AKwyAXCxZtgHOFxp8BIidLmKVAWABQAYXRUIAU3vYAIlADOMdO6jQ7qki08AmISKjhgBwYAIigaBwAPADoAK3do0lQoMCcIqNj45LToq1t7JwhsABU6GAcAuBgYMD4CKDtkFLgANzh3XgRYCABqYHRccAcrK0SvJBJcB1Q4cAgSAG9LEhI+uipeQIcIXgALAAoEBwBHEAd3CABKDa3tnfc9g9RqXj8qEgBZI4ncYAOXQEAAgmAwOgAO4OXAXa63e5PTavV6XCAgBB-KgOWEkABKdy8VHcDjOAANARBgbgSAASdaXG53CBJSJ08YAXzC4J20LhCKSVIANM8MRj7gQQO4AgAWQRKMUvKUkE4OOCLBDyyXq15QmGwgLRADiAFEqtFVQaSDzbVKeQ8iGr7W7kMgSAB5KhgOgkS1VEislEQdwkWGYADWkd8JxIdI8JBgCHQCToSTdUFQJCRbPunKB4xIAEIGAwSOardEnlicX9afSwZChfDEaH2S63fXcYdjucqScIBAYPLPYkIs0HEleOhgFTu9sHZYeUQrBpmFodHoePwhGIpLJ5MoZKU7I5nG5PN5fO0qAEgjpSOFIjEudqQhlAtlcm-omQMJkCUNgXhU1S1PUOxNC0vBtB0aR2NMljrNEwBwHEAD6YwTDk0SqAUixFOkPIbpu24hLuBgHsYx5mDIzBAA\",\n      \"https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/\",\n      \"https://developers.cloudflare.com/ssl/origin-configuration/origin-ca/\",\n      \"https://developers.cloudflare.com/dns/zone-setups/full-setup/setup/\",\n      \"https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes/\",\n      \"https://developers.cloudflare.com/waf/custom-rules/use-cases/allow-traffic-from-specific-countries/\",\n      \"https://discord.cloudflare.com/\",\n      \"https://x.com/CloudflareDev\",\n      \"https://community.cloudflare.com/\",\n      \"https://github.com/cloudflare\",\n      \"https://developers.cloudflare.com/sponsorships/\",\n      \"https://developers.cloudflare.com/style-guide/\",\n      \"https://blog.cloudflare.com/\",\n      \"https://developers.cloudflare.com/fundamentals/\",\n      \"https://support.cloudflare.com/\",\n      \"https://www.cloudflarestatus.com/\",\n      \"https://www.cloudflare.com/trust-hub/compliance-resources/\",\n      \"https://www.cloudflare.com/trust-hub/gdpr/\",\n      \"https://www.cloudflare.com/\",\n      \"https://www.cloudflare.com/people/\",\n      \"https://www.cloudflare.com/careers/\",\n      \"https://radar.cloudflare.com/\",\n      \"https://speed.cloudflare.com/\",\n      \"https://isbgpsafeyet.com/\",\n      \"https://rpki.cloudflare.com/\",\n      \"https://ct.cloudflare.com/\",\n      \"https://x.com/cloudflare\",\n      \"http://discord.cloudflare.com/\",\n      \"https://www.youtube.com/cloudflare\",\n      \"https://github.com/cloudflare/cloudflare-docs\",\n      \"https://www.cloudflare.com/privacypolicy/\",\n      \"https://www.cloudflare.com/website-terms/\",\n      \"https://www.cloudflare.com/disclosure/\",\n      \"https://www.cloudflare.com/trademark/\"\n    ]\n  }\n  typescript\n  import Cloudflare from \"cloudflare\";\n\nconst client = new Cloudflare({\n    apiToken: process.env[\"CLOUDFLARE_API_TOKEN\"],\n  });\n\nconst links = await client.browserRendering.links.create({\n    account_id: process.env[\"CLOUDFLARE_ACCOUNT_ID\"],\n    url: \"https://developers.cloudflare.com/\",\n  });\n\nconsole.log(links);\n  bash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/links' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"url\": \"https://developers.cloudflare.com/\",\n    \"visibleLinksOnly\": true\n  }'\njson\n{\n  \"success\": true,\n  \"result\": [\n    \"https://developers.cloudflare.com/\",\n    \"https://developers.cloudflare.com/products/\",\n    \"https://developers.cloudflare.com/api/\",\n    \"https://developers.cloudflare.com/fundamentals/api/reference/sdks/\",\n    \"https://dash.cloudflare.com/\",\n    \"https://developers.cloudflare.com/fundamentals/subscriptions-and-billing/\",\n    \"https://developers.cloudflare.com/api/\",\n    \"https://developers.cloudflare.com/changelog/\",\n64 collapsed lines\n    \"https://developers.cloudflare.com/glossary/\",\n    \"https://developers.cloudflare.com/reference-architecture/\",\n    \"https://developers.cloudflare.com/web-analytics/\",\n    \"https://developers.cloudflare.com/support/troubleshooting/http-status-codes/\",\n    \"https://developers.cloudflare.com/registrar/\",\n    \"https://developers.cloudflare.com/1.1.1.1/setup/\",\n    \"https://developers.cloudflare.com/workers/\",\n    \"https://developers.cloudflare.com/pages/\",\n    \"https://developers.cloudflare.com/r2/\",\n    \"https://developers.cloudflare.com/images/\",\n    \"https://developers.cloudflare.com/stream/\",\n    \"https://developers.cloudflare.com/products/?product-group=Developer+platform\",\n    \"https://developers.cloudflare.com/workers-ai/tutorials/build-a-retrieval-augmented-generation-ai/\",\n    \"https://developers.cloudflare.com/workers-ai/\",\n    \"https://developers.cloudflare.com/vectorize/\",\n    \"https://developers.cloudflare.com/ai-gateway/\",\n    \"https://playground.ai.cloudflare.com/\",\n    \"https://developers.cloudflare.com/products/?product-group=AI\",\n    \"https://developers.cloudflare.com/cloudflare-one/access-controls/policies/\",\n    \"https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/\",\n    \"https://developers.cloudflare.com/cloudflare-one/traffic-policies/\",\n    \"https://developers.cloudflare.com/cloudflare-one/remote-browser-isolation/\",\n    \"https://developers.cloudflare.com/learning-paths/replace-vpn/concepts/\",\n    \"https://developers.cloudflare.com/products/?product-group=Cloudflare+One\",\n    \"https://workers.cloudflare.com/playground#LYVwNgLglgDghgJwgegGYHsHALQBM4RwDcABAEbogB2+CAngLzbPYZb6HbW5QDGU2AAwAmAIyiAzMIAsATlmi5ALhYs2wDnC40+AkeKlyFcgLAAoAMLoqEAKY3sAESgBnGOhdRo1pSXV4CYhIqOGBbBgAiKBpbAA8AOgArFwjSVCgwe1DwqJiE5IjzKxt7CGwAFToYW184GBgwPgIoa2REuAA3OBdeBFgIAGpgdFxwW3NzOPckElxbVDhwCBIAbzMSEm66Kl4-WwheAAsACgRbAEcQWxcIAEpV9Y2SXmsbkkOIYDASBhIAAwAPABCRwAeQs5QAmgAFACi70+YAAfI8NgCKLg6Cink8AYdREiABK2MBgdAkADqmDAuAByHx2JxJABMCR5UOrhIwEQAGsQDASAB3bokADm9lsCAItlw5DomxIFjJIFwqDAiFslMwPMl8TprNRzOQGKxfyIZkNZwgIAQVGCtkFJAAStd3FQXLZjh8vgAaB5M962OBzBAuXxrAMbCIvEoOCBVWwRXwROyxFDesBEI6ID0QBgAVXKADFsAAOCI+w0bAC+lZx1du5prlerRHMqmY6k02h4-CEYkkMnkilkRWsdgczjcHi8LSovn8mlIITCkTChE0qT8GSyq4iZDJZEKlnHpQqCdq9UavGarWS1gmZhWEW50QA+sNRpkk7k5vkUtW7Ydl2gQ9ro-YGEOxiyMwQA\",\n    \"https://workers.cloudflare.com/playground#LYVwNgLglgDghgJwgegGYHsHALQBM4RwDcABAEbogB2+CAngLzbPYZb6HbW5QDGU2AAwB2AMwAWAKyCAjMICc8meIBcLFm2Ac4XGnwEiJ0uYuUBYAFABhdFQgBTO9gAiUAM4x0bqNFsqSmngExCRUcMD2DABEUDT2AB4AdABWblGkqFBgjuGRMXFJqVGWNnaOENgAKnQw9v5wMDBgfARQtsjJcABucG68CLAQANTA6Ljg9paWCZ5IJLj2qHDgECQA3hYkJL10VLwB9hC8ABYAFAj2AI4g9m4QAJTrm1skvLZ388EkDE8vL8f2MBgdD+KIAd0wYFwUQANM8tgBfIgWeEkC4QEAIKgkABKt08VDc9hSblsp2092RiLhSMs6mYmm0uh4-CEYiksgUSnEJVsDicrg8Xh8bSo-kC2lIYQi0QihG06QCWRyMqiZGBZGK1j55SqNTq20azV4rXaqVsUwsayiwDgsQA+qNxtkoip8gtCmkEXT6Yzgsz9GyjJzTOJmEA\",\n    \"https://workers.cloudflare.com/playground#LYVwNgLglgDghgJwgegGYHsHALQBM4RwDcABAEbogB2+CAngLzbPYZb6HbW5QDGU2AAwBWABwBGAOyjRANgDMAFgCcygFwsWbYBzhcafASInS5S1QFgAUAGF0VCAFMH2ACJQAzjHQeo0e2ok2ngExCRUcMCODABEUDSOAB4AdABWHjGkqFBgzpHRcQkp6THWdg7OENgAKnQwjoFwMDBgfARQ9sipcABucB68CLAQANTA6LjgjtbWSd5IJLiOqHDgECQA3lYkJP10VLxBjhC8ABYAFAiOAI4gjh4QAJSb2zskyABUH69vHyQASo4WnBeI4SAADK7jJzgkgAdz8pxIEFOYNOPnWdEo8M8SIg6BIHmcuBIV1u9wgHmR6B+Ow+yFpvHsD1JjmhYIYJBipwgEBgHjUyGQSUiLUcySZwEyVlpVwgIAQVF2cLgfiOJwuUPQTgANKzyQ9HkRXgBfHVWE1EayaZjaXT6Hj8IRiKQyBQqZRlexOFzuLw+PwdKiBYK6UgRKKxKKEXSZII5PKRmJkMDoMilWzeyo1OoNXbNVq8dqddL2GZWDYxYCqqgAfXGk1yMTUhSWxQyJutNrtoQdhmdJjd5mUzCAA\",\n    \"https://workers.cloudflare.com/playground#LYVwNgLglgDghgJwgegGYHsHALQBM4RwDcABAEbogB2+CAngLzbPYZb6HbW5QDGU2AAwBmACyiAnBMFSAbIICMALhYs2wDnC40+AkeKkyJ8hQFgAUAGF0VCAFNb2ACJQAzjHSuo0G0pLq8AmISKjhgOwYAIigaOwAPADoAK1dI0lQoMAcwiOjYxJTIi2tbBwhsABU6GDs-OBgYMD4CKBtkJLgANzhXXgRYCABqYHRccDsLC3iPJBJcO1Q4cAgSAG9zEhIeuipefzsIXgALAAoEOwBHEDtXCABKNY3Nkl4bW7mb6FCfKgBVACUADIkBgkSJHCAQGCuJTIZDxMKNOwJV7ANJPTavKjvW4EECuazzEEkYSKIgYkjnCAgBBUEj-G4ebHI848c68CAnea3GItGwAwEAGhIuOpBNGdju5M2AF9BeYZUQLKpmOpNNoePwhGJJNI5IpijZ7I4XO5PN5WlQ-AFNKRQuEouFCJo0v5MtkHZEyGB0GQilYjWVKtValsGk1eHyqO1XDZJuZVpFgHAYgB9EZjLKRJR5eYFVIy5UqtVBDW6bUGPXGRTMIA\",\n    \"https://workers.cloudflare.com/playground#LYVwNgLglgDghgJwgegGYHsHALQBM4RwDcABAEbogB2+CAngLzbPYZb6HbW5QDGU2AAwAOAJwBmAIyiATKMkB2AKwyAXCxZtgHOFxp8BIidLmKVAWABQAYXRUIAU3vYAIlADOMdO6jQ7qki08AmISKjhgBwYAIigaBwAPADoAK3do0lQoMCcIqNj45LToq1t7JwhsABU6GAcAuBgYMD4CKDtkFLgANzh3XgRYCABqYHRccAcrK0SvJBJcB1Q4cAgSAG9LEhI+uipeQIcIXgALAAoEBwBHEAd3CABKDa3tnfc9g9RqXj8qEgBZI4ncYAOXQEAAgmAwOgAO4OXAXa63e5PTavV6XCAgBB-KgOWEkABKdy8VHcDjOAANARBgbgSAASdaXG53CBJSJ08YAXzC4J20LhCKSVIANM8MRj7gQQO4AgAWQRKMUvKUkE4OOCLBDyyXq15QmGwgLRADiAFEqtFVQaSDzbVKeQ8iGr7W7kMgSAB5KhgOgkS1VEislEQdwkWGYADWkd8JxIdI8JBgCHQCToSTdUFQJCRbPunKB4xIAEIGAwSOardEnlicX9afSwZChfDEaH2S63fXcYdjucqScIBAYPLPYkIs0HEleOhgFTu9sHZYeUQrBpmFodHoePwhGIpLJ5MoZKU7I5nG5PN5fO0qAEgjpSOFIjEudqQhlAtlcm-omQMJkCUNgXhU1S1PUOxNC0vBtB0aR2NMljrNEwBwHEAD6YwTDk0SqAUixFOkPIbpu24hLuBgHsYx5mDIzBAA\",\n    \"https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/\",\n    \"https://developers.cloudflare.com/ssl/origin-configuration/origin-ca/\",\n    \"https://developers.cloudflare.com/dns/zone-setups/full-setup/setup/\",\n    \"https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes/\",\n    \"https://developers.cloudflare.com/waf/custom-rules/use-cases/allow-traffic-from-specific-countries/\",\n    \"https://discord.cloudflare.com/\",\n    \"https://x.com/CloudflareDev\",\n    \"https://community.cloudflare.com/\",\n    \"https://github.com/cloudflare\",\n    \"https://developers.cloudflare.com/sponsorships/\",\n    \"https://developers.cloudflare.com/style-guide/\",\n    \"https://blog.cloudflare.com/\",\n    \"https://developers.cloudflare.com/fundamentals/\",\n    \"https://support.cloudflare.com/\",\n    \"https://www.cloudflarestatus.com/\",\n    \"https://www.cloudflare.com/trust-hub/compliance-resources/\",\n    \"https://www.cloudflare.com/trust-hub/gdpr/\",\n    \"https://www.cloudflare.com/\",\n    \"https://www.cloudflare.com/people/\",\n    \"https://www.cloudflare.com/careers/\",\n    \"https://radar.cloudflare.com/\",\n    \"https://speed.cloudflare.com/\",\n    \"https://isbgpsafeyet.com/\",\n    \"https://rpki.cloudflare.com/\",\n    \"https://ct.cloudflare.com/\",\n    \"https://x.com/cloudflare\",\n    \"http://discord.cloudflare.com/\",\n    \"https://www.youtube.com/cloudflare\",\n    \"https://github.com/cloudflare/cloudflare-docs\",\n    \"https://www.cloudflare.com/privacypolicy/\",\n    \"https://www.cloudflare.com/website-terms/\",\n    \"https://www.cloudflare.com/disclosure/\",\n    \"https://www.cloudflare.com/trademark/\"\n  ]\n}\nbash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/links' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"url\": \"https://developers.cloudflare.com/\",\n    \"excludeExternalLinks\": true\n  }'\njson\n{\n  \"url\": \"https://example.com\",\n  \"gotoOptions\": {\n    \"waitUntil\": \"networkidle0\"\n  }\n}\ntxt\nhttps://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/markdown\nbash\n  curl -X 'POST' 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/markdown' \\\n    -H 'Content-Type: application/json' \\\n    -H 'Authorization: Bearer <apiToken>' \\\n    -d '{\n      \"url\": \"https://example.com\"\n    }'\n  json\n    \"success\": true,\n    \"result\": \"# Example Domain\\n\\nThis domain is for use in illustrative examples in documents. You may use this domain in literature without prior coordination or asking for permission.\\n\\n[More information...](https://www.iana.org/domains/example)\"\n  }\n  typescript\n  import Cloudflare from \"cloudflare\";\n\nconst client = new Cloudflare({\n    apiToken: process.env[\"CLOUDFLARE_API_TOKEN\"],\n  });\n\nconst markdown = await client.browserRendering.markdown.create({\n    account_id: process.env[\"CLOUDFLARE_ACCOUNT_ID\"],\n    url: \"https://developers.cloudflare.com/\",\n  });\n\nconsole.log(markdown);\n  bash\ncurl -X 'POST' 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/markdown' \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -d '{\n    \"html\": \"<div>Hello World</div>\"\n  }'\njson\n{\n  \"success\": true,\n  \"result\": \"Hello World\"\n}\nbash\ncurl -X 'POST' 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/markdown' \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -d '{\n    \"url\": \"https://example.com\",\n    \"rejectRequestPattern\": [\"/^.*\\\\.(css)/\"]\n  }'\njson\n{\n  \"success\": true,\n  \"result\": \"# Example Domain\\n\\nThis domain is for use in illustrative examples in documents. You may use this domain in literature without prior coordination or asking for permission.\\n\\n[More information...](https://www.iana.org/domains/example)\"\n}\njson\n{\n  \"url\": \"https://example.com\",\n  \"gotoOptions\": {\n    \"waitUntil\": \"networkidle0\"\n  }\n}\ntxt\nhttps://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/pdf\nbash\n  curl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/pdf' \\\n    -H 'Authorization: Bearer <apiToken>' \\\n    -H 'Content-Type: application/json' \\\n    -d '{\n      \"url\": \"https://example.com/\",\n      \"addStyleTag\": [\n        { \"content\": \"body { font-family: Arial; }\" }\n      ]\n    }' \\\n    --output \"output.pdf\"\n  typescript\n  import Cloudflare from \"cloudflare\";\n\nconst client = new Cloudflare({\n    apiToken: process.env[\"CLOUDFLARE_API_TOKEN\"],\n  });\n\nconst pdf = await client.browserRendering.pdf.create({\n    account_id: process.env[\"CLOUDFLARE_ACCOUNT_ID\"],\n    url: \"https://example.com/\",\n      addStyleTag: [\n          { content: \"body { font-family: Arial; }\" }\n      ]\n  });\n\nconst content = await pdf.blob();\n  console.log(content);\n  bash\ncurl -X POST https://api.cloudflare.com/client/v4/accounts/<acccountID>/browser-rendering/pdf \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"html\": \"<html><body>Advanced Snapshot</body></html>\",\n  \"addStyleTag\": [\n      { \"content\": \"body { font-family: Arial; }\" },\n      { \"url\": \"https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css\" }\n    ]\n}' \\\n  --output \"invoice.pdf\"\nbash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/pdf' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"url\": \"https://example.com/\",\n    \"setExtraHTTPHeaders\": {\n      \"X-Custom-Header\": \"value\"\n    },\n    \"viewport\": {\n      \"width\": 1200,\n      \"height\": 800\n    },\n    \"gotoOptions\": {\n      \"waitUntil\": \"networkidle2\",\n      \"timeout\": 45000\n    }\n  }' \\\n  --output \"advanced-output.pdf\"\nbash\ncurl -X POST https://api.cloudflare.com/client/v4/accounts/<acccountID>/browser-rendering/pdf \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"url\": \"https://cloudflare.com/\",\n  \"rejectResourceTypes\": [\"image\"],\n  \"rejectRequestPattern\": [\"/^.*\\\\.(css)\"]\n}' \\\n  --output \"cloudflare.pdf\"\nbash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/pdf' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"url\": \"https://example.com\",\n    \"pdfOptions\": {\n      \"format\": \"a5\",\n      \"headerTemplate\": \"<div style=\\\"font-size: 10px; text-align: center; width: 100%; padding: 5px;\\\"><span>brand name</span></div>\",\n      \"displayHeaderFooter\": true,\n      \"footerTemplate\": \"<div style=\\\"color: lightgray; border-top: solid lightgray 1px; font-size: 10px; padding-top: 5px; text-align: center; width: 100%;\\\"><span>This is a test message</span> - <span class=\\\"pageNumber\\\"></span></div>\",\n      \"margin\": {\n        \"top\": \"70px\",\n        \"bottom\": \"70px\"\n      }\n    }\n  }' \\\n  --output \"header-footer.pdf\"\nbash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/pdf' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"url\": \"https://news.ycombinator.com\",\n    \"pdfOptions\": {\n      \"format\": \"a4\",\n      \"landscape\": false,\n      \"printBackground\": true,\n      \"preferCSSPageSize\": true,\n      \"displayHeaderFooter\": true,\n      \"scale\": 1.0,\n      \"headerTemplate\": \"<div style=\\\"width: 100%; font-size: 10px; padding: 10px; text-align: center;\\\"><div style=\\\"border-bottom: 1px solid #ddd;\\\"><span style=\\\"color: #666;\\\">Company Name</span> | <span class=\\\"date\\\"></span> | <span class=\\\"title\\\"></span></div></div>\",\n      \"footerTemplate\": \"<div style=\\\"width: 100%; font-size: 10px; padding: 10px; text-align: center;\\\"><div style=\\\"border-top: 1px solid #ddd;\\\">Page <span class=\\\"pageNumber\\\"></span> of <span class=\\\"totalPages\\\"></span></div></div>\",\n      \"margin\": {\n        \"top\": \"100px\",\n        \"bottom\": \"80px\",\n        \"right\": \"30px\",\n        \"left\": \"30px\"\n      },\n      \"timeout\": 30000\n    }\n  }' \\\n  --output \"dynamic-header-footer.pdf\"\njson\n{\n  \"url\": \"https://example.com\",\n  \"gotoOptions\": {\n    \"waitUntil\": \"networkidle0\"\n  }\n}\ntxt\nhttps://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/scrape\nbash\n  curl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/scrape' \\\n    -H 'Authorization: Bearer <apiToken>' \\\n    -H 'Content-Type: application/json' \\\n    -d '{\n    \"url\": \"https://example.com/\",\n    \"elements\": [{\n      \"selector\": \"h1\"\n    },\n    {\n      \"selector\": \"a\"\n    }]\n  }'\n  json\n  {\n    \"success\": true,\n    \"result\": [\n      {\n        \"results\": [\n          {\n            \"attributes\": [],\n            \"height\": 39,\n            \"html\": \"Example Domain\",\n            \"left\": 100,\n            \"text\": \"Example Domain\",\n            \"top\": 133.4375,\n            \"width\": 600\n          }\n        ],\n        \"selector\": \"h1\"\n      },\n      {\n        \"results\": [\n          {\n            \"attributes\": [\n              { \"name\": \"href\", \"value\": \"https://www.iana.org/domains/example\" }\n            ],\n            \"height\": 20,\n            \"html\": \"More information...\",\n            \"left\": 100,\n            \"text\": \"More information...\",\n            \"top\": 249.875,\n            \"width\": 142\n          }\n        ],\n        \"selector\": \"a\"\n      }\n    ]\n  }\n  typescript\n  import Cloudflare from \"cloudflare\";\n\nconst client = new Cloudflare({\n    apiToken: process.env[\"CLOUDFLARE_API_TOKEN\"],\n  });\n\nconst scrapes = await client.browserRendering.scrape.create({\n    account_id: process.env[\"CLOUDFLARE_ACCOUNT_ID\"],\n    elements: [\n          { selector: \"h1\" },\n          { selector: \"a\" }\n      ]\n  });\n\nconsole.log(scrapes);\n  json\n{\n  \"url\": \"https://example.com\",\n  \"gotoOptions\": {\n    \"waitUntil\": \"networkidle0\"\n  }\n}\ntxt\nhttps://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot\nbash\n  curl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot' \\\n    -H 'Authorization: Bearer <apiToken>' \\\n    -H 'Content-Type: application/json' \\\n    -d '{\n      \"html\": \"Hello World!\",\n      \"screenshotOptions\": {\n        \"omitBackground\": true\n      }\n    }' \\\n    --output \"screenshot.png\"\n  typescript\n  import Cloudflare from \"cloudflare\";\n\nconst client = new Cloudflare({\n    apiToken: process.env[\"CLOUDFLARE_API_TOKEN\"],\n  });\n\nconst screenshot = await client.browserRendering.screenshot.create({\n    account_id: process.env[\"CLOUDFLARE_ACCOUNT_ID\"],\n    html: \"Hello World!\",\n      screenshotOptions: {\n          omitBackground: true,\n      }\n  });\n\nconsole.log(screenshot.status);\n  bash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"html\": \"Hello World!\",\n    \"screenshotOptions\": {\n      \"omitBackground\": true\n    }\n  }' \\\n  --output \"screenshot.png\"\nbash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"url\": \"https://example.com/protected-page\",\n    \"cookies\": [\n      {\n        \"name\": \"session_id\",\n        \"value\": \"your-session-cookie-value\",\n        \"domain\": \"example.com\",\n        \"path\": \"/\"\n      }\n    ]\n  }' \\\n  --output \"authenticated-screenshot.png\"\nbash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"url\": \"https://cloudflare.com/\",\n    \"screenshotOptions\": {\n       \"fullPage\": true\n    },\n    \"viewport\": {\n      \"width\": 1280,\n      \"height\": 720\n    },\n    \"gotoOptions\": {\n      \"waitUntil\": \"networkidle0\",\n      \"timeout\": 45000\n    }\n  }' \\\n  --output \"advanced-screenshot.png\"\njson\n{\n  \"url\": \"https://cloudflare.com/\",\n  \"viewport\": {\n    \"width\": 3600,\n    \"height\": 2400,\n    \"deviceScaleFactor\": 2\n  }\n}\nbash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"url\": \"https://example.com/\",\n    \"addScriptTag\": [\n      { \"content\": \"document.querySelector(`h1`).innerText = `Hello World!!!`\" }\n    ],\n    \"addStyleTag\": [\n      {\n        \"content\": \"div { background: linear-gradient(45deg, #2980b9  , #82e0aa  ); }\"\n      },\n      {\n        \"url\": \"https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css\"\n      }\n    ]\n  }' \\\n  --output \"screenshot.png\"\nbash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/screenshot' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"url\": \"https://example.com\",\n    \"selector\": \"#example_element_name\",\n    \"viewport\": {\n      \"width\": 1200,\n      \"height\": 1600\n    }\n  }' \\\n  --output \"screenshot.png\"\njson\n{\n  \"url\": \"https://example.com\",\n  \"gotoOptions\": {\n    \"waitUntil\": \"networkidle0\"\n  }\n}\ntxt\nhttps://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/snapshot\nbash\n  curl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/snapshot' \\\n    -H 'Authorization: Bearer <apiToken>' \\\n    -H 'Content-Type: application/json' \\\n    -d '{\n      \"url\": \"https://example.com/\",\n      \"addScriptTag\": [\n        { \"content\": \"document.body.innerHTML = \\\"Snapshot Page\\\";\" }\n      ]\n    }'\n  json\n  {\n    \"success\": true,\n    \"result\": {\n      \"screenshot\": \"Base64EncodedScreenshotString\",\n      \"content\": \"<html>...</html>\"\n    }\n  }\n  typescript\n  import Cloudflare from \"cloudflare\";\n\nconst client = new Cloudflare({\n    apiToken: process.env[\"CLOUDFLARE_API_TOKEN\"],\n  });\n\nconst snapshot = await client.browserRendering.snapshot.create({\n    account_id: process.env[\"CLOUDFLARE_ACCOUNT_ID\"],\n    url: \"https://example.com/\",\n    addScriptTag: [\n          { content: \"document.body.innerHTML = \\\"Snapshot Page\\\";\" }\n      ]\n  });\n\nconsole.log(snapshot.content);\n  bash\ncurl -X POST 'https://api.cloudflare.com/client/v4/accounts/<accountId>/browser-rendering/snapshot' \\\n  -H 'Authorization: Bearer <apiToken>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"html\": \"<html><body>Advanced Snapshot</body></html>\",\n    \"setJavaScriptEnabled\": false,\n    \"screenshotOptions\": {\n       \"fullPage\": true\n    },\n    \"viewport\": {\n      \"width\": 1200,\n      \"height\": 800\n    },\n    \"gotoOptions\": {\n      \"waitUntil\": \"domcontentloaded\",\n      \"timeout\": 30000\n    }\n  }'\njson\n{\n  \"success\": true,\n  \"result\": {\n    \"screenshot\": \"AdvancedBase64Screenshot\",\n    \"content\": \"<html><body>Advanced Snapshot</body></html>\"\n  }\n}\njson\n{\n  \"url\": \"https://cloudflare.com/\",\n  \"viewport\": {\n    \"width\": 3600,\n    \"height\": 2400,\n    \"deviceScaleFactor\": 2\n  }\n}\njson\n{\n  \"url\": \"https://example.com\",\n  \"gotoOptions\": {\n    \"waitUntil\": \"networkidle0\"\n  }\n}\nsh\n  npm create cloudflare@latest -- browser-worker\n  sh\n  yarn create cloudflare browser-worker\n  sh\n  pnpm create cloudflare@latest browser-worker\n  sh\n  npm i -D @cloudflare/puppeteer\n  sh\n  yarn add -D @cloudflare/puppeteer\n  sh\n  pnpm add -D @cloudflare/puppeteer\n  sh\nwrangler r2 bucket create screenshots\nwrangler r2 bucket create screenshots-test\nsh\nwrangler r2 bucket list\njsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"name\": \"rendering-api-demo\",\n    \"main\": \"src/index.js\",\n    \"compatibility_date\": \"2023-09-04\",\n    \"compatibility_flags\": [\n      \"nodejs_compat\"\n    ],\n    \"account_id\": \"<ACCOUNT_ID>\",\n    \"browser\": {\n      \"binding\": \"MYBROWSER\"\n    },\n    \"r2_buckets\": [\n      {\n        \"binding\": \"BUCKET\",\n        \"bucket_name\": \"screenshots\",\n        \"preview_bucket_name\": \"screenshots-test\"\n      }\n    ],\n    \"durable_objects\": {\n      \"bindings\": [\n        {\n          \"name\": \"BROWSER\",\n          \"class_name\": \"Browser\"\n        }\n      ]\n    },\n    \"migrations\": [\n      {\n        \"tag\": \"v1\",\n        \"new_sqlite_classes\": [\n          \"Browser\"\n        ]\n      }\n    ]\n  }\n  toml\n  name = \"rendering-api-demo\"\n  main = \"src/index.js\"\n  compatibility_date = \"2023-09-04\"\n  compatibility_flags = [ \"nodejs_compat\"]\n  account_id = \"<ACCOUNT_ID>\"\n\n# Browser Rendering API binding\n  browser = { binding = \"MYBROWSER\" }\n\n# Bind an R2 Bucket\n  [[r2_buckets]]\n  binding = \"BUCKET\"\n  bucket_name = \"screenshots\"\n  preview_bucket_name = \"screenshots-test\"\n\n# Binding to a Durable Object\n  [[durable_objects.bindings]]\n  name = \"BROWSER\"\n  class_name = \"Browser\"\n\n[[migrations]]\n  tag = \"v1\" # Should be unique for each entry\n  new_sqlite_classes = [\"Browser\"] # Array of new classes\n  js\nimport puppeteer from \"@cloudflare/puppeteer\";\n\nexport default {\n  async fetch(request, env) {\n    let obj = env.BROWSER.getByName(\"browser\");\n\n// Send a request to the Durable Object, then await its response.\n    let resp = await obj.fetch(request.url);\n\nconst KEEP_BROWSER_ALIVE_IN_SECONDS = 60;\n\nexport class Browser {\n  constructor(state, env) {\n    this.state = state;\n    this.env = env;\n    this.keptAliveInSeconds = 0;\n    this.storage = this.state.storage;\n  }\n\nasync fetch(request) {\n    // screen resolutions to test out\n    const width = [1920, 1366, 1536, 360, 414];\n    const height = [1080, 768, 864, 640, 896];\n\n// use the current date and time to create a folder structure for R2\n    const nowDate = new Date();\n    var coeff = 1000 * 60 * 5;\n    var roundedDate = new Date(\n      Math.round(nowDate.getTime() / coeff) * coeff,\n    ).toString();\n    var folder = roundedDate.split(\" GMT\")[0];\n\n//if there's a browser session open, re-use it\n    if (!this.browser || !this.browser.isConnected()) {\n      console.log(`Browser DO: Starting new instance`);\n      try {\n        this.browser = await puppeteer.launch(this.env.MYBROWSER);\n      } catch (e) {\n        console.log(\n          `Browser DO: Could not start browser instance. Error: ${e}`,\n        );\n      }\n    }\n\n// Reset keptAlive after each call to the DO\n    this.keptAliveInSeconds = 0;\n\nconst page = await this.browser.newPage();\n\n// take screenshots of each screen size\n    for (let i = 0; i < width.length; i++) {\n      await page.setViewport({ width: width[i], height: height[i] });\n      await page.goto(\"https://workers.cloudflare.com/\");\n      const fileName = \"screenshot_\" + width[i] + \"x\" + height[i];\n      const sc = await page.screenshot();\n\nawait this.env.BUCKET.put(folder + \"/\" + fileName + \".jpg\", sc);\n    }\n\n// Close tab when there is no more work to be done on the page\n    await page.close();\n\n// Reset keptAlive after performing tasks to the DO.\n    this.keptAliveInSeconds = 0;\n\n// set the first alarm to keep DO alive\n    let currentAlarm = await this.storage.getAlarm();\n    if (currentAlarm == null) {\n      console.log(`Browser DO: setting alarm`);\n      const TEN_SECONDS = 10 * 1000;\n      await this.storage.setAlarm(Date.now() + TEN_SECONDS);\n    }\n\nreturn new Response(\"success\");\n  }\n\nasync alarm() {\n    this.keptAliveInSeconds += 10;\n\n// Extend browser DO life\n    if (this.keptAliveInSeconds < KEEP_BROWSER_ALIVE_IN_SECONDS) {\n      console.log(\n        `Browser DO: has been kept alive for ${this.keptAliveInSeconds} seconds. Extending lifespan.`,\n      );\n      await this.storage.setAlarm(Date.now() + 10 * 1000);\n      // You could ensure the ws connection is kept alive by requesting something\n      // or just let it close automatically when there  is no work to be done\n      // for example, `await this.browser.version()`\n    } else {\n      console.log(\n        `Browser DO: exceeded life of ${KEEP_BROWSER_ALIVE_IN_SECONDS}s.`,\n      );\n      if (this.browser) {\n        console.log(`Closing browser.`);\n        await this.browser.close();\n      }\n    }\n  }\n}\nsh\n  npm create cloudflare@latest -- browser-worker\n  sh\n  yarn create cloudflare browser-worker\n  sh\n  pnpm create cloudflare@latest browser-worker\n  sh\n  npm i -D @cloudflare/puppeteer\n  sh\n  yarn add -D @cloudflare/puppeteer\n  sh\n  pnpm add -D @cloudflare/puppeteer\n  jsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"name\": \"browser-worker\",\n    \"main\": \"src/index.ts\",\n    \"compatibility_date\": \"2023-03-14\",\n    \"compatibility_flags\": [\n      \"nodejs_compat\"\n    ],\n    \"browser\": {\n      \"binding\": \"MYBROWSER\"\n    }\n  }\n  toml\n  name = \"browser-worker\"\n  main = \"src/index.ts\"\n  compatibility_date = \"2023-03-14\"\n  compatibility_flags = [ \"nodejs_compat\" ]\n\nbrowser = { binding = \"MYBROWSER\" }\n  js\n  import puppeteer from \"@cloudflare/puppeteer\";\n\nexport default {\n    async fetch(request, env) {\n      const url = new URL(request.url);\n      let reqUrl = url.searchParams.get(\"url\") || \"https://example.com\";\n      reqUrl = new URL(reqUrl).toString(); // normalize\n\n// Pick random session from open sessions\n      let sessionId = await this.getRandomSession(env.MYBROWSER);\n      let browser, launched;\n      if (sessionId) {\n        try {\n          browser = await puppeteer.connect(env.MYBROWSER, sessionId);\n        } catch (e) {\n          // another worker may have connected first\n          console.log(`Failed to connect to ${sessionId}. Error ${e}`);\n        }\n      }\n      if (!browser) {\n        // No open sessions, launch new session\n        browser = await puppeteer.launch(env.MYBROWSER);\n        launched = true;\n      }\n\nsessionId = browser.sessionId(); // get current session id\n\n// Do your work here\n      const page = await browser.newPage();\n      const response = await page.goto(reqUrl);\n      const html = await response.text();\n\n// All work done, so free connection (IMPORTANT!)\n      browser.disconnect();\n\nreturn new Response(\n        `${launched ? \"Launched\" : \"Connected to\"} ${sessionId} \\n-----\\n` + html,\n        {\n          headers: {\n            \"content-type\": \"text/plain\",\n          },\n        },\n      );\n    },\n\n// Pick random free session\n    // Other custom logic could be used instead\n    async getRandomSession(endpoint) {\n      const sessions = await puppeteer.sessions(endpoint);\n      console.log(`Sessions: ${JSON.stringify(sessions)}`);\n      const sessionsIds = sessions\n        .filter((v) => {\n          return !v.connectionId; // remove sessions with workers connected to them\n        })\n        .map((v) => {\n          return v.sessionId;\n        });\n      if (sessionsIds.length === 0) {\n        return;\n      }\n\nconst sessionId =\n        sessionsIds[Math.floor(Math.random() * sessionsIds.length)];\n\nreturn sessionId;\n    },\n  };\n  ts\n  import puppeteer from \"@cloudflare/puppeteer\";\n\ninterface Env {\n    MYBROWSER: Fetcher;\n  }\n\nexport default {\n    async fetch(request: Request, env: Env): Promise<Response> {\n      const url = new URL(request.url);\n      let reqUrl = url.searchParams.get(\"url\") || \"https://example.com\";\n      reqUrl = new URL(reqUrl).toString(); // normalize\n\n// Pick random session from open sessions\n      let sessionId = await this.getRandomSession(env.MYBROWSER);\n      let browser, launched;\n      if (sessionId) {\n        try {\n          browser = await puppeteer.connect(env.MYBROWSER, sessionId);\n        } catch (e) {\n          // another worker may have connected first\n          console.log(`Failed to connect to ${sessionId}. Error ${e}`);\n        }\n      }\n      if (!browser) {\n        // No open sessions, launch new session\n        browser = await puppeteer.launch(env.MYBROWSER);\n        launched = true;\n      }\n\nsessionId = browser.sessionId(); // get current session id\n\n// Do your work here\n      const page = await browser.newPage();\n      const response = await page.goto(reqUrl);\n      const html = await response!.text();\n\n// All work done, so free connection (IMPORTANT!)\n      browser.disconnect();\n\nreturn new Response(\n        `${launched ? \"Launched\" : \"Connected to\"} ${sessionId} \\n-----\\n` + html,\n        {\n          headers: {\n            \"content-type\": \"text/plain\",\n          },\n        },\n      );\n    },\n\n// Pick random free session\n    // Other custom logic could be used instead\n    async getRandomSession(endpoint: puppeteer.BrowserWorker): Promise<string> {\n      const sessions: puppeteer.ActiveSession[] =\n        await puppeteer.sessions(endpoint);\n      console.log(`Sessions: ${JSON.stringify(sessions)}`);\n      const sessionsIds = sessions\n        .filter((v) => {\n          return !v.connectionId; // remove sessions with workers connected to them\n        })\n        .map((v) => {\n          return v.sessionId;\n        });\n      if (sessionsIds.length === 0) {\n        return;\n      }\n\nconst sessionId =\n        sessionsIds[Math.floor(Math.random() * sessionsIds.length)];\n\nreturn sessionId!;\n    },\n  };\n  sh\n  npm create cloudflare@latest -- browser-worker\n  sh\n  yarn create cloudflare browser-worker\n  sh\n  pnpm create cloudflare@latest browser-worker\n  sh\n  npm i -D @cloudflare/puppeteer\n  sh\n  yarn add -D @cloudflare/puppeteer\n  sh\n  pnpm add -D @cloudflare/puppeteer\n  sh\nnpx wrangler kv namespace create BROWSER_KV_DEMO\nnpx wrangler kv namespace create BROWSER_KV_DEMO --preview\njsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"name\": \"browser-worker\",\n    \"main\": \"src/index.js\",\n    \"compatibility_date\": \"2023-03-14\",\n    \"compatibility_flags\": [\n      \"nodejs_compat\"\n    ],\n    \"browser\": {\n      \"binding\": \"MYBROWSER\"\n    },\n    \"kv_namespaces\": [\n      {\n        \"binding\": \"BROWSER_KV_DEMO\",\n        \"id\": \"22cf855786094a88a6906f8edac425cd\",\n        \"preview_id\": \"e1f8b68b68d24381b57071445f96e623\"\n      }\n    ]\n  }\n  toml\n  name = \"browser-worker\"\n  main = \"src/index.js\"\n  compatibility_date = \"2023-03-14\"\n  compatibility_flags = [ \"nodejs_compat\" ]\n\nbrowser = { binding = \"MYBROWSER\" }\n  kv_namespaces = [\n    { binding = \"BROWSER_KV_DEMO\", id = \"22cf855786094a88a6906f8edac425cd\", preview_id = \"e1f8b68b68d24381b57071445f96e623\" }\n  ]\n  js\n  import puppeteer from \"@cloudflare/puppeteer\";\n\nexport default {\n    async fetch(request, env) {\n      const { searchParams } = new URL(request.url);\n      let url = searchParams.get(\"url\");\n      let img;\n      if (url) {\n        url = new URL(url).toString(); // normalize\n        img = await env.BROWSER_KV_DEMO.get(url, { type: \"arrayBuffer\" });\n        if (img === null) {\n          const browser = await puppeteer.launch(env.MYBROWSER);\n          const page = await browser.newPage();\n          await page.goto(url);\n          img = await page.screenshot();\n          await env.BROWSER_KV_DEMO.put(url, img, {\n            expirationTtl: 60 * 60 * 24,\n          });\n          await browser.close();\n        }\n        return new Response(img, {\n          headers: {\n            \"content-type\": \"image/jpeg\",\n          },\n        });\n      } else {\n        return new Response(\"Please add an ?url=https://example.com/ parameter\");\n      }\n    },\n  };\n  ts\n  import puppeteer from \"@cloudflare/puppeteer\";\n\ninterface Env {\n    MYBROWSER: Fetcher;\n    BROWSER_KV_DEMO: KVNamespace;\n  }\n\nexport default {\n    async fetch(request, env): Promise<Response> {\n      const { searchParams } = new URL(request.url);\n      let url = searchParams.get(\"url\");\n      let img: Buffer;\n      if (url) {\n        url = new URL(url).toString(); // normalize\n        img = await env.BROWSER_KV_DEMO.get(url, { type: \"arrayBuffer\" });\n        if (img === null) {\n          const browser = await puppeteer.launch(env.MYBROWSER);\n          const page = await browser.newPage();\n          await page.goto(url);\n          img = (await page.screenshot()) as Buffer;\n          await env.BROWSER_KV_DEMO.put(url, img, {\n            expirationTtl: 60 * 60 * 24,\n          });\n          await browser.close();\n        }\n        return new Response(img, {\n          headers: {\n            \"content-type\": \"image/jpeg\",\n          },\n        });\n      } else {\n        return new Response(\"Please add an ?url=https://example.com/ parameter\");\n      }\n    },\n  } satisfies ExportedHandler<Env>;\n  bash\n  curl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/cache/cache_reserve\" \\\n    --request GET \\\n    --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\"\n  json\n  {\n    \"result\": {\n      \"editable\": true,\n      \"id\": \"cache_reserve\",\n      \"value\": \"off\"\n    },\n    \"success\": true,\n    \"errors\": [],\n    \"messages\": []\n  }\n  bash\n  curl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/cache/cache_reserve_clear\" \\\n    --request POST \\\n    --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\"\n  json\n  {\n    \"result\": {\n      \"id\": \"cache_reserve_clear\",\n      \"start_ts\": \"2024-06-02T10:00:00.12345Z\",\n      \"state\": \"In-progress\"\n    },\n    \"success\": true,\n    \"errors\": [],\n    \"messages\": []\n  }\n  txt\n/wp-admin/load-scripts.php?c=0&load%5B%5D=hoverIntent,common,admin-bar,underscore,shortcode,backbone,wp-util,wp-backbone,media-models,wp-plupload,wp-mediaelement,wp-api-r&load%5B%5D=equest,media-views,media-editor,media-audiovideo,mce-view,imgareaselect,image-edit,media-grid,media,svg-painter&ver=5.0.3\ntxt\n/wp-admin/load-scripts.php?c=0&load%5B%5D=equest,media-views,media-editor,media-audiovideo,mce-view,imgareaselect,image-edit,media-grid,media,svg-painter&load%5B%5D=hoverIntent,common,admin-bar,underscore,shortcode,backbone,wp-util,wp-backbone,media-models,wp-plupload,wp-mediaelement,wp-api-r&ver=5.0.3\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/cache/variants\" \\\n  --request PATCH \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"value\": {\n        \"jpeg\": [\n            \"image/webp\",\n            \"image/avif\"\n        ],\n        \"jpg\": [\n            \"image/webp\",\n            \"image/avif\"\n        ]\n    }\n  }'\njs\nconst CACHE_DURATION = 30 * 24 * 60 * 60; // 30 days\n\nexport default {\n  async fetch(request) {\n    // Construct a new URL for the cache key based on the A/B cookie\n    const abCookie = request.headers.get('Cookie')?.match(/ab-test=([^;]+)/)?.[1] || 'control';\n    const url = new URL(request.url);\n    url.pathname = `/ab-test/${abCookie}${url.pathname}`;\n\nconst cacheKey = new Request(url, request);\n    const cache = caches.default;\n\nlet response = await cache.match(cacheKey);\n    if (!response) {\n      // If not in cache, fetch from origin\n      response = await fetch(request);\n      response = new Response(response.body, response);\n      response.headers.set(\"Cache-Control\", `s-maxage=${CACHE_DURATION}`);\n      // Put the response into cache with the custom key\n      await cache.put(cacheKey, response.clone());\n    }\n    return response;\n  },\n};\njs\nexport default {\n  async fetch(request, env, ctx) {\n    const userAgent = request.headers.get('User-Agent') || '';\n    const deviceType = userAgent.includes('Mobile') ? 'mobile' : 'desktop';\n\n// Create a new URL for the cache key that includes the device type\n    const url = new URL(request.url);\n    url.pathname = `/${deviceType}${url.pathname}`;\n\nconst cacheKey = new Request(url, request);\n    const cache = caches.default;\n\nlet response = await cache.match(cacheKey);\n\nif (!response) {\n      console.log(`Cache miss for ${deviceType} device. Fetching from origin.`);\n      response = await fetch(request);\n      let responseToCache = response.clone();\n      ctx.waitUntil(cache.put(cacheKey, responseToCache));\n    }\n\nreturn response;\n  },\n};\njs\nexport default {\n  async fetch(request) {\n    // 1. Determine the device type from the User-Agent header\n    const userAgent = request.headers.get('User-Agent') || '';\n    const deviceType = userAgent.includes('Mobile') ? 'mobile' : 'desktop';\n\n// 2. Create a custom cache key by appending the device type to the URL\n    const customCacheKey = `${request.url}-${deviceType}`;\n\n// 3. Fetch the response. Cloudflare's cache automatically uses the\n    //    customCacheKey for cache operations (match, put).\n    const response = await fetch(request, {\n      cf: {\n        cacheKey: customCacheKey,\n      },\n    });\n\n// Optionally, you can modify the response before returning it\n    // For example, add a header to indicate which cache key was used\n    const newResponse = new Response(response.body, response);\n    newResponse.headers.set(\"X-Cache-Key\", customCacheKey);\n    return newResponse;\n  },\n};\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/cache/variants\" \\\n  --request PATCH \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"value\": {\n        \"jpeg\": [\n            \"image/webp\",\n            \"image/avif\"\n        ],\n        \"jpg\": [\n            \"image/webp\",\n            \"image/avif\"\n        ]\n    }\n  }'\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/cache/variants\" \\\n  --request PATCH \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"value\": {\n        \"jpeg\": [\n            \"image/webp\"\n        ],\n        \"jpg\": [\n            \"image/webp\"\n        ]\n    }\n  }'\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/cache/variants\" \\\n  --request DELETE \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\"\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/cache/variants\" \\\n  --request GET \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\"\nbash\ncurl --request PUT \\\n\"https://api.cloudflare.com/client/v4/zones/{zone_id}/rulesets/{ruleset_id}\" \\\n--header \"Authorization: Bearer <API_TOKEN>\" \\\n--header \"Content-Type: application/json\" \\\n--data '{\n  \"rules\": [\n    {\n      \"expression\": \"(http.host eq \\\"www.example.com\\\")\",\n      \"description\": \"set cache TTL by response status\",\n      \"action\": \"set_cache_settings\",\n      \"action_parameters\": {\n        \"cache\": true,\n        \"edge_ttl\": {\n          \"status_code_ttl\": [\n            {\n              \"status_code_range\": {\n                \"to\": 299\n              },\n              \"value\": 86400\n            },\n            {\n              \"status_code_range\": {\n                \"from\": 300,\n                \"to\": 499\n              },\n              \"value\": 0  // no-cache\n            },\n            {\n              \"status_code_range\": {\n                \"from\": 500\n              },\n              \"value\": -1  // no-store\n            }\n          ],\n          \"mode\": \"respect_origin\"\n        }\n      }\n    }\n  ]\n}'\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/argo/tiered_caching\" \\\n  --request PATCH \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"value\": \"on\"\n  }'\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/cache/tiered_cache_smart_topology_enable\" \\\n  --request PATCH \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"value\": \"on\"\n  }'\nbash\ncurl \"https://api.cloudflare.com/client/v4/zones/$ZONE_ID/cache/regional_tiered_cache\" \\\n  --request PATCH \\\n  --header \"Authorization: Bearer $CLOUDFLARE_API_TOKEN\" \\\n  --json '{\n    \"value\": \"on\"\n  }'\nmermaid\nflowchart LR\naccTitle: Connections with Cloudflare\nA[User's request] --> B[WAF] --> C[Cache] --> D[R2]\nbash\ncurl \"https://api.cloudflare.com/client/v4/ips?networks=jdcloud\" \\\n  --request GET\njson\n{\n  \"result\": {\n    \"ipv4_cidrs\": [\n      // (...)\n    ],\n    \"ipv6_cidrs\": [\n      // (...)\n    ],\n    \"jdcloud_cidrs\": [\n      // (...)\n    ],\n    \"etag\": \"<ETAG>\"\n  },\n  \"success\": true,\n  \"errors\": [],\n  \"messages\": []\n}\ntxt\n  (http.request.uri.path eq \"/api/v4/user/create\" and http.request.method eq \"POST\" and not cf.bot_management.verified_bot)\n  and (cf.bot_management.score lt 30 or !cf.bot_management.js_detection.passed)\n  js\n  \"botManagement\": {\n  \"jsDetection\": {\n      \"passed\": false\n  }\n  }\n  js\n<script>\n\nfunction jsdOnload(){\n  window.cloudflare.jsd.executeOnce(\n    {\n      callback: function(result){\n        console.log('jsd outcome', result);\n    }\n  );\n}\n</script>\n<script src=\"/cdn-cgi/challenge-platform/scripts/jsd/api.js?onload=jsdOnload\" async>\ntxt\nCSR = number of challenges solved / number of challenges issued\ntxt\nFailedÂ Challenges = TotalÂ ChallengesÂ Issued âˆ’ TotalÂ ChallengesÂ Solved\njavascript\nimport { Tensor, run } from \"@cloudflare/constellation\";\ntypescript\nenum TensorType {\n    Bool = \"bool\",\n    Float16 = \"float16\",\n    Float32 = \"float32\",\n    Int8 = \"int8\",\n    Int16 = \"int16\",\n    Int32 = \"int32\",\n    Int64 = \"int64\",\n}\n\ntype TensorOpts = {\n  shape?: number[],\n  name?: string\n}\n\ndeclare class Tensor<TensorType> {\n  constructor(\n    type: T,\n    value: any | any[],\n    opts: TensorOpts = {}\n  )\n}\ntypescript\nnew Tensor(\n  type:TensorType,\n  value:any | any[],\n  options?:TensorOpts\n  )\njavascript\n  new Tensor(TensorType.Int16, 123);\njavascript\n  new Tensor(TensorType.Int32, [1, 23]);\n  new Tensor(TensorType.Int32, [ [1, 2], [3, 4], ], { shape: [2, 2] });\n  new Tensor(TensorType.Int32, [1, 23], { shape: [1] });\njavascript\n  new Tensor(TensorType.Int32, 1, { name: \"foo\" });\njavascript\nconst tensor = new Tensor(TensorType.Int32, [ [1, 2], [3, 4], ], { shape: [2, 2], name: \"test\" });\n\nconsole.log ( tensor.type );\n// TensorType.Int32\n\nconsole.log ( tensor.shape );\n// [2, 2]\n\nconsole.log ( tensor.name );\n// test\n\nconsole.log ( tensor.value );\n//  [ [1, 2], [3, 4], ]\njavascript\nconst tensor = new Tensor(TensorType.Int32, [ [1, 2], [3, 4], ], { shape: [2, 2], name: \"test\" });\n\n{\n  type: TensorType.Int32,\n  name: \"test\",\n  shape:  [2, 2],\n  value: [ [1, 2], [3, 4], ]\n}\njavascript\nconst tensor = Tensor.fromJSON(\n  {\n    type: TensorType.Int32,\n    name: \"test\",\n    shape:  [2, 2],\n    value: [ [1, 2], [3, 4], ]\n  }\n);\ntypescript\nexport class InferenceSession {\n    constructor(binding: any, modelId: string, options: SessionOptions = {})\n}\n\nexport type InferenceSession = {\n  binding: any;\n  model: string;\n  options: SessionOptions;\n};\njavascript\nimport { InferenceSession } from \"@cloudflare/constellation\";\n\nconst session = new InferenceSession(\n  env.PROJECT,\n  \"0ae7bd14-a0df-4610-aa85-1928656d6e9e\"\n);\njavascript\nimport { Tensor, InferenceSession, TensorType } from \"@cloudflare/constellation\";\n\nconst session = new InferenceSession(\n  env.PROJECT,\n  \"0ae7bd14-a0df-4610-aa85-1998656d6e9e\"\n);\n\nconst tensorInputArray = [ new Tensor(TensorType.Int32, 1), new Tensor(TensorType.Int32, 2), new Tensor(TensorType.Int32, 3) ];\n\nconst out = await session.run(tensorInputArray);\njavascript\nconst tensorInputNamed = {\n  \"tensor1\": new Tensor(TensorType.Int32, 1),\n  \"tensor2\": new Tensor(TensorType.Int32, 2),\n  \"tensor3\": new Tensor(TensorType.Int32, 3)\n};\n\nout = await session.run(tensorInputNamed);\njavascript\n{ \"tensor1\": new Tensor(TensorType.Int32, 1) } == [ new Tensor(TensorType.Int32, 1, { name: \"tensor1\" } ];\njs\nexport default {\n  async fetch(request, env) {\n    // Get the user Worker name from the URL path\n    const url = new URL(request.url);\n    const workerName = url.pathname.split(\"/\")[1];\n\n// Fetch the user Worker from the dispatch namespace\n    const userWorker = env.DISPATCHER.get(workerName);\n\n// Forward the request to the user Worker\n    return userWorker.fetch(request);\n  },\n};\njs\nexport default {\n  async fetch(request, env) {\n    // Determine which customer Worker to call\n    const customerName = new URL(request.url).hostname.split(\".\")[0];\n\n// Get and invoke the customer's Worker\n    const userWorker = env.DISPATCHER.get(customerName);\n    return userWorker.fetch(request);\n  },\n};\njson\n{\n  \"type\": \"cf.access.application.created\",\n  \"source\": {\n    \"type\": \"access\"\n  },\n  \"payload\": {\n    \"id\": \"app-12345678-90ab-cdef-1234-567890abcdef\",\n    \"name\": \"My Application\"\n  },\n  \"metadata\": {\n    \"accountId\": \"f9f79265f388666de8122cfb508d7776\",\n    \"eventSubscriptionId\": \"1830c4bb612e43c3af7f4cada31fbf3f\",\n    \"eventSchemaVersion\": 1,\n    \"eventTimestamp\": \"2025-05-01T02:48:57.132Z\"\n  }\n}\njson\n{\n  \"type\": \"cf.access.application.deleted\",\n  \"source\": {\n    \"type\": \"access\"\n  },\n  \"payload\": {\n    \"id\": \"app-12345678-90ab-cdef-1234-567890abcdef\",\n    \"name\": \"My Application\"\n  },\n  \"metadata\": {\n    \"accountId\": \"f9f79265f388666de8122cfb508d7776\",\n    \"eventSubscriptionId\": \"1830c4bb612e43c3af7f4cada31fbf3f\",\n    \"eventSchemaVersion\": 1,\n    \"eventTimestamp\": \"2025-05-01T02:48:57.132Z\"\n  }\n}\njson\n{\n  \"AccountID\": \"$ACCOUNT_ID\",\n  \"Decision\": \"block\",\n  \"DomainName\": \"www.example.com\",\n  \"Timestamp\": \"2025-02-27T23:15:06Z\",\n  \"Type\": \"copy\",\n  \"UserID\": \"$USER_ID\"\n}\nbash",
  "code_samples": [
    {
      "code": "Cloudflare's Content Signals Policy is included by default in the `robots.txt` file when you turn on **robots.txt setting**.\n\nIf you would like to opt out of displaying the policy in your `robots.txt` file, you can uncheck **Display Content Signals Policy** under **Control AI Crawlers** in your zone's overview.\n\n[Go to **Overview**](https://dash.cloudflare.com/?to=/:account/:zone/)\n\nAlternatively, you can use [Security Settings](#implementation).\n\nWarning\n\nGoogle Search Console may occasionally report `Syntax not understood` for Content Signals and newer directives in the `robots.txt` standard. However, we have observed no impact on crawling rates or SEO as a result of these reports.\n\n## Availability\n\nManaged `robots.txt` for AI crawlers is available on all plans.\n\n</page>\n\n<page>\n---\ntitle: Sequence rules Â· Cloudflare bot solutions docs\ndescription: Sequence rules uses cookies to track the order of requests a user\n  has made and the time between requests and makes them available via Cloudflare\n  Rules. This allows you to write rules that match valid or invalid sequences.\n  The specific cookies used to validate sequences are called sequence cookies.\nlastUpdated: 2025-10-30T20:41:09.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/additional-configurations/sequence-rules/\n  md: https://developers.cloudflare.com/bots/additional-configurations/sequence-rules/index.md\n---\n\n[Sequence rules](https://developers.cloudflare.com/bots/additional-configurations/sequence-rules/) uses cookies to track the order of requests a user has made and the time between requests and makes them available via [Cloudflare Rules](https://developers.cloudflare.com/rules/). This allows you to write rules that match valid or invalid sequences. The specific cookies used to validate sequences are called sequence cookies.\n\n`431` error\n\nToo many concurrent requests to your zone may add cookies that create a header that is too large, causing a `431` error.\n\n## Prerequisites\n\n* Your account must have the Fraud Detection subscription.\n* Each zone must configure the endpoints to track via Endpoint Management.\n\nYou can [create a sequence custom rule via the Cloudflare dashboard](#create-a-sequence-custom-rule-via-the-cloudflare-dashboard) or [using the API](#manage-sequence-rules-via-the-api).\n\n***\n\n## Availability\n\nThese sequence fields are available in:\n\n* [Custom rules](https://developers.cloudflare.com/waf/custom-rules/) (`http_request_firewall_custom` phase)\n* [Rate limiting rules](https://developers.cloudflare.com/waf/rate-limiting-rules/) (`http_request_ratelimit`)\n* [Bulk Redirects](https://developers.cloudflare.com/workers/examples/bulk-redirects/) (`http_request_redirect`)\n* [Request Header Transform Rules](https://developers.cloudflare.com/rules/transform/response-header-modification/) (`http_request_late_transform`)\n\n| Field name | Description | Example value |\n| - | - | - |\n| `cf.sequence.current_op` `String` | This field contains the ID of the operation that matches the current request. If the current request does not match any operations defined in Endpoint Management, it will be an empty string. | `c821cc00` |\n| `cf.sequence.previous_ops` `Array<String>` | This field contains an array of the prior operation IDs in the sequence, ordered from most to least recent. It does not include the current request. If an operation is repeated, it will appear multiple times in the sequence. | `[\"f54dac32\", \"c821cc00\", \"a37dc89b\"]` |\n| `cf.sequence.msec_since_op` `Map<Number>` | This field contains a map where the keys are operation IDs and the values are the number of milliseconds since that operation has most recently occurred. This does not include the current request or operation as it only factors in previous operations in the sequence. | `{\"f54dac32\": 1000, \"c821cc00\": 2000}` |\n\n***\n\n## Build a sequence custom rule via the Cloudflare dashboard\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/), and select your account and domain.\n\n  2. Go to **Security** > **WAF** > **Custom rules**.\n\n  3. To create a new empty rule, select **Create rule**.\n\n  4. Enter a descriptive name for the rule in **Rule name**.\n\n  5. Under **When incoming requests match**, use the **Field** drop-down list and select:\n\n     * Current Operation\n     * Previous Operations\n     * Elapsed time\n\n  6. Under **Value**, build a sequence by selecting a hostname for the sequence.\n\n  7. Select the checkbox for each endpoint in the order that you want them to appear in the sequence.\n\n  8. Set the time to complete.\n\n  9. Select **Save**.\n\n  10. Under **Then take action**, select the rule action in the **Choose action** dropdown. For example, selecting *Block* tells Cloudflare to refuse requests that match the conditions you specified.\n\n  11. (Optional) If you selected the *Block* action, you can configure a custom response.\n\n  12. Under **Place at**, select the order of when the rule will fire.\n\n  13. To save and deploy your rule, select **Deploy**. If you are not ready to deploy your rule, select **Save as Draft**.\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security rules** page.\n\n     [Go to **Security rules**](https://dash.cloudflare.com/?to=/:account/:zone/security/security-rules)\n\n  2. To create a new empty rule, select **Create rule** > **Custom rules**.\n\n  3. Enter a descriptive name for the rule in **Rule name**.\n\n  4. Under **When incoming requests match**, use the **Field** drop-down list to filter by **Sequences** and select from:\n\n     * Current Operation\n     * Previous Operations\n     * Elapsed time\n\n  5. Under **Value**, select the edit icon to use Builder and build a sequence on the side panel.\n\n  6. Under **Select a hostname for this sequence**, choose all or a specific hostname from the dropdown list. Optionally, you can use the search bar to search for a specific hostname.\n\n  7. From the **Methods** dropdown list, choose all methods or a specific request method.\n\n  8. Select the checkbox for each endpoint in the order that you want them to appear in the sequence.\n\n  9. Set the time to complete.\n\n  10. Select **Save**.\n\n  11. Under **Then take action**, select the rule action in the **Choose action** dropdown. For example, selecting *Block* tells Cloudflare to refuse requests that match the conditions you specified.\n\n  12. (Optional) If you selected the *Block* action, you can configure a custom response.\n\n  13. Under **Place at**, select the order of when the rule will fire.\n\n  14. To save and deploy your rule, select **Deploy**. If you are not ready to deploy your rule, select **Save as Draft**.\n\n  Note\n\n  The fields in the custom rule are populated as a grouped sequence based on the values that you entered on Builder.\n\n***\n\n## Manage sequence rules via the API\n\n### Enable sequence rules\n\n1. [Create an API token](https://developers.cloudflare.com/fundamentals/api/get-started/create-token/) if you do not already have one. The API token must include the *Zone* > *Fraud Detection* > *Edit* permission.\n2. [Get the zone ID](https://developers.cloudflare.com/fundamentals/account/find-account-and-zone-ids/) for the zone(s) where you want to enable sequence rules.\n3. [Add the endpoints](https://developers.cloudflare.com/api-shield/management-and-monitoring/) that you want to track in your sequence rules using API Shield's Endpoint Management and make note of the short ID.\n4. Enable the sequence cookie by adding your API token and zone ID to the following API call.\n\nNote\n\nThe short ID will not be visible until your account team has enabled this feature for you.",
      "language": "unknown"
    },
    {
      "code": "1. Use the expression editor to write sequence or timing based rules via [custom rules](https://developers.cloudflare.com/waf/custom-rules/), [rate limiting rules](https://developers.cloudflare.com/waf/rate-limiting-rules/), or [transform rules](https://developers.cloudflare.com/rules/transform/). You can put these rules in log only mode to monitor.\n\nNote\n\nWhen you enable sequence rules, Cloudflare will start setting cookies for all requests that match your endpoints.\n\nOnce you have enabled sequence rules, the rules fields will be populated and you can now use the new fields in your rules.\n\n### Disable sequence rules\n\nDisabling sequence rules will stop the rules fields from being populated. If you still have rules deployed which depend on these fields, those rules may not behave as intended. Remove or disable any rules that rely on sequence fields before disabling sequence rules.\n\nTo disable sequence rules:\n\n1. [Create an API token](https://developers.cloudflare.com/fundamentals/api/get-started/create-token/) if you do not already have one. The API token must include the *Zone* > *Fraud Detection* > *Edit* permission.\n2. [Get the zone ID](https://developers.cloudflare.com/fundamentals/account/find-account-and-zone-ids/) for the zone(s) where you want to enable sequence rules.\n3. [Add the endpoints](https://developers.cloudflare.com/api-shield/management-and-monitoring/) that you want to track in your sequence rules using API Shield's Endpoint Management and make note of the short ID.\n4. Disable the sequence cookie using your API token, zone ID, and by setting `enabled` to `false` on the following API call.\n\nNote\n\nThe short ID will not be visible until your account team has enabled this feature for you.",
      "language": "unknown"
    },
    {
      "code": "***\n\n## Rules fields\n\nSequence rules introduces three new fields to Cloudflare Rules. All of these fields reference operations by their short ID. Accounts that have the Fraud Detection subscription can refer to the short ID by viewing the endpoint details via **API Shield** > **Endpoint Management** in the Cloudflare dashboard. Accounts without Fraud Detection do not have access to this field.\n\nCloudflare only stores up to the 10 most recent operations in a sequence for up to one hour. If there are more than 10 operations in the sequence, older operations will be dropped and will not be included in the following fields. Similarly, if an operation happened more than one hour ago, it will also not be included in the following fields.\n\n### Example rules\n\nThe customer must request endpoint A before endpoint B.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "Customer must request endpoint A at least one second before endpoint B.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "***\n\n## Limitations\n\nCloudflare only supports HTTPS requests since our cookies set the `Secure` attribute.\n\n***\n\n## Availability\n\nSequence rules is currently in private beta. If you would like to be included in the beta, contact your account team.\n\n</page>\n\n<page>\n---\ntitle: Static resource protection Â· Cloudflare bot solutions docs\ndescription: Pro, Business, and Enterprise customers can use Cloudflare's bot\n  solutions to protect their static resources from bots.\nlastUpdated: 2025-09-26T21:09:24.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/additional-configurations/static-resources/\n  md: https://developers.cloudflare.com/bots/additional-configurations/static-resources/index.md\n---\n\nPro, Business, and Enterprise customers can use Cloudflare's bot solutions to protect their static resources from bots.\n\nWarning\n\nIf you enable static resource protection, you may block good bots â€” like mail clients â€” that routinely fetch static resources. Make sure you understand your existing infrastructure before enabling this feature.\n\n## Super Bot Fight Mode\n\nTo enable this feature as a Pro or Business customer or an Enterprise customer without Bot Management:\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/login), and select your account and domain.\n  2. Go to **Security** > **Bots**.\n  3. Select **Configure Super Bot Fight Mode**.\n  4. For **Static resource protection**, select **On**.\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security Settings** page.\n\n     [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings)\n\n  2. Filter by **Bot traffic**.\n\n  3. Go to **Super Bot Fight Mode**.\n\n  4. Under **Configurations**, select the edit icon for **Static resource protection** and turn it on.\n\nWarning\n\nThe **Static Resource Protection** setting will only activate if at least one of the bot categories (definite, likely, or verified) is *not* set to `Allow`. If all categories are set to `Allow`, this setting will not have any impact since it works alongside these bot settings as part of the managed rules.\n\n## Bot Management for Enterprise\n\nStatic resources are protected by default when you create [custom rules](https://developers.cloudflare.com/waf/custom-rules/) using `cf.bot_management.score`.\n\nTo exclude static resources, you would need to include `not (cf.bot_management.static_resource)` as part of your custom rule.\n\n## Which files are protected?\n\nStatic resources are files with the following extensions:\n\n`ico|jpg|png|jpeg|gif|css|js|tif|tiff|bmp|pict|webp|svg|svgz|class|jar|txt|csv|doc|docx|xls|xlsx|pdf|ps|pls|ppt|pptx|ttf|otf|woff|woff2|eot|eps|ejs|swf|torrent|midi|mid|m3u8|m4a|mp3|ogg|ts`\n\nAdditionally, the `/.well-known/` URL path and all elements in it are considered a static resource, regardless of the file extension.\n\n</page>\n\n<page>\n---\ntitle: Bots Â· Cloudflare bot solutions docs\ndescription: A bot is a software application programmed to do certain tasks.\nlastUpdated: 2025-08-28T21:40:15.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/concepts/bot/\n  md: https://developers.cloudflare.com/bots/concepts/bot/index.md\n---\n\nA **bot** is a software application programmed to do certain tasks.\n\nBots can be used for good (chatbots, search engine crawlers) or for evil (inventory hoarding, credential stuffing).\n\nMore information\n\nFor more background, refer to [What is a bot?](https://www.cloudflare.com/learning/bots/what-is-a-bot/).\n\n## Verified bots and signed agents\n\nCloudflare maintains an internal directory of [verified bot](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/) and [signed agents](https://developers.cloudflare.com/bots/concepts/bot/signed-agents/) that are associated with search engine optimization (SEO), website monitoring, and more.\n\nYou can use this directory to prevent any bot protection measures from impacting otherwise helpful bots and agents, such as search crawlers.\n\nFor a partial list of verified bots and signed agents, refer to [Cloudflare Radar](https://radar.cloudflare.com/verified-bots).\n\nNote\n\nThe method for allowing or blocking verified bots depends on [your plan](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/#availability).\n\n## AI bots\n\nYou can opt into a managed rule that will block bots that we categorize as artificial intelligence (AI) crawlers (â€œAI Botsâ€) from visiting your website. Customers may choose to do this to prevent AI-related usage of their content, such as training large language models (LLM).\n\n### Which bots are blocked\n\nWhen you enable this feature, Cloudflare will block the following bots:\n\n* `Amazonbot` (Amazon)\n* `Applebot` (Apple)\n* `Bytespider` (ByteDance)\n* `ClaudeBot` (Anthropic)\n* `DuckAssistBot` (DuckDuckGo)\n* `Google-CloudVertexBot` (Google)\n* `GoogleOther` (Google)\n* `GPTBot` (OpenAI)\n* `Meta-ExternalAgent` (Meta)\n* `PetalBot` (Huawei)\n* `TikTokSpider` (ByteDance)\n* `CCBot` (Common Crawl)\n\nIn addition to this list, [verified bots](https://radar.cloudflare.com/bots#verified-bots) that are classified as AI crawlers, as well as a number of unverified bots that behave similarly, are included in the rule. This rule does not include verified bots that fall into the `Search Engine` categories.\n\nThese categories, and the bots classified in these categories, may change from time to time.\n\nIf you are a bot operator and feel your bot may have been incorrectly categorized, [add your bot to the list of verified bots](https://dash.cloudflare.com/?to=/:account/configurations/verified-bots).\n\n### How it works\n\nWhen you enable this feature via a pre-configured managed rule, Cloudflare can detect and block verified AI bots that comply with `robots.txt` and respect crawl rates, and do not hide their behavior from your website. The rule has also been expanded to include more signatures of AI bots that do not follow the rules.\n\nThe rule to block AI bots takes precedence over all other Super Bot Fight Mode rules. For example, if you have enabled **Block AI bots** and **Allow verified bots**, verified AI bots will also be blocked even if you allow other verified bots on your website or application.\n\nFor Bot Management customers, if you have set a rule to serve managed challenges to definitely automated bots, AI bots will also be challenged because custom rules run in a phase before Super Bot Fight Mode, which is the phase when the rule to block AI bots runs.\n\nThis behavior remains the same if the setting for verified, definitely automated, and likely bots is set to `block` or `allow`. If you have an action to `allow` for these rules, the request is not matched to any rule and proceeds to the next ruleset phase. Similarly, if the action is set to `block`, they will be blocked in the earlier phase and do not move on to match the AI rule at all. However, when the action is `challenge`, the request matches a rule and therefore will not be matched to any rules after.\n\nFor self-serve non-Bot Management customers, all rules for verified, definitely automated, and likely bots run in the phase following the AI bots rule.",
      "language": "unknown"
    },
    {
      "code": "This feature is available on all Cloudflare plans.\n\nNote\n\nThe method for blocking AI bots depends on [your plan](https://developers.cloudflare.com/bots/get-started/).\n\n</page>\n\n<page>\n---\ntitle: Bot detection engines Â· Cloudflare bot solutions docs\ndescription: The Heuristics engine processes all requests. Cloudflare conducts a\n  number of heuristic checks to identify automated traffic, and requests are\n  matched against a growing database of malicious fingerprints.\nlastUpdated: 2025-08-20T21:45:15.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/concepts/bot-detection-engines/\n  md: https://developers.cloudflare.com/bots/concepts/bot-detection-engines/index.md\n---\n\n## Heuristics\n\nThe **Heuristics** engine processes all requests. Cloudflare conducts a number of heuristic checks to identify automated traffic, and requests are matched against a growing database of malicious fingerprints.\n\n## JavaScript detections\n\nThe [**JavaScript Detections (JSD)**](https://developers.cloudflare.com/bots/additional-configurations/javascript-detections/) engine identifies headless browsers and other malicious fingerprints. This engine performs a lightweight, invisible JavaScript injection on the client side of any request while honoring our [strict privacy standards](https://www.cloudflare.com/privacypolicy/). We do not collect any personally identifiable information during the process. The JSD engine either blocks, challenges, or passes requests to other engines.\n\nJSD is completely optional. To adjust your settings, configure Super Bot Fight Mode from **Security** > **Bots**.\n\n## Machine Learning (Business and Enterprise)\n\nThe **Machine Learning (ML)** engine accounts for the majority of all detections, distinguishing between human and bot traffic. This approach leverages our global network, which proxies billions of requests daily, to identify both automated and human traffic.\n\nThe ML system uses a supervised machine learning methodology to determine the final Bot Score (1â€“99).\n\nThe core model relies on the following process:\n\n* Input Variables (X): Various request features (headers, session characteristics, and browser signals) collected from traffic across the Cloudflare network.\n* Output Variable (Y): The predicted probability that a client is human (such as the probability of successfully solving a Challenge). This probability is mapped to the final 1â€“99 Bot Score.\n\nWe constantly train the ML engine on a periodic basis using vast, anonymized data to ensure it remains accurate and adapts to new threats. Customers can analyze the request features used by these models via their own logs, such as Cloudflare [Logpull](https://developers.cloudflare.com/logs/logpull/) or [Logpush](https://developers.cloudflare.com/logs/logpush/).\n\nThe ML engine identifies *likely automated* traffic.\n\n## Anomaly detection (Enterprise)\n\nThe **Anomaly Detection (AD)** engine is an optional detection engine that uses a form of unsupervised learning. Cloudflare records a baseline of your domain's traffic and uses the baseline to intelligently detect outlier requests. This approach is user agent-agnostic and can be turned on or off by your account team.\n\nCloudflare does not recommend AD for domains that use [Cloudflare for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/) or expect large amounts of API traffic. The AD engine immediately gives automated requests a score of one.\n\n## Notes on detection\n\nCloudflare uses the `__cf_bm cookie` to smooth out the bot score and reduce false positives for actual user sessions.\n\nThe Bot Management cookie measures a single user's request pattern and applies it to the machine learning data to generate a reliable bot score for all of that user's requests.\n\nFor more details, refer to [Cloudflare Cookies](https://developers.cloudflare.com/fundamentals/reference/policies-compliances/cloudflare-cookies/).\n\nYou can disable the `__cf_bm` cookie using the `bm_cookie_enabled` field [via the API](https://developers.cloudflare.com/api/resources/bot_management/methods/update/).\n\n</page>\n\n<page>\n---\ntitle: Bot scores Â· Cloudflare bot solutions docs\ndescription: A bot score is a score from 1 to 99 that indicates how likely that\n  request came from a bot.\nlastUpdated: 2025-10-15T15:50:02.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/concepts/bot-score/\n  md: https://developers.cloudflare.com/bots/concepts/bot-score/index.md\n---\n\nA bot score is a score from *1* to *99* that indicates how likely that request came from a bot.\n\nFor example, a score of 1 means Cloudflare is quite certain the request was automated, while a score of 99 means Cloudflare is quite certain the request came from a human.\n\nBot scores are available to be used in rule expressions and with Workers to customize application behavior. For more details, refer to [Bot Management variables](https://developers.cloudflare.com/bots/reference/bot-management-variables/).\n\nNote\n\nGranular bot scores are only available to Enterprise customers who have purchased Bot Management. All other customers can only access this information through [bot groupings](#bot-groupings) in Bot Analytics.\n\n## Bot groupings\n\nCustomers with a Pro plan or higher can automatically see bot traffic divided into groups by going to **Security** > **Bots**.\n\n| Category | Range |\n| - | - |\n| **Not computed** | Bot scores of 0. |\n| **Automated** | Bot scores of 1. |\n| **Likely automated** | Bot scores of 2 through 29. |\n| **Likely human** | Bot scores of 30 through 99. |\n| **Verified bot** | Non-malicious automated traffic (used to power search engines and other applications). |\n\nNote\n\nBot scores are not computed for requests to paths that are handled by Cloudflare and will never be blocked or forwarded to the origin. Note that some features that are enabled before Bot Management, such as Redirect Rules, may result in requests not being scored.\n\n## How Cloudflare generates bot scores\n\nNote\n\nThe following detection engines only apply to Enterprise Bot Management. For specific details about the engines included in your plan, refer to [Plans](https://developers.cloudflare.com/bots/plans/).\n\n### Heuristics\n\nThe **Heuristics** engine processes all requests. Cloudflare conducts a number of heuristic checks to identify automated traffic, and requests are matched against a growing database of malicious fingerprints.\n\nThe Heuristics engine immediately gives automated requests a score of 1.\n\n### Machine learning\n\nThe **Machine Learning (ML)** engine accounts for the majority of all detections, distinguishing between human and bot traffic. This approach leverages our global network, which proxies billions of requests daily, to identify both automated and human traffic.\n\nThe ML system uses a supervised machine learning methodology to determine the final Bot Score (1â€“99).\n\nThe core model relies on the following process:\n\n* Input Variables (X): Various request features (headers, session characteristics, and browser signals) collected from traffic across the Cloudflare network.\n* Output Variable (Y): The predicted probability that a client is human (such as the probability of successfully solving a Challenge). This probability is mapped to the final 1â€“99 Bot Score.\n\nWe constantly train the ML engine on a periodic basis using vast, anonymized data to ensure it remains accurate and adapts to new threats. Customers can analyze the request features used by these models via their own logs, such as Cloudflare [Logpull](https://developers.cloudflare.com/logs/logpull/) or [Logpush](https://developers.cloudflare.com/logs/logpush/).\n\n### Anomaly detection\n\nThe **Anomaly Detection (AD)** engine is an optional detection engine that uses a form of unsupervised learning. Cloudflare records a baseline of your domain's traffic and uses the baseline to intelligently detect outlier requests. This approach is user agent-agnostic and can be turned on or off by your account team.\n\nCloudflare does not recommend AD for domains that use [Cloudflare for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/) or expect large amounts of API traffic. The AD engine immediately gives automated requests a score of one.\n\n### JavaScript detections\n\nThe [**JavaScript Detections (JSD)**](https://developers.cloudflare.com/bots/additional-configurations/javascript-detections/) engine identifies headless browsers and other malicious fingerprints. This engine performs a lightweight, invisible JavaScript injection on the client side of any request while honoring our [strict privacy standards](https://www.cloudflare.com/privacypolicy/). We do not collect any personally identifiable information during the process. The JSD engine either blocks, challenges, or passes requests to other engines.\n\nJSD is enabled by default but completely optional. To adjust your settings, open the Bot Management Configuration page from **Security** > **Bots**.\n\n### Cloudflare service\n\n**Cloudflare Service** is a special bot score source for Enterprise Zero Trust to avoid false positives.\n\n### Not computed\n\nA bot score of 0 means Bot Management did not run on the request. Cloudflare does not run Bot Management on internal service requests that Bot Management has no interest in blocking.\n\n### Notes on detection\n\nCloudflare uses the `__cf_bm cookie` to smooth out the bot score and reduce false positives for actual user sessions.\n\nThe Bot Management cookie measures a single user's request pattern and applies it to the machine learning data to generate a reliable bot score for all of that user's requests.\n\nFor more details, refer to [Cloudflare Cookies](https://developers.cloudflare.com/fundamentals/reference/policies-compliances/cloudflare-cookies/).\n\n</page>\n\n<page>\n---\ntitle: Bot tags Â· Cloudflare bot solutions docs\ndescription: Bot tags provide more detail about why Cloudflare assigned a bot\n  score to a request.\nlastUpdated: 2025-08-18T14:27:42.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/concepts/bot-tags/\n  md: https://developers.cloudflare.com/bots/concepts/bot-tags/index.md\n---\n\nBot tags provide more detail about *why* Cloudflare assigned a [bot score](https://developers.cloudflare.com/bots/concepts/bot-score/) to a request.\n\nUse these tags to learn more about your bot traffic and better inform security settings.\n\nNote\n\nBot tags are only available to Enterprise customers who have purchased Bot Management.\n\n## Potential values\n\nOnce you [enable bot tags](#enable-bot-tags), you can see more information about bot requests, such as whether a request came from a verified bot (like Bing) or a category of verified bot (like SearchEngine).\n\nThe following values are **examples** of what may be present in the `BotTags` log field, but not an exhaustive list:\n\n* api\n* google\n* bing\n* googleAds\n* googleMedia\n* googleImageProxy\n* pinterest\n* newRelic\n* baidu\n* apple\n* yandex\n\n## Enable bot tags\n\nTo enable bot tags, include the `BotTags` log field when using our [Logpush service](https://developers.cloudflare.com/logs/logpush/).\n\n## Limitations\n\nCurrently, bot tags are only available in log fields.\n\nFuture work will add more values and extend bot tags to other Cloudflare products.\n\n</page>\n\n<page>\n---\ntitle: Bot Feedback Loop Â· Cloudflare bot solutions docs\ndescription: The Bot Feedback Loop is a way for customers to send Cloudflare\n  direct feedback in the case of Bot Management potentially scoring a request\n  incorrectly. When a customer submits a False Negative or a False Positive\n  report, Cloudflare manually analyzes this data and uses it as a training\n  dataset for our next Machine Learning model.\nlastUpdated: 2025-11-27T11:05:45.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/concepts/feedback-loop/\n  md: https://developers.cloudflare.com/bots/concepts/feedback-loop/index.md\n---\n\nThe Bot Feedback Loop is a way for customers to send Cloudflare direct feedback in the case of Bot Management potentially [scoring](https://developers.cloudflare.com/bots/concepts/bot-score/) a request incorrectly. When a customer submits a False Negative or a False Positive report, Cloudflare manually analyzes this data and uses it as a training dataset for our next Machine Learning model.\n\n## Availability\n\nBot Feedback Loop is available for Enterprise Bot Management customers. Visit [Plans](https://developers.cloudflare.com/bots/plans/) for more information.\n\n## False Positive\n\nA false positive can happen if Cloudflare scores a request from a person using a browser, mobile application or desktop application in the *automated* or *likely automated* range.\n\n## False Negative\n\nIf Cloudflare is unable to detect a portion of automated traffic on your site, submitting a False Negative report will help us catch it in the future.\n\n### Subtypes\n\n| Subtype | Definition |\n| - | - |\n| Account Creation Abuse | The automated creation of many new accounts in order to gain access to site resources. |\n| Ad Fraud | Fraudulent increase in the number of times an advertisement is clicked on or displayed. |\n| Credit Card Abuse | Attempts to repeatedly validate many credit card numbers or the same credit card number with different validation details. |\n| Cashing Out | Abusing the target Internet application to obtain valuable goods. |\n| Login Abuse | Attempts to gain access to a password protected portion of an Internet application using many different combinations of usernames and passwords. |\n| Inventory Abuse | Automated abuse related to purchasing limited stock inventory or holding inventory to prevent others from making transactions. |\n| Denial of Service | Automated requests with the intent of exhausting server resources to prevent the Internet application from functioning. |\n| Expediting | Automating the use of an Internet application to make transactions faster than a human visitor to gain unfair advantage. |\n| Fuzzing | Finding implementation bugs through the use of malformed data injection in an automated fashion. |\n| Scraping | Automated retrieval of valuable or proprietary information from an Internet application. |\n| Spamming | The abuse of content forms to send spam. |\n| Token Cracking | Identification of valid token codes providing some form of user benefit within the application. |\n| Vulnerability Scanning | Systematic enumeration and examination of identifiable, guessable and unknown content locations, paths, file names, parameters, to find weaknesses and points where a security vulnerability might exist. |\n\n## Submit a report\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/), and select your account and domain.\n  2. Go to **Security** > **Bots**.\n  3. Apply one or more bot score filters.\n  4. Select **Report incorrect data** and fill out the form.\n  5. Select **Submit**.\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security Analytics** page.\n\n     [Go to **Analytics**](https://dash.cloudflare.com/?to=/:account/:zone/security/analytics)\n\n  2. Apply one or more filters.\n\n  3. Under **Request activity**, filter by **Bot analysis**.\n\n  4. Select **Report incorrect data** and fill out the form.\n\n  5. Select **Submit**.\n\n## Via the API\n\n### Create a feedback report",
      "language": "unknown"
    },
    {
      "code": "### List feedback reports",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "## API Fields\n\n| Field | Type | Description | Value Example |\n| - | - | - | - |\n| `type` | string | The feedback report type. | `false_positive` |\n| `description` | string | The feedback report description with more details on the issue. | Legitimate customers having low scores. |\n| `expression` | string | The wirefilter expression matching reported requests. | `(cf.bot_management.score le 46 and ip.src.asnum eq 132892 and http.host eq \"app.example.com\" and cf.bot_management.ja3_hash eq \"3fed133de60c35724739b913924b6c24\")` |\n| `first_request_seen_at` | string | The time range start when the first request has been seen, RFC 3339 format. | `2022-08-01T00:00:00Z` |\n| `last_request_seen_at` | string | The time range end when the last request has been seen, RFC 3339 format. | `2022-08-10T00:00:00Z` |\n| `requests` | integer | The total number of reported requests. | `100` |\n| `requests_by_score` | object | The requests breakdown by score. | See example below. |\n| `requests_by_score_src` | object | Requests breakdown by score source. | See example below. |\n| `requests_by_attribute` | object | Requests breakdown by attribute (optional). | See example below. |\n\n`requests_by_score`",
      "language": "unknown"
    },
    {
      "code": "`requests_by_score_src`",
      "language": "unknown"
    },
    {
      "code": "`requests_by_attribute`",
      "language": "unknown"
    },
    {
      "code": "### Expression fields\n\n| Field | Type | Description |\n| - | - | - |\n| `cf.bot_management.ja3_hash` | string | This provides an SSL/TLS fingerprint to help you identify potential bot requests. |\n| `cf.bot_management.score` | integer | This represents the likelihood that a request originates from a bot using a score from 1-99. |\n| `http.host` | string | This represents the hostname used in the full request URI. |\n| `http.request.uri.path` | string | This represents the URI path of the request. |\n| `http.user_agent` | string | This represents the HTTP user agent which is a request header that contains a characteristic string to allow identification of the client operating system and web browser. |\n| `ip.src.asnum` | integer | This represents the 16- or 32-bit integer representing the Autonomous System (AS) number associated with client IP address. |\n| `ip.src.country` | string | This represents the 2-letter country code in ISO 3166-1 Alpha 2 format. |\n| `ip.src` | string | The source address of the IP. |\n\n## Recommendations when submitting a report\n\nWhen you submit a report, use the filters available in the Bot Analytics dashboard to ensure that your report includes only the traffic that received an incorrect score. In addition to filtering by a score (required), you may want to filter by user-agent, IP, ASN or JA3 to more precisely highlight the section of traffic that was scored incorrectly.\n\nIf you are not certain if some traffic received an incorrect score, keep this traffic in the report.\n\nWe appreciate any comments you wish to leave in the description field that might help our team better understand these requests in the context of typical traffic to your domain.\n\n## Recommendations after submitting a false positive\n\nNote\n\nThe instructions below apply to Enterprise subscription with Bot Management only.\n\nAfter submitting a false positive, you can explicitly allow the traffic if you are confident that this traffic source cannot be used for abuse in the future. To allow traffic, you can create a WAF custom rule with a [Skip the remaining custom rules](https://developers.cloudflare.com/waf/custom-rules/skip/options/#skip-the-remaining-custom-rules-current-ruleset) action that matches the characteristics of your false positive report. We recommend any skip rule that you create uses the most narrow possible scope, including restricting the request methods and URIs that the expected traffic has access to, to limit potential abuse.\n\n* Allowing a **[JA3/JA4 fingerprint](https://developers.cloudflare.com/bots/additional-configurations/ja3-ja4-fingerprint/)**: If you want to allow access to a stable software client that does not come from a dedicated IP, you can do so by looking up the JA3 fingerprint(s) used by that client in the Bot Analytics dashboard, and creating a WAF custom rule to allow traffic based on that JA3 fingerprint. JA3 fingerprints will only match a clientâ€™s TLS library, so be cautious in looking for both overlap with other clients and with variation based on the operating system.\\\n  \\\n  Cloudflare does not recommend relying on JA3 rules for mobile applications that may be abused. If you have questions about how to securely allow traffic from your mobile application, please contact your account team.\n\nNote\n\nThe instructions below apply to Enterprise subscription with Bot Management, Bot Fight Mode and Super Bot Fight Mode.\n\n* Allowing an **IP address**: Only use an IP address to allow traffic if the IP is a dedicated resource that belongs only to the traffic source you wish to allow.\\\n  If the traffic you want to allow shares an IP with other traffic sources, or if the IP changes frequently, consider an alternative to allowing by IP address.\n\n## Recommendations after submitting a false negative\n\nAfter submitting a false negative report, you can explicitly block or rate-limit the incorrectly scored traffic using a combination of characteristics such as IP address, JA3 fingerprint, ASN, and user-agent. Before blocking or rate-limiting based on JA3 fingerprint, please use Bot Analytics to confirm that fingerprint is not being used by legitimate traffic sources.\n\n</page>\n\n<page>\n---\ntitle: Get started with Bot Fight Mode Â· Cloudflare bot solutions docs\ndescription: \"Bot Fight Mode is a simple, free product that helps detect and\n  mitigate bot traffic on your domain. When enabled, the product:\"\nlastUpdated: 2025-11-14T23:07:26.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/get-started/bot-fight-mode/\n  md: https://developers.cloudflare.com/bots/get-started/bot-fight-mode/index.md\n---\n\nBot Fight Mode is a simple, free product that helps detect and mitigate bot traffic on your domain. When enabled, the product:\n\n* Identifies traffic matching patterns of known bots\n* Issues computationally expensive challenges in response to these bots\n* Notifies [Bandwidth Alliance](https://cloudflare.com/bandwidth-alliance/) partners (if applicable) to disable bots\n\n## Considerations\n\nBot Fight Mode and Super Bot Fight Mode use the same underlying technology that powers our [Bot Management](https://www.cloudflare.com/products/bot-management/) product. Specifically, these products:\n\n* Protect entire domains without endpoint restrictions\n* Cannot be customized, adjusted, or reconfigured via WAF custom rules\n\nAlthough these products are designed to fight malicious actors on the Internet, they may challenge API or mobile app traffic. For more granular control, upgrade to [Bot Management for Enterprise](https://developers.cloudflare.com/bots/plans/bm-subscription/).\n\n***\n\n## Enable Bot Fight Mode\n\nTo start using Bot Fight Mode:\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/login), and select your account and domain.\n  2. Go to **Security** > **Bots**.\n  3. For **Bot Fight Mode**, select **On**.\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security Settings** page.\n\n     [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings)\n\n  2. Filter by **Bot traffic**.\n\n  3. Go to **Bot Fight Mode**.\n\n  4. Turn **Bot Fight Mode** on.\n\nNote\n\nIf you are upgrading from Bot Fight Mode to Super Bot Fight Mode, you must disable Bot Fight Mode in your Bot settings.\n\nOld dashboard: **Security** > **Bots**, and select **Configure Bot Fight Mode**.\n\nNew dashboard: **Security** > **Settings**. Filter by **Bot traffic** and turn **Bot Fight Mode** off.\n\n***\n\n## Disable Bot Fight Mode\n\nIf you find that **Bot Fight Mode** is causing problems with your application traffic, you may want to disable it.\n\nTo disable Bot Fight Mode:\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/login), and select your account and domain.\n  2. Go to **Security** > **Bots**.\n  3. For **Bot Fight Mode**, select **Off**.\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security Settings** page.\n\n     [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings)\n\n  2. Filter by **Bot traffic**.\n\n  3. Go to **Bot Fight Mode**.\n\n  4. Turn **Bot Fight Mode** off.\n\n***\n\n## Block AI bots\n\nRefer to [Block AI bots](https://developers.cloudflare.com/bots/additional-configurations/block-ai-bots/).\n\nNote\n\nYou can view blocked AI bot traffic via [Security Analytics](https://developers.cloudflare.com/waf/analytics/security-analytics/).\n\n***\n\n## Visibility\n\nYou can see bot-related actions by going to **Security** > **Events**. Any requests challenged by this product will be labeled **Bot Fight Mode** in the **Service** field. This allows you to observe, analyze, and follow trends in your bot traffic over time.\n\n***\n\n## Limitations\n\n### Rules\n\nYou cannot bypass or skip Bot Fight Mode using the *Skip* action in WAF custom rules or using Page Rules. *Skip*, *Bypass*, and *Allow* actions apply to rules or rulesets running on the [Ruleset Engine](https://developers.cloudflare.com/ruleset-engine/). While Super Bot Fight Mode rules are implemented in the Ruleset Engine, Bot Fight Mode checks are not. This is why you can skip Super Bot Fight Mode, but not Bot Fight Mode. If you need to skip Bot Fight Mode, consider using [Super Bot Fight Mode](https://developers.cloudflare.com/bots/get-started/super-bot-fight-mode/).\n\nBot Fight Mode can still trigger if you have IP Access rules, but it cannot trigger if an IP Access rule matches the request. For example, the IP Access rule matches the connecting IP.\n\n### JavaScript Detections\n\nFor Bot Fight Mode customers, [JavaScript Detections](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/javascript-detections/) is automatically enabled and cannot be disabled.\n\nIf you have a Content Security Policy (CSP), you need to take additional steps to implement JavaScript Detections:\n\n* Ensure that anything under `/cdn-cgi/challenge-platform/` is allowed. Your CSP should allow scripts served from your origin domain (`script-src self`).\n\n* For `nonce` script tags:\n\n  * If your CSP uses a `nonce` for script tags, Cloudflare will add these nonces to the scripts it injects by parsing your CSP response header.\n\n  * If your CSP does not use `nonce` for script tags and **JavaScript Detections** is enabled, you may see a console error such as `Refused to execute inline script because it violates the following Content Security Policy directive: \"script-src 'self'\". Either the 'unsafe-inline' keyword, a hash ('sha256-b123b8a70+4jEj+d6gWI9U6IilUJIrlnRJbRR/uQl2Jc='), or a nonce ('nonce-...') is required to enable inline execution.` We highly discourage the use of `unsafe-inline` and instead recommend the use CSP `nonces` in script tags which we parse and support in our CDN.\n\nWarning\n\nJavaScript Detections is not supported with `nonce` set via `<meta>` tags.\n\n</page>\n\n<page>\n---\ntitle: Bot Management Â· Cloudflare bot solutions docs\ndescription: Bot Management for Enterprise is a paid add-on that provides\n  sophisticated bot protection for your domain. Customers can identify automated\n  traffic, take appropriate action, and view detailed analytics within the\n  dashboard.\nlastUpdated: 2025-10-31T10:10:06.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/get-started/bot-management/\n  md: https://developers.cloudflare.com/bots/get-started/bot-management/index.md\n---\n\nBot Management for Enterprise is a paid add-on that provides sophisticated bot protection for your domain. Customers can identify automated traffic, take appropriate action, and view detailed analytics within the dashboard.\n\nThis Enterprise product provides the most flexibility to customers by:\n\n* Generating a [bot score](https://developers.cloudflare.com/bots/concepts/bot-score/) of 1-99 for every request. Scores below 30 are commonly associated with bot traffic.\n* Allowing customers to take action on this score with [WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/) or [`Workers`](https://developers.cloudflare.com/workers/runtime-apis/request/#incomingrequestcfproperties).\n* Allowing customers to view this score in Bot Analytics or Logs.\n\n***\n\n## Enable Bot Management for Enterprise\n\nBot Management is automatically enabled for Enterprise zones entitled with the add-on.\n\n* Old dashboard\n\n  To enable a [Bot Management](https://dash.cloudflare.com/?to=/:account/:zone/security/bots) trial on Enterprise zones without the Bot Management add-on entitled:\n\n  1. Log in to your [Cloudflare dashboard](https://dash.cloudflare.com/), and select your account and domain.\n  2. Go to **Security** > **Bots**.\n  3. Select **Add Bot Management**.\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security Settings** page.\n\n     [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings)\n\n  2. Filter by **Bot traffic**.\n\n  3. Go to **Bot management**.\n\n  4. Turn **Bot management** on.\n\n  5. Choose how your domain should respond to various types of traffic by selecting the associated edit icon.\n\n     * For more details on verified bots, refer to [Verified Bots](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/).\n     * For more details on supported file types, refer to [Static resource protection](https://developers.cloudflare.com/bots/additional-configurations/static-resources/).\n     * For more details on invisible code injection, refer to [JavaScript detections](https://developers.cloudflare.com/bots/additional-configurations/javascript-detections/).\n     * For more details on WordPress optimization, refer to [Super Bot Fight Mode for WordPress](https://developers.cloudflare.com/bots/troubleshooting/wordpress-loopback-issue/).\n\nNote\n\nIf you are not seeing Bot Management enabled on your zone or if you still see **Add Bot Management** on the Cloudflare dashboard, contact your account team for the proper entitlements.\n\n***\n\n## Setup\n\nCloudflare recommends that you deploy the following basic settings and customize them according to the traffic in your zone.\n\n### Enable the latest Machine Learning version\n\nCloudflare encourages Enterprise customers to enable auto-updates to its Machine Learning models to get the newest bot detection models as they are released.\n\nTo enable auto-updates:\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/), and select your account and domain.\n  2. Go to **Security** > **Bots**.\n  3. Select **Configure Bot Management**.\n  4. Enable **Auto-updates to the Machine Learning Model**.\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security Settings** page.\n\n     [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings)\n\n  2. Filter by **Bot traffic**.\n\n  3. Go to **Bot Management**.\n\n  4. Under **Configurations**, select the edit icon for **Auto-updates to the Machine Learning Model** and turn it on.\n\n### Block AI Bots\n\nRefer to [Block AI bots](https://developers.cloudflare.com/bots/additional-configurations/block-ai-bots/).\n\nNote\n\nYou can view blocked AI bot traffic via [Security Analytics](https://developers.cloudflare.com/waf/analytics/security-analytics/).\n\n### Deploy default templates\n\nCloudflare has [default templates](https://dash.cloudflare.com/?to=/:account/:zone/security/security-rules?template=bot_traffic) for definite bots, which have a [bot score](https://developers.cloudflare.com/bots/concepts/bot-score/) of 1, and likely bots which have a bot score of 2 to 29. In our templates, Cloudflare recommends to allow verified bots such as Google SEO Crawler and access to cached static resources.\n\n* [Definite Bots template](https://dash.cloudflare.com/?to=/:account/:zone:/security/security-rules/custom-rules/create?template=Definitely%20Bots): Targets malicious bot traffic while ignoring verified bots and routes delivering static content.",
      "language": "unknown"
    },
    {
      "code": "* [Likely Bots template](https://dash.cloudflare.com/?to=/:account/:zone/security/security-rules/custom-rules/create?template=Likely%20Bots): Targets traffic likely to be malicious bots while ignoring verified bots and routes with static content. It may contain a small amount of non-bot traffic.",
      "language": "unknown"
    },
    {
      "code": "* (Optional) [JavaScript detections template](https://dash.cloudflare.com/?to=/:account/:zone/security/security-rules/custom-rules/create?template=JavaScript%20Verified%20URLs): If you enabled JavaScript detections, then set up a [managed challenge](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/challenge-pages/#managed-challenge-recommended), make sure to add a method and URI path. JavaScript detections improves security for URLs that should only expect JavaScript-enabled clients.",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Get started with Super Bot Fight Mode Â· Cloudflare bot solutions docs\ndescription: \"Super Bot Fight Mode is included in your Pro, Business, or\n  Enterprise subscription. When enabled, the product:\"\nlastUpdated: 2025-10-31T10:10:06.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/get-started/super-bot-fight-mode/\n  md: https://developers.cloudflare.com/bots/get-started/super-bot-fight-mode/index.md\n---\n\nSuper Bot Fight Mode is included in your Pro, Business, or Enterprise subscription. When enabled, the product:\n\n* Identifies traffic matching patterns of known bots\n* Can challenge or block bots\n* Offers protection for static resources\n* Provides limited analytics to help you understand bot traffic\n\nAccounts with an Enterprise subscription but not the [Bot Management add-on](https://developers.cloudflare.com/bots/get-started/bot-management/) will have Super Bot Fight Mode for Business.\n\n## Considerations\n\nBot Fight Mode and Super Bot Fight Mode use the same underlying technology that powers our [Bot Management](https://www.cloudflare.com/products/bot-management/) product. Specifically, these products:\n\n* Protect entire domains without endpoint restrictions\n* Cannot be customized, adjusted, or reconfigured via WAF custom rules\n\nAlthough these products are designed to fight malicious actors on the Internet, they may challenge API or mobile app traffic. For more granular control, upgrade to [Bot Management for Enterprise](https://developers.cloudflare.com/bots/plans/bm-subscription/).\n\n### WAF custom rules\n\n[WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/) are executed before Super Bot Fight Mode.\n\nThis order has a critical impact on traffic processing. If a WAF custom rule performs a terminating action (such as *Block*, *Managed Challenge*, or *JS Challenge*), the request will not be processed further, and the Super Bot Fight Mode configuration will not be evaluated.\n\nTo configure exceptions to Super Bot Fight Mode, you should use the [*Skip* action in your WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/skip/). The *Skip* action allows the request to bypass the Super Bot Fight Mode phase without terminating the request, enabling it to continue through the rest of the security stack.\n\n## Enable Super Bot Fight Mode\n\nNote\n\nIf you are upgrading from Bot Fight Mode to Super Bot Fight Mode, you must disable Bot Fight Mode in your Bot settings.\n\nOld dashboard: **Security** > **Bots**, and select **Configure Bot Fight Mode**.\n\nNew dashboard: **Security** > **Settings**. Filter by **Bot traffic** and turn **Bot Fight Mode** off.\n\nTo start using Super Bot Fight Mode:\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/login), and select your account and domain.\n\n  2. Go to **Security** > **Bots**.\n\n  3. Select **Configure Super Bot Fight Mode**.\n\n  4. Choose how your domain should respond to various types of traffic:\n\n     * For more details on verified bots, refer to [Verified Bots](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/).\n     * For more details on supported file types, refer to [Static resource protection](https://developers.cloudflare.com/bots/additional-configurations/static-resources/).\n     * For more details on invisible code injection, refer to [JavaScript detections](https://developers.cloudflare.com/bots/additional-configurations/javascript-detections/).\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security Settings** page.\n\n     [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings)\n\n  2. Filter by **Bot traffic**.\n\n  3. Go to **Super Bot Fight Mode**.\n\n  4. Turn **Super Bot Fight Mode** on.\n\n  5. Choose how your domain should respond to various types of traffic by selecting the associated edit icon:\n\n     * For more details on verified bots, refer to [Verified Bots](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/).\n     * For more details on supported file types, refer to [Static resource protection](https://developers.cloudflare.com/bots/additional-configurations/static-resources/).\n     * For more details on invisible code injection, refer to [JavaScript detections](https://developers.cloudflare.com/bots/additional-configurations/javascript-detections/).\n     * For more details on WordPress optimization, refer to [Super Bot Fight Mode for WordPress](https://developers.cloudflare.com/bots/troubleshooting/wordpress-loopback-issue/).\n\nWarning\n\nIf your organization also uses [Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/), keep **Definitely Automated** set to **Allow**. Otherwise, tunnels might fail with a `websocket: bad handshake` error.\n\nIn parts of your site where you want bot traffic, you can use the [*Skip* action](https://developers.cloudflare.com/waf/custom-rules/skip/) in [WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/) to specify where Super Bot Fight Mode should not run.\n\nYou can use the [Rules language](https://developers.cloudflare.com/ruleset-engine/rules-language/) and its [operators](https://developers.cloudflare.com/ruleset-engine/rules-language/operators/) and [fields](https://developers.cloudflare.com/ruleset-engine/rules-language/fields/) in custom rules to configure a scoped rule for approved automated traffic in Super Bot Fight Mode.\n\n***\n\n## Disable Super Bot Fight Mode\n\nIf you find that **Super Bot Fight Mode** is causing problems with your application traffic, you may want to disable it.\n\nTo disable Super Bot Fight Mode:\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/login), and select your account and domain.\n  2. Go to **Security** > **Bots**.\n  3. Select **Configure Super Bot Fight Mode**.\n  4. For all bot groupings (**Definitely automated**, **Verified bots**, etc.), set the value to **Allow**.\n  5. For all other options (**Static resource protection**, **JavaScript Detections**), ensure they are off.\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security Settings** page.\n\n     [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings)\n\n  2. Filter by **Bot traffic**.\n\n  3. Go to **Super Bot Fight Mode**.\n\n  4. Turn **Super Bot Fight Mode** off.\n\n  5. For all bot groupings (**Definitely automated traffic**, **Verified bots**), select the edit icon and set the value to **Allow**.\n\n  6. For all other options (**Static resource protection**, **JavaScript detections**, **Optimize for WordPress**), select the edit icon and ensure they are off.\n\nIn parts of your site where you want bot traffic, you can use the [*Skip* action](https://developers.cloudflare.com/waf/custom-rules/skip/) in [WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/) to specify where Super Bot Fight Mode should not run.\n\nYou can use the [Rules language](https://developers.cloudflare.com/ruleset-engine/rules-language/) and its [operators](https://developers.cloudflare.com/ruleset-engine/rules-language/operators/) and [fields](https://developers.cloudflare.com/ruleset-engine/rules-language/fields/) in custom rules to configure a scoped rule for approved automated traffic in Super Bot Fight Mode.\n\n***\n\n## Block AI bots\n\nRefer to [Block AI bots](https://developers.cloudflare.com/bots/additional-configurations/block-ai-bots/).\n\nNote\n\nYou can view blocked AI bot traffic via [Security Analytics](https://developers.cloudflare.com/waf/analytics/security-analytics/).\n\n***\n\n## Analytics\n\n### Bot Report\n\nUse the **Bot Report** to monitor bot traffic for the past 24 hours.\n\nTo access the **Bot Report**, go to **Security** > **Bots**. If you see a double-digit percentage of automated traffic, you may want to upgrade to [Bot Management](https://developers.cloudflare.com/bots/plans/bm-subscription/) to save money on origin costs and protect your domain from large-scale attacks.\n\n![Example traffic distribution as part of a bot report](https://developers.cloudflare.com/_astro/bot-report-pro.BU1S3xco_PCTRJ.webp)\n\n### Security events\n\nYou can see bot-related actions by going to **Security** > **Events**. Any requests challenged by this product will be labeled **Super Bot Fight Mode** in the **Service** field. This allows you to observe, analyze, and follow trends in your bot traffic over time.\n\n***\n\n## Ruleset Engine\n\nSuper Bot Fight Mode runs during the `http_request_sbfm` phase of the [Ruleset Engine](https://developers.cloudflare.com/ruleset-engine/about/phases/).\n\nChange notice for Super Bot Fight Mode rulesets\n\nUpdating Super Bot Fight Mode rules via the Rulesets API is no longer supported and may cause unexpected behavior if you do so.\n\n</page>\n\n<page>\n---\ntitle: Plans â€” Business and Enterprise Â· Cloudflare bot solutions docs\ndescription: To learn more about features and functionality, select a plan.\nlastUpdated: 2025-09-18T21:34:18.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/plans/biz-and-ent/\n  md: https://developers.cloudflare.com/bots/plans/biz-and-ent/index.md\n---\n\nTo learn more about features and functionality, select a plan.\n\n[Free ](https://developers.cloudflare.com/bots/plans/free/)[Pro ](https://developers.cloudflare.com/bots/plans/pro/)[Business ](https://developers.cloudflare.com/bots/plans/biz-and-ent/)[Bot Management for Enterprise](https://developers.cloudflare.com/bots/plans/bm-subscription/)\n\n| | |\n| - | - |\n| **Plan name** | Super Bot Fight Mode |\n| **Availability** | All Business customers and Enterprise customers without Bot Management[1](#user-content-fn-1) |\n| **Type of bots detected** | Simple bots, headless browsers, and many sophisticated bots |\n| **Actions** | Customer chooses whether to allow, block, or challenge |\n| **Analytics** | Dedicated Bot Analytics tool, available in **Security Analytics** |\n| **Control** | Applied to all traffic across a domain |\n| **Additional features** | [Block AI bots](https://developers.cloudflare.com/bots/additional-configurations/block-ai-bots/), [AI Labyrinth](https://developers.cloudflare.com/bots/additional-configurations/ai-labyrinth/), [Instruct AI bot traffic with `robots.txt`](https://developers.cloudflare.com/bots/additional-configurations/managed-robots-txt/), [Definitely and Likely automated bots](https://developers.cloudflare.com/bots/concepts/bot-score/#bot-groupings), [Verified bots](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/), [Static resource protection](https://developers.cloudflare.com/bots/additional-configurations/static-resources/), [Optimize for WordPress](https://developers.cloudflare.com/bots/troubleshooting/wordpress-loopback-issue/), [JavaScript Detections](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/javascript-detections/) |\n\n## How do I get started?\n\nTo get started, review our [setup guides](https://developers.cloudflare.com/bots/get-started/). If you have any questions, visit the [community](https://community.cloudflare.com/) to engage with other Cloudflare users.\n\n## Footnotes\n\n1. When users purchase Bot Management for Enterprise, Cloudflare automatically replaces and disables other bot products to prevent overlap. [â†©](#user-content-fnref-1)\n\n</page>\n\n<page>\n---\ntitle: Plans â€” Bot Management for Enterprise Â· Cloudflare bot solutions docs\ndescription: To learn more about features and functionality, select a plan.\nlastUpdated: 2025-09-18T21:34:18.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/plans/bm-subscription/\n  md: https://developers.cloudflare.com/bots/plans/bm-subscription/index.md\n---\n\nTo learn more about features and functionality, select a plan.\n\n[Free ](https://developers.cloudflare.com/bots/plans/free/)[Pro ](https://developers.cloudflare.com/bots/plans/pro/)[Business ](https://developers.cloudflare.com/bots/plans/biz-and-ent/)[Bot Management for Enterprise](https://developers.cloudflare.com/bots/plans/bm-subscription/)\n\n| | |\n| - | - |\n| **Plan name** | Bot Management for Enterprise |\n| **Availability** | Added to Enterprise plans by your account team |\n| **Enablement** | Quick onboarding with help from our Solutions Engineering team |\n| **Type of bots detected** | Simple and sophisticated bots, headless browsers, and domain-specific anomalies |\n| **Actions** | Customer chooses from several options, including block and various challenges |\n| **Analytics** | Dedicated Bot Analytics tool, available in **Security Analytics** |\n| **Control** | Ability to restrict by path, IP address, and more. Access to [bot score](https://developers.cloudflare.com/bots/concepts/bot-score/), [JA3/JA4 fingerprint](https://developers.cloudflare.com/bots/additional-configurations/ja3-ja4-fingerprint/), [bot tags](https://developers.cloudflare.com/bots/concepts/bot-tags/) fields, and [detection IDs](https://developers.cloudflare.com/bots/additional-configurations/detection-ids/). |\n| **Additional features** | [Block AI bots](https://developers.cloudflare.com/bots/additional-configurations/block-ai-bots/), [AI Labyrinth](https://developers.cloudflare.com/bots/additional-configurations/ai-labyrinth/), [Instruct AI bot traffic with `robots.txt`](https://developers.cloudflare.com/bots/additional-configurations/managed-robots-txt/), [Definitely and Likely automated bots](https://developers.cloudflare.com/bots/concepts/bot-score/#bot-groupings), [Verified bots](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/), [Static resource protection](https://developers.cloudflare.com/bots/additional-configurations/static-resources/), [Optimize for WordPress](https://developers.cloudflare.com/bots/troubleshooting/wordpress-loopback-issue/), [JavaScript Detections](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/javascript-detections/) |\n\nNote\n\nZones that have [Enterprise Bot Management](https://developers.cloudflare.com/bots/get-started/bot-management/) enabled will not see Bot Fight Mode or Super Bot Fight Mode under **Security** > **Bots**.\n\n## How do I get started?\n\nTo get started, review our [setup guides](https://developers.cloudflare.com/bots/get-started/). If you have any questions, visit the [community](https://community.cloudflare.com/) to engage with other Cloudflare users.\n\n</page>\n\n<page>\n---\ntitle: Plans â€” Free Â· Cloudflare bot solutions docs\ndescription: To learn more about features and functionality, select a plan.\nlastUpdated: 2025-09-18T21:34:18.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/plans/free/\n  md: https://developers.cloudflare.com/bots/plans/free/index.md\n---\n\nTo learn more about features and functionality, select a plan.\n\n[Free ](https://developers.cloudflare.com/bots/plans/free/)[Pro ](https://developers.cloudflare.com/bots/plans/pro/)[Business ](https://developers.cloudflare.com/bots/plans/biz-and-ent/)[Bot Management for Enterprise](https://developers.cloudflare.com/bots/plans/bm-subscription/)\n\n| | |\n| - | - |\n| **Plan name** | Bot Fight Mode |\n| **Availability** | All Free customers |\n| **Type of bots detected** | Simple bots (from cloud ASNs) and headless browsers |\n| **Actions** | Cloudflare issues a computationally expensive challenge |\n| **Control** | Applied to all traffic across a domain |\n| **Additional features** | [Block AI bots](https://developers.cloudflare.com/bots/additional-configurations/block-ai-bots/), [AI Labyrinth](https://developers.cloudflare.com/bots/additional-configurations/ai-labyrinth/), [Instruct AI bot traffic with `robots.txt`](https://developers.cloudflare.com/bots/additional-configurations/managed-robots-txt/) |\n\n## How do I get started?\n\nTo get started, review our [setup guides](https://developers.cloudflare.com/bots/get-started/). If you have any questions, visit the [community](https://community.cloudflare.com/) to engage with other Cloudflare users.\n\n</page>\n\n<page>\n---\ntitle: Plans â€” Pro Â· Cloudflare bot solutions docs\ndescription: To learn more about features and functionality, select a plan.\nlastUpdated: 2025-09-18T21:34:18.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/plans/pro/\n  md: https://developers.cloudflare.com/bots/plans/pro/index.md\n---\n\nTo learn more about features and functionality, select a plan.\n\n[Free ](https://developers.cloudflare.com/bots/plans/free/)[Pro ](https://developers.cloudflare.com/bots/plans/pro/)[Business ](https://developers.cloudflare.com/bots/plans/biz-and-ent/)[Bot Management for Enterprise](https://developers.cloudflare.com/bots/plans/bm-subscription/)\n\n| | |\n| - | - |\n| **Plan name** | Super Bot Fight Mode |\n| **Availability** | All Pro customers |\n| **Type of bots detected** | Simple bots and headless browsers |\n| **Actions** | Customer chooses whether to allow, block, or challenge |\n| **Analytics** | Limited analytics available in a **Bot Report** |\n| **Control** | Applied to all traffic across a domain |\n| **Additional features** | [Block AI bots](https://developers.cloudflare.com/bots/additional-configurations/block-ai-bots/), [AI Labyrinth](https://developers.cloudflare.com/bots/additional-configurations/ai-labyrinth/), [Instruct AI bot traffic with `robots.txt`](https://developers.cloudflare.com/bots/additional-configurations/managed-robots-txt/), [Definitely automated bots](https://developers.cloudflare.com/bots/concepts/bot-score/#bot-groupings), [Verified bots](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/), [Static resource protection](https://developers.cloudflare.com/bots/additional-configurations/static-resources/), [Optimize for WordPress](https://developers.cloudflare.com/bots/troubleshooting/wordpress-loopback-issue/), [JavaScript Detections](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/javascript-detections/) |\n\n## How do I get started?\n\nTo get started, review our [setup guides](https://developers.cloudflare.com/bots/get-started/). If you have any questions, visit the [community](https://community.cloudflare.com/) to engage with other Cloudflare users.\n\n</page>\n\n<page>\n---\ntitle: Bot Detection Alerts Â· Cloudflare bot solutions docs\ndescription: \"Bot alerts inform you when Cloudflare detects spikes in your\n  traffic with any of the following characteristics:\"\nlastUpdated: 2025-09-04T16:00:58.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/reference/alerts/\n  md: https://developers.cloudflare.com/bots/reference/alerts/index.md\n---\n\nBot alerts inform you when Cloudflare detects spikes in your traffic with any of the following characteristics:\n\n* A global spike in traffic that have a bot score of less than 30.\n* An increase in traffic on available dimensions in [Custom Bot Detection Alerts](#custom-bot-detection-alerts).\n* Filters of your choosing in [Custom Bot Detection Alerts](#custom-bot-detection-alerts).\n\n***\n\n## Alert types\n\nBot Detection Alert\n\n**Who is it for?**\n\nEnterprise customers who want to be notified when Cloudflare detects a spike in bot traffic on their zones.\n\n**Other options / filters**\n\nNone.\n\n**Included with**\n\nAccounts with at least one Enterprise zone.\n\n**What should you do if you receive one?**\n\nSelect the [Security Analytics](https://developers.cloudflare.com/waf/analytics/security-analytics/) link enclosed in the alert message. Contact support if additional advice is needed on how to investigate the attack further.\n\n**Additional information**\n\nAfter an alert is created on the dashboard, it may take up to 30 minutes before sufficient data is available to begin detecting traffic anomalies. Verified bot traffic is excluded from bot alerts.\n\nCustom Bot Detection Alert\n\n**Who is it for?**\n\nEnterprise customers who want to be notified when Cloudflare detects a spike in bot traffic on their zones.\n\n**Other options / filters**\n\nRefer to the [alert logic](https://developers.cloudflare.com/bots/reference/alerts/#alert-logic) for more information on additional filters or groupings.\n\n**Included with**\n\nAccounts with at least one Enterprise zone.\n\n**What should you do if you receive one?**\n\nSelect the [Security Analytics](https://developers.cloudflare.com/waf/analytics/security-analytics/) link enclosed in the alert message. Contact support if additional advice is needed on how to investigate the attack further.\n\n**Additional information**\n\nAfter an alert is created on the dashboard, it may take up to 30 minutes before sufficient data is available to begin detecting traffic anomalies. Verified bot traffic is excluded from both basic and advanced bot alerts.\n\nAlerts with grouping could cause potential noise if you set them up for a high-traffic zone. Grouping alerts function as if you set up separate policies with a filter for each value. Alerts may trigger multiple values in the same group as long as the traffic for each value reaches the threshold of 200.\n\n### Set up a bot detection alert\n\nTo receive Bot alerts, you must [configure a notification](https://developers.cloudflare.com/notifications/get-started/). Notifications help you stay up to date with your Cloudflare account through email, PagerDuty, or webhooks, depending on your Cloudflare plan.\n\n1. In the Cloudflare dashboard, go to the **Notifications** page.\n\n   [Go to **Notifications**](https://dash.cloudflare.com/?to=/:account/notifications)\n\n2. Select **Add**.\n\n3. Select **Bot Management** from the Product list.\n\n4. Choose one of the available bot detection alerts (depending on whether you want to set up custom filters and/or grouping):\n\n   * Bot Detection Alert\n   * Custom Bot Detection Alert\n\n5. Enter a notification name and (optionally) a description.\n\n6. Select the domain(s) to monitor for this alert.\n\n7. Configure a delivery method for the notification. The available delivery methods depend on your Cloudflare plan. For more information, refer to [Cloudflare Notifications](https://developers.cloudflare.com/notifications/).\n\n8. If you are creating a notification for Custom Bot Detection Alert, define the parameters that will filter the notifications you will receive.\n\n9. Select **Save**.\n\n***\n\n## Alert logic\n\nThe Bot Detection Alert notifies users when Cloudflare detects an abnormal spike to their zone where the Z-score > [3.5](https://blog.cloudflare.com/introducing-thresholds-in-security-event-alerting-a-z-score-love-story/) and bot requests > 200/5 minutes in bot traffic (bot score < 30).\n\nZ-score is calculated with a long window duration of six hours and short window duration of five minutes.\n\nBot Detection Alerts are delivered with Cloudflareâ€™s Notifications system via email, webhook, or Pager Duty.\n\nYou will not receive duplicate alerts within the same one-hour time frame, except in rare cases where different alert values simultaneously trigger alerts.\n\nIn addition to the information above, Custom Bot Detection Alerts allow you to include or exclude certain conditions:\n\n* User-agent\n* Hostname\n* URI Path\n* IP Source Address\n* AS Num\n* JA3 Fingerprint\n* JA4 Fingerprint\n* Bot Detection IDs\n\nYou can also choose to group by the following dimensions so that they can be alerted of volumetric anomalies based on:\n\n* JA4 Fingerprint (removes the filter of bot score < 30)\n* AS Num\n* Bot Detection IDs\n\nNote\n\nBot Detection Alerts exclude [verified bots](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/).\n\n</page>\n\n<page>\n---\ntitle: Bot Management variables Â· Cloudflare bot solutions docs\ndescription: Bot Management provides access to several new variables within the\n  expression builder of Ruleset Engine-based products such as WAF custom rules.\nlastUpdated: 2025-10-15T15:50:02.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/reference/bot-management-variables/\n  md: https://developers.cloudflare.com/bots/reference/bot-management-variables/index.md\n---\n\n## Ruleset Engine fields\n\nBot Management provides access to several [new variables](https://developers.cloudflare.com/ruleset-engine/rules-language/fields/reference/?field-category=Bots) within the expression builder of Ruleset Engine-based products such as [WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/).\n\n* **Bot Score** (`cf.bot_management.score`): An integer between 1-99 that indicates [Cloudflare's level of certainty](https://developers.cloudflare.com/bots/concepts/bot-score/) that a request comes from a bot.\n\n* **Verified Bot** (`cf.bot_management.verified_bot`): A boolean value that indicates whether a request originates from a Cloudflare allowed bot.\n\n  Cloudflare maintains a large allowlist of good, automated bots (such as Google Search Engine and Pingdom) that perform beneficial tasks. Cloudflare identifies and verifies these bots primarily through reverse DNS validation, ensuring the source IP matches the requesting service.\n\n  We also use additional validation methods, including checking ASN blocks and public lists. If these methods are unavailable, Cloudflare utilizes internal data and machine learning to identify and verify legitimate IP addresses from good bots. Most customers choose to [allow this traffic](https://developers.cloudflare.com/ruleset-engine/rules-language/fields/reference/cf.bot_management.verified_bot/).\n\n* **Serves Static Resource** (`cf.bot_management.static_resource`): An identifier that matches [file extensions](https://developers.cloudflare.com/bots/additional-configurations/static-resources/) for many types of static resources. Use this variable if you send emails that retrieve static images.\n\n* **ja3Hash** (`cf.bot_management.ja3_hash`) and **ja4** (`cf.bot_management.ja4`): A [**JA3/JA4 fingerprint**](https://developers.cloudflare.com/bots/additional-configurations/ja3-ja4-fingerprint/) helps you profile specific SSL/TLS clients across different destination IPs, Ports, and X509 certificates.\n\n* **Bot Detection IDs** (`cf.bot_management.detection_ids`): List of IDs that correlate to the Bot Management heuristic detections made on a request (you can have multiple heuristic detections on the same request).\n\n* **Verified Bot Categories** (`cf.verified_bot_category`): A string that allows you to segment your verified bot traffic by its [type and purpose](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/#categories).\n\n## Workers variables\n\nThese variables are also available as part of the [request.cf](https://developers.cloudflare.com/workers/runtime-apis/request/#incomingrequestcfproperties) object via Cloudflare Workers:\n\n* `request.cf.botManagement.score`\n* `request.cf.botManagement.verifiedBot`\n* `request.cf.botManagement.staticResource`\n* `request.cf.botManagement.ja3Hash`\n* `request.cf.botManagement.ja4`\n* `request.cf.botManagement.jsDetection.passed`\n* `request.cf.botManagement.detectionIds`\n* `request.cf.verifiedBotCategory`\n\n## Corporate Proxy\n\nThe Bot Management Corporate Proxy field contains identified cloud-based corporate proxies and secure web gateways that are Enterprise-only, and provide outbound security services to their clients.\n\nYou can access the Corporate Proxy field in [custom rules](https://developers.cloudflare.com/waf/custom-rules/), [rate limiting rules](https://developers.cloudflare.com/waf/rate-limiting-rules/), or [Workers](https://developers.cloudflare.com/workers/) to provide different security rules for traffic from these sources. You can also exempt them from rules using Bot Management scores.",
      "language": "unknown"
    },
    {
      "code": "## Log fields\n\nOnce you enable Bot Management, Cloudflare also surfaces bot information in its [HTTP requests log fields](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/zone/http_requests/):\n\n* BotDetectionIDs\n* BotScore\n* BotScoreSrc\n* BotTags\n\n</page>\n\n<page>\n---\ntitle: Bot verification methods Â· Cloudflare bot solutions docs\ndescription: Refer to the following pages for more information on Cloudflare's\n  validation methods for Verified and Signed bots.\nlastUpdated: 2025-08-27T23:23:49.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/bots/reference/bot-verification/\n  md: https://developers.cloudflare.com/bots/reference/bot-verification/index.md\n---\n\nRefer to the following pages for more information on Cloudflare's validation methods for [Verified](https://developers.cloudflare.com/bots/concepts/bot/verified-bots/) and [Signed](https://developers.cloudflare.com/bots/concepts/bot/signed-agents/) bots.\n\n* [Web Bot Auth](https://developers.cloudflare.com/bots/reference/bot-verification/web-bot-auth/)\n* [IP validation](https://developers.cloudflare.com/bots/reference/bot-verification/ip-validation/)\n\n</page>\n\n<page>\n---\ntitle: Sample terms Â· Cloudflare bot solutions docs\ndescription: Cloudflare recommends that customers consider updating their Terms\n  of Service to address bots specifically related to Artificial Intelligence\n  (AI) training and data scraping. The text below provides an informational\n  example of the kind of language that could be added to a website's terms of\n  use.\nlastUpdated: 2025-05-08T20:05:24.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/reference/sample-terms/\n  md: https://developers.cloudflare.com/bots/reference/sample-terms/index.md\n---\n\nCloudflare recommends that customers consider updating their Terms of Service to address bots specifically related to Artificial Intelligence (AI) training and data scraping. The text below provides an informational example of the kind of language that could be added to a website's terms of use.\n\n> **Artificial Intelligence Restriction**\n>\n> You may not use automated bots to access, scan, scrape, data mine, copy, or use the materials or content on this website for developing, training, fine-tuning, or otherwise contributing to or improving a machine learning model or artificial intelligence (AI) system or the operation thereof, unless your bot's user agent is (I) explicitly permitted (\"allowed\") to do so in this website's `robots.txt` file and (II) solely used to identify bots used for AI purposes (i.e., this provision does not apply to user agents that are used for multiple purposes, such as search engine indexing and AI purposes).\n\nDisclaimer\n\nThis language is provided for informational purposes only. It does not constitute legal advice, nor does it guarantee any specific outcome.\n\nThis is an illustrative example of language that can be included in a website's terms to put AI providers on notice that they are not authorized to use automated means to scrape content from your website for purposes of training or otherwise contributing to their AI models or systems, unless you have expressly permitted them to do so in your `robots.txt` file.\n\n</page>\n\n<page>\n---\ntitle: Machine Learning models Â· Cloudflare bot solutions docs\ndescription: Cloudflare encourages Enterprise customers to enable auto-updates\n  to its Machine Learning models to get the newest bot detection models as they\n  are released.\nlastUpdated: 2025-08-20T18:25:25.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/reference/machine-learning-models/\n  md: https://developers.cloudflare.com/bots/reference/machine-learning-models/index.md\n---\n\n## Enable auto-updates to the Machine Learning models\n\nCloudflare encourages Enterprise customers to enable auto-updates to its Machine Learning models to get the newest bot detection models as they are released.\n\nTo enable auto-updates:\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/), and select your account and domain.\n  2. Go to **Security** > **Bots**.\n  3. Select **Configure Bot Management**.\n  4. Enable **Auto-updates to the Machine Learning Model**.\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security Settings** page.\n\n     [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings)\n\n  2. Filter by **Bot traffic**.\n\n  3. Go to **Bot Management**.\n\n  4. Under **Configurations**, select the edit icon for **Auto-updates to the Machine Learning Model** and turn it on.\n\n### What will change\n\nIf you are on an older Machine Learning model, you will see a score change to requests scored by the **Machine Learning** source instantly. If you are already on the latest model, you will see changes only after a new Machine Learning model becomes the global default.\n\nCustomers will be notified via email and dashboard prior to a new Machine Learning model becoming the global default.\n\n### Risks of not updating\n\nBy not updating to the latest version, you will be using a Machine Learning model no longer maintained or monitored by our engineering team. As Internet traffic changes and new trends evolve, scoring accuracy by older versions may degrade.\n\n### Model versions and release notes\n\n| Version | Release Notes | Launch Date |\n| - | - | - |\n| v1 | First Machine Learning Model released. | Q1 2019 |\n| v2 | Introduced dynamic inter-request features to leverage the Cloudflare network to detect new bots more accurately. Feedback other Bot Management detection mechanisms to the machine learning model to more accurately detect bots. | Q1 2020 |\n| v3 | Fixed accuracy issues under some conditions in the previous version. | Q2 2020 |\n| v4 | Improved scoring for iOS devices. Fixed scoring inaccuracy in Firefox builds. | Q1 2021 |\n| v5 | Recalibrated model for the [removal of `_cfduid` cookie](https://blog.cloudflare.com/deprecating-cfduid-cookie/). Introduced new signals to reduce false negatives. | Q2 2021 |\n| v6 | Significantly improved scoring for native Android application traffic. Improved scoring on the newest versions of Chromium browsers. | Q1 2022 |\n| v7 | Increased recognition of distributed botnets. Improved HTTP/3 scoring. | Q1 2024 |\n| v8 | Improved detection of residential proxies. Increased weight on network level traffic characteristics. | Q2 2024 |\n| v9 | Improved model consistency and model efficacy against randomization attack techniques | Q2 2025 |\n\n</page>\n\n<page>\n---\ntitle: Bot Management skips Â· Cloudflare bot solutions docs\ndescription: There are instances in which Bot Management does not run and\n  certain fields, such as the JA3/JA4 field, are not populated because it has\n  been determined that running Bot Management would not be necessary.\nlastUpdated: 2025-04-03T20:17:30.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/troubleshooting/bot-management-skips/\n  md: https://developers.cloudflare.com/bots/troubleshooting/bot-management-skips/index.md\n---\n\nThere are instances in which Bot Management does not run and certain fields, such as the [JA3/JA4 field](https://developers.cloudflare.com/bots/additional-configurations/ja3-ja4-fingerprint/), are not populated because it has been determined that running Bot Management would not be necessary.\n\nRefer to [bot scores](https://developers.cloudflare.com/bots/concepts/bot-score/#not-computed) for more information about why a request is not scored.\n\n## Common reasons for Bot Management to not score a request\n\n### Requests to internal endpoints\n\nRequests such as `/cdn-cgi/` are handled individually and will never receive a Bot Management score. Email Obfuscation, Web Analytics, Trace Requests, Challenge Pages, and JavaScript Detections do not receive bot scores. Refer to the table below for some examples of internal endpoints.\n\n| Route |\n| - |\n| `/cdn-cgi/rum` |\n| `/cdn-cgi/script_monitor/report` |\n| `/cdn-cgi/trace` |\n| `/cdn-cgi/challenge-platform/â€¦` |\n| `/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js` |\n\n### Purge requests\n\nAll HTTP purge requests will not receive a bot score.\n\n### Early hints cache requests\n\nEarly hints cache requests will not receive a bot score.\n\n</page>\n\n<page>\n---\ntitle: Handle False Positives from Bot Fight Mode or Super Bot Fight Mode Â·\n  Cloudflare bot solutions docs\ndescription: Bot Fight Mode (BFM) and Super Bot Fight Mode (SBFM) are designed\n  to stop active attacks quickly. Due to their aggressive nature, false\n  positives can occur where legitimate human or automated traffic is incorrectly\n  challenged or blocked.\nlastUpdated: 2025-10-15T15:50:02.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/troubleshooting/false-positives/\n  md: https://developers.cloudflare.com/bots/troubleshooting/false-positives/index.md\n---\n\n[Bot Fight Mode (BFM)](https://developers.cloudflare.com/bots/get-started/bot-fight-mode/) and [Super Bot Fight Mode (SBFM)](https://developers.cloudflare.com/bots/get-started/bot-fight-mode/) are designed to stop active attacks quickly. Due to their aggressive nature, false positives can occur where legitimate human or automated traffic is incorrectly challenged or blocked.\n\nWhen dealing with false positives, consider the following key differences and solutions:\n\n* Bot Fight Mode has limited control. You cannot bypass or skip Bot Fight Mode using the *Skip* action in WAF custom rules or using Page Rules. Bot Fight Mode will be disabled if there are any IP Access rules present. If you turned on BFM during an attack, and the attack has subsided, we recommend either disabling the feature using IP Access rules to bypass BFM, or looking at [Bot Management for Enterprise](https://developers.cloudflare.com/bots/plans/bm-subscription/), which gives you the ability to precisely customize your security threshold and create exception rules as needed.\n* Super Bot Fight Mode can be bypassed with IP Access *Allow* action rules. You can use the *Skip* action in [WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/skip/) to specify where Super Bot Fight Mode should not run.\n\nIn parts of your site where you want bot traffic, you can use the [*Skip* action](https://developers.cloudflare.com/waf/custom-rules/skip/) in [WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/) to specify where Super Bot Fight Mode should not run.\n\nYou can use the [Rules language](https://developers.cloudflare.com/ruleset-engine/rules-language/) and its [operators](https://developers.cloudflare.com/ruleset-engine/rules-language/operators/) and [fields](https://developers.cloudflare.com/ruleset-engine/rules-language/fields/) in custom rules to configure a scoped rule for approved automated traffic in Super Bot Fight Mode.\n\nYou cannot bypass or skip Bot Fight Mode using the *Skip* action in WAF custom rules or using Page Rules. *Skip*, *Bypass*, and *Allow* actions apply to rules or rulesets running on the [Ruleset Engine](https://developers.cloudflare.com/ruleset-engine/). While Super Bot Fight Mode rules are implemented in the Ruleset Engine, Bot Fight Mode checks are not. This is why you can skip Super Bot Fight Mode, but not Bot Fight Mode. If you need to skip Bot Fight Mode, consider using [Super Bot Fight Mode](https://developers.cloudflare.com/bots/get-started/super-bot-fight-mode/).\n\nBot Fight Mode can still trigger if you have IP Access rules, but it cannot trigger if an IP Access rule matches the request. For example, the IP Access rule matches the connecting IP.\n\nIf you encounter persistent false positives, you can [disable the feature in the Cloudflare dashboard](https://developers.cloudflare.com/bots/get-started/bot-fight-mode/#disable-bot-fight-mode).\n\n</page>\n\n<page>\n---\ntitle: Super Bot Fight Mode for WordPress Â· Cloudflare bot solutions docs\ndescription: When users attempt to run diagnostics in the Site Status page for\n  WordPress installations, loopback issues arise when our bot detection services\n  block them.\nlastUpdated: 2025-09-26T21:09:24.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/troubleshooting/wordpress-loopback-issue/\n  md: https://developers.cloudflare.com/bots/troubleshooting/wordpress-loopback-issue/index.md\n---\n\nWhen users attempt to run diagnostics in the Site Status page for WordPress installations, loopback issues arise when our bot detection services block them.\n\nWordPress relies on making loopback requests to monitor and occasionally administer its websites. Customers can opt-in to optimize Super Bot Fight Mode for WordPress. If this feature is enabled, automated loopback requests made by your WordPress site will be authorized even when Super Bot Fight Mode blocks other bots.\n\nNote\n\nLoopback requests may also be blocked by [Iâ€™m Under Attack mode](https://developers.cloudflare.com/fundamentals/reference/under-attack-mode/) or certain [WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/).\n\n## Enable Optimize for WordPress\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](http://dash.cloudflare.com), and select your account and domain.\n  2. Go to **Security** > **Bots**.\n  3. Select **Configure Bot Management**.\n  4. Enable **Optimize for WordPress**.\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security Settings** page.\n\n     [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings)\n\n  2. Filter by **Bot traffic**.\n\n  3. Go to **Super Bot Fight Mode**.\n\n  4. Under **Configurations**, select the edit icon for **Optimize for WordPress** and turn it on.\n\n## Availability\n\nThis feature is available for all Super Bot Fight Mode customers.\n\n</page>\n\n<page>\n---\ntitle: Delay action Â· Cloudflare bot solutions docs\ndescription: Customers with a Bot Management and a Workers subscription can use\n  the template below to introduce a delay to requests that are likely from bots.\nlastUpdated: 2025-06-26T18:43:59.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/bots/workers-templates/delay-action/\n  md: https://developers.cloudflare.com/bots/workers-templates/delay-action/index.md\n---\n\nCustomers with a Bot Management and a [Workers](https://developers.cloudflare.com/workers/) subscription can use the template below to introduce a delay to requests that are likely from bots.\n\nThe template sets a minimum and maximum delay, and delays requests where the bot score is less than 30 and the URI path starts with `/exampleURI`.\n\n* JavaScript",
      "language": "unknown"
    },
    {
      "code": "* TypeScript",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Set up address maps Â· Cloudflare BYOIP docs\ndescription: Consider the sections below to learn how to set up address maps.\nlastUpdated: 2025-12-17T15:33:36.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/byoip/address-maps/setup/\n  md: https://developers.cloudflare.com/byoip/address-maps/setup/index.md\n---\n\nConsider the sections below to learn how to set up address maps.\n\nNote\n\nThere is **no expected downtime** when setting up or updating your address maps.\n\n## Create address maps\n\nIf you are using BYOIP, refer to the following steps. If you have [static IPs](https://developers.cloudflare.com/byoip/concepts/static-ips/), Cloudflare creates an address map during the static IP onboarding process, meaning you may only [edit](#manage-address-maps) the Cloudflare-created map.\n\n* Dashboard\n\n  1. In the Cloudflare dashboard, go to the **Address Maps** page.\n\n     [Go to **Address maps**](https://dash.cloudflare.com/?to=/:account/ip-addresses/proxy-ips)\n\n  2. Select **Create an address map**.\n\n  3. Choose the scope of the address map.\n\n  4. Add the zones and IP addresses that you want to map.\n\n  5. Name your address map.\n\n  6. Review the information and select **Save and Deploy**.\n\n  Note\n\n  Creating an address map does not automatically change DNS configuration. DNS responses only begin to change when a zone or account is added to a map. Additionally, address maps that are not yet enabled will not take effect in DNS responses.\n\n* API\n\n  Required API token permissions\n\n  At least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n  * `Address Maps Write`",
      "language": "unknown"
    },
    {
      "code": "Note\n\n  A zone membership will take priority over an account membership.\n\n## Manage address maps\n\n* Dashboard\n\n  1. In the Cloudflare dashboard, go to the **Address Maps** page.\n\n     [Go to **Address maps**](https://dash.cloudflare.com/?to=/:account/ip-addresses/proxy-ips)\n\n  2. Go to your address map and select **Review**.\n\n  3. Edit your address map.\n\n  4. Review the information and select **Save**.\n\n  Note\n\n  You can also enable, disable, and delete address maps. This will likely change the IP addresses used for your zones.\n\n* API\n\n  Use the following API endpoints depending on what you want to achieve:\n\n  * [Modify the properties of an address map](https://developers.cloudflare.com/api/resources/addressing/subresources/address_maps/methods/edit/)\n  * [Add or remove IP addresses](https://developers.cloudflare.com/api/resources/addressing/subresources/address_maps/subresources/ips/)\n  * [Add or remove accounts](https://developers.cloudflare.com/api/resources/addressing/subresources/address_maps/subresources/accounts/)\n  * [Add or remove zones](https://developers.cloudflare.com/api/resources/addressing/subresources/address_maps/subresources/zones/)\n\n  Note\n\n  A zone membership will take priority over an account membership.\n\n## Non-SNI support\n\nIf your visitors use devices that have not been updated since 2011, they may not have Server Name Indication (SNI) support. For further context, refer to [browser compatibility](https://developers.cloudflare.com/ssl/reference/browser-compatibility/#non-sni-support).\n\nUse address maps to specify a hostname as default SNI. This will be used whenever Cloudflare receives a non-SNI TLS handshake.\n\nNote\n\nSetting up a default SNI is currently only supported via API.\n\n1. If you have not already, create an address map. Refer to the [section above](#create-address-maps) or to the [Create Address Map](https://developers.cloudflare.com/api/resources/addressing/subresources/address_maps/methods/create/) API endpoint.\n2. Take note of the address map `id`. If needed, you can use the [List Address Maps](https://developers.cloudflare.com/api/resources/addressing/subresources/address_maps/methods/list/) endpoint to get it.\n3. Make sure you add the desired IPs to the address map. Cloudflare will respond with the default SNI on those IPs. Use the dashboard or refer to [Add An IP To An Address Map](https://developers.cloudflare.com/api/resources/addressing/subresources/address_maps/subresources/ips/methods/update/).\n4. Configure the `default_sni` value on the address map created in step 1. Refer to the [Update Address Map](https://developers.cloudflare.com/api/resources/addressing/subresources/address_maps/methods/edit/) API endpoint for details. The default SNI can be any valid domain or subdomain owned by your account.\n\n### Spectrum HTTPS applications\n\nDefault SNI for Spectrum can only be created via API using the [Create Address Map](https://developers.cloudflare.com/api/resources/addressing/subresources/address_maps/methods/create/) endpoint.\n\nDo not include any membership in your command. Your API command should resemble the following:\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Address Maps Write`",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Dynamic advertisement Â· Cloudflare BYOIP docs\ndescription: You can use the Cloudflare API or the IP Prefixes page in the\n  Cloudflare dashboard to configure the Border Gateway Protocol advertisement at\n  the Cloudflare edge.\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/byoip/concepts/dynamic-advertisement/\n  md: https://developers.cloudflare.com/byoip/concepts/dynamic-advertisement/index.md\n---\n\nYou can use the [Cloudflare API](https://developers.cloudflare.com/byoip/concepts/dynamic-advertisement/best-practices/#via-the-api) or [the IP Prefixes page](https://developers.cloudflare.com/byoip/concepts/dynamic-advertisement/best-practices/#via-the-cloudflare-dashboard) in the Cloudflare dashboard to configure the Border Gateway Protocol advertisement at the Cloudflare edge.\n\nWhen using the API, you can authorize an API call with your email and API key or create a service token for this purpose. A successful API response indicates the service registered the request. Enabling advertising typically takes two to seven minutes and disabling advertising takes approximately 15 minutes.\n\nBoth the API and the [Cloudflare dashboard](https://dash.cloudflare.com/) support prefix delegations, which allow other Cloudflare accounts to interact with your prefix. The effect of a delegation is service specific. For more information, refer to [prefix delegations](https://developers.cloudflare.com/byoip/concepts/prefix-delegations/).\n\n</page>\n\n<page>\n---\ntitle: IRR Overview Â· Cloudflare BYOIP docs\ndescription: The Internet Routing Registry (IRR) is a globally distributed\n  database of routing information which contains announced routes and routing\n  policies in a common format. Network operators use this information, as well\n  as RPKI, to configure backbone routers.\nlastUpdated: 2025-10-30T18:03:49.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/byoip/concepts/irr-entries/\n  md: https://developers.cloudflare.com/byoip/concepts/irr-entries/index.md\n---\n\nThe [Internet Routing Registry (IRR)](http://www.irr.net/index.html) is a globally distributed database of routing information which contains announced routes and routing policies in a common format. Network operators use this information, as well as [RPKI](https://developers.cloudflare.com/byoip/concepts/route-filtering-rpki/), to configure backbone routers.\n\nThe IRR consists of many individual [routing registries](http://www.irr.net/docs/list.html), and some are managed by regional entities - such as the American Registry for Internet Numbers (ARIN), the Regional Internet Registry for Europe, Middle East and Central Asia (RIPE), and so on. Each routing registry contains IRR entries that provide information about IP prefixes and the [autonomous systems](https://www.cloudflare.com/learning/network-layer/what-is-an-autonomous-system/) authorized to announce them.\n\nTo announce your subnet prefixes, Cloudflare requires accurate IRR entries for your prefixes and autonomous system numbers (ASNs).\n\nWhen you configure network infrastructure for services such as [Magic Transit](https://developers.cloudflare.com/magic-transit/about/), or before onboarding your IP to Cloudflare, [verify your IRR entries](https://developers.cloudflare.com/byoip/concepts/irr-entries/best-practices/#verify-an-irr-entry).\n\n</page>\n\n<page>\n---\ntitle: Letter of Agency (LOA) Â· Cloudflare BYOIP docs\ndescription: A Letter of Agency (LOA) - sometimes referred to as a Letter of\n  Authorization - is a document that authorizes Cloudflare to announce prefixes\n  on behalf of another entity. The LOA is required by Cloudflare's transit\n  providers so they can accept the routes Cloudflare advertises on behalf of\n  another entity.\nlastUpdated: 2025-10-30T18:03:49.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/byoip/concepts/loa/\n  md: https://developers.cloudflare.com/byoip/concepts/loa/index.md\n---\n\nA Letter of Agency (LOA) - sometimes referred to as a Letter of Authorization - is a document that authorizes Cloudflare to announce prefixes on behalf of another entity. The LOA is required by Cloudflare's transit providers so they can accept the routes Cloudflare advertises on behalf of another entity.\n\nThe letter must contain both the prefixes you are authorizing Cloudflare to announce and which ASN they will be announced under. Cloudflare can announce a prefix under your ASN or you can use Cloudflare's ASN, which is AS13335.\n\n## Requirements\n\n* For all future onboardings, if using the Cloudflare ASN, you must use AS13335. Current customers who are already using Cloudflare's AS209242 do not need to make any changes and can continue using that ASN.\n\n* Cloudflare accepts digital signatures on an LOA, as long as it is clear who is signing the LOA.\n\n* An LOA is a formal document which should be on company letterhead and contain a wet signature. The Letter of Agency must be a PDF. Transit providers may reject the LOA if it is in a JPG or PNG format.\n\n## Auto-generated LOA\n\nIf you are onboarding your own IPs via the [self-serve flow](https://developers.cloudflare.com/byoip/get-started/), you can set `delegate_loa_creation` (in the [Add Prefix API call](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/methods/create/)) to `true` . This will allow Cloudflare to automatically generate the LOA, speeding up the process.\n\nAuto-generated LOAs rely on [RPKI-signed ROAs](https://developers.cloudflare.com/byoip/concepts/route-filtering-rpki/) and [ownership validation](https://developers.cloudflare.com/byoip/get-started/#validate-prefix-ownership) checks.\n\n## Template\n\nIf you need to create an LOA document, you can use the template below.",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Prefix delegations Â· Cloudflare BYOIP docs\ndescription: BYOIP supports prefix delegations, which occur when a prefix\n  ownerâ€™s account (Account A) allows another account (Account B) to use all or\n  part of their prefix. The original prefix is still managed by the original\n  account, but a delegation allows another account to use the delegated IP(s) on\n  various services within that account.\nlastUpdated: 2025-07-31T21:09:55.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/byoip/concepts/prefix-delegations/\n  md: https://developers.cloudflare.com/byoip/concepts/prefix-delegations/index.md\n---\n\nBYOIP supports prefix delegations, which occur when a prefix ownerâ€™s account (Account A) allows another account (Account B) to use all or part of their prefix. The original prefix is still managed by the original account, but a delegation allows another account to use the delegated IP(s) on various services within that account.\n\nRefer to [service bindings](https://developers.cloudflare.com/byoip/service-bindings/) for more information on the services an IP can be bound to.\n\n## CDN\n\nCDN delegations allow you to use the IP(s) with [Address Maps](https://developers.cloudflare.com/byoip/address-maps/) or [Cloudflare for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/) customers.\n\nAddress Maps allows you to assign IPs either at the account level or zone level.\n\nIn the Cloudflare for SaaS example, Account A is using BYOIP + CDN and Cloudflare for SaaS. Account A can validate and serve traffic for a custom hostname on any of the IPs in its prefix. If Account A delegates some or all of the prefix to Account B, Account B may also validate and serve traffic for custom hostnames on those IPs as well. This is very useful if you use Cloudflare for SaaS but manage different configurations in different accounts. All the accounts can use the IPs through a delegation.\n\n## Spectrum\n\nIf Account A delegates use of part or all of a prefix to Account B via a prefix delegation, Account B can also use the [Spectrum API](https://developers.cloudflare.com/spectrum/about/byoip/) with the IPs it was delegated access to.\n\n**Example:** Account A is the primary owner of prefix 1.2.3.0/24. Account A delegates the use of 1.2.3.0/32 to Account B. Account B can now use the Spectrum API to create a Spectrum app with 1.2.3.0/32.\n\n## API calls for prefix delegations\n\nAPI calls for delegations can be found at [Prefix Delegations](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/subresources/delegations/methods/list/).\n\nNote\n\nThe dashboard only supports delegation of an entire prefix. If you want to delegate less than the entire prefix, use the API.\n\nTo bind an IP from one service to another, use the API.\n\n## Configure prefix delegations\n\n1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/) and select your account.\n2. Go to **IP Addresses** > **BYOIP Prefixes**.\n3. Select **Edit** to modify a prefix. **Edit IP Prefixes** displays.\n4. At the bottom of the page, select **Add Delegation**. Other accounts that your user is a part of will auto-load when you create the delegation.\n5. Select **Save**.\n6. Bind IPs to a service via the [Service Bindings API](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/subresources/service_bindings/) as needed.\n\n</page>\n\n<page>\n---\ntitle: Route filtering and RPKI Â· Cloudflare BYOIP docs\ndescription: As referred in the IRR concept page, network operators use IRR\n  records to configure backbone routers. In summary, it is the IRR records that\n  provide information about IP prefixes and the autonomous systems (ASN)\n  authorized to announce them. Then, network operators will apply filtering\n  policies to avoid invalid announcements.\nlastUpdated: 2025-10-30T18:03:49.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/byoip/concepts/route-filtering-rpki/\n  md: https://developers.cloudflare.com/byoip/concepts/route-filtering-rpki/index.md\n---\n\nAs referred in the [IRR concept page](https://developers.cloudflare.com/byoip/concepts/irr-entries/), network operators use IRR records to configure backbone routers. In summary, it is the IRR records that provide information about IP prefixes and the autonomous systems (ASN) authorized to announce them. Then, network operators will apply filtering policies to avoid invalid announcements.\n\nConsidering this important role of IRR records, validation via Resource Public Key Infrastructure (RPKI) was introduced. With RPKI, the IP/ASN association is cryptographically validated before being passed on to the routers.\n\nWhen registering your prefix under one of the five Regional Internet Registries (RIRs)[1](#user-content-fn-1), you can generate a cryptographically-signed object called Route Origin Authorization (ROA). ROAs are public and you can use [Cloudflare's RPKI Portal](https://rpki.cloudflare.com/?view=validator) or other sources, such as [Routinator](https://rpki-validator.ripe.net/ui/), to check your prefixes.\n\n## Footnotes\n\n1. AFRINIC, APNIC, ARIN, LACNIC, and RIPE. [â†©](#user-content-fnref-1)\n\n</page>\n\n<page>\n---\ntitle: Static IPs Â· Cloudflare BYOIP docs\ndescription: Lease static IPs so that you can use a set of specifically assigned\n  Cloudflare IPs. If you need to allowlist your IPs or to communicate your IPs\n  to third parties, allocating static IPs to your account allows you to know\n  them ahead of time.\nlastUpdated: 2025-10-01T13:13:26.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/byoip/concepts/static-ips/\n  md: https://developers.cloudflare.com/byoip/concepts/static-ips/index.md\n---\n\nLease static IPs so that you can use a set of specifically assigned Cloudflare IPs. If you need to allowlist your IPs or to communicate your IPs to third parties, allocating static IPs to your account allows you to know them ahead of time.\n\nCloudflare will not change static IP addresses without notifying you, and will typically only do so at your request.\n\nNote\n\nAlthough BYOIP and static IPs are different offerings, both can be managed using [Address Maps](https://developers.cloudflare.com/byoip/address-maps/).\n\nStatic IPs are allocated to the account, but can be assigned to a single zone. This means that you can place multiple zones on the same static IPs. You can also specify which zones are mapped to your static IPs and control when the IPs for your zones change.\n\n## Availability\n\nStatic IPs are available as an add-on purchase for Enterprise plans.\n\n## Check Static IPs\n\nYou can find your leased Static IPs for CDN Ingress on the dashboard under [**IP addresses** > **Leased IPs**](https://dash.cloudflare.com/?to=/:account/ip-addresses/leased-ips).\n\n</page>\n\n<page>\n---\ntitle: Use BYOIP with CDN and Spectrum Â· Cloudflare BYOIP docs\ndescription: Cloudflare allows users to use their Cloudflare prefix to route\n  traffic to a different service. Service bindings must be created on the parent\n  account of the prefix.\nlastUpdated: 2025-10-30T14:41:37.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/byoip/service-bindings/cdn-and-spectrum/\n  md: https://developers.cloudflare.com/byoip/service-bindings/cdn-and-spectrum/index.md\n---\n\nWith [service bindings](https://developers.cloudflare.com/byoip/service-bindings/), CDN[1](#user-content-fn-1) customers using BYOIP can take the same prefix they have onboarded to Cloudflare and use it to selectively route traffic on a per-IP address basis to [Spectrum](https://developers.cloudflare.com/spectrum/)[2](#user-content-fn-2), or vice versa. This means:\n\n* You can upgrade individual IPs within a CDN prefix to a Spectrum IP. For example, if you have a CDN prefix 203.0.113.0/24, you can upgrade 203.0.113.1 to Spectrum.\n\n* You can upgrade individual IPs within a Spectrum prefix to a CDN IP. For example, if you have a Spectrum prefix 203.0.113.0/24, you can upgrade 203.0.113.1 to CDN.\n\nThis guide will use the first example and consider a prefix that was onboarded to the CDN, with a few IPs upgraded to Spectrum.\n\n## Before you begin\n\nCloudflare **strongly** recommends implementing service bindings through an **aggregated** CIDR block, as it is more efficient than adding discrete bindings for non-contiguous CIDR blocks.\n\nExample\n\n**CDN protected prefix:** `203.0.113.0/24`\n\n**IPs to upgrade to Spectrum:**\n\n`203.0.113.16`\\\n`203.0.113.17`\\\n`203.0.113.18`\\\n`203.0.113.19`\\\n`203.0.113.20`\\\n`203.0.113.21`\\\n`203.0.113.22`\\\n`203.0.113.23`\n\nAdd one discrete Spectrum service binding for `203.0.113.16` with a `/29` netmask.\n\nOnce a service binding is created (or deleted), it will take **four to six hours** to propagate across Cloudflare's global network. Services for the IP addresses in scope will likely be disrupted during this window.\n\nNote\n\nThis guide assumes that the prefix is tied to a single Cloudflare account that has both CDN and Spectrum properties. If you are using [prefix delegations](https://developers.cloudflare.com/byoip/concepts/prefix-delegations/), the service bindings must be [created](#2-create-service-binding) on the parent account.\n\n***\n\n## Prepare your IPs\n\n### 1. Get account information\n\n1. Log in to your Cloudflare account and get your [account ID](https://developers.cloudflare.com/fundamentals/account/find-account-and-zone-ids/) and [authentication key or token](https://developers.cloudflare.com/fundamentals/api/get-started/). If using an [API token](https://developers.cloudflare.com/fundamentals/api/get-started/create-token/), the permissions should include `Account` - `IP Prefixes` - `Edit`.\n2. Make a `GET` request to the [List Services](https://developers.cloudflare.com/api/resources/addressing/subresources/services/methods/list/) endpoint and take note of the `id` associated with the Spectrum service.\n3. Use the [List Prefixes](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/methods/list/) endpoint and take note of the `id` associated with the prefix (`cidr`) you will configure.\n\nAt this point, continuing the [example](#before-you-begin), you should have a mapping similar to the following:\n\n| Variables | Description |\n| - | - |\n| `{service_id}` | The ID of the Spectrum service within Cloudflare. Example: `969xxxxxxxx000xxx0000000x00001bf` |\n| `{prefix_id}` | The ID of the CDN prefix (`203.0.113.0/24`) you want to configure. Example: `6b25xxxxxxx000xxx0000000x0000cfc` |\n\n1. To confirm you currently have a CDN service binding and that it spans across your entire prefix, make a `GET` request to the [List Service Bindings](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/subresources/service_bindings/methods/list/) endpoint. Replace the `{prefix_id}` in the URI path by the actual prefix ID you got from the previous step.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `IP Prefixes: Write`\n* `IP Prefixes: Read`",
      "language": "unknown"
    },
    {
      "code": "### 2. Create service bindings\n\nCaution\n\nOnce a service binding is created (or deleted), it will take **four to six hours** to propagate across Cloudflare's global network. Services for the IP addresses in scope will likely be disrupted during this window.\n\n1. Make a `POST` request to the [Create service binding](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/subresources/service_bindings/methods/create/) endpoint, indicating the IP address you want to bind to Spectrum. Specify the **corresponding network mask** as needed.\n\nContinuing the example, `203.0.113.100/32` designates an IP address that is within the CDN prefix `203.0.113.0/24`.\n\nReplace the `{prefix_id}` in the URI with your prefix ID from previous steps. Within the request body, the `cidr` value should correspond to the IP address or subnet that you are configuring for use with Spectrum.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `IP Prefixes: Write`",
      "language": "unknown"
    },
    {
      "code": "In the response body, the initial provisioning state should be `provisioning`.",
      "language": "unknown"
    },
    {
      "code": "You can periodically check the service binding status using the [List Service Bindings](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/subresources/service_bindings/methods/list/) endpoint.\n\n### 3. Verify all service bindings\n\nAfter the propagation time (four to six hours), the [List Service Bindings](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/subresources/service_bindings/methods/get/) endpoint should return all service bindings that are part of the prefix - in this case, CDN and Spectrum.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `IP Prefixes: Write`\n* `IP Prefixes: Read`",
      "language": "unknown"
    },
    {
      "code": "***\n\n## Set up your Cloudflare services\n\n### CDN\n\nIf you already use BYOIP with CDN, you might be able to skip this step. However, if you are using this guide to upgrade a few IPs from a Spectrum prefix to the CDN, consider the following sections on [address maps](#address-maps) and [DNS records](#dns-records).\n\nNote\n\nAs described below, address maps and DNS records do not apply to Spectrum. To set up your Spectrum application with BYOIP, refer to [Spectrum](#spectrum).\n\n#### Address maps\n\nUse [address maps](https://developers.cloudflare.com/byoip/address-maps/) to specify which IPs should be used by Cloudflare in DNS responses when a record is [proxied](https://developers.cloudflare.com/dns/proxy-status/).\n\nYou can choose between two different scopes:\n\n* Account-level: uses the address map for all proxied DNS records across all of the zones within an account.\n* Zone-level: uses the address map for all proxied DNS records within a zone.\n\nNote\n\nIf you need to map only specific subdomains (and not all proxied DNS records) to specific IP addresses, you can use a [Subdomain setup](https://developers.cloudflare.com/dns/zone-setups/subdomain-setup/).\n\n* Dashboard\n\n  1. In the Cloudflare dashboard, go to the **Address Maps** page.\n\n     [Go to **Address maps**](https://dash.cloudflare.com/?to=/:account/ip-addresses/proxy-ips)\n\n  2. Select **Create an address map**.\n\n  3. Choose the scope of the address map.\n\n  4. Add the zones and IP addresses that you want to map.\n\n  5. Name your address map.\n\n  6. Review the information and select **Save and Deploy**.\n\n* API\n\n  Use the [Create Address Map](https://developers.cloudflare.com/api/resources/addressing/subresources/address_maps/methods/create/) endpoint.\n\n  Make sure you have the correct Key/Token and permissions.\n\n#### DNS records\n\nWhile the DNS record proxy status and address map will determine how Cloudflare's authoritative DNS responds to requests for your hostnames, the IP addresses specified in `A`/`AAAA` records will determine [how Cloudflare reaches the configured origin](https://developers.cloudflare.com/fundamentals/concepts/how-cloudflare-works/#how-cloudflare-works-as-a-reverse-proxy).\n\nNote\n\nAs you create the necessary DNS records, [Total TLS](https://developers.cloudflare.com/ssl/edge-certificates/additional-options/total-tls/) can help making sure that you have SSL/TLS certificates in place for all your hostnames.\n\n* Dashboard\n\n  To create a DNS record in the dashboard:\n\n  1. In the Cloudflare dashboard, go to the **DNS Records** page.\n\n     [Go to **Records**](https://dash.cloudflare.com/?to=/:account/:zone/dns/records)\n\n  2. Select **Add record**.\n\n  3. Choose an address (`A`/`AAAA`) [record type](https://developers.cloudflare.com/dns/manage-dns-records/reference/dns-record-types/).\n\n  4. Complete the required fields, setting the **Proxy status** to **proxied**.\n\n  5. Select **Save**.\n\n* API\n\n  To create records with the API, use a [POST request](https://developers.cloudflare.com/api/resources/dns/subresources/records/methods/create/). For field definitions, select a record type under the request body specification.\n\nExample\n\n| Type | Name | IP address | Proxy status | TTL |\n| - | - | - | - | - |\n| `A` | `www` | `203.0.113.150` | `Proxied` | `Auto` |\n\nAt this point, if an address map for a zone `example.com` specifies that Cloudflare should use `203.0.113.100` for proxied records and the above record exists in the same zone, you can expect the following:\n\n1. Cloudflare responds to DNS requests for `www.example.com` with `203.0.113.100`.\n2. Cloudflare proxies requests through the CDN and then routes the requests to the origin server `203.0.113.150`.\n3. As the HTTP response egresses the Cloudflare network back to the client side, the source IP address of the response becomes `203.0.113.100` (the IP address that the HTTP request originally landed on).\n\nNote\n\nHaving the same IP address as ingress IP (defined in the address map) and origin IP (listed in the DNS record) will not cause any loops.\n\nExample\n\nAssuming `203.0.113.100` was also the origin IP, the DNS record would look like the following:\n\n| Type | Name | IP address | Proxy status | TTL |\n| - | - | - | - | - |\n| `A` | `www` | `203.0.113.100` | `Proxied` | `Auto` |\n\n### Spectrum\n\nConfiguring Spectrum to use your own IP address is only possible via the [Cloudflare API](https://developers.cloudflare.com/api/resources/spectrum/).\n\nThe `origin_direct` field takes the origin IP address, while `edge_ips` allows you to define which IP address from your BYOIP prefix Cloudflare should use to process requests for your Spectrum application.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Zone Settings Write`",
      "language": "unknown"
    },
    {
      "code": "***\n\n## (Optional) Add layer 7 functionality\n\nLeverage other features according to your needs. For example:\n\n* [Cache](https://developers.cloudflare.com/cache/)\n* [WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/)\n* [Security analytics](https://developers.cloudflare.com/waf/analytics/security-analytics/)\n\n## Footnotes\n\n1. Layer 7 HTTP-based [â†©](#user-content-fnref-1)\n\n2. Layer 4 or Layer 7 HTTP with custom ports [â†©](#user-content-fnref-2)\n\n</page>\n\n<page>\n---\ntitle: Use BYOIP with Magic Transit and CDN Â· Cloudflare BYOIP docs\ndescription: Service bindings allow BYOIP customers to selectively route traffic\n  on a per-IP address basis to the CDN pipeline. It is important to note that\n  traffic routed to the CDN pipeline is protected at Layers 3 and 4 by the\n  inherent DDoS protection capabilities.\nlastUpdated: 2025-12-12T17:59:31.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/byoip/service-bindings/magic-transit-with-cdn/\n  md: https://developers.cloudflare.com/byoip/service-bindings/magic-transit-with-cdn/index.md\n---\n\n[Magic Transit](https://developers.cloudflare.com/magic-transit/) customers using BYOIP can also benefit from the performance, reliability, and security that Cloudflare offers for HTTP-based applications. [Service bindings](https://developers.cloudflare.com/byoip/service-bindings/) allow BYOIP customers to selectively route traffic on a per-IP address basis to the CDN pipeline (which includes [Cache](https://developers.cloudflare.com/cache/), [Web Application Firewall (WAF)](https://developers.cloudflare.com/waf/), and more).\n\nThis guide covers using the Cloudflare API to configure Magic Transit with CDN. It is also possible to define service bindings to route traffic to the Spectrum pipeline selectively. Refer to [scope](https://developers.cloudflare.com/byoip/service-bindings/#scope) for the full list of possible configurations and other available guides.\n\nIt is important to note that traffic routed to the CDN pipeline is protected at Layers 3 and 4 by the inherent DDoS protection capabilities native to the CDN pipeline.\n\n## Before you begin\n\n* Make sure your contract includes CDN according to your needs. If you find any issues related to subscription when following the steps below, reach out to your account team.\n\n* Plan for what IPs will be used:\n\n  Cloudflare **strongly** recommends implementing service bindings through an **aggregated** CIDR block, as it is more efficient than adding discrete bindings for non-contiguous CIDR blocks.\n\n  Example\n\n  **Magic Transit protected prefix:** `203.0.113.0/24`\n\n  **IPs to upgrade to CDN:**\n\n  `203.0.113.16`\\\n  `203.0.113.17`\\\n  `203.0.113.18`\\\n  `203.0.113.19`\\\n  `203.0.113.20`\\\n  `203.0.113.21`\\\n  `203.0.113.22`\\\n  `203.0.113.23`\n\n  Add one discrete CDN service binding for `203.0.113.16` with a `/29` netmask.\n\n  Once a service binding is created (or deleted), it will take **four to six hours** to propagate across Cloudflare's global network. Services for the IP addresses in scope will likely be disrupted during this window.\n\n  Note\n\n  This guide assumes that the prefix is tied to a single Cloudflare account that has both Magic Transit and CDN properties. If you are using [prefix delegations](https://developers.cloudflare.com/byoip/concepts/prefix-delegations/), the service bindings must be [created](#2-create-service-binding) on the parent account.\n\n## 1. Get account information\n\n1. Log in to your Cloudflare account and get your [account ID](https://developers.cloudflare.com/fundamentals/account/find-account-and-zone-ids/) and [authentication key or token](https://developers.cloudflare.com/fundamentals/api/get-started/). If using an [API token](https://developers.cloudflare.com/fundamentals/api/get-started/create-token/), the permissions should include `Account` - `IP Prefixes` - `Edit`.\n2. Make a `GET` request to the [List Services](https://developers.cloudflare.com/api/resources/addressing/subresources/services/methods/list/) endpoint and take note of the `id` associated with the CDN service.\n3. Use the [List Prefixes](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/methods/list/) endpoint and take note of the `id` associated with the prefix (`cidr`) you will configure.\n\nAt this point, continuing the [example](#before-you-begin), you should have a mapping similar to the following:\n\n| Variables | Description |\n| - | - |\n| `{service_id}` | The ID of the CDN service within Cloudflare. Example: `969xxxxxxxx000xxx0000000x00001bf` |\n| `{prefix_id}` | The ID of the Magic Transit prefix (`203.0.113.0/24`) you want to configure. Example: `6b25xxxxxxx000xxx0000000x0000cfc` |\n\n1. To confirm you currently have a Magic Transit service binding and that it spans across your entire prefix, make a `GET` request to the [List Service Bindings](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/subresources/service_bindings/methods/list/) endpoint. Replace the `{prefix_id}` in the URI path by the actual prefix ID you got from the previous step.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `IP Prefixes: Write`\n* `IP Prefixes: Read`",
      "language": "unknown"
    },
    {
      "code": "## 2. Create service binding\n\nCaution\n\nOnce a service binding is created (or deleted), it will take **four to six hours** to propagate across Cloudflare's global network. Services for the IP addresses in scope will likely be disrupted during this window.\n\n1. Make a `POST` request to the [Create service binding](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/subresources/service_bindings/methods/create/) endpoint, indicating the IP address you want to bind to CDN. Specify the **corresponding network mask** as needed.\n\nContinuing the example, `203.0.113.100/32` designates an IP address that is within the Magic Transit prefix `203.0.113.0/24`.\n\nReplace the `{prefix_id}` in the URI with your prefix ID from previous steps. Within the request body, the `cidr` value should correspond to the IP address or subnet that you are configuring for use with CDN.\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `IP Prefixes: Write`",
      "language": "unknown"
    },
    {
      "code": "In the response body, the initial provisioning state should be `provisioning`.",
      "language": "unknown"
    },
    {
      "code": "You can periodically check the service binding status using the [List Service Bindings](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/subresources/service_bindings/methods/list/) endpoint.\n\n## 3. Create address maps\n\nOnce you have configured your IPs to have CDN service, you can use [address maps](https://developers.cloudflare.com/byoip/address-maps/) to specify which IPs should be used by Cloudflare in DNS responses when a record is [proxied](https://developers.cloudflare.com/dns/proxy-status/).\n\nYou can choose between two different scopes:\n\n* Account-level: uses the address map for all proxied DNS records across all of the zones within an account.\n* Zone-level: uses the address map for all proxied DNS records within a zone.\n\nTip\n\nIf you need to map only specific subdomains (and not all proxied DNS records) to specific IP addresses, you can use a zone on [Subdomain setup](https://developers.cloudflare.com/dns/zone-setups/subdomain-setup/).\n\n* Dashboard\n\n  1. In the Cloudflare dashboard, go to the **Address Maps** page.\n\n     [Go to **Address maps**](https://dash.cloudflare.com/?to=/:account/ip-addresses/proxy-ips)\n\n  2. Select **Create an address map**.\n\n  3. Choose the scope of the address map.\n\n  4. Add the zones and IP addresses that you want to map.\n\n  5. Name your address map.\n\n  6. Review the information and select **Save and Deploy**.\n\n* API\n\n  Use the [Create Address Map](https://developers.cloudflare.com/api/resources/addressing/subresources/address_maps/methods/create/) endpoint.\n\n  Make sure you have the correct Key/Token and permissions.\n\n## 4. Create DNS records\n\n* Dashboard\n\n  To create a DNS record in the dashboard:\n\n  1. In the Cloudflare dashboard, go to the **DNS Records** page.\n\n     [Go to **Records**](https://dash.cloudflare.com/?to=/:account/:zone/dns/records)\n\n  2. Select **Add record**.\n\n  3. Choose an address (`A`/`AAAA`) [record type](https://developers.cloudflare.com/dns/manage-dns-records/reference/dns-record-types/).\n\n  4. Complete the required fields, setting the **Proxy status** to **proxied**.\n\n  5. Select **Save**.\n\n* API\n\n  To create records with the API, use a [POST request](https://developers.cloudflare.com/api/resources/dns/subresources/records/methods/create/). For field definitions, select a record type under the request body specification.\n\nTip\n\nAs you create the necessary DNS records, [Total TLS](https://developers.cloudflare.com/ssl/edge-certificates/additional-options/total-tls/) can help making sure that you have SSL/TLS certificates in place for all your hostnames.\n\nWhile the DNS record proxy status and address map will determine how Cloudflare's authoritative DNS responds to requests for your hostnames, the IP addresses specified in `A`/`AAAA` records will determine [how Cloudflare reaches the configured origin](https://developers.cloudflare.com/fundamentals/concepts/how-cloudflare-works/#how-cloudflare-works-as-a-reverse-proxy).\n\nExample\n\n| Type | Name | IP address | Proxy status | TTL |\n| - | - | - | - | - |\n| `A` | `www` | `203.0.113.150` | `Proxied` | `Auto` |\n\nAt this point, if an address map for a zone `example.com` specifies that Cloudflare should use `203.0.113.100` for proxied records and the above record exists in the same zone, you can expect the following:\n\n1. Cloudflare responds to DNS requests with `203.0.113.100`.\n\n2. Cloudflare proxies requests through the CDN and then routes the requests via [GRE](https://developers.cloudflare.com/magic-transit/reference/gre-ipsec-tunnels/) or [CNI](https://developers.cloudflare.com/magic-transit/network-interconnect/) to the origin server `203.0.113.150` (which is within the Magic Transit protected prefix).\n\n3. Depending on whether Magic Transit is implemented with [direct server return model or with Magic Transit egress](https://developers.cloudflare.com/magic-transit/how-to/configure-tunnel-endpoints/#bidirectional-vs-unidirectional-health-checks), the origin server responds back to Cloudflare either:\n\n   * Directly over the Internet in a Magic Transit direct server return model\n   * Back through the Magic GRE tunnel(s) in a Magic Transit egress model\n\n4. As the HTTP response egresses the Cloudflare network back to the client side, the source IP address of the response becomes `203.0.113.100` (the IP address that the HTTP request originally landed on).\n\nNote\n\nHaving the same IP address as ingress IP (defined in the address map) and origin IP (listed in the DNS record) will not cause any loops.\n\nExample\n\nAssuming `203.0.113.100` was also the origin IP, the DNS record would look like the following:\n\n| Type | Name | IP address | Proxy status | TTL |\n| - | - | - | - | - |\n| `A` | `www` | `203.0.113.100` | `Proxied` | `Auto` |\n\n## 5. (Optional) Add layer 7 functionality\n\nLeverage other features according to your needs. For example:\n\n* [Cache](https://developers.cloudflare.com/cache/)\n* [WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/)\n* [Security analytics](https://developers.cloudflare.com/waf/analytics/security-analytics/)\n\n</page>\n\n<page>\n---\ntitle: Troubleshoot prefix validation Â· Cloudflare BYOIP docs\nlastUpdated: 2025-12-19T14:55:45.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/byoip/troubleshooting/prefix-validation/\n  md: https://developers.cloudflare.com/byoip/troubleshooting/prefix-validation/index.md\n---\n\n1. Use the [Prefix Details endpoint](https://developers.cloudflare.com/api/resources/addressing/subresources/prefixes/methods/get/) to check if any issues were found during validation.\n\n   Required API token permissions\n\n   At least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n   * `Magic Transit Read`\n   * `Magic Transit Write`\n   * `IP Prefixes: Write`\n   * `IP Prefixes: Read`\n   * `IP Prefixes: BGP On Demand Write`\n   * `IP Prefixes: BGP On Demand Read`",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "2. Consider the states returned in the API response (for example, `missing`, `invalid`, `mismatch_asn`) and review your IRR record, ROA, and ownership validation method accordingly.\n\n   * Information in the IRR and ROA records should meet the [onboarding prerequisites](https://developers.cloudflare.com/byoip/get-started/#before-you-begin).\n\n   * [Ownership validation](https://developers.cloudflare.com/byoip/get-started/#validate-prefix-ownership) requires a matching ROA and the correct validation token found in all DNS TXT records or in the IRR record.\n\n3. After applying the necessary changes, use the Validate Prefix endpoint to trigger the validation checks.\n\n   Required API token permissions\n\n   At least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n   * `Magic Transit Write`\n   * `IP Prefixes: Write`",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Use browser rendering with AI Â· Cloudflare Browser Rendering docs\ndescription: >-\n  The ability to browse websites can be crucial when building workflows with AI.\n  Here, we provide an example where we use Browser Rendering to visit\n\n  https://labs.apnic.net/ and then, using a machine learning model available in\n  Workers AI, extract the first post as JSON with a specified schema.\nlastUpdated: 2025-09-30T16:36:58.000Z\nchatbotDeprioritize: false\ntags: AI,LLM\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/how-to/ai/\n  md: https://developers.cloudflare.com/browser-rendering/how-to/ai/index.md\n---\n\nThe ability to browse websites can be crucial when building workflows with AI. Here, we provide an example where we use Browser Rendering to visit `https://labs.apnic.net/` and then, using a machine learning model available in [Workers AI](https://developers.cloudflare.com/workers-ai/), extract the first post as JSON with a specified schema.\n\n## Prerequisites\n\n1. Use the `create-cloudflare` CLI to generate a new Hello World Cloudflare Worker script:",
      "language": "unknown"
    },
    {
      "code": "1. Install `@cloudflare/puppeteer`, which allows you to control the Browser Rendering instance:",
      "language": "unknown"
    },
    {
      "code": "1. Install `zod` so we can define our output format and `zod-to-json-schema` so we can convert it into a JSON schema format:",
      "language": "unknown"
    },
    {
      "code": "1. Activate the nodejs compatibility flag and add your Browser Rendering binding to your new Wrangler configuration:\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "- wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "- wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "1. In order to use [Workers AI](https://developers.cloudflare.com/workers-ai/), you need to get your [Account ID and API token](https://developers.cloudflare.com/workers-ai/get-started/rest-api/#1-get-api-token-and-account-id). Once you have those, create a [`.dev.vars`](https://developers.cloudflare.com/workers/configuration/environment-variables/#add-environment-variables-via-wrangler) file and set them there:",
      "language": "unknown"
    },
    {
      "code": "We use `.dev.vars` here since it's only for local development, otherwise you'd use [Secrets](https://developers.cloudflare.com/workers/configuration/secrets/).\n\n## Load the page using Browser Rendering\n\nIn the code below, we launch a browser using `await puppeteer.launch(env.MY_BROWSER)`, extract the rendered text and close the browser. Then, with the user prompt, the desired output schema and the rendered text, prepare a prompt to send to the LLM.\n\nReplace the contents of `src/index.ts` with the following skeleton script:",
      "language": "unknown"
    },
    {
      "code": "## Call an LLM\n\nHaving the webpage text, the user's goal and output schema, we can now use an LLM to transform it to JSON according to the user's request. The example below uses `@hf/thebloke/deepseek-coder-6.7b-instruct-awq` but other [models](https://developers.cloudflare.com/workers-ai/models/) or services like OpenAI, could be used with minimal changes:",
      "language": "unknown"
    },
    {
      "code": "If you want to use Browser Rendering with OpenAI instead you'd just need to change the `aiUrl` endpoint and `requestBody` (or check out the [llm-scraper-worker](https://www.npmjs.com/package/llm-scraper-worker) package).\n\n## Conclusion\n\nThe full Worker script now looks as follows:",
      "language": "unknown"
    },
    {
      "code": "You can run this script to test it via:",
      "language": "unknown"
    },
    {
      "code": "With your script now running, you can go to `http://localhost:8787/` and should see something like the following:",
      "language": "unknown"
    },
    {
      "code": "For more complex websites or prompts, you might need a better model. Check out the latest models in [Workers AI](https://developers.cloudflare.com/workers-ai/models/).\n\n</page>\n\n<page>\n---\ntitle: Generate PDFs Using HTML and CSS Â· Cloudflare Browser Rendering docs\ndescription: As seen in this Workers bindings guide, Browser Rendering can be\n  used to generate screenshots for any given URL. Alongside screenshots, you can\n  also generate full PDF documents for a given webpage, and can also provide the\n  webpage markup and style ourselves.\nlastUpdated: 2025-12-09T16:48:48.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/how-to/pdf-generation/\n  md: https://developers.cloudflare.com/browser-rendering/how-to/pdf-generation/index.md\n---\n\nAs seen in [this Workers bindings guide](https://developers.cloudflare.com/browser-rendering/workers-bindings/screenshots/), Browser Rendering can be used to generate screenshots for any given URL. Alongside screenshots, you can also generate full PDF documents for a given webpage, and can also provide the webpage markup and style ourselves.\n\nYou can generate PDFs with Browser Rendering in two ways:\n\n* **[REST API](https://developers.cloudflare.com/browser-rendering/rest-api/)**: Use the the [/pdf endpoint](https://developers.cloudflare.com/browser-rendering/rest-api/pdf-endpoint/). This is ideal if you do not need to customize rendering behavior.\n* **[Workers Bindings](https://developers.cloudflare.com/browser-rendering/workers-bindings/)**: Use [Puppeteer](https://developers.cloudflare.com/browser-rendering/puppeteer/) or [Playwright](https://developers.cloudflare.com/browser-rendering/playwright/) with Workers Bindings for additional control and customization.\n\nChoose the method that best fits your use case.\n\nThe following example shows you how to generate a PDF using [Puppeteer](https://developers.cloudflare.com/browser-rendering/puppeteer/).\n\n## Prerequisites\n\n1. Use the `create-cloudflare` CLI to generate a new Hello World Cloudflare Worker script:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "1. Install `@cloudflare/puppeteer`, which allows you to control the Browser Rendering instance:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "1. Add your Browser Rendering binding to your new Wrangler configuration:\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "Use real headless browser during local development\n\nTo interact with a real headless browser during local development, set `\"remote\" : true` in the Browser binding configuration. Learn more in our [remote bindings documentation](https://developers.cloudflare.com/workers/development-testing/#remote-bindings).\n\n1. Replace the contents of `src/index.ts` (or `src/index.js` for JavaScript projects) with the following skeleton script:",
      "language": "unknown"
    },
    {
      "code": "## 1. Define HTML and CSS\n\nRather than using Browser Rendering to navigate to a user-provided URL, manually generate a webpage, then provide that webpage to the Browser Rendering instance. This allows you to render any design you want.\n\nNote\n\nYou can generate your HTML or CSS using any method you like. This example uses string interpolation, but the method is also fully compatible with web frameworks capable of rendering HTML on Workers such as React, Remix, and Vue.\n\nFor this example, we are going to take in user-provided content (via a '?name=' parameter), and have that name output in the final PDF document.\n\nTo start, fill out your `generateDocument` function with the following:",
      "language": "unknown"
    },
    {
      "code": "This example HTML document should render a beige background imitating a certificate showing that the user-provided name has successfully rendered a PDF using Cloudflare Workers.\n\nNote\n\nIt is usually best to avoid directly interpolating user-provided content into an image or PDF renderer in production applications. To render contents like an invoice, it would be best to validate the data input and fetch the data yourself using tools like [D1](https://developers.cloudflare.com/d1/) or [Workers KV](https://developers.cloudflare.com/kv/).\n\n## 2. Load HTML and CSS Into Browser\n\nNow that you have your fully styled HTML document, you can take the contents and send it to your browser instance. Create an empty page to store this document as follows:",
      "language": "unknown"
    },
    {
      "code": "The [`page.setContent()`](https://github.com/cloudflare/puppeteer/blob/main/docs/api/puppeteer.page.setcontent.md) function can then be used to set the page's HTML contents from a string, so you can pass in your created document directly like so:",
      "language": "unknown"
    },
    {
      "code": "## 3. Generate and Return PDF\n\nWith your Browser Rendering instance now rendering your provided HTML and CSS, you can use the [`page.pdf()`](https://github.com/cloudflare/puppeteer/blob/main/docs/api/puppeteer.page.pdf.md) command to generate a PDF file and return it to the client.",
      "language": "unknown"
    },
    {
      "code": "The `page.pdf()` call supports a [number of options](https://github.com/cloudflare/puppeteer/blob/main/docs/api/puppeteer.pdfoptions.md), including setting the dimensions of the generated PDF to a specific paper size, setting specific margins, and allowing fully-transparent backgrounds. For now, you are only overriding the `printBackground` option to allow your `body` background styles to show up.\n\nNow that you have your PDF data, return it to the client in the `Response` with an `application/pdf` content type:",
      "language": "unknown"
    },
    {
      "code": "## Conclusion\n\nThe full Worker script now looks as follows:",
      "language": "unknown"
    },
    {
      "code": "You can run this script to test it via:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "With your script now running, you can pass in a `?name` parameter to the local URL (such as `http://localhost:8787/?name=Harley`) and should see the following:\n\n![A screenshot of a generated PDF, with the author's name shown in a mock certificate.](https://developers.cloudflare.com/_astro/pdf-generation.Diel53Hp_F2F5w.webp)\n\n***\n\n## Custom fonts\n\nIf your PDF requires a specific font that is not pre-installed in the Browser Rendering environment, you can load custom fonts using `addStyleTag`. This allows you to inject fonts from a CDN or embed them as Base64 strings before generating your PDF.\n\nFor detailed instructions and examples, refer to [Use your own custom font](https://developers.cloudflare.com/browser-rendering/reference/supported-fonts/#use-your-own-custom-font).\n\n***\n\nDynamically generating PDF documents solves a number of common use-cases, from invoicing customers to archiving documents to creating dynamic certificates (as seen in the simple example here).\n\n</page>\n\n<page>\n---\ntitle: Playwright MCP Â· Cloudflare Browser Rendering docs\ndescription: Deploy a Playwright MCP server that uses Browser Rendering to\n  provide browser automation capabilities to your agents.\nlastUpdated: 2025-11-06T19:11:47.000Z\nchatbotDeprioritize: false\ntags: MCP\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/playwright/playwright-mcp/\n  md: https://developers.cloudflare.com/browser-rendering/playwright/playwright-mcp/index.md\n---\n\n[`@cloudflare/playwright-mcp`](https://github.com/cloudflare/playwright-mcp) is a [Playwright MCP](https://github.com/microsoft/playwright-mcp) server fork that provides browser automation capabilities using Playwright and Browser Rendering.\n\nThis server enables LLMs to interact with web pages through structured accessibility snapshots, bypassing the need for screenshots or visually-tuned models. Its key features are:\n\n* Fast and lightweight. Uses Playwright's accessibility tree, not pixel-based input.\n* LLM-friendly. No vision models needed, operates purely on structured data.\n* Deterministic tool application. Avoids ambiguity common with screenshot-based approaches.\n\nNote\n\nThe current version of Cloudflare Playwright MCP **v0.0.5** is in sync with upstream Playwright MCP **v0.0.30**.\n\n## Quick start\n\nIf you are already familiar with Cloudflare Workers and you want to get started with Playwright MCP right away, select this button:\n\n[![Deploy to Cloudflare](https://deploy.workers.cloudflare.com/button)](https://deploy.workers.cloudflare.com/?url=https://github.com/cloudflare/playwright-mcp/tree/main/cloudflare/example)\n\nThis creates a repository in your GitHub account and deploys the application to Cloudflare Workers. Use this option if you are familiar with Cloudflare Workers, and wish to skip the step-by-step guidance.\n\nCheck our [GitHub page](https://github.com/cloudflare/playwright-mcp) for more information on how to build and deploy Playwright MCP.\n\n## Deploying\n\nFollow these steps to deploy `@cloudflare/playwright-mcp`:\n\n1. Install the Playwright MCP [npm package](https://www.npmjs.com/package/@cloudflare/playwright-mcp).\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "1. Make sure you have the [browser rendering](https://developers.cloudflare.com/browser-rendering/) and [durable object](https://developers.cloudflare.com/durable-objects/) bindings and [migrations](https://developers.cloudflare.com/durable-objects/reference/durable-objects-migrations/) in your wrangler configuration file.\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "1. Edit the code.",
      "language": "unknown"
    },
    {
      "code": "1. Deploy the server.",
      "language": "unknown"
    },
    {
      "code": "The server is now available at `https://[my-mcp-url].workers.dev/sse` and you can use it with any MCP client.\n\n## Using Playwright MCP\n\n![alt text](https://developers.cloudflare.com/_astro/playground-ai-screenshot.v44jFMBu_2abDuJ.webp)\n\n[Cloudflare AI Playground](https://playground.ai.cloudflare.com/) is a great way to test MCP servers using LLM models available in Workers AI.\n\n* Navigate to <https://playground.ai.cloudflare.com/>\n* Ensure that the model is set to `llama-3.3-70b-instruct-fp8-fast`\n* In **MCP Servers**, set **URL** to `https://[my-mcp-url].workers.dev/sse`\n* Click **Connect**\n* Status should update to **Connected** and it should list 23 available tools\n\nYou can now start to interact with the model, and it will run necessary the tools to accomplish what was requested.\n\nNote\n\nFor best results, give simple instructions consisting of one single action, e.g. \"Create a new todo entry\", \"Go to cloudflare site\", \"Take a screenshot\"\n\nTry this sequence of instructions to see Playwright MCP in action:\n\n1. \"Go to demo.playwright.dev/todomvc\"\n2. \"Create some todo entry\"\n3. \"Nice. Now create a todo in parrot style\"\n4. \"And create another todo in Yoda style\"\n5. \"Take a screenshot\"\n\nYou can also use other MCP clients like [Claude Desktop](https://github.com/cloudflare/playwright-mcp/blob/main/cloudflare/example/README.md#use-with-claude-desktop).\n\nCheck our [GitHub page](https://github.com/cloudflare/playwright-mcp) for more examples and MCP client configuration options and our developer documentation on how to [build Agents on Cloudflare](https://developers.cloudflare.com/agents/).\n\n</page>\n\n<page>\n---\ntitle: Build a web crawler with Queues and Browser Rendering Â· Cloudflare\n  Browser Rendering docs\nlastUpdated: 2025-03-03T12:01:31.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/how-to/queues/\n  md: https://developers.cloudflare.com/browser-rendering/how-to/queues/index.md\n---\n\n\n</page>\n\n<page>\n---\ntitle: Automatic request headers Â· Cloudflare Browser Rendering docs\ndescription: Cloudflare automatically attaches headers to every REST API request\n  made through Browser Rendering. These headers make it easy for destination\n  servers to identify that these requests came from Cloudflare.\nlastUpdated: 2025-12-04T18:35:26.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/reference/automatic-request-headers/\n  md: https://developers.cloudflare.com/browser-rendering/reference/automatic-request-headers/index.md\n---\n\nCloudflare automatically attaches headers to every [REST API](https://developers.cloudflare.com/browser-rendering/rest-api/) request made through Browser Rendering. These headers make it easy for destination servers to identify that these requests came from Cloudflare.\n\nNote\n\nThese headers are meant to ensure transparency and cannot be removed or overridden (with `setExtraHTTPHeaders`, for example).\n\n| Header | Description |\n| - | - |\n| `cf-brapi-request-id` | A unique identifier for the Browser Rendering request when using the [REST API](https://developers.cloudflare.com/browser-rendering/rest-api/) |\n| `cf-brapi-devtools` | A unique identifier for the Browser Rendering request when using [Workers Bindings](https://developers.cloudflare.com/browser-rendering/workers-bindings/) |\n| `cf-biso-devtools` | A flag indicating the request originated from Cloudflare's rendering infrastructure |\n| `Signature-agent` | [The location of the bot public keys](https://web-bot-auth.cloudflare-browser-rendering-085.workers.dev), used to sign the request and verify it came from Cloudflare |\n| `Signature` and `Signature-input` | A digital signature, used to validate requests, as shown in [this architecture document](https://datatracker.ietf.org/doc/html/draft-meunier-web-bot-auth-architecture) |\n\n### About Web Bot Auth\n\nThe `Signature` headers use an authentication method called [Web Bot Auth](https://developers.cloudflare.com/bots/reference/bot-verification/web-bot-auth/). Web Bot Auth leverages cryptographic signatures in HTTP messages to verify that a request comes from an automated bot. To verify a request originated from Cloudflare Browser Rendering, use the keys found on [this directory](https://web-bot-auth.cloudflare-browser-rendering-085.workers.dev/.well-known/http-message-signatures-directory) to verify the `Signature` and `Signature-Input` found in the headers from the incoming request. A successful verification proves that the request originated from Cloudflare Browser Rendering and has not been tampered with in transit.\n\n### Bot detection\n\nThe bot detection ID for Browser Rendering is `128292352`. If you are attempting to scan your own zone and want Browser Rendering to access your website freely without your bot protection configuration interfering, you can create a WAF skip rule to [allowlist Browser Rendering](https://developers.cloudflare.com/browser-rendering/faq/#how-do-i-allowlist-browser-rendering).\n\n</page>\n\n<page>\n---\ntitle: Browser close reasons Â· Cloudflare Browser Rendering docs\ndescription: A browser session may close for a variety of reasons, occasionally\n  due to connection errors or errors in the headless browser instance. As a best\n  practice, wrap puppeteer.connect or puppeteer.launch in a try/catch statement.\nlastUpdated: 2025-11-06T19:11:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/reference/browser-close-reasons/\n  md: https://developers.cloudflare.com/browser-rendering/reference/browser-close-reasons/index.md\n---\n\nA browser session may close for a variety of reasons, occasionally due to connection errors or errors in the headless browser instance. As a best practice, wrap `puppeteer.connect` or `puppeteer.launch` in a [`try/catch`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch) statement.\n\nTo find the reason that a browser closed:\n\n1. In the Cloudflare dashboard, go to the **Browser Rendering** page.\n\n   [Go to **Browser Rendering**](https://dash.cloudflare.com/?to=/:account/workers/browser-rendering)\n\n2. Select the **Logs** tab.\n\nBrowser Rendering sessions are billed based on [usage](https://developers.cloudflare.com/browser-rendering/pricing/). We do not charge for sessions that error due to underlying Browser Rendering infrastructure.\n\n| Reasons a session may end |\n| - |\n| User opens and closes browser normally. |\n| Browser is idle for 60 seconds. |\n| Chromium instance crashes. |\n| Error connecting with the client, server, or Worker. |\n| Browser session is evicted. |\n\n</page>\n\n<page>\n---\ntitle: Supported fonts Â· Cloudflare Browser Rendering docs\ndescription: Browser Rendering uses a managed Chromium environment that includes\n  a standard set of fonts. When you generate a screenshot or PDF, text is\n  rendered using the fonts available in this environment.\nlastUpdated: 2025-11-06T19:11:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/reference/supported-fonts/\n  md: https://developers.cloudflare.com/browser-rendering/reference/supported-fonts/index.md\n---\n\nBrowser Rendering uses a managed Chromium environment that includes a standard set of fonts. When you generate a screenshot or PDF, text is rendered using the fonts available in this environment.\n\nIf your webpage specifies a font that is not supported yet, Chromium will automatically fall back to a similar supported font. If you would like to use a font that is not currently supported, you can [add a custom font](https://developers.cloudflare.com/browser-rendering/reference/supported-fonts/#use-your-own-custom-font).\n\n## Pre-installed fonts\n\nThe following sections list the fonts available in the Browser Rendering environment.\n\n### Generic CSS font family support\n\nThe following generic CSS font families are supported:\n\n* `serif`\n* `sans-serif`\n* `monospace`\n* `cursive`\n* `fantasy`\n\n### Common system fonts\n\n* Andale Mono\n* Arial\n* Arial Black\n* Comic Sans MS\n* Courier\n* Courier New\n* Georgia\n* Helvetica\n* Impact\n* Lucida Handwriting\n* Times\n* Times New Roman\n* Trebuchet MS\n* Verdana\n* Webdings\n\n### Open source and extended fonts\n\n* Bitstream Vera (Serif, Sans, Mono)\n* Cyberbit\n* DejaVu (Serif, Sans, Mono)\n* FreeFont (FreeSerif, FreeSans, FreeMono)\n* GFS Neohellenic\n* Liberation (Serif, Sans, Mono)\n* Open Sans\n* Roboto\n\n### International fonts\n\nBrowser Rendering includes additional font packages for non-Latin scripts and emoji:\n\n* IPAfont Gothic (Japanese)\n* Indic fonts (Devanagari, Bengali, Tamil, and others)\n* KACST fonts (Arabic)\n* Noto CJK (Chinese, Japanese, Korean)\n* Noto Color Emoji\n* TLWG Thai fonts\n* WenQuanYi Zen Hei (Chinese)\n\n## Use your own custom font\n\nIf a required font is not pre-installed, you can inject it into the page at render time using `addStyleTag`. This allows you to load fonts from an external URL or embed them directly as a Base64 string.\n\n### Workers binding\n\n* JavaScript\n\n  Example with [Puppeteer](https://developers.cloudflare.com/browser-rendering/puppeteer/) and a CDN source:",
      "language": "unknown"
    },
    {
      "code": "* TypeScript\n\n  Example with [Puppeteer](https://developers.cloudflare.com/browser-rendering/puppeteer/) and a CDN source:",
      "language": "unknown"
    },
    {
      "code": "- JavaScript\n\n  Example with [Playwright](https://developers.cloudflare.com/browser-rendering/playwright/) and a Base64 encoded data source:",
      "language": "unknown"
    },
    {
      "code": "- TypeScript\n\n  Example with [Playwright](https://developers.cloudflare.com/browser-rendering/playwright/) and a Base64 encoded data source:",
      "language": "unknown"
    },
    {
      "code": "### REST API\n\nWhen using the [REST API](https://developers.cloudflare.com/browser-rendering/rest-api/), you can load custom fonts by including the `addStyleTag` parameter in your request body. This works with both the [screenshot](https://developers.cloudflare.com/browser-rendering/rest-api/screenshot-endpoint/) and [PDF](https://developers.cloudflare.com/browser-rendering/rest-api/pdf-endpoint/) endpoints.\n\nExample with a CDN-hosted font:",
      "language": "unknown"
    },
    {
      "code": "Example with a Base64-encoded font:",
      "language": "unknown"
    },
    {
      "code": "For more details on using `addStyleTag` with the REST API, refer to [Customize CSS and embed custom JavaScript](https://developers.cloudflare.com/browser-rendering/rest-api/screenshot-endpoint/#customize-css-and-embed-custom-javascript).\n\n</page>\n\n<page>\n---\ntitle: REST API timeouts Â· Cloudflare Browser Rendering docs\ndescription: >-\n  Browser Rendering uses several independent timers to manage how long different\n  parts of a request can take.\n\n  If any of these timers exceed their limit, the request returns a timeout\n  error.\nlastUpdated: 2025-12-29T09:32:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/reference/timeouts/\n  md: https://developers.cloudflare.com/browser-rendering/reference/timeouts/index.md\n---\n\nBrowser Rendering uses several independent timers to manage how long different parts of a request can take. If any of these timers exceed their limit, the request returns a timeout error.\n\nEach timer controls a specific part of the rendering lifecycle â€” from page load, to selector load, to action.\n\n| Timer | Scope | Default | Max |\n| - | - | - | - |\n| `goToOptions.timeout` | Time to wait for the page to load before timeout. | 30 s | 60 s |\n| `goToOptions.waitUntil` | Determines when page load is considered complete. Refer to [`waitUntil` options](#waituntil-options) for details. | `domcontentloaded` | â€” |\n| `waitForSelector` | Time to wait for a specific element (any CSS selector) to appear on the page. | null | 60 s |\n| `waitForTimeout` | Additional amount of time to wait after the page has loaded to proceed with actions. | null | 60 s |\n| `actionTimeout` | Time to wait for the action itself (for example: a screenshot, PDF, or scrape) to complete after the page has loaded. | null | 5 min |\n| `PDFOptions.timeout` | Same as `actionTimeout`, but only applies to the [/pdf endpoint](https://developers.cloudflare.com/browser-rendering/rest-api/pdf-endpoint/). | 30 s | 5 min |\n\n### `waitUntil` options\n\nThe `goToOptions.waitUntil` parameter controls when the browser considers page navigation complete. This is important for JavaScript-heavy pages where content is rendered dynamically after the initial page load.\n\n| Value | Behavior |\n| - | - |\n| `load` | Waits for the `load` event, including all resources like images and stylesheets |\n| `domcontentloaded` | Waits until the DOM content has been fully loaded, which fires before the `load` event (default) |\n| `networkidle0` | Waits until there are no network connections for at least 500 ms |\n| `networkidle2` | Waits until there are no more than two network connections for at least 500 ms |\n\nFor pages that rely on JavaScript to render content, use `networkidle0` or `networkidle2` to ensure the page is fully rendered before extraction.\n\n## Notes and recommendations\n\nYou can set multiple timers â€” as long as one is complete, the request will fire.\n\nIf you are not getting the expected output:\n\n* Try increasing `goToOptions.timeout` (up to 60 s).\n* If waiting for a specific element, use `waitForSelector`. Otherwise, use `goToOptions.waitUntil` set to `networkidle2` to ensure the page has finished loading dynamic content.\n* If you are getting a `422`, it may be the action itself (ex: taking a screenshot, extracting the html content) that takes a long time. Try increasing the `actionTimeout` instead.\n\n</page>\n\n<page>\n---\ntitle: Wrangler Â· Cloudflare Browser Rendering docs\ndescription: Use Wrangler, a command-line tool, to deploy projects using\n  Cloudflare's Workers Browser Rendering API.\nlastUpdated: 2025-11-06T19:11:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/reference/wrangler/\n  md: https://developers.cloudflare.com/browser-rendering/reference/wrangler/index.md\n---\n\n[Wrangler](https://developers.cloudflare.com/workers/wrangler/) is a command-line tool for building with Cloudflare developer products.\n\nUse Wrangler to deploy projects that use the Workers Browser Rendering API.\n\n## Install\n\nTo install Wrangler, refer to [Install and Update Wrangler](https://developers.cloudflare.com/workers/wrangler/install-and-update/).\n\n## Bindings\n\n[Bindings](https://developers.cloudflare.com/workers/runtime-apis/bindings/) allow your Workers to interact with resources on the Cloudflare developer platform. A browser binding will provide your Worker with an authenticated endpoint to interact with a dedicated Chromium browser instance.\n\nTo deploy a Browser Rendering Worker, you must declare a [browser binding](https://developers.cloudflare.com/workers/runtime-apis/bindings/) in your Worker's Wrangler configuration file.\n\nNote\n\nTo enable built-in Node.js APIs and polyfills, add the nodejs\\_compat compatibility flag to your [Wrangler configuration file](https://developers.cloudflare.com/workers/wrangler/configuration/). This also enables nodejs\\_compat\\_v2 as long as your compatibility date is 2024-09-23 or later. [Learn more about the Node.js compatibility flag and v2](https://developers.cloudflare.com/workers/configuration/compatibility-flags/#nodejs-compatibility-flag).\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "After the binding is declared, access the DevTools endpoint using `env.MYBROWSER` in your Worker code:",
      "language": "unknown"
    },
    {
      "code": "Run `npx wrangler dev` to test your Worker locally.\n\nUse real headless browser during local development\n\nTo interact with a real headless browser during local development, set `\"remote\" : true` in the Browser binding configuration. Learn more in our [remote bindings documentation](https://developers.cloudflare.com/workers/development-testing/#remote-bindings).\n\n</page>\n\n<page>\n---\ntitle: Reference Â· Cloudflare Browser Rendering docs\nlastUpdated: 2025-04-04T13:14:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/rest-api/api-reference/\n  md: https://developers.cloudflare.com/browser-rendering/rest-api/api-reference/index.md\n---\n\n\n</page>\n\n<page>\n---\ntitle: /content - Fetch HTML Â· Cloudflare Browser Rendering docs\ndescription: The /content endpoint instructs the browser to navigate to a\n  website and capture the fully rendered HTML of a page, including the head\n  section, after JavaScript execution. This is ideal for capturing content from\n  JavaScript-heavy or interactive websites.\nlastUpdated: 2025-12-29T09:32:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/rest-api/content-endpoint/\n  md: https://developers.cloudflare.com/browser-rendering/rest-api/content-endpoint/index.md\n---\n\nThe `/content` endpoint instructs the browser to navigate to a website and capture the fully rendered HTML of a page, including the `head` section, after JavaScript execution. This is ideal for capturing content from JavaScript-heavy or interactive websites.\n\n## Endpoint",
      "language": "unknown"
    },
    {
      "code": "## Required fields\n\nYou must provide either `url` or `html`:\n\n* `url` (string)\n* `html` (string)\n\n## Common use cases\n\n* Capture the fully rendered HTML of a dynamic page\n* Extract HTML for parsing, scraping, or downstream processing\n\n## Basic usage\n\n### Fetch rendered HTML from a URL\n\n* curl\n\n  Go to `https://developers.cloudflare.com/` and return the rendered HTML.",
      "language": "unknown"
    },
    {
      "code": "* TypeScript SDK",
      "language": "unknown"
    },
    {
      "code": "## Advanced usage\n\nLooking for more parameters?\n\nVisit the [Browser Rendering API reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/content/methods/create/) for all available parameters, such as setting HTTP credentials using `authenticate`, setting `cookies`, and customizing load behavior using `gotoOptions`.\n\n### Block specific resource types\n\nNavigate to `https://cloudflare.com/` but block images and stylesheets from loading. Undesired requests can be blocked by resource type (`rejectResourceTypes`) or by using a regex pattern (`rejectRequestPattern`). The opposite can also be done, only allow requests that match `allowRequestPattern` or `allowResourceTypes`.",
      "language": "unknown"
    },
    {
      "code": "Many more options exist, like setting HTTP headers using `setExtraHTTPHeaders`, setting `cookies`, and using `gotoOptions` to control page load behaviour - check the endpoint [reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/content/methods/create/) for all available parameters.\n\n### Handling JavaScript-heavy pages\n\nFor JavaScript-heavy pages or Single Page Applications (SPAs), the default page load behavior may return empty or incomplete results. This happens because the browser considers the page loaded before JavaScript has finished rendering the content.\n\nThe simplest solution is to use the `gotoOptions.waitUntil` parameter set to `networkidle0` or `networkidle2`:",
      "language": "unknown"
    },
    {
      "code": "For faster responses, advanced users can use `waitForSelector` to wait for a specific element instead of waiting for all network activity to stop. This requires knowing which CSS selector indicates the content you need has loaded. For more details, refer to [REST API timeouts](https://developers.cloudflare.com/browser-rendering/reference/timeouts/).\n\n### Set a custom user agent\n\nYou can change the user agent at the page level by passing `userAgent` as a top-level parameter in the JSON body. This is useful if the target website serves different content based on the user agent.\n\nNote\n\nThe `userAgent` parameter does not bypass bot protection. Requests from Browser Rendering will always be identified as a bot.\n\n## Troubleshooting\n\nIf you have questions or encounter an error, see the [Browser Rendering FAQ and troubleshooting guide](https://developers.cloudflare.com/browser-rendering/faq/).\n\n</page>\n\n<page>\n---\ntitle: /json - Capture structured data using AI Â· Cloudflare Browser Rendering docs\ndescription: The /json endpoint extracts structured data from a webpage. You can\n  specify the expected output using either a prompt or a response_format\n  parameter which accepts a JSON schema. The endpoint returns the extracted data\n  in JSON format. By default, this endpoint leverages Workers AI. If you would\n  like to specify your own AI model for the extraction, you can use the\n  custom_ai parameter.\nlastUpdated: 2025-12-29T09:32:47.000Z\nchatbotDeprioritize: false\ntags: JSON\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/rest-api/json-endpoint/\n  md: https://developers.cloudflare.com/browser-rendering/rest-api/json-endpoint/index.md\n---\n\nThe `/json` endpoint extracts structured data from a webpage. You can specify the expected output using either a `prompt` or a `response_format` parameter which accepts a JSON schema. The endpoint returns the extracted data in JSON format. By default, this endpoint leverages [Workers AI](https://developers.cloudflare.com/workers-ai/). If you would like to specify your own AI model for the extraction, you can use the `custom_ai` parameter.\n\nNote\n\nBy default, the `/json` endpoint leverages [Workers AI](https://developers.cloudflare.com/workers-ai/) for data extraction. Using this endpoint incurs usage on Workers AI, which you can monitor usage through the Workers AI Dashboard.\n\n## Endpoint",
      "language": "unknown"
    },
    {
      "code": "## Required fields\n\nYou must provide either `url` or `html`:\n\n* `url` (string)\n* `html` (string)\n\nAnd at least one of:\n\n* `prompt` (string), or\n* `response_format` (object with a JSON Schema)\n\n## Common use cases\n\n* Extract product info (title, price, availability) or listings (jobs, rentals)\n* Normalize article metadata (title, author, publish date, canonical URL)\n* Convert unstructured pages into typed JSON for downstream pipelines\n\n## Basic Usage\n\n### With a Prompt and JSON schema\n\n* curl\n\n  This example captures webpage data by providing both a prompt and a JSON schema. The prompt guides the extraction process, while the JSON schema defines the expected structure of the output.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "### With only a prompt\n\n  In this example, only a prompt is provided. The endpoint will use the prompt to extract the data, but the response will not be structured according to a JSON schema. This is useful for simple extractions where you do not need a specific format.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "### With only a JSON schema (no prompt)\n\n  In this case, you supply a JSON schema via the `response_format` parameter. The schema defines the structure of the extracted data.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* TypeScript SDK\n\n  Below is an example using the TypeScript SDK:",
      "language": "unknown"
    },
    {
      "code": "## Advanced Usage\n\nLooking for more parameters?\n\nVisit the [Browser Rendering API reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/json/methods/create/) for all available parameters, such as setting HTTP credentials using `authenticate`, setting `cookies`, and customizing load behavior using `gotoOptions`.\n\n### Using a custom model (BYO API Key)\n\nBrowser Rendering can use a custom model for which you supply credentials. List the model(s) in the `custom_ai` array:\n\n* `model` should be formed as `<provider>/<model_name>` and the provider must be one of these [supported providers](https://developers.cloudflare.com/ai-gateway/usage/chat-completion/#supported-providers).\n* `authorization` is the bearer token or API key that allows Browser Rendering to call the provider on your behalf.\n\nThis example uses the `custom_ai` parameter to instruct Browser Rendering to use a Anthropic's Claude Sonnet 4 model. The prompt asks the model to extract the main `<h1>` and `<h2>` headings from the target URL and return them in a structured JSON object.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "### Using a custom model with fallbacks\n\nYou may specify multiple models to provide automatic failover. Browser Rendering will attempt the models in order until one succeeds. To add failover, list additional models in the `custom_ai` array.\n\nIn this example, Browser Rendering first calls Anthropic's Claude Sonnet 4 model. If that request returns an error, it automatically retries with Meta Llama 3.3 70B from [Workers AI](https://developers.cloudflare.com/workers-ai/), then OpenAI's GPT-4o.",
      "language": "unknown"
    },
    {
      "code": "### Handling JavaScript-heavy pages\n\nFor JavaScript-heavy pages or Single Page Applications (SPAs), the default page load behavior may return empty or incomplete results. This happens because the browser considers the page loaded before JavaScript has finished rendering the content.\n\nThe simplest solution is to use the `gotoOptions.waitUntil` parameter set to `networkidle0` or `networkidle2`:",
      "language": "unknown"
    },
    {
      "code": "For faster responses, advanced users can use `waitForSelector` to wait for a specific element instead of waiting for all network activity to stop. This requires knowing which CSS selector indicates the content you need has loaded. For more details, refer to [REST API timeouts](https://developers.cloudflare.com/browser-rendering/reference/timeouts/).\n\n### Set a custom user agent\n\nYou can change the user agent at the page level by passing `userAgent` as a top-level parameter in the JSON body. This is useful if the target website serves different content based on the user agent.\n\nNote\n\nThe `userAgent` parameter does not bypass bot protection. Requests from Browser Rendering will always be identified as a bot.\n\n## Troubleshooting\n\nIf you have questions or encounter an error, see the [Browser Rendering FAQ and troubleshooting guide](https://developers.cloudflare.com/browser-rendering/faq/).\n\n</page>\n\n<page>\n---\ntitle: /links - Retrieve links from a webpage Â· Cloudflare Browser Rendering docs\ndescription: The /links endpoint retrieves all links from a webpage. It can be\n  used to extract all links from a page, including those that are hidden.\nlastUpdated: 2025-12-29T09:32:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/rest-api/links-endpoint/\n  md: https://developers.cloudflare.com/browser-rendering/rest-api/links-endpoint/index.md\n---\n\nThe `/links` endpoint retrieves all links from a webpage. It can be used to extract all links from a page, including those that are hidden.\n\n## Endpoint",
      "language": "unknown"
    },
    {
      "code": "## Required fields\n\nYou must provide either `url` or `html`:\n\n* `url` (string)\n* `html` (string)\n\n## Common use cases\n\n* Collect only user-visible links for UX or SEO analysis\n* Crawl a site by discovering links on seed pages\n* Validate navigation/footers and detect broken or external links\n\n## Basic usage\n\n### Get all links on a page\n\n* curl\n\n  This example grabs all links from the [Cloudflare Doc's homepage](https://developers.cloudflare.com/). The response will be a JSON array containing the links found on the page.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* TypeScript SDK",
      "language": "unknown"
    },
    {
      "code": "## Advanced usage\n\nLooking for more parameters?\n\nVisit the [Browser Rendering API reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/links/methods/create/) for all available parameters, such as setting HTTP credentials using `authenticate`, setting `cookies`, and customizing load behavior using `gotoOptions`.\n\n### Retrieve only visible links\n\nSet the `visibleLinksOnly` parameter to `true` to only return links that are visible on the page. By default, this is set to `false`.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "### Retrieve only links from the same domain\n\nSet the `excludeExternalLinks` parameter to `true` to exclude links pointing to external domains. By default, this is set to `false`.",
      "language": "unknown"
    },
    {
      "code": "### Handling JavaScript-heavy pages\n\nFor JavaScript-heavy pages or Single Page Applications (SPAs), the default page load behavior may return empty or incomplete results. This happens because the browser considers the page loaded before JavaScript has finished rendering the content.\n\nThe simplest solution is to use the `gotoOptions.waitUntil` parameter set to `networkidle0` or `networkidle2`:",
      "language": "unknown"
    },
    {
      "code": "For faster responses, advanced users can use `waitForSelector` to wait for a specific element instead of waiting for all network activity to stop. This requires knowing which CSS selector indicates the content you need has loaded. For more details, refer to [REST API timeouts](https://developers.cloudflare.com/browser-rendering/reference/timeouts/).\n\n### Set a custom user agent\n\nYou can change the user agent at the page level by passing `userAgent` as a top-level parameter in the JSON body. This is useful if the target website serves different content based on the user agent.\n\nNote\n\nThe `userAgent` parameter does not bypass bot protection. Requests from Browser Rendering will always be identified as a bot.\n\n## Troubleshooting\n\nIf you have questions or encounter an error, see the [Browser Rendering FAQ and troubleshooting guide](https://developers.cloudflare.com/browser-rendering/faq/).\n\n</page>\n\n<page>\n---\ntitle: /markdown - Extract Markdown from a webpage Â· Cloudflare Browser Rendering docs\ndescription: The /markdown endpoint retrieves a webpage's content and converts\n  it into Markdown format. You can specify a URL and optional parameters to\n  refine the extraction process.\nlastUpdated: 2025-12-29T09:32:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/rest-api/markdown-endpoint/\n  md: https://developers.cloudflare.com/browser-rendering/rest-api/markdown-endpoint/index.md\n---\n\nThe `/markdown` endpoint retrieves a webpage's content and converts it into Markdown format. You can specify a URL and optional parameters to refine the extraction process.\n\n## Endpoint",
      "language": "unknown"
    },
    {
      "code": "## Required fields\n\nYou must provide either `url` or `html`:\n\n* `url` (string)\n* `html` (string)\n\n## Common use cases\n\n* Normalize content for downstream processing (summaries, diffs, embeddings)\n* Save articles or docs for editing or storage\n* Strip styling/scripts and keep readable content + links\n\n## Basic usage\n\n### Convert a URL to Markdown\n\n* curl\n\n  This example fetches the Markdown representation of a webpage.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* TypeScript SDK",
      "language": "unknown"
    },
    {
      "code": "### Convert raw HTML to Markdown\n\nInstead of fetching the content by specifying the URL, you can provide raw HTML content directly.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "## Advanced usage\n\nLooking for more parameters?\n\nVisit the [Browser Rendering API reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/markdown/methods/create/) for all available parameters, such as setting HTTP credentials using `authenticate`, setting `cookies`, and customizing load behavior using `gotoOptions`.\n\n### Exclude unwanted requests (for example, CSS)\n\nYou can refine the Markdown extraction by using the `rejectRequestPattern` parameter. In this example, requests matching the given regex pattern (such as CSS files) are excluded.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "### Handling JavaScript-heavy pages\n\nFor JavaScript-heavy pages or Single Page Applications (SPAs), the default page load behavior may return empty or incomplete results. This happens because the browser considers the page loaded before JavaScript has finished rendering the content.\n\nThe simplest solution is to use the `gotoOptions.waitUntil` parameter set to `networkidle0` or `networkidle2`:",
      "language": "unknown"
    },
    {
      "code": "For faster responses, advanced users can use `waitForSelector` to wait for a specific element instead of waiting for all network activity to stop. This requires knowing which CSS selector indicates the content you need has loaded. For more details, refer to [REST API timeouts](https://developers.cloudflare.com/browser-rendering/reference/timeouts/).\n\n### Set a custom user agent\n\nYou can change the user agent at the page level by passing `userAgent` as a top-level parameter in the JSON body. This is useful if the target website serves different content based on the user agent.\n\nNote\n\nThe `userAgent` parameter does not bypass bot protection. Requests from Browser Rendering will always be identified as a bot.\n\n## Troubleshooting\n\nIf you have questions or encounter an error, see the [Browser Rendering FAQ and troubleshooting guide](https://developers.cloudflare.com/browser-rendering/faq/).\n\n</page>\n\n<page>\n---\ntitle: /pdf - Render PDF Â· Cloudflare Browser Rendering docs\ndescription: The /pdf endpoint instructs the browser to generate a PDF of a\n  webpage or custom HTML using Cloudflare's headless browser rendering service.\nlastUpdated: 2025-12-29T09:32:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/rest-api/pdf-endpoint/\n  md: https://developers.cloudflare.com/browser-rendering/rest-api/pdf-endpoint/index.md\n---\n\nThe `/pdf` endpoint instructs the browser to generate a PDF of a webpage or custom HTML using Cloudflare's headless browser rendering service.\n\n## Endpoint",
      "language": "unknown"
    },
    {
      "code": "## Required fields\n\nYou must provide either `url` or `html`:\n\n* `url` (string)\n* `html` (string)\n\n## Common use cases\n\n* Capture a PDF of a webpage\n* Generate PDFs, such as invoices, licenses, reports, and certificates, directly from HTML\n\n## Basic usage\n\n### Convert a URL to PDF\n\n* curl\n\n  Navigate to `https://example.com/` and inject custom CSS and an external stylesheet. Then return the rendered page as a PDF.",
      "language": "unknown"
    },
    {
      "code": "* TypeScript SDK",
      "language": "unknown"
    },
    {
      "code": "### Convert custom HTML to PDF\n\nIf you have raw HTML you want to generate a PDF from, use the `html` option. You can still apply custom styles using the `addStyleTag` parameter.",
      "language": "unknown"
    },
    {
      "code": "Request size limits\n\nThe PDF endpoint accepts request bodies up to 50 MB. Requests larger than this will fail with `Error: request entity too large`.\n\n## Advanced usage\n\nLooking for more parameters?\n\nVisit the [Browser Rendering API reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/pdf/methods/create/) for all available parameters, such as setting HTTP credentials using `authenticate`, setting `cookies`, and customizing load behavior using `gotoOptions`.\n\n### Advanced page load with custom headers and viewport\n\nNavigate to `https://example.com`, setting additional HTTP headers and configuring the page size (viewport). The PDF generation will wait until there are no more than two network connections for at least 500 ms, or until the maximum timeout of 4500 ms is reached, before rendering.\n\nThe `goToOptions` parameter exposes most of [Puppeteer's API](https://pptr.dev/api/puppeteer.gotooptions).",
      "language": "unknown"
    },
    {
      "code": "### Blocking images and styles when generating a PDF\n\nThe options `rejectResourceTypes` and `rejectRequestPattern` can be used to block requests during rendering. The opposite can also be done, *only* allow certain requests using `allowResourceTypes` and `allowRequestPattern`.",
      "language": "unknown"
    },
    {
      "code": "### Customize page headers and footers\n\nYou can customize page headers and footers with HTML templates using the `headerTemplate` and `footerTemplate` options. Enable `displayHeaderFooter` to include them in your output. This example generates an A5 PDF with a branded header, a footer message, and page numbering.",
      "language": "unknown"
    },
    {
      "code": "### Include dynamic placeholders from page metadata\n\nYou can include dynamic placeholders such as `title`, `date`, `pageNumber`, and `totalPages` in the header or footer to display metadata on each page. This example produces an A4 PDF with a company-branded header, current date and title, and page numbering in the footer.",
      "language": "unknown"
    },
    {
      "code": "### Use custom fonts\n\nIf your PDF requires a font that is not pre-installed in the Browser Rendering environment, you can load custom fonts using the `addStyleTag` parameter. For instructions and examples, refer to [Use your own custom font](https://developers.cloudflare.com/browser-rendering/reference/supported-fonts/#rest-api).\n\n### Handling JavaScript-heavy pages\n\nFor JavaScript-heavy pages or Single Page Applications (SPAs), the default page load behavior may return empty or incomplete results. This happens because the browser considers the page loaded before JavaScript has finished rendering the content.\n\nThe simplest solution is to use the `gotoOptions.waitUntil` parameter set to `networkidle0` or `networkidle2`:",
      "language": "unknown"
    },
    {
      "code": "For faster responses, advanced users can use `waitForSelector` to wait for a specific element instead of waiting for all network activity to stop. This requires knowing which CSS selector indicates the content you need has loaded. For more details, refer to [REST API timeouts](https://developers.cloudflare.com/browser-rendering/reference/timeouts/).\n\n### Set a custom user agent\n\nYou can change the user agent at the page level by passing `userAgent` as a top-level parameter in the JSON body. This is useful if the target website serves different content based on the user agent.\n\nNote\n\nThe `userAgent` parameter does not bypass bot protection. Requests from Browser Rendering will always be identified as a bot.\n\n## Troubleshooting\n\nIf you have questions or encounter an error, see the [Browser Rendering FAQ and troubleshooting guide](https://developers.cloudflare.com/browser-rendering/faq/).\n\n</page>\n\n<page>\n---\ntitle: /scrape - Scrape HTML elements Â· Cloudflare Browser Rendering docs\ndescription: The /scrape endpoint extracts structured data from specific\n  elements on a webpage, returning details such as element dimensions and inner\n  HTML.\nlastUpdated: 2025-12-29T09:32:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/rest-api/scrape-endpoint/\n  md: https://developers.cloudflare.com/browser-rendering/rest-api/scrape-endpoint/index.md\n---\n\nThe `/scrape` endpoint extracts structured data from specific elements on a webpage, returning details such as element dimensions and inner HTML.\n\n## Endpoint",
      "language": "unknown"
    },
    {
      "code": "## Required fields\n\nYou must provide either `url` or `elements`:\n\n* `url` (string)\n* `elements` (array of objects) â€” each object must include `selector` (string)\n\n## Common use cases\n\n* Extract headings, links, prices, or other repeated content with CSS selectors\n* Collect metadata (for example, titles, descriptions, canonical links)\n\n## Basic usage\n\n### Extract headings and links from a URL\n\n* curl\n\n  Go to `https://example.com` and extract metadata from all `h1` and `a` elements in the DOM.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* TypeScript SDK",
      "language": "unknown"
    },
    {
      "code": "Many more options exist, like setting HTTP credentials using `authenticate`, setting `cookies`, and using `gotoOptions` to control page load behaviour - check the endpoint [reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/scrape/methods/create/) for all available parameters.\n\n### Response fields\n\n* `results` *(array of objects)* - Contains extracted data for each selector.\n\n  * `selector` *(string)* - The CSS selector used.\n\n  * `results` *(array of objects)* - List of extracted elements matching the selector.\n\n    * `text` *(string)* - Inner text of the element.\n    * `html` *(string)* - Inner HTML of the element.\n    * `attributes` *(array of objects)* - List of extracted attributes such as `href` for links.\n    * `height`, `width`, `top`, `left` *(number)* - Position and dimensions of the element.\n\n## Advanced Usage\n\nLooking for more parameters?\n\nVisit the [Browser Rendering API reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/scrape/methods/create/) for all available parameters, such as setting HTTP credentials using `authenticate`, setting `cookies`, and customizing load behavior using `gotoOptions`.\n\n### Handling JavaScript-heavy pages\n\nFor JavaScript-heavy pages or Single Page Applications (SPAs), the default page load behavior may return empty or incomplete results. This happens because the browser considers the page loaded before JavaScript has finished rendering the content.\n\nThe simplest solution is to use the `gotoOptions.waitUntil` parameter set to `networkidle0` or `networkidle2`:",
      "language": "unknown"
    },
    {
      "code": "For faster responses, advanced users can use `waitForSelector` to wait for a specific element instead of waiting for all network activity to stop. This requires knowing which CSS selector indicates the content you need has loaded. For more details, refer to [REST API timeouts](https://developers.cloudflare.com/browser-rendering/reference/timeouts/).\n\n### Set a custom user agent\n\nYou can change the user agent at the page level by passing `userAgent` as a top-level parameter in the JSON body. This is useful if the target website serves different content based on the user agent.\n\nNote\n\nThe `userAgent` parameter does not bypass bot protection. Requests from Browser Rendering will always be identified as a bot.\n\n## Troubleshooting\n\nIf you have questions or encounter an error, see the [Browser Rendering FAQ and troubleshooting guide](https://developers.cloudflare.com/browser-rendering/faq/).\n\n</page>\n\n<page>\n---\ntitle: /screenshot - Capture screenshot Â· Cloudflare Browser Rendering docs\ndescription: The /screenshot endpoint renders the webpage by processing its HTML\n  and JavaScript, then captures a screenshot of the fully rendered page.\nlastUpdated: 2025-12-29T09:32:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/rest-api/screenshot-endpoint/\n  md: https://developers.cloudflare.com/browser-rendering/rest-api/screenshot-endpoint/index.md\n---\n\nThe `/screenshot` endpoint renders the webpage by processing its HTML and JavaScript, then captures a screenshot of the fully rendered page.\n\n## Endpoint",
      "language": "unknown"
    },
    {
      "code": "## Required fields\n\nYou must provide either `url` or `html`:\n\n* `url` (string)\n* `html` (string)\n\n## Common use cases\n\n* Generate previews for websites, dashboards, or reports\n* Capture screenshots for automated testing, QA, or visual regression\n\n## Basic usage\n\n### Take a screenshot from custom HTML\n\n* curl\n\n  Sets the HTML content of the page to `Hello World!` and then takes a screenshot. The option `omitBackground` hides the default white background and allows capturing screenshots with transparency.",
      "language": "unknown"
    },
    {
      "code": "* TypeScript SDK",
      "language": "unknown"
    },
    {
      "code": "### Take a screenshot from a URL",
      "language": "unknown"
    },
    {
      "code": "For more options to control the final screenshot, like `clip`, `captureBeyondViewport`, `fullPage` and others, check the endpoint [reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/screenshot/methods/create/).\n\nNotes for basic usage\n\n* The `quality` parameter is not compatible with the default `.png` format and will return a 400 error. If you set `quality`, you must also set `type` to `.jpeg` or another supported format.\n* By default, the browser viewport is set to **1920Ã—1080**. You can override the default via request options.\n\n## Advanced usage\n\nLooking for more parameters?\n\nVisit the [Browser Rendering API reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/screenshot/methods/create/) for all available parameters, such as setting HTTP credentials using `authenticate`, setting `cookies`, and customizing load behavior using `gotoOptions`.\n\n### Capture a screenshot of an authenticated page\n\nSome webpages require authentication before you can view their content. To capture a screenshot of these pages, you must provide valid session cookies. The following example navigates to a page that requires login. By providing a valid cookie in the `cookies` array, Browser Rendering will be able to access the secure content in order to capture the screenshot.",
      "language": "unknown"
    },
    {
      "code": "### Navigate and capture a full-page screenshot\n\nNavigate to `https://cloudflare.com/`, change the page size (`viewport`) and wait until there are no active network connections (`waitUntil`) or up to a maximum of `4500ms` (`timeout`) before capturing a `fullPage` screenshot.",
      "language": "unknown"
    },
    {
      "code": "### Improve blurry screenshot resolution\n\nIf you set a large viewport width and height, your screenshot may appear blurry or pixelated. This can happen if your browser's default `deviceScaleFactor` (which defaults to 1) is not high enough for the viewport.\n\nTo fix this, increase the value of the `deviceScaleFactor`.",
      "language": "unknown"
    },
    {
      "code": "### Customize CSS and embed custom JavaScript\n\nInstruct the browser to go to `https://example.com`, embed custom JavaScript (`addScriptTag`) and add extra styles (`addStyleTag`), both inline (`addStyleTag.content`) and by loading an external stylesheet (`addStyleTag.url`).",
      "language": "unknown"
    },
    {
      "code": "### Capture a specific element using the selector option\n\nTo capture a screenshot of a specific element on a webpage, use the `selector` option with a valid CSS selector. You can also configure the `viewport` to control the page dimensions during rendering.",
      "language": "unknown"
    },
    {
      "code": "Many more options exist, like setting HTTP credentials using `authenticate`, setting `cookies`, and using `gotoOptions` to control page load behaviour - check the endpoint [reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/screenshot/methods/create/) for all available parameters.\n\n### Handling JavaScript-heavy pages\n\nFor JavaScript-heavy pages or Single Page Applications (SPAs), the default page load behavior may return empty or incomplete results. This happens because the browser considers the page loaded before JavaScript has finished rendering the content.\n\nThe simplest solution is to use the `gotoOptions.waitUntil` parameter set to `networkidle0` or `networkidle2`:",
      "language": "unknown"
    },
    {
      "code": "For faster responses, advanced users can use `waitForSelector` to wait for a specific element instead of waiting for all network activity to stop. This requires knowing which CSS selector indicates the content you need has loaded. For more details, refer to [REST API timeouts](https://developers.cloudflare.com/browser-rendering/reference/timeouts/).\n\n### Set a custom user agent\n\nYou can change the user agent at the page level by passing `userAgent` as a top-level parameter in the JSON body. This is useful if the target website serves different content based on the user agent.\n\nNote\n\nThe `userAgent` parameter does not bypass bot protection. Requests from Browser Rendering will always be identified as a bot.\n\n## Troubleshooting\n\nIf you have questions or encounter an error, see the [Browser Rendering FAQ and troubleshooting guide](https://developers.cloudflare.com/browser-rendering/faq/).\n\n</page>\n\n<page>\n---\ntitle: /snapshot - Take a webpage snapshot Â· Cloudflare Browser Rendering docs\ndescription: The /snapshot endpoint captures both the HTML content and a\n  screenshot of the webpage in one request. It returns the HTML as a text string\n  and the screenshot as a Base64-encoded image.\nlastUpdated: 2025-12-29T09:32:47.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/rest-api/snapshot/\n  md: https://developers.cloudflare.com/browser-rendering/rest-api/snapshot/index.md\n---\n\nThe `/snapshot` endpoint captures both the HTML content and a screenshot of the webpage in one request. It returns the HTML as a text string and the screenshot as a Base64-encoded image.\n\n## Endpoint",
      "language": "unknown"
    },
    {
      "code": "## Required fields\n\nYou must provide either `url` or `html`:\n\n* `url` (string)\n* `html` (string)\n\n## Common use cases\n\n* Capture both the rendered HTML and a visual screenshot in a single API call\n* Archive pages with visual and structural data together\n* Build monitoring tools that compare visual and DOM differences over time\n\n## Basic usage\n\n### Capture a snapshot from a URL\n\n* curl\n\n  1. Go to `https://example.com/`.\n  2. Inject custom JavaScript.\n  3. Capture the rendered HTML.\n  4. Take a screenshot.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* TypeScript SDK",
      "language": "unknown"
    },
    {
      "code": "## Advanced usage\n\nLooking for more parameters?\n\nVisit the [Browser Rendering API reference](https://developers.cloudflare.com/api/resources/browser_rendering/subresources/snapshot/methods/create/) for all available parameters, such as setting HTTP credentials using `authenticate`, setting `cookies`, and customizing load behavior using `gotoOptions`.\n\n### Create a snapshot from custom HTML\n\nThe `html` property in the JSON payload, it sets the html to `<html><body>Advanced Snapshot</body></html>` then does the following steps:\n\n1. Disable JavaScript.\n2. Sets the screenshot to `fullPage`.\n3. Changes the page size `(viewport)`.\n4. Waits up to `30000ms` or until the `DOMContentLoaded` event fires.\n5. Returns the rendered HTML content and a base-64 encoded screenshot of the page.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "### Improve blurry screenshot resolution\n\nIf you set a large viewport width and height, your screenshot may appear blurry or pixelated. This can happen if your browser's default `deviceScaleFactor` (which defaults to 1) is not high enough for the viewport.\n\nTo fix this, increase the value of the `deviceScaleFactor`.",
      "language": "unknown"
    },
    {
      "code": "### Handling JavaScript-heavy pages\n\nFor JavaScript-heavy pages or Single Page Applications (SPAs), the default page load behavior may return empty or incomplete results. This happens because the browser considers the page loaded before JavaScript has finished rendering the content.\n\nThe simplest solution is to use the `gotoOptions.waitUntil` parameter set to `networkidle0` or `networkidle2`:",
      "language": "unknown"
    },
    {
      "code": "For faster responses, advanced users can use `waitForSelector` to wait for a specific element instead of waiting for all network activity to stop. This requires knowing which CSS selector indicates the content you need has loaded. For more details, refer to [REST API timeouts](https://developers.cloudflare.com/browser-rendering/reference/timeouts/).\n\n### Set a custom user agent\n\nYou can change the user agent at the page level by passing `userAgent` as a top-level parameter in the JSON body. This is useful if the target website serves different content based on the user agent.\n\nNote\n\nThe `userAgent` parameter does not bypass bot protection. Requests from Browser Rendering will always be identified as a bot.\n\n## Troubleshooting\n\nIf you have questions or encounter an error, see the [Browser Rendering FAQ and troubleshooting guide](https://developers.cloudflare.com/browser-rendering/faq/).\n\n</page>\n\n<page>\n---\ntitle: Deploy a Browser Rendering Worker with Durable Objects Â· Cloudflare\n  Browser Rendering docs\ndescription: Use the Browser Rendering API along with Durable Objects to take\n  screenshots from web pages and store them in R2.\nlastUpdated: 2025-11-06T19:11:47.000Z\nchatbotDeprioritize: false\ntags: JavaScript\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/workers-bindings/browser-rendering-with-do/\n  md: https://developers.cloudflare.com/browser-rendering/workers-bindings/browser-rendering-with-do/index.md\n---\n\nBy following this guide, you will create a Worker that uses the Browser Rendering API along with [Durable Objects](https://developers.cloudflare.com/durable-objects/) to take screenshots from web pages and store them in [R2](https://developers.cloudflare.com/r2/).\n\nUsing Durable Objects to persist browser sessions improves performance by eliminating the time that it takes to spin up a new browser session. Since Durable Objects re-uses sessions, it reduces the number of concurrent sessions needed.\n\n1. Sign up for a [Cloudflare account](https://dash.cloudflare.com/sign-up/workers-and-pages).\n2. Install [`Node.js`](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm).\n\nNode.js version manager\n\nUse a Node version manager like [Volta](https://volta.sh/) or [nvm](https://github.com/nvm-sh/nvm) to avoid permission issues and change Node.js versions. [Wrangler](https://developers.cloudflare.com/workers/wrangler/install-and-update/), discussed later in this guide, requires a Node version of `16.17.0` or later.\n\n## 1. Create a Worker project\n\n[Cloudflare Workers](https://developers.cloudflare.com/workers/) provides a serverless execution environment that allows you to create new applications or augment existing ones without configuring or maintaining infrastructure. Your Worker application is a container to interact with a headless browser to do actions, such as taking screenshots.\n\nCreate a new Worker project named `browser-worker` by running:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## 2. Install Puppeteer\n\nIn your `browser-worker` directory, install Cloudflareâ€™s [fork of Puppeteer](https://developers.cloudflare.com/browser-rendering/puppeteer/):\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## 3. Create a R2 bucket\n\nCreate two R2 buckets, one for production, and one for development.\n\nNote that bucket names must be lowercase and can only contain dashes.",
      "language": "unknown"
    },
    {
      "code": "To check that your buckets were created, run:",
      "language": "unknown"
    },
    {
      "code": "After running the `list` command, you will see all bucket names, including the ones you have just created.\n\n## 4. Configure your Wrangler configuration file\n\nConfigure your `browser-worker` project's [Wrangler configuration file](https://developers.cloudflare.com/workers/wrangler/configuration/) by adding a browser [binding](https://developers.cloudflare.com/workers/runtime-apis/bindings/) and a [Node.js compatibility flag](https://developers.cloudflare.com/workers/configuration/compatibility-flags/#nodejs-compatibility-flag). Browser bindings allow for communication between a Worker and a headless browser which allows you to do actions such as taking a screenshot, generating a PDF and more.\n\nUpdate your Wrangler configuration file with the Browser Rendering API binding, the R2 bucket you created and a Durable Object:\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "## 5. Code\n\nThe code below uses Durable Object to instantiate a browser using Puppeteer. It then opens a series of web pages with different resolutions, takes a screenshot of each, and uploads it to R2.\n\nThe Durable Object keeps a browser session open for 60 seconds after last use. If a browser session is open, any requests will re-use the existing session rather than creating a new one. Update your Worker code by copy and pasting the following:",
      "language": "unknown"
    },
    {
      "code": "## 6. Test\n\nRun `npx wrangler dev` to test your Worker locally.\n\nUse real headless browser during local development\n\nTo interact with a real headless browser during local development, set `\"remote\" : true` in the Browser binding configuration. Learn more in our [remote bindings documentation](https://developers.cloudflare.com/workers/development-testing/#remote-bindings).\n\n## 7. Deploy\n\nRun [`npx wrangler deploy`](https://developers.cloudflare.com/workers/wrangler/commands/#deploy) to deploy your Worker to the Cloudflare global network.\n\n## Related resources\n\n* Other [Puppeteer examples](https://github.com/cloudflare/puppeteer/tree/main/examples)\n* Get started with [Durable Objects](https://developers.cloudflare.com/durable-objects/get-started/)\n* [Using R2 from Workers](https://developers.cloudflare.com/r2/api/workers/workers-api-usage/)\n\n</page>\n\n<page>\n---\ntitle: Reuse sessions Â· Cloudflare Browser Rendering docs\ndescription: The best way to improve the performance of your browser rendering\n  Worker is to reuse sessions. One way to do that is via Durable Objects, which\n  allows you to keep a long running connection from a Worker to a browser.\n  Another way is to keep the browser open after you've finished with it, and\n  connect to that session each time you have a new request.\nlastUpdated: 2025-11-18T15:36:05.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/workers-bindings/reuse-sessions/\n  md: https://developers.cloudflare.com/browser-rendering/workers-bindings/reuse-sessions/index.md\n---\n\nThe best way to improve the performance of your browser rendering Worker is to reuse sessions. One way to do that is via [Durable Objects](https://developers.cloudflare.com/browser-rendering/workers-bindings/browser-rendering-with-do/), which allows you to keep a long running connection from a Worker to a browser. Another way is to keep the browser open after you've finished with it, and connect to that session each time you have a new request.\n\nIn short, this entails using `browser.disconnect()` instead of `browser.close()`, and, if there are available sessions, using `puppeteer.connect(env.MY_BROWSER, sessionID)` instead of launching a new browser session.\n\n## 1. Create a Worker project\n\n[Cloudflare Workers](https://developers.cloudflare.com/workers/) provides a serverless execution environment that allows you to create new applications or augment existing ones without configuring or maintaining infrastructure. Your Worker application is a container to interact with a headless browser to do actions, such as taking screenshots.\n\nCreate a new Worker project named `browser-worker` by running:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "For setup, select the following options:\n\n* For *What would you like to start with?*, choose `Hello World example`.\n* For *Which template would you like to use?*, choose `Worker only`.\n* For *Which language do you want to use?*, choose `TypeScript`.\n* For *Do you want to use git for version control?*, choose `Yes`.\n* For *Do you want to deploy your application?*, choose `No` (we will be making some changes before deploying).\n\n## 2. Install Puppeteer\n\nIn your `browser-worker` directory, install Cloudflare's [fork of Puppeteer](https://developers.cloudflare.com/browser-rendering/puppeteer/):\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "## 3. Configure the [Wrangler configuration file](https://developers.cloudflare.com/workers/wrangler/configuration/)\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "## 4. Code\n\nThe script below starts by fetching the current running sessions. If there are any that do not already have a worker connection, it picks a random session ID and attempts to connect (`puppeteer.connect(..)`) to it. If that fails or there were no running sessions to start with, it launches a new browser session (`puppeteer.launch(..)`). Then, it goes to the website and fetches the dom. Once that is done, it disconnects (`browser.disconnect()`), making the connection available to other workers.\n\nTake into account that if the browser is idle, i.e. does not get any command, for more than the current [limit](https://developers.cloudflare.com/browser-rendering/limits/), it will close automatically, so you must have enough requests per minute to keep it alive.\n\n* JavaScript",
      "language": "unknown"
    },
    {
      "code": "* TypeScript",
      "language": "unknown"
    },
    {
      "code": "Besides `puppeteer.sessions()`, we have added other methods to facilitate [Session Management](https://developers.cloudflare.com/browser-rendering/puppeteer/#session-management).\n\n## 5. Test\n\nRun `npx wrangler dev` to test your Worker locally.\n\nUse real headless browser during local development\n\nTo interact with a real headless browser during local development, set `\"remote\" : true` in the Browser binding configuration. Learn more in our [remote bindings documentation](https://developers.cloudflare.com/workers/development-testing/#remote-bindings).\n\nTo test go to the following URL:\n\n`<LOCAL_HOST_URL>/?url=https://example.com`\n\n## 6. Deploy\n\nRun `npx wrangler deploy` to deploy your Worker to the Cloudflare global network and then to go to the following URL:\n\n`<YOUR_WORKER>.<YOUR_SUBDOMAIN>.workers.dev/?url=https://example.com`\n\n</page>\n\n<page>\n---\ntitle: Deploy a Browser Rendering Worker Â· Cloudflare Browser Rendering docs\ndescription: By following this guide, you will create a Worker that uses the\n  Browser Rendering API to take screenshots from web pages. This is a common use\n  case for browser automation.\nlastUpdated: 2025-09-23T16:44:41.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/browser-rendering/workers-bindings/screenshots/\n  md: https://developers.cloudflare.com/browser-rendering/workers-bindings/screenshots/index.md\n---\n\nBy following this guide, you will create a Worker that uses the Browser Rendering API to take screenshots from web pages. This is a common use case for browser automation.\n\n1. Sign up for a [Cloudflare account](https://dash.cloudflare.com/sign-up/workers-and-pages).\n2. Install [`Node.js`](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm).\n\nNode.js version manager\n\nUse a Node version manager like [Volta](https://volta.sh/) or [nvm](https://github.com/nvm-sh/nvm) to avoid permission issues and change Node.js versions. [Wrangler](https://developers.cloudflare.com/workers/wrangler/install-and-update/), discussed later in this guide, requires a Node version of `16.17.0` or later.\n\n#### 1. Create a Worker project\n\n[Cloudflare Workers](https://developers.cloudflare.com/workers/) provides a serverless execution environment that allows you to create new applications or augment existing ones without configuring or maintaining infrastructure. Your Worker application is a container to interact with a headless browser to do actions, such as taking screenshots.\n\nCreate a new Worker project named `browser-worker` by running:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "For setup, select the following options:\n\n* For *What would you like to start with?*, choose `Hello World example`.\n* For *Which template would you like to use?*, choose `Worker only`.\n* For *Which language do you want to use?*, choose `JavaScript / TypeScript`.\n* For *Do you want to use git for version control?*, choose `Yes`.\n* For *Do you want to deploy your application?*, choose `No` (we will be making some changes before deploying).\n\n#### 2. Install Puppeteer\n\nIn your `browser-worker` directory, install Cloudflareâ€™s [fork of Puppeteer](https://developers.cloudflare.com/browser-rendering/puppeteer/):\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "#### 3. Create a KV namespace\n\nBrowser Rendering can be used with other developer products. You might need a [relational database](https://developers.cloudflare.com/d1/), an [R2 bucket](https://developers.cloudflare.com/r2/) to archive your crawled pages and assets, a [Durable Object](https://developers.cloudflare.com/durable-objects/) to keep your browser instance alive and share it with multiple requests, or [Queues](https://developers.cloudflare.com/queues/) to handle your jobs asynchronously.\n\nFor the purpose of this example, we will use a [KV store](https://developers.cloudflare.com/kv/concepts/kv-namespaces/) to cache your screenshots.\n\nCreate two namespaces, one for production and one for development.",
      "language": "unknown"
    },
    {
      "code": "Take note of the IDs for the next step.\n\n#### 4. Configure the Wrangler configuration file\n\nConfigure your `browser-worker` project's [Wrangler configuration file](https://developers.cloudflare.com/workers/wrangler/configuration/) by adding a browser [binding](https://developers.cloudflare.com/workers/runtime-apis/bindings/) and a [Node.js compatibility flag](https://developers.cloudflare.com/workers/configuration/compatibility-flags/#nodejs-compatibility-flag). Bindings allow your Workers to interact with resources on the Cloudflare developer platform. Your browser `binding` name is set by you, this guide uses the name `MYBROWSER`. Browser bindings allow for communication between a Worker and a headless browser which allows you to do actions such as taking a screenshot, generating a PDF, and more.\n\nUpdate your [Wrangler configuration file](https://developers.cloudflare.com/workers/wrangler/configuration/) with the Browser Rendering API binding and the KV namespaces you created:\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "#### 5. Code\n\n* JavaScript\n\n  Update `src/index.js` with your Worker code:",
      "language": "unknown"
    },
    {
      "code": "* TypeScript\n\n  Update `src/index.ts` with your Worker code:",
      "language": "unknown"
    },
    {
      "code": "This Worker instantiates a browser using Puppeteer, opens a new page, navigates to the location of the 'url' parameter, takes a screenshot of the page, stores the screenshot in KV, closes the browser, and responds with the JPEG image of the screenshot.\n\nIf your Worker is running in production, it will store the screenshot to the production KV namespace. If you are running `wrangler dev`, it will store the screenshot to the dev KV namespace.\n\nIf the same `url` is requested again, it will use the cached version in KV instead, unless it expired.\n\n#### 6. Test\n\nRun `npx wrangler dev` to test your Worker locally.\n\nUse real headless browser during local development\n\nTo interact with a real headless browser during local development, set `\"remote\" : true` in the Browser binding configuration. Learn more in our [remote bindings documentation](https://developers.cloudflare.com/workers/development-testing/#remote-bindings).\n\nTo test taking your first screenshot, go to the following URL:\n\n`<LOCAL_HOST_URL>/?url=https://example.com`\n\n#### 7. Deploy\n\nRun `npx wrangler deploy` to deploy your Worker to the Cloudflare global network.\n\nTo take your first screenshot, go to the following URL:\n\n`<YOUR_WORKER>.<YOUR_SUBDOMAIN>.workers.dev/?url=https://example.com`\n\n## Related resources\n\n* Other [Puppeteer examples](https://github.com/cloudflare/puppeteer/tree/main/examples)\n\n</page>\n\n<page>\n---\ntitle: Cache Reserve Â· Cloudflare Cache (CDN) docs\ndescription: Cache Reserve is a large, persistent data store implemented on top\n  of R2. By pushing a single button in the dashboard, your website's cacheable\n  content will be written to Cache Reserve.\nlastUpdated: 2025-10-31T15:15:25.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/advanced-configuration/cache-reserve/\n  md: https://developers.cloudflare.com/cache/advanced-configuration/cache-reserve/index.md\n---\n\nSmart Shield\n\nThis functionality is now offered as part of Cloudflare's origin server safeguard, Smart Shield. [Learn more](https://developers.cloudflare.com/smart-shield/).\n\nCache Reserve is a large, persistent data store [implemented on top of R2](https://developers.cloudflare.com/r2/). By pushing a single button in the dashboard, your website's cacheable content will be written to Cache Reserve.\n\nIn the same way that Tiered Cache builds a hierarchy of caches between your visitors and your origin, Cache Reserve serves as the ultimate upper-tier cache, that will reserve storage space for your assets for as long as you want. This ensures that your content is served from cache longer, shielding your origin from unneeded egress fees.\n\n![Content served from origin and getting cached in Cache Reserve, and Edge Cache Data Centers (T1=upper-tier, T2=lower-tier) on its way back to the client](https://developers.cloudflare.com/_astro/content-being-served.6zIZl3YT_20T6Ot.webp)\n\nHow long content in Cache Reserve will be considered â€œfreshâ€ is determined by Edge Cache TTL setting or Cache-Control headers at your origin, if [Edge Cache TTL](https://developers.cloudflare.com/cache/how-to/edge-browser-cache-ttl/#edge-cache-ttl) is not set. After freshness expires, Cloudflare will attempt to revalidate the asset when a subsequent request arrives in Cache Reserve for the asset. This is the same behavior as in Cloudflare's regular CDN.\n\nThe retention period of an asset is how long we will keep the asset in Cache Reserve before marking it for eviction. Cache Reserve starts with a retention period of 30 days. If an asset is not requested within the retention period, it will be evicted from Cache Reserve. Accessing the asset will refresh the retention period.\n\nAssets must [meet certain criteria](#cache-reserve-asset-eligibility) to use Cache Reserve.\n\nCache Reserve is a usage-based product and [pricing](#pricing) is detailed below. While Cache Reserve does require a paid plan, users can continue to use Cloudflareâ€™s CDN (without Cache Reserve) for free.\n\n## Enable Cache Reserve\n\nA paid Cache Reserve Plan is required for the enablement.\n\n* Dashboard\n\n  1. In the Cloudflare dashboard, go to the **Cache Reserve** page.\n\n     [Go to **Cache Reserve**](https://dash.cloudflare.com/?to=/:account/:zone/caching/cache-reserve)\n\n  2. Select **Enable storage sync**.\n\n* API\n\n  Refer to the [Change Cache Reserve setting API](https://developers.cloudflare.com/api/resources/cache/subresources/cache_reserve/methods/edit/) for more information.\n\nNote\n\nYou can pause Cache Reserve at any time. Pausing Cache Reserve means that Cloudflareâ€™s network will no longer use Cache Reserve to serve data, but resources will remain in storage until they are purged or expired.\n\nIf you are an Enterprise customer and are interested in Cache Reserve, contact your account team to get help with your configuration.\n\n## Cache Reserve asset eligibility\n\nNot all assets are eligible for Cache Reserve. To be admitted into Cache Reserve, assets must:\n\n* Be cacheable, according to Cloudflare's standard [cacheability factors](https://developers.cloudflare.com/cache/).\n* Have a freshness time-to-live (TTL) of at least 10 hours (set by any means such as Cache-Control / [CDN-Cache-Control](https://developers.cloudflare.com/cache/concepts/cache-control/) origin response headers, [Edge Cache TTL](https://developers.cloudflare.com/cache/how-to/edge-browser-cache-ttl/#edge-cache-ttl), [Cache TTL By Status](https://developers.cloudflare.com/cache/how-to/configure-cache-status-code/), or [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/)),\n* Have a Content-Length response header.\n* When using [Image transformations](https://developers.cloudflare.com/images/manage-images/create-variants/), original files are eligible for Cache Reserve, but resized file variants are not eligible because transformations happen after Cache Reserve in the response flow.\n\n## Limits\n\n* Cache Reserve file limits are the same as [R2 limits](https://developers.cloudflare.com/r2/platform/limits/). Note that [CDN cache limits](https://developers.cloudflare.com/cache/concepts/default-cache-behavior/#customization-options-and-limits) still apply. Assets larger than standard limits will not be stored in the standard CDN cache, so these assets will incur Cache Reserve operations costs far more frequently.\n* Origin Range requests are not supported at this time from Cache Reserve.\n* [Vary for images](https://developers.cloudflare.com/cache/advanced-configuration/vary-for-images/) is currently not compatible with Cache Reserve.\n* Requests to [R2 public buckets linked to a zone's domain](https://developers.cloudflare.com/r2/buckets/public-buckets/) will not use Cache Reserve. Enabling Cache Reserve for the connected zone will use Cache Reserve only for requests not destined for the R2 bucket.\n* Cache Reserve makes requests for uncompressed content directly from the origin. Unlike the standard Cloudflare CDN, Cache Reserve does not include the `Accept-Encoding: gzip` header when sending requests to the origin.\n* Cache Reserve is bypassed when using the Cloudflare [O2O](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/) setup.\n\n## Usage\n\nLike the standard CDN, Cache Reserve also uses the `cf-cache-status` header to indicate [cache response statuses](https://developers.cloudflare.com/cache/concepts/cache-responses/) like `MISS`, `HIT`, and `REVALIDATED`. Cache Reserve cache misses and hits are factored into the dashboard's cache hit ratio.\n\nIndividual sampled requests that filled or were served by Cache Reserve are viewable via the [CacheReserveUsed](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/zone/http_requests/) Logpush field.\n\nCache Reserve monthly operations and storage usage are viewable in the dashboard.\n\n## Pricing\n\nCache Reserve charges based on the total volume of data stored, along with two classes of operations on that data:\n\n* [Class A operations](https://developers.cloudflare.com/r2/pricing/#class-a-operations) which are more expensive and tend to mutate state.\n* [Class B operations](https://developers.cloudflare.com/r2/pricing/#class-b-operations) which tend to read existing state.\n\nIn most cases, a Cache Reserve miss will result in both one class A and one class B operation, and a Cache Reserve hit will result in one class B operation. Assets larger than 1 GB will incur more operations proportional to their size.\n\n### Cache Reserve pricing\n\n| | Rates |\n| - | - |\n| Storage | $0.015 / GB-month |\n| Class A Operations (writes) | $4.50 / million requests |\n| Class B Operations (reads) | $0.36 / million requests |\n\nNote\n\nThe billable quantity is rounded up to the nearest million.\n\n### Storage usage\n\nStorage is billed using gigabyte-month (GB-month) as the billing metric. A GB-month is calculated by recording total bytes stored for the duration of the month.\n\nFor example:\n\n* Storing 1 GB for 30 days will be charged as 1 GB-month.\n* Storing 2 GB for 15 days will be charged as 1 GB-month.\n\n### Operations\n\nOperations are performed by Cache Reserve on behalf of the user to write data from the origin to Cache Reserve and to pass that data downstream to other parts of Cloudflareâ€™s network. These operations are managed internally by Cloudflare.\n\n#### Class A operations (writes)\n\nClass A operations are performed based on cache misses from Cloudflareâ€™s CDN. When a request cannot be served from cache, it will be fetched from the origin and written to cache reserve as well as our edge caches on the way back to the visitor.\n\n#### Class B operations (reads)\n\nClass B operations are performed when data needs to be fetched from Cache Reserve to respond to a miss in the edge cache.\n\n#### Purge\n\nAsset purges are free operations.\n\nCache Reserve will be instantly purged along with edge cache when you send a purge by URL request. Refer to [cache configurations](https://developers.cloudflare.com/cache/how-to/purge-cache/) for details.\n\nOther purge methods, such as purge by tag, host, prefix, or purge everything will force an attempt to [revalidate](https://developers.cloudflare.com/cache/concepts/cache-responses/#revalidated) on the subsequent request for the Cache Reserve asset. Note that assets purged this way will still incur storage costs until their retention TTL expires.\n\nNote\n\nNote this differs from the standard CDN's purge by tag, host, or prefix features which force a cache miss, requiring the origin to deliver the asset in full.\n\n## Cache Reserve billing examples\n\n#### Example 1\n\nAssuming 1,000 assets (each 1 GB) are written to Cache Reserve at the start of the month and each asset is read 1,000 times, the estimated cost for the month would be:\n\n| | Usage | Billable Quantity | Price |\n| - | - | - | - |\n| Class B Operations | (1,000 assets) \\* (1,000 reads per asset) | 1,000,000 | $0.36 |\n| Class A Operations | (1,000 assets) \\* (1 write per asset) | 1,000 | $4.50 |\n| Storage | (1,000 assets) \\* (1GB per asset) | 1,000 GB-months | $15.00 |\n| **TOTAL** | | | **$19.86** |\n| | | | |\n\nNote\n\nThe billable quantity is rounded up to the nearest million.\n\n#### Example 2\n\nAssuming 1,000,000 assets (each 1 MB) are in Cache Reserve, and:\n\n* each asset expires and is rewritten into Cache Reserve 1 time per day\n* each asset is read 2 times per day\n\nthe estimated cost for the month would be:\n\n| | Usage | Billable Quantity | Price |\n| - | - | - | - |\n| Class B Operations | (1,000,000 assets) \\* (2 reads per day) \\* (30 days) | 60,000,000 | $21.60 |\n| Class A Operations | (1,000,000 assets) \\* (1 write per day) \\* (30 days) | 30,000,000 | $135.00 |\n| Storage | (1,000,000 assets) \\* (1MB per asset) | 1,000 GB-months | $15.00 |\n| **TOTAL** | | | **$171.60** |\n| | | | |\n\nNote\n\nThe billable quantity is rounded up to the nearest million.\n\n## Tips and best practices\n\nCache Reserve should be used with [Tiered Cache](https://developers.cloudflare.com/cache/how-to/tiered-cache/) enabled. Cache Reserve is designed for use with Tiered Cache enabled for maximum origin shielding. Using Cache Reserve without Tiered Cache may result in higher storage operation costs. Enabling Cache Reserve via the Cloudflare dashboard will check and provide a warning if you try to use Cache Reserve without Tiered Cache enabled.\n\n## Cache Reserve Analytics\n\nCache Reserve Analytics provides insights regarding your Cache Reserve usage. It allows you to check what content is stored in Cache Reserve, how often it is being accessed, how long it has been there and how much egress from your origin it is saving you.\n\nIn the **Overview** section, under **Cache Reserve**, you have access to the following metrics:\n\n* **Egress savings (bandwidth)** - is an estimation based on response bytes served from Cache Reserve that did not need to be served from your origin server. These are represented as cache hits.\n\n* **Requests served by Cache Reserve** - is the number of requests served by Cache Reserve (total).\n\n* **Data storage summary** - is based on a representative sample of requests. Refer to [Sampling](https://developers.cloudflare.com/analytics/graphql-api/sampling/) for more details about how Cloudflare samples data.\n\n  * **Current data stored** - is the data stored (currently) over time.\n  * **Aggregate storage usage** - is the total of storage used for the selected timestamp.\n\n* **Operations** - Class A (writes) and Class B (reads) operations over time.\n\n## Cache Reserve clear button\n\nYou can remove all data stored in Cache Reserve through the dashboard or via API. To clear your cache reserve:\n\n* Cache Reserve must have already been enabled for the zone.\n* Cache Reserve needs to be off.\n\nBe aware that the deletion may take up to 24 hours to complete.\n\n* Dashboard\n\n  1. In the Cloudflare dashboard, go to the **Cache Reserve** page.\n\n     [Go to **Cache Reserve**](https://dash.cloudflare.com/?to=/:account/:zone/caching/cache-reserve)\n\n  2. In **Delete Cache Reserve Data**, select **Delete Storage**.\n\n* API\n\n  To delete Cache Reserve data via API use the following example requests. For more information, refer to the [API documentation](https://developers.cloudflare.com/api/resources/cache/subresources/cache_reserve/methods/clear/).\n\n  **Request 1: Get Cache Reserve status**\n\n  Required API token permissions\n\n  At least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n  * `Zone Settings Write`\n  * `Zone Settings Read`\n  * `Zone Read`\n  * `Zone Write`",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "If Cache Reserve is turned off, you can proceed to the Cache Reserve Clear operation.\n\n  **Request 2: Start Cache Reserve Clear**\n\n  Required API token permissions\n\n  At least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n  * `Zone Settings Write`\n  * `Zone Write`",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Crawler Hints Â· Cloudflare Cache (CDN) docs\ndescription: Crawler Hints aims to increase the proportion of relevant crawls\n  and limit crawls that do not find fresh content to reduce the need for\n  repeated crawls.\nlastUpdated: 2025-10-06T13:41:54.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/advanced-configuration/crawler-hints/\n  md: https://developers.cloudflare.com/cache/advanced-configuration/crawler-hints/index.md\n---\n\nCrawler Hints aims to increase the proportion of relevant crawls and limit crawls that do not find fresh content to reduce the need for repeated crawls.\n\n## Background\n\nSearch engines and similar services operate massive networks of bots that crawl the Internet to identify the content most relevant to a user query. Content on the web is always changing though, and search engine crawlers must continually wander the Internet and guess how frequently they should check a site for content updates.\n\nWith Crawler Hints, Cloudflare can proactively tell a crawler about the best time to index or when content changes. Additionally, Crawler Hints supports [IndexNow](https://www.indexnow.org/), which allows websites to notify search engines whenever content on their website content is created, updated, or deleted. Crawler Hints uses cache-status `MISS` to determine when content has likely been updated and sends it to IndexNow's crawler. If an asset's response has an HTTP status code greater than 4xx, the Crawler hints will not report that to [IndexNow](https://www.indexnow.org/).\n\n## Benefits\n\nFor a website owner, Crawler Hints ensures that search engines and other bot-powered experiences have the freshest version of your content, translating into happier users and ultimately influencing search rankings.\n\nCrawler Hints also means less traffic hitting your origin, improving resource consumption, site performance, and environmental impact.\n\n## Availability\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | Yes | Yes | Yes | Yes |\n\n## Enable Crawler Hints\n\n1. In the Cloudflare dashboard, go to the **Configuration** page.\n\n   [Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/:zone/caching/configuration)\n\n2. Enable **Crawler Hints**.\n\nAfter enabling Crawler Hints, Cloudflare will begin sending hints to search engines about when they should crawl particular parts of your website.\n\n## Prevent indexing for a specific page\n\nWhen enabled, Crawler Hints is a global setting for your entire website. You can stop a specific page from being indexed by either:\n\n* Having the origin server send through the header `X-Robots-Tag: noindex` on any pages that should not be indexed.\n* Including `<meta name=\"robots\" content=\"noindex, nofollow\" />` in the HTML of any pages that should not be indexed.\n* Creating a [Response header Transform Rule](https://developers.cloudflare.com/rules/transform/response-header-modification/) in Cloudflare to add the `X-Robots-Tag: noindex` header instead of doing it from the origin server.\n\n</page>\n\n<page>\n---\ntitle: Early Hints Â· Cloudflare Cache (CDN) docs\ndescription: Early Hints takes advantage of â€œserver think timeâ€ to\n  asynchronously send instructions to the browser to begin loading resources\n  while the origin server is compiling the full response. By sending these hints\n  to a browser before the full response is prepared, the browser can figure out\n  how to load the webpage faster for the end user.\nlastUpdated: 2025-10-10T13:43:07.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/advanced-configuration/early-hints/\n  md: https://developers.cloudflare.com/cache/advanced-configuration/early-hints/index.md\n---\n\nEarly Hints takes advantage of â€œserver think timeâ€ to asynchronously send instructions to the browser to begin loading resources while the origin server is compiling the full response. By sending these hints to a browser before the full response is prepared, the browser can figure out how to load the webpage faster for the end user.\n\nFormally, Early Hints is a [web standard](https://httpwg.org/specs/rfc8297.html) that defines a new HTTP status code (103 Early Hints) that defines new interactions between a client and server. 103s are served to clients while a 200 OK (or error) response is prepared, which is the â€œserver think time.â€ You can enable Cloudflare's edge to cache and send 103 Early Hints responses with Link headers from your HTML pages. The response contains hints about which assets will likely be needed to fully render the webpage. This \"hinting\" speeds up page loads and generally reduces user-perceived latency.\n\nNote\n\nEarly Hints is currently only supported over HTTP/2 and HTTP/3.\n\nFor more information about Early Hints, refer to the [Cloudflare](https://blog.cloudflare.com/early-hints) and [Google Chrome](https://developer.chrome.com/en/blog/early-hints/) blogs.\n\n## Availability\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | Yes | Yes | Yes | Yes |\n\n## Enable Early Hints\n\n1. In the Cloudflare dashboard, go to the **Speed** > **Settings** page.\n\n   [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/:zone/speed/optimization)\n\n2. Go to the **Content Optimization** tab.\n\n3. For **Early Hints**, toggle the switch to **On**.\n\n## Generate Early Hints\n\nEarly Hints are only generated and cached:\n\n* For URIs with `.html`, `.htm`, or `.php` file extensions, or no file extension\n* On 200, 301, or 302 response return codes\n* When the response contains [link headers](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Link) with preconnect or preload rel types, such as `Link: </img/preloaded.png>; rel=preload`\n\nNote\n\nEarly Hints cache entries are keyed by request URI and ignore query strings.\n\n## Emit Early Hints\n\nCloudflare will asynchronously look up and emit a cached 103 Early Hints response ahead of a main response.\n\nCurrently, only certain browser versions will take action to preload or preconnect on receiving Early Hints, such as Google Chrome M94 and higher. Instructions for running WebPageTest to experiment with compatible client browsers can be found in the [blog post](https://blog.cloudflare.com/early-hints/#testing-early-hints-with-web-page-test).\n\nAdditionally, keep the following in mind:\n\n* Early Hints responses may be emitted before reaching the origin server or Worker. When Early Hints is enabled and pages on your site require authentication, unauthenticated visitors may receive a 103 response. The 103 response would contain cached Link headers and be sent before a 403 Forbidden response from your origin.\n* Early Hints may be emitted less frequently on requests where the content is cacheable. Cloudflare CDN is more likely to retrieve a response header before the asynchronous Early Hints lookup finishes if the response has been cached. Cloudflare will not send a 103 response if the main response header is already available.\n* Cloudflare currently disables Early Hints on some User-Agents, for example, select search crawler bots that show incompatibility with 1xx responses.\n* You may see an influx of `504` responses with the `RequestSource` of `earlyHintsCache` in Cloudflare Logs when Early Hints is enabled, which is expected and benign. Requests from `earlyHintsCache` are internal subrequests for cached Early Hints, and they are neither end user requests, nor do they go to your origin. Their response status only indicates whether there are cached Early Hints for the request URI (`200` on cache HIT, `504` on cache MISS). These requests are already filtered out in other views, such as Cache Analytics. To filter out these requests or to filter requests by end users of your website only, please refer to [Filter end users](https://developers.cloudflare.com/analytics/graphql-api/features/filtering/#filter-end-users).\n\n</page>\n\n<page>\n---\ntitle: Query String Sort Â· Cloudflare Cache (CDN) docs\ndescription: Query String Sort increases cache-hit rates by first sorting query\n  strings into a consistent order before checking the Cloudflare cache.\nlastUpdated: 2024-09-03T08:57:16.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/advanced-configuration/query-string-sort/\n  md: https://developers.cloudflare.com/cache/advanced-configuration/query-string-sort/index.md\n---\n\n**Query String Sort** increases cache-hit rates by first sorting query strings into a consistent order before checking the Cloudflare cache.\n\nBy default, Cloudflareâ€™s cache treats resources as distinct if their URL query strings are in a different order.Â For instance, these resources are cached separately:\n\n* `/video/48088296?title=0&byline=0&portrait=0&color=51a516`\n* `/video/48088296?byline=0&color=51a516&portrait=0&title=0`\n\nQuery String Sort changes this behavior. If two query strings exist with the same name, the URL is sorted by the parameter value.Â For example:\n\n`/example/file?word=alpha&word=beta` and `/example/file?word=beta&word=alpha`\n\nwould be sorted to:\n\n`/example/file?word=alpha&word=beta`\n\n## Availability\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | No | No | No | Yes |\n\n***\n\n## Enable Query String Sort\n\nTo enable Query String Sort:\n\n1. Log into the [Cloudflare dashboard](https://dash.cloudflare.com).\n2. Select your account and zone.\n3. Go to **Caching** > **Configuration**.\n4. For **Enable Query String Sort**, switch the toggle to **On**.\n\n***\n\n## Unexpected behavior with WordPress admin pages\n\nWhen a site or an application requires exact query string ordering, enabling Query String Sort might cause unexpected behavior.\n\nFor example in the WordPress admin UI, you might notice any of the following behaviors:\n\n* No media appear in the Media Library\n* Inability to customize the site via **Appearance** > **Customize**\n* Inability to drag any widget to a sidebar in **Appearance** > **Widgets**\n* Inability to edit menus in **Appearance** > **Menus**\n\nTo understand why this happens, note that WordPressÂ [concatenates JavaScript files](https://developer.wordpress.org/advanced-administration/wordpress/wp-config/#disable-javascript-concatenation)Â to speed up the administration interface. The way WordPress implements this involves multiple occurrences ofÂ `load[]`Â parameters in the query string, where the order of those parameters is crucial.\n\nNote\n\nNote that more recent versions of WordPress may not experience this issue, as a patch has been implemented in WordPress since 2019. The patch can be found at [WordPress Core Trac Changeset 45456](https://core.trac.wordpress.org/changeset/45456).\n\n### Identify the problem\n\nThe screenshot below shows an example where resources in the Media Library are not rendered correctly and the browser debugging console reveals that the page is throwing an error:\n\n![Resources in the Media Library are not rendered correctly](https://developers.cloudflare.com/_astro/media_library_enabling_query.Cf3Ny9Zt_ZUgsTr.webp)\n\nWhen the pageÂ `load-scripts.php`Â loads, the browser sends a request to Cloudflare for:",
      "language": "unknown"
    },
    {
      "code": "With Query String Sort enabled, Cloudflare will then sort the parameters and values in the request query string, resulting in the following:",
      "language": "unknown"
    },
    {
      "code": "Note that theÂ `load[]`Â parameters were swapped, asÂ `equest`Â should come beforeÂ `hoverIntent`Â when alphabetically ordered.\n\nWhen this happens, you will most likely find errors in the browser console, such as:\n\n`_____ is not defined at load-scripts.php?c=0&load[]=...`\n\nThis type of error indicates that Query String Sort is inadvertently breaking some WordPress admin page functionality.\n\nAfter sorting, the query then goes to Cloudflare's cache infrastructure (and to the origin server, if the resource is not in the Cloudflare cache or is not cacheable). The origin server then serves the concatenated scripts, which are ordered differently. Because scripts might depend on other scripts, this process might break dependencies.\n\n### Respond to the issue\n\nStart by analyzing your site or application behavior around the use of query strings. Do you have assets served with multiple possible arrangements of query strings?\n\nFor example, you might have an image resizing endpoint or a search form, where the order of query parameters might vary - such as width, height, and version -Â yet a unique parameter combination points to a single relevant asset.\n\nTo minimize problems, consider:\n\n* Disabling **Query String Sort** for the site if youâ€™re sure that this feature does not add value to any part of your site. Cloudflare disables this option by default in the **Caching** app.\n* Use Cache Rules to enable **Query String Sort** (set **Cache key** > **Sort query string**: `On`) for URLs where preserving the query string parameter order is not important.\n* Alternatively, use Cache Rules to disable **Query String Sort** for URLs where a specific parameter order is required. For example, set **Cache key** > **Sort query string**: `Off` for URI paths starting with `/wp-admin/load-scripts.php`, or for any URLs with similar requirements.\n\nTo learn more about Cache Rules, visitÂ [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/).\n\n***\n\n## Related resources\n\n* [Increasing Cache Hit Rates with Query String Sort](https://blog.cloudflare.com/increasing-cache-hit-rates-with-query-string-sort/)\n* [Best Practice: Caching Everything While Ignoring Query Strings](https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-everything-ignore-query-strings/)\n\n</page>\n\n<page>\n---\ntitle: Serving tailored content with Cloudflare Â· Cloudflare Cache (CDN) docs\ndescription: Content negotiation is the practice of serving different versions\n  of a resource from a single URL, tailoring the experience to the end user.\n  Common examples include delivering content in a specific language\n  (Accept-Language), optimizing for a device (User-Agent), or serving modern\n  image formats (Accept).\nlastUpdated: 2025-10-27T14:58:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/advanced-configuration/serve-tailored-content/\n  md: https://developers.cloudflare.com/cache/advanced-configuration/serve-tailored-content/index.md\n---\n\nContent negotiation is the practice of serving different versions of a resource from a single URL, tailoring the experience to the end user. Common examples include delivering content in a specific language (`Accept-Language`), optimizing for a device (`User-Agent`), or serving modern image formats (`Accept`).\n\nCloudflare's global network is designed to handle this at scale. For common scenarios such as serving next-generation images, this negotiation is streamlined with a dedicated feature. For more customized logic, Cloudflare provides a toolkit including Transform Rules, Snippets, Custom Cache Keys, and Workers, giving you granular control to ensure the right content is served to every user, every time.\n\n***\n\n## Use query strings\n\nThe [Transform Rule](https://developers.cloudflare.com/rules/transform/) method is ideal when you can create a distinct URL, such as serving content based on a visitor's location.\n\n### Geolocation example\n\nIn this example, you run an e-commerce site and want to display prices in the local currency based on the visitor's country.\n\n1. In the Cloudflare dashboard, go to the Rules **Overview** page.\n\n   [Go to **Overview**](https://dash.cloudflare.com/?to=/:account/:zone/rules/overview)\n\n2. Select **Create rule** and select the option **URL Rewrite Rule**.\n\n3. Enter a descriptive name, such as `Vary by Country - Canada`.\n\n4. In **If incoming requests match...**, select **Custom filter expression**.\n\n5. Under **When incoming requests match...**, create the following expression:\n\n   * **Field:** `Country`\n   * **Operator:** `equals`\n   * **Value:** `Canada`\n\n6. Under **Then...**\n\n   * for **Path**, select **Preserve**.\n   * for **Query**, select **Rewrite to**: **Dynamic** `loc=ca`\n\n7. Select **Save**.\n\nNow, requests from Canada to `/products/item` will be transformed to `/products/item?loc=ca` before reaching your origin or the cache, creating a distinct cache entry.\n\nAvailability\n\nFree, Pro, Business, and Enterprise plans\n\n***\n\n## Vary for Images\n\n[Vary for Images](https://developers.cloudflare.com/cache/advanced-configuration/vary-for-images/) tells Cloudflare which variants your origin supports. Cloudflare then caches each version separately and serves the correct one to browsers without contacting your origin each time. This feature is managed via the Cloudflare API.\n\n### Enable Vary for Images\n\nTo enable this feature, create a *variants rule* using the API. This rule maps file extensions to the image formats your origin can serve.\n\nFor example, the following API call tells Cloudflare that for `.jpeg` and `.jpg` files, your origin can serve `image/webp` and `image/avif` variants:\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Zone Settings Write`\n* `Zone Write`",
      "language": "unknown"
    },
    {
      "code": "After creating the rule, Cloudflare will create distinct cache entries for each image variant, improving performance for users with modern browsers.\n\nAvailability\n\nPro, Business, and Enterprise plans\n\n## Use Snippets for programmatic caching\n\n[Snippets](https://developers.cloudflare.com/rules/snippets/) are self-contained JavaScript fetch handlers that run at the edge on your requests through Cloudflare. They allow you to programmatically interact with the cache, providing full control over the cache key and response behavior without changing the user-facing URL.\n\n### Example: A/B testing\n\nIn this example, you run an A/B test controlled by a cookie named `ab-test` (with values `group-a` or `group-b`). You want to cache a different version of the page for each group.\n\n1. In the Cloudflare dashboard, go to the **Snippets** page.\n\n   [Go to **Snippets**](https://dash.cloudflare.com/?to=/:account/:zone/rules/snippets)\n\n2. Select **Create new Snippet** and name it `ab-test-caching`.\n\n3. Paste the following code. It modifies the cache key based on the `ab-test` cookie and caches the response for 30 days.",
      "language": "unknown"
    },
    {
      "code": "1. Save and deploy the Snippet.\n2. From the Snippets dashboard, select **Attach to routes** to assign the Snippet.\n\nAvailability\n\nPro, Business, and Enterprise plans\n\n## Custom Cache Keys (Enterprise)\n\nIf your account is on an Enterprise plan, the [Custom Cache Keys](https://developers.cloudflare.com/cache/how-to/cache-keys) feature provides a no-code interface to define which request properties are included in the cache key.\n\nCustom Cache Key options:\n\n* Cache by device type\n* Query string option `No query string parameters except`\n* Include headers and values\n* Include cookie names and values\n* User: Device type, Country, Language\n\n### Example: Same URL, different content\n\nIf your origin serves different content types (for example, `application/json` vs. `text/html`) at the same URL based on the `Accept` header, use a custom cache key to cache them separately.\n\n1. In the Cloudflare dashboard, go to the **Cache Rules** page.\n\n   [Go to **Cache Rules**](https://dash.cloudflare.com/?to=/:account/:zone/caching/cache-rules)\n\n2. Select **Create rule**.\n\n3. Enter rule name, such as `Vary by Accept Header`.\n\n4. Set the condition for the rule to apply (for example, a specific hostname or path).\n\n5. Under **Cache key**, select **Use custom key**.\n\n6. Select **Add new**.\n\n   * **Type**: `Header`\n   * **Name**: `Accept`\n   * **Value**: Add each `value`, or leave empty for all.\n\n7. Select **Deploy**.\n\nThis configuration creates separate cache entries based on the `Accept` header value, respecting your API's content negotiation.\n\nAvailability\n\nEnterprise plans only\n\n## Use Cloudflare Workers for advanced logic\n\nFor complex caching scenarios, [Cloudflare Workers](https://developers.cloudflare.com/cache/interaction-cloudflare-products/workers/) provide a full serverless environment ideal for custom logic at scale.\n\n### Example: Device type â€“ Free/Pro/Biz (without Tiered Cache)\n\nThis Worker detects whether a visitor is on a mobile or desktop device and creates separate cache entries for each, ensuring the correct version of the site is served and cached.",
      "language": "unknown"
    },
    {
      "code": "Availability\n\nFree and Paid plans\n\n### Example: Device type â€“ Enterprise (with Tiered Cache)\n\nThis Worker detects if a visitor is on a mobile device or a desktop and creates a separate cache entry for each, ensuring the correct version of the site is served and cached. Uses the Enterprise `cf.customCacheKey` feature.",
      "language": "unknown"
    },
    {
      "code": "Availability\n\nEnterprise only\n\n## Example: Caching Next.js RSC payloads\n\nA common challenge is caching content from frameworks like Next.js, which uses an `RSC` (React Server Components) request header to differentiate between HTML page loads and RSC data payloads for the same URL. Here are the best ways to handle this.\n\n### Method 1: Transform Rules\n\nThe simplest solution is to create a [Transform Rule](https://developers.cloudflare.com/rules/transform/) that checks for the `RSC` header and adds a unique query parameter on the request, creating two distinct cacheable URLs: `/page` (for HTML) and `/page?_rsc=1` (for the RSC payload).\n\n1. In the Cloudflare dashboard, go to the Rules **Overview** page.\n\n   [Go to **Overview**](https://dash.cloudflare.com/?to=/:account/:zone/rules/overview)\n\n2. Select **Create rule** and select the option **URL Rewrite Rule**.\n\n3. Enter a name, such as `Vary by RSC Header`.\n\n4. In **If incoming requests match...**, select **Custom filter expression**.\n\n5. Under **When incoming requests match...**, manually edit the expression so that it checks for the presence of the `RSC` header:\n\n   * `(http.request.headers[\"rsc\"] is not null)`\n\n6. Under `Then...`\n\n   * for **Path**, select **Preserve**\n   * for **Query**, select **Rewrite to**, select **Dynamic**: `_rsc=1`\n\n7. Select **Save**.\n\n### Method 2: Snippets or Custom Cache Keys\n\nAlternatively, use [Snippets](https://developers.cloudflare.com/rules/snippets/) or [Custom Cache Keys](https://developers.cloudflare.com/cache/how-to/cache-keys) to add the `RSC` header directly to the cache key without modifying the visible URL. This provides a cleaner URL but requires more advanced configuration.\n\nAvailability\n\n* Snippets: Pro, Business, Enterprise\n* Custom Cache Keys: Enterprise only\n\n</page>\n\n<page>\n---\ntitle: Vary for images Â· Cloudflare Cache (CDN) docs\ndescription: Vary is an HTTP response header that allows origins to serve\n  variants of the same content that can be used depending on the browser sending\n  the request.\nlastUpdated: 2025-07-09T13:51:32.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/advanced-configuration/vary-for-images/\n  md: https://developers.cloudflare.com/cache/advanced-configuration/vary-for-images/index.md\n---\n\n`Vary` is an HTTP response header that allows origins to serve variants of the same content that can be used depending on the browser sending the request.\n\nCloudflare sits in between the browser and the origin. When Cloudflare receives the originâ€™s response, the specific image variant is cached so that subsequent requests from browsers with the same image preferences can be served from cache. This also means that serving multiple image variants for the same asset will create distinct cache entries.\n\n`Vary` for Images reduces the content-negotiation process by parsing a requestâ€™s `Accept` header, which is sent to the origin to deliver the correct content to the browser.\n\nVary for images is available for Pro, Business, and Enterprise customers.\n\n## Availability\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | No | Yes | Yes | Yes |\n\n## File extensions\n\nYou can use vary for images on the file extensions below if the origin server sends the `Vary: Accept` response header. If the origin server sends `Vary: Accept` but does not serve the set variant, the response is not cached and displays `BYPASS` in the cache status in the response header. Additionally, the list of variant types the origin serves for each extension must be configured so that Cloudflare decides which variant to serve without contacting the origin server.\n\nFile extensions enabled for varying\n\n* .avif\n* .bmp\n* .gif\n* .jpg\n* .jpeg\n* .jp2\n* .png\n* .tif\n* .tiff\n* .webp\n\n## Enable vary for images\n\nVary for Images is enabled through Cloudflareâ€™s API by creating a variants rule. In the examples below, learn how to serve JPEG, WebP, and AVIF variants for `.jpeg` and `.jpg` extensions.\n\n### Create a variants rule\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Zone Settings Write`\n* `Zone Write`",
      "language": "unknown"
    },
    {
      "code": "### Modify to only allow WebP variants\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Zone Settings Write`\n* `Zone Write`",
      "language": "unknown"
    },
    {
      "code": "### Delete the rule\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Zone Settings Write`\n* `Zone Write`",
      "language": "unknown"
    },
    {
      "code": "### Get the rule\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Zone Settings Write`\n* `Zone Settings Read`\n* `Zone Read`\n* `Zone Write`",
      "language": "unknown"
    },
    {
      "code": "To learn more about purging varied images, refer to [Purge varied images](https://developers.cloudflare.com/cache/how-to/purge-cache/purge-varied-images/).\n\n## Limitations\n\n* For Vary for images to work, your image URLs must include the file extension in the path and not the query string. For example the URL `https://example.com/image.jpg` is compatible but `https://example.com/index.php?file=image.jpg` is not compatible.\n* Your origin must return an image type matching the file extension in the URL when a HTTP client sends no `Accept` header, or an `Accept: */*` header. Otherwise, you will see `CF-Cache-Status: BYPASS` in the HTTP response headers.\n\n</page>\n\n<page>\n---\ntitle: Avoid Web Cache Poisoning Â· Cloudflare Cache (CDN) docs\ndescription: A cache poisoning attack uses an HTTP request to trick an origin\n  web server into responding with a harmful resource that has the same cache key\n  as a clean request. As a result, the poisoned resource gets cached and served\n  to other users.\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/cache-security/avoid-web-poisoning/\n  md: https://developers.cloudflare.com/cache/cache-security/avoid-web-poisoning/index.md\n---\n\nA cache poisoning attack uses an HTTP request to trick an origin web server into responding with a harmful resource that has the same cache key as a clean request. As a result, the poisoned resource gets cached and served to other users.\n\nA Content Delivery Network (CDN) like Cloudflare relies on cache keys to compare new requests against cached resources. The CDN then determines whether the resource should be served from the cache or requested directly from the origin web server.\n\n## Learn about Cache Poisoning\n\nTo deepen your understanding of the risks and vulnerabilities associated with cache poisoning, consult the following resources:\n\n* [Practical Web Cache Poisoning](https://portswigger.net/blog/practical-web-cache-poisoning)\n* [How Cloudflare protects customers from cache poisoning](https://blog.cloudflare.com/cache-poisoning-protection/)\n\n## Only cache files that are truly static\n\nReview the caching configuration for your origin web server and ensure you are caching files that are static and do not depend on user input in any way. To learn more about Cloudflare caching, review:\n\n* [Which file extensions does Cloudflare cache for static content?](https://developers.cloudflare.com/cache/concepts/default-cache-behavior/)\n* [How Do I Tell Cloudflare What to Cache?](https://developers.cloudflare.com/cache/how-to/cache-rules/)\n\n## Do not trust data in HTTP headers\n\nClient-side vulnerabilities are often exploited through HTTP headers, including cross-site scripting (XSS). In general, you should not trust the data in HTTP headers and as such:\n\n* Do not rely on values in HTTP headers if they are not part of your [cache key](https://developers.cloudflare.com/cache/how-to/cache-keys/).\n* Never return HTTP headers to users in cached content.\n\n## Do not trust GET request bodies\n\nCloudflare caches contents of GET request bodies, but they are not included in the cache key. GET request bodies should be considered untrusted and should not modify the contents of a response. If a GET body can change the contents of a response, consider bypassing cache or using a POST request.\n\n## Monitor web security advisories\n\nTo keep informed about Internet security threats, Cloudflare recommends that you monitor web security advisories on a regular basis. Some of the more popular advisories include:\n\n* [Drupal Security Advisories](https://www.drupal.org/security)\n* [Symfony Security Advisories](https://symfony.com/blog/category/security-advisories)\n* [Laminas Security Advisories](https://getlaminas.org/security/advisories)\n\n</page>\n\n<page>\n---\ntitle: Cache Deception Armor Â· Cloudflare Cache (CDN) docs\ndescription: Before learning about Cache Deception Armor, you should first\n  understand how Web Cache Deception attacks work.\nlastUpdated: 2025-10-06T13:41:54.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/cache-security/cache-deception-armor/\n  md: https://developers.cloudflare.com/cache/cache-security/cache-deception-armor/index.md\n---\n\nBefore learning about Cache Deception Armor, you should first understand how Web Cache Deception attacks work.\n\n## Web Cache Deception attacks\n\nWeb Cache Deceptions attacks occur when an attacker tricks a user into opening a link in the format of `http://www.example.com/newsfeed/foo.jpg`, when `http://www.example.com/newsfeed` is the location of a dynamic script that returns different content for different users.\n\nThis scenario becomes problematic when your website is configured to be flexible about what kinds of paths it can handle. To be more specific, when requests to a path that do not exist, such as `/x/y/z` are treated as equivalent to requests to a parent path that does exist `/x`.\n\nFor example, an attacker could send a user a link to `http://www.example.com/newsfeed/foo.jpg` so that the user could be taken to their newsfeed. When the request passes through Cloudflare, the request would be cached because the path ends in `.jpg`. The attacker can then visit the same URL themselves, and their request will be served from Cloudflare's cache, exposing your user's sensitive content.\n\n## Cache Deception Armor protects against attacks\n\nYou can protect users from Web Cache Deception attacks by [creating a cache rule](https://developers.cloudflare.com/cache/cache-security/cache-deception-armor/#enable-cache-deception-armor). With this rule, you can continue to cache static assets, but the rule will verify a URL's extension matches the returned `Content-Type`.\n\nIn the newsfeed example above, if `http://www.example.com/newsfeed` is a script that outputs a webpage, the `Content-Type` is `text/html`. On the other hand, `http://www.example.com/newsfeed/foo.jpg` is expected to have `image/jpeg` as `Content-Type`. When a mismatch that could result in a Web Cache Deception attack is found, Cloudflare does not cache the response.\n\n### Exceptions\n\n* If the returned `Content-Type` is `application/octet-stream`, the extension does not matter because that is typically a signal to instruct the browser to save the asset instead of to display it.\n* Cloudflare allows `.jpg` to be served as `image/webp` or `.gif` as `video/webm` and other cases that we think are unlikely to be attacks.\n* Keep in mind that Cache Deception Armor depends upon [Origin Cache Control](https://developers.cloudflare.com/cache/concepts/cache-control/). A `Cache-Control` header from the origin, or an [Edge Cache TTL Cache Rule](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#edge-ttl) may override the protection.\n\n## Enable Cache Deception Armor\n\nTo enable Cache Deception Armor, you need to start by creating a [cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/). Follow the steps below for guidance:\n\n1. In the Cloudflare dashboard, go to the **Cache Rules** page.\n\n   [Go to **Cache Rules**](https://dash.cloudflare.com/?to=/:account/:zone/caching/cache-rules)\n\n2. Select **Create rule**.\n\n3. Under **When incoming requests match**, define the [rule expression](https://developers.cloudflare.com/ruleset-engine/rules-language/expressions/edit-expressions/#expression-builder).\n\n4. Under **Then**, in the **Cache eligibility** section, select **Eligible for cache**.\n\n5. Add the **Cache Key** setting to the rule and turn on **Cache deception armor**.\n\n6. To save and deploy your rule, select **Deploy**. If you are not ready to deploy your rule, select **Save as Draft**.\n\n</page>\n\n<page>\n---\ntitle: Cross-Origin Resource Sharing (CORS) Â· Cloudflare Cache (CDN) docs\ndescription: A cross-origin request is a request for website resources external\n  to the origin. For example, a.example.com attempts to serve resources from\n  b.secondexample.com. CORS instructs the browser to determine if a cross-origin\n  request, such as an image or JavaScript from b.secondexample.com, is allowed\n  by a.example.com. The browser does not load resources that are disallowed by\n  CORS.\nlastUpdated: 2025-12-10T15:28:49.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/cache-security/cors/\n  md: https://developers.cloudflare.com/cache/cache-security/cors/index.md\n---\n\nA cross-origin request is a request for website resources external to the origin. For example, `a.example.com` attempts to serve resources from `b.secondexample.com`. CORS instructs the browser to determine if a cross-origin request, such as an image or JavaScript from `b.secondexample.com`, is allowed by `a.example.com`. The browser does not load resources that are disallowed by CORS.\n\nCloudflare supports CORS by:\n\n* Identifying cached assets based on the `Host` Header, `Origin` Header, URL path, and query. This allows different resources to use the same `Host` header but different `Origin` headers.\n* Passing `Access-Control-Allow-Origin` headers from the origin server to the browser.\n\nThe `Access-Control-Allow-Origin` header allows servers to specify rules for sharing their resources with external domains. When a server receives a request to access a resource, it responds with a value for the `Access-Control-Allow-Origin` header. `Access-Control-Allow-Origin` headers are often applied to [cacheable content](https://developers.cloudflare.com/cache/concepts/default-cache-behavior/). A web server may respond with different `Access-Control` headers depending on the `Origin` header sent in the request.\n\n## Add or change CORS headers at the origin server\n\nIf you add or change CORS configuration at your origin web server, purging the Cloudflare cache by URL does not update the CORS headers. Force Cloudflare to retrieve the new CORS headers via one of the following options:\n\n* Change the filename or URL to bypass cache to instruct Cloudflare to retrieve the latest CORS headers.\n* Use the [single-file purge API](https://developers.cloudflare.com/api/resources/cache/methods/purge/#purge-cached-content-by-url) to specify the appropriate CORS headers along with the purge request.\n* Update the resourceâ€™s last-modified time at your origin web server. Then, complete a [full purge](https://developers.cloudflare.com/cache/how-to/purge-cache/purge-everything/) to retrieve the latest version of your assets including updated CORS headers.\n\n## Add or change CORS headers on Cloudflare\n\nYou can use one of following methods to set CORS headers using Cloudflare products:\n\n* Use a [Worker](https://developers.cloudflare.com/workers/): Refer to [CORS header proxy](https://developers.cloudflare.com/workers/examples/cors-header-proxy/) for an example.\n* Configure a [Snippet](https://developers.cloudflare.com/rules/snippets/): Refer to [Define CORS headers](https://developers.cloudflare.com/rules/snippets/examples/define-cors-headers/) for an example.\n* Use [Transform Rules](https://developers.cloudflare.com/rules/transform/): Refer to [Add a wildcard CORS response header](https://developers.cloudflare.com/rules/transform/examples/add-cors-header/) for an example.\n\n</page>\n\n<page>\n---\ntitle: Head Requests and Set-Cookie Headers Â· Cloudflare Cache (CDN) docs\ndescription: \"In this page, we document how Cloudflare's cache system behaves in\n  interaction with:\"\nlastUpdated: 2025-11-17T15:47:41.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/concepts/cache-behavior/\n  md: https://developers.cloudflare.com/cache/concepts/cache-behavior/index.md\n---\n\nIn this page, we document how Cloudflare's cache system behaves in interaction with:\n\n* `HEAD` requests\n* `Set-Cookie` response headers\n\n## Interaction of `HEAD` requests with Cache\n\nCloudflare converts `HEAD` requests to `GET` requests for [cacheable requests](https://developers.cloudflare.com/cache/concepts/default-cache-behavior/#default-cached-file-extensions).\n\nWhen you make a `HEAD` request for a cacheable resource and Cloudflare does not have that resource in the edge cache, a cache miss happens. Cloudflare will send a `GET` request to your origin, cache the full response and return the response headers only. Make sure the origin server is setup to handle `GET` requests, even if only `HEAD` requests are expected, so that compatibility with this behavior is ensured.\n\n## Interaction of `Set-Cookie` response header with Cache\n\nFor non-cacheable requests, `Set-Cookie` is always preserved. For cacheable requests, there are three possible behaviors:\n\n* `Set-Cookie` is returned from origin and the default cache level is used. If [origin cache control](https://developers.cloudflare.com/cache/concepts/cache-control/) is not enabled, Cloudflare removes the `Set-Cookie` and caches the asset. If origin cache control is enabled, Cloudflare does not cache the asset and preserves the `Set-Cookie`. A cache status of `BYPASS` is returned.\n\n* `Set-Cookie` is returned from origin and the cache level is set to `Cache Everything` in Page Rules, or `Eligible for cache` in Cache Rules. In this case, Cloudflare preserves the `Set-Cookie` but does not cache the asset. A cache `MISS` will be returned every time.\n\n* `Set-Cookie` is returned from origin, the cache level is set to `Cache Everything` in Page Rules, or `Eligible for cache` in Cache Rules, and edge cache TTL is set. In this case, Cloudflare removes the `Set-Cookie` and the asset is cached.\n\n</page>\n\n<page>\n---\ntitle: Origin Cache Control Â· Cloudflare Cache (CDN) docs\ndescription: Origin Cache Control is a Cloudflare feature. When enabled on an\n  Enterprise customer's website, it indicates that Cloudflare should strictly\n  respect Cache-Control directives received from the origin server. Free, Pro\n  and Business customers have this feature enabled by default.\nlastUpdated: 2025-08-12T17:23:31.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/concepts/cache-control/\n  md: https://developers.cloudflare.com/cache/concepts/cache-control/index.md\n---\n\nOrigin Cache Control is a Cloudflare feature. When enabled on an Enterprise customer's website, it indicates that Cloudflare should strictly respect `Cache-Control` directives received from the origin server. Free, Pro and Business customers have this feature enabled by default.\n\n`Cache-Control` directives in the HTTP response from your origin server provide specific [caching instructions](https://datatracker.ietf.org/doc/html/rfc7234) to intermediary services like Cloudflare.\n\nWith the Origin Cache Control feature enabled, `Cache-Control` directives present in the origin server's response will be followed as specified. For example, if the response includes a `max-age` directive of 3,600 seconds, Cloudflare will cache the resource for that duration before checking the origin server again for updates.\n\nCloudflare's [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/) allows users to either augment or override an origin server's `Cache-Control` headers or [default policies](https://developers.cloudflare.com/cache/concepts/default-cache-behavior/) set by Cloudflare.\n\nIn the following sections, we will provide more details regarding:\n\n* The most common `Cache-Control` directives.\n* How to enable Origin Cache Control.\n* How Origin Cache Control behaves with `Cache-Control` directives.\n* How other Cloudflare products interact with `Cache-Control` directives.\n\n## `Cache-control` directives\n\nA `Cache-Control` header can include a number of directives, and the directive dictates who can cache a resource along with how long those resources can be cached before they must be updated.\n\nNote\n\nFor more information about `Cache-Control` directives at origin servers, refer to the [Mozilla Cache-Control documentation](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Cache-Control).\n\nIf multiple directives are passed together, each directive is separated by a comma. If the directive takes an argument, it follows the directive separated by an equal sign. For example: `max-age=86400`.\n\nDirectives can be broken down into four groups: [cacheability](https://developers.cloudflare.com/cache/concepts/cache-control/#cacheability), [expiration](https://developers.cloudflare.com/cache/concepts/cache-control/#expiration), [revalidation](https://developers.cloudflare.com/cache/concepts/cache-control/#revalidation), and [other](https://developers.cloudflare.com/cache/concepts/cache-control/#other).\n\n### Cacheability\n\nCacheability refers to whether or not a resource should enter a cache, and the directives below indicate a resource's cacheability.\n\n* `public` â€” Indicates any cache may store the response, even if the response is normally non-cacheable or cacheable only within a private cache.\n* `private` â€” Indicates the response message is intended for a single user, such as a browser cache, and must not be stored by a shared cache like Cloudflare or a corporate proxy.\n* `no-store` â€” Indicates any cache, such as a client or proxy cache, must not store any part of either the immediate request or response.\n\n### Expiration\n\nExpiration refers to how long a resource should remain in the cache, and the directives below affect how long a resource stays in the cache.\n\nNote\n\nCloudflare respects whichever value is higher: the [Browser Cache TTL](https://developers.cloudflare.com/cache/how-to/edge-browser-cache-ttl/) in Cloudflare or the `max-age` header. You can also simultaneously specify a Cloudflare Edge Cache TTL different than a Browser's Cache TTL respectively via the `s-maxage` and `max-age` `Cache-Control` headers.\n\nWhen using Origin Cache Control and setting `max-age=0`, Cloudflare prefers to cache and revalidate. With Origin Cache Control off and `max-age=0`, Cloudflare will bypass cache.\n\nWhen setting `no-cache` with Origin Cache Control off, Cloudflare does not cache. When setting `no-cache` with Origin Cache Control on, Cloudflare caches and always revalidates.\n\n* `max-age=seconds` â€” Indicates the response is stale after its age is greater than the specified number of seconds. Age is defined as the time in seconds since the asset was served from the origin server. The `seconds` argument is an unquoted integer.\n* `s-maxage=seconds` â€” Indicates that in shared caches, the maximum age specified by this directive overrides the maximum age specified by either the `max-age` directive or the `Expires` header field. The `s-maxage` directive also implies the semantics of the proxy-revalidate response directive. Browsers ignore `s-maxage`.\n* `no-cache` â€” Indicates the response cannot be used to satisfy a subsequent request without successful validation on the origin server. This allows an origin server to prevent a cache from using the origin to satisfy a request without contacting it, even by caches that have been configured to send stale responses.\n\nEnsure the HTTP `Expires` header is set in your origin server to use Greenwich Mean Time (GMT) as stipulated in [RFC 2616](https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3).\n\n### Revalidation\n\nRevalidation determines how the cache should behave when a resource expires, and the directives below affect the revalidation behavior.\n\n* `must-revalidate` â€” Indicates that once the resource is stale, a cache (client or proxy) must not use the response to satisfy subsequent requests without successful validation on the origin server.\n* `proxy-revalidate` â€” Has the same meaning as the `must-revalidate` response directive except that it does not apply to private client caches.\n* `stale-while-revalidate=<seconds>` â€” When present in an HTTP response, indicates caches may serve the response in which it appears after it becomes stale, up to the indicated number of seconds since the resource expired. If [Always Online](https://developers.cloudflare.com/cache/how-to/always-online/) is enabled, then the `stale-while-revalidate` and `stale-if-error` directives are ignored. This directive is not supported when using the Cache API methods `cache.match` or `cache.put`. For more information, refer to the [Workers documentation for Cache API](https://developers.cloudflare.com/workers/runtime-apis/cache/#methods).\n\nNote\n\nCurrently, `stale-while-revalidate` blocks on the first request that hits a stale cache item in the cache location, when the origin returns a response it will be served to this client with a MISS or REVALIDATED status.\n\nAny other requests that arrive while this is happening in the same cache location for the same cached item will be served stale with the UPDATING status.\n\nFor more details on this, refer to example 1 of our [Revalidation and request collapsing](https://developers.cloudflare.com/cache/concepts/revalidation/#example-1) guide.\n\n* `stale-if-error=<seconds>` â€” Indicates that when an error is encountered, a cached stale response may be used to satisfy the request, regardless of other freshness information. To avoid this behavior, include `stale-if-error=0` directive with the object returned from the origin. This directive is not supported when using the Cache API methods `cache.match` or `cache.put`. For more information, refer to the [Workers documentation for Cache API](https://developers.cloudflare.com/workers/runtime-apis/cache/#methods).\n\nThe `stale-if-error` directive is ignored if [Always Online](https://developers.cloudflare.com/cache/how-to/always-online/) is enabled or if an explicit in-protocol directive is passed. Examples of explicit in-protocol directives include a `no-store` or `no-cache cache` directive, a `must-revalidate` cache-response-directive, or an applicable `s-maxage` or `proxy-revalidate` cache-response-directive.\n\n### Other\n\nAdditional directives that influence cache behavior are listed below.\n\n* `no-transform` â€” Indicates that an intermediary â€” regardless of whether it implements a cache â€” must not transform the payload.\n* `vary` â€” Cloudflare does not consider vary values in caching decisions. Nevertheless, vary values are respected when [Vary for images](https://developers.cloudflare.com/cache/advanced-configuration/vary-for-images/) is configured and when the vary header is [`vary: accept-encoding`](https://developers.cloudflare.com/speed/optimization/content/compression/).\n* `immutable` â€” Indicates to clients the response body does not change over time. The resource, if unexpired, is unchanged on the server. The user should not send a conditional revalidation request, such as `If-None-Match` or `If-Modified-Since`, to check for updates, even when the user explicitly refreshes the page. This directive has no effect on public caches like Cloudflare, but does change browser behavior.\n\n### Understand `no-store` and `no-cache` directives\n\nThere is often confusion between the directives `Cache-Control: no-store` and `Cache-Control: no-cache`, particularly regarding how they impact browser caching and features like the [Back-Forward Cache](https://developer.mozilla.org/en-US/docs/Glossary/bfcache) (BFCache).\n\n#### `no-store`\n\n* Tells both browsers and intermediaries (like CDNs) not to store a copy of the response under any circumstance.\n* The response is never written to disk or memory, which means the browser must fetch it again every time.\n* In many browsers, `no-store` disables BFCache, because restoring a page from BFCache requires the browser to keep a copy of the page's memory state, which contradicts the â€œdo not storeâ€ directive.\n* This directive is used for highly sensitive or dynamic data (for example, banking apps, personal information, secure dashboards).\n\n#### `no-cache`\n\n* Allows storing of the response (in both browser and intermediate caches), but requires revalidation with the origin server before using it.\n* This ensures the content is always up-to-date, while still potentially allowing BFCache or other forms of performance optimization.\n* This directive is used for data that changes frequently but is not sensitive, and can be served faster if validated rather than re-downloaded.\n\nFor more information about how these directives behave when Origin Cache Control is enabled or disabled refer to the [Directives](https://developers.cloudflare.com/cache/concepts/cache-control/#directives) section.\n\n## Enable Origin Cache Control\n\nIf you enable Origin Cache Control, Cloudflare will aim to strictly adhere to [RFC 7234](https://datatracker.ietf.org/doc/html/rfc7234). Enterprise customers have the ability to select if Cloudflare will adhere to this behavior, enabling or disabling Origin Cache Control for their websites through cache rules in the [dashboard](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#origin-cache-control-enterprise-only) or via [API](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#origin-cache-control-enterprise-only). Free, Pro, and Business customers have this option enabled by default and cannot disable it.\n\n## Origin Cache Control behavior\n\nThe following section covers the directives and behavioral conditions associated with enabling or disabling Origin Cache Control.\n\n### Directives\n\nThe table below lists directives and their behaviors when Origin Cache Control is disabled and when it is enabled.\n\n| Directive | Origin Cache Control Disabled Behavior | Origin Cache Control Enabled Behavior |\n| - | - | - |\n| `s-maxage=0` | Will not cache. | Caches and always revalidates |\n| `max-age=0` | Will not cache. | Caches and always revalidates. |\n| `no-cache` | Will not cache. | Caches and always revalidates. Does not serve stale. |\n| `no-cache=<headers>` | Will not cache. | Caches if headers mentioned in `no-cache=<headers>` do not exist. Always revalidates if any header mentioned in `no-cache=<headers>` is present. |\n| `Private=<headers>` | Will not cache. | Does not cache `<headers>` values mentioned in `Private=<headers>` directive. |\n| `must-revalidate` | Cache directive is ignored and stale is served. | Does not serve stale. Must revalidate for CDN and for browser. |\n| `proxy-revalidate` | Cache directive is ignored and stale is served. | Does not serve stale. Must revalidate for CDN but not for browser. |\n| `no-transform` | May (un)Gzip, Polish, email filter, etc. | Does not transform body. |\n| `s-maxage=delta, delta>1` | Same as `max-age`. | `Max-age` and `proxy-revalidate`. |\n| `immutable` | Not proxied downstream. | Proxied downstream. Browser facing, does not impact caching proxies. |\n| `no-store` | Will not cache. | Will not cache. |\n\n### Conditions\n\nCertain scenarios also affect Origin Cache Control behavior when it is enabled or disabled.\n\n| Condition | Origin Cache Control disabled behavior | Origin Cache Control enabled behavior |\n| - | - | - |\n| Presence of `Authorization` header. | Content may be cached. | Content is cached only if `must-revalidate`, `public`, or `s-maxage` is also present. |\n| Use of `no-cache` header. | In logs, `cacheStatus=miss`. | In logs, `cacheStatus=bypass`. |\n| Origin response has `Set-Cookie` header and default cache level is used. | Content may be cached with stripped `set-cookie` header. | Content is not cached. |\n| Browser Cache TTL is set. | `Cache-Control` returned to eyeball does not include `private`. | If origin returns `private` in `Cache-Control` then preserve it. |\n\nNote\n\nWhen the `Cloudflare-Cdn-Cache-Control` header is set, OCC is turned **on** (regardless of whether OCC is enabled or disabled). As a result, we apply our Authorization header logic (per [RFC 7234, Section 3.2](https://tools.ietf.org/html/rfc7234#section-3.2)) to allow only the `s-maxage`, `must-revalidate`, or `public` directives. If any other directive is present, we do not cache the asset and instead return `BYPASS`.\n\n## Examples\n\nReview the examples below to learn which directives to use with the `Cache-Control` header to control specific caching behavior.\n\nCache a static asset.\n\n`Cache-Control: public, max-age=86400`\n\nEnsure a secret asset is never cached.\n\n`Cache-Control: no-store`\n\nCache assets on browsers but not on proxy cache.\n\n`Cache-Control: private, max-age=3600`\n\nCache assets in client and proxy caches, but prefer revalidation when serve.\n\n`Cache-Control: public, no-cache`\n\nCache assets in proxy caches but REQUIRE revalidation by the proxy when serve.\n\n`Cache-Control: public, no-cache, proxy-revalidate` or `Cache-Control: public, s-maxage=0`\n\nCache assets in proxy caches, but REQUIRE revalidation by any cache when serve.\n\n`Cache-Control: public, no-cache, must-revalidate`\n\nCache assets, but ensure the proxy does not modify it.\n\n`Cache-Control: public, no-transform`\n\nThis configuration also disables transformation like gzip or brotli compression from our edge to your visitors if the original payload was served uncompressed.\n\nCache assets with revalidation, but allow stale responses if origin server is unreachable.\n\n`Cache-Control: public, max-age=3600, stale-if-error=60`\n\nWith this configuration, Cloudflare attempts to revalidate the content with the origin server after it has been in cache for 3600 seconds (one hour). If the server returns an error instead of proper revalidation responses, Cloudflare continues serving the stale resource for a total of one minute beyond the expiration of the resource.\n\nCache assets for different amounts of time on Cloudflare and in visitor browsers.\n\n`Cache-Control: public, max-age=7200, s-maxage=3600`\n\nCache an asset and serve while asset is being revalidated.\n\n`Cache-Control: max-age=600, stale-while-revalidate=30`\n\nThis configuration indicates the asset is fresh for 600 seconds. The asset can be served stale for up to an additional 30 seconds to parallel requests for the same resource while the initial synchronous revalidation is attempted.\n\n## Interaction with other Cloudflare features\n\nIn this section, we provide details regarding how other Cloudflare features interact with `Cache-Control` directives.\n\n### Edge Cache TTL\n\n[Edge Cache TTL](https://developers.cloudflare.com/cache/how-to/edge-browser-cache-ttl/#edge-cache-ttl) Cache Rules override `s-maxage` and disable revalidation directives if present. When Origin Cache Control is enabled at Cloudflare, the original `Cache-Control` header passes downstream from our edge even if Edge Cache TTL overrides are present. Otherwise, when Origin Cache Control is disabled at Cloudflare, Cloudflare overrides the Origin Cache Control.\n\n### Browser Cache TTL\n\n[Browser Cache TTL](https://developers.cloudflare.com/cache/how-to/edge-browser-cache-ttl/#browser-cache-ttl) Cache Rules override `max-age` settings passed downstream from our edge, typically to your visitor's browsers.\n\n### Polish\n\n[Polish](https://developers.cloudflare.com/images/polish/) is disabled when the `no-transform` directive is present.\n\n### Gzip and Other Compression\n\nCompression is disabled when the `no-transform` directive is present. If the original asset fetched from the origin is compressed, it is served compressed to the visitor. If the original asset is uncompressed, compression is not applied.\n\n</page>\n\n<page>\n---\ntitle: Cloudflare cache responses Â· Cloudflare Cache (CDN) docs\ndescription: The CF-Cache-Status header output indicates whether a resource is\n  cached or not. To investigate cache responses returned by this header, use\n  services like Redbot, webpagetest.org, or a visual tool like Cloudflare Optics\n  plugin.\nlastUpdated: 2025-09-26T14:07:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/concepts/cache-responses/\n  md: https://developers.cloudflare.com/cache/concepts/cache-responses/index.md\n---\n\nThe `CF-Cache-Status` header output indicates whether a resource is cached or not. To investigate cache responses returned by this header, use services like [Redbot](https://redbot.org/), [webpagetest.org](http://www.webpagetest.org/), or a visual tool like [Cloudflare Optics plugin](https://chromewebstore.google.com/detail/cloudflare-optics/mdjgbjnbdnhneejmmaabmccfehigbjbe).\n\n`Age` response header\n\nThe `Age` response header is a header returned from cache that specifies the time in seconds that an asset has been in Cloudflare's cache. This value resets if the asset is revalidated, purged, or evicted and then re-cached.\n\nThe `Age` header is only present for responses served from the cache. It will not appear on a cache MISS, dynamic traffic, the first request that populates the lower tier HIT from tiered cache `CacheTieredFill=true` or any responses that did not originate from the cache (for example, responses generated by a Worker that bypassed the cache).\n\nBelow you can find a comprehensive breakdown of Cloudflare's cache response statuses.\n\n## HIT\n\nThe resource was found in Cloudflare's cache.\n\n## MISS\n\nThe resource was not found in Cloudflare's cache and was served from the origin web server.\n\n## NONE/UNKNOWN\n\nCloudflare generated a response that denotes the asset is not eligible for caching. This may have happened because:\n\n* A Worker generated a response without sending any subrequests. In this case, the response did not come from cache, so the cache status will be `none/unknown`.\n\n* A Worker request made a subrequest (`fetch`). In this case, the subrequest will be logged with a cache status, while the main request will be logged with `none/unknown` status (the main request did not hit cache, since Workers sits in front of cache).\n\n* A WAF custom rule was triggered to block a request. The response will come from the Cloudflare global network before it hits cache. Since there is no cache status, Cloudflare will log as `none/unknown`.\n\n* A [redirect rule](https://developers.cloudflare.com/rules/url-forwarding/) or [Always Use HTTPS](https://developers.cloudflare.com/ssl/edge-certificates/additional-options/always-use-https/) caused the global network to respond with a redirect to another asset/URL. This redirect response happens before the request reaches cache, so the cache status is `none/unknown`.\n\n## EXPIRED\n\nThe resource was found in Cloudflare's cache but was expired and served from the origin web server.\n\n## STALE\n\nThe resource was served from Cloudflare's cache but was expired. Cloudflare could not contact the origin web server to retrieve an updated resource.\n\n## BYPASS\n\nThe origin web server instructed Cloudflare to bypass cache via a `Cache-Control` header set to `no-cache`, `private`, or `max-age=0` even though Cloudflare originally preferred to cache the asset. BYPASS is returned when enabling [Origin Cache-Control](https://developers.cloudflare.com/cache/concepts/cache-control/). Cloudflare also sets BYPASS when your origin web server sends cookies in the response header. If the Request to your origin web server includes an `Authorization` header, in some cases the response will also be BYPASS. Refer to [Conditions](https://developers.cloudflare.com/cache/concepts/cache-control/#conditions) in the Origin Cache-Control behavior section for more details.\n\n## REVALIDATED\n\nThe resource is served from Cloudflare's cache but is stale. The resource was revalidated by either an `If-Modified-Since` header or an `If-None-Match` header.\n\n## UPDATING\n\nThe resource was served from Cloudflare's cache and was expired, but the origin web server is updating the resource. `UPDATING` is typically only seen for very popular cached resources.\n\n## DYNAMIC\n\nCloudflare does not consider the asset eligible to cache and your Cloudflare settings do not explicitly instruct Cloudflare to cache the asset. Instead, the asset was requested from the origin web server. Use [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/) to implement custom caching options.\n\n</page>\n\n<page>\n---\ntitle: CDN-Cache-Control Â· Cloudflare Cache (CDN) docs\ndescription: CDN-Cache-Control is a response header field set on the origin to\n  separately control the behavior of CDN caches from other intermediaries that\n  might handle a response. You can set the CDN-Cache-Control or\n  Cloudflare-CDN-Cache-Control response header using the same directives used\n  with the Cache-Control.\nlastUpdated: 2025-12-02T11:27:44.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/concepts/cdn-cache-control/\n  md: https://developers.cloudflare.com/cache/concepts/cdn-cache-control/index.md\n---\n\n`CDN-Cache-Control` is a response header field set on the origin to separately control the behavior of CDN caches from other intermediaries that might handle a response. You can set the `CDN-Cache-Control` or `Cloudflare-CDN-Cache-Control` response header using the same directives used with the [Cache-Control](https://developers.cloudflare.com/cache/concepts/cache-control/).\n\n## Header precedence\n\nYou have several options available to determine how `CDN-Cache-Control` directives interact with `Cache-Control` directives.\n\nAn origin can:\n\n* Return the `CDN-Cache-Control` response header which Cloudflare evaluates to make caching decisions. `Cache-Control`, if also returned by the origin, is proxied as is and does not affect caching decisions made by Cloudflare. Additionally, `CDN-Cache-Control` is proxied downstream in case there are other CDNs between Cloudflare and the browser.\n\n* Return the `Cloudflare-CDN-Cache-Control` response header. This results in the same behavior as the origin returning `CDN-Cache-Control` except Cloudflare does not proxy `Cloudflare-CDN-Cache-Control` downstream because itâ€™s a header only used to control Cloudflare. This option is beneficial if you want only Cloudflare to have a different caching behavior while all other downstream servers rely on `Cache-Control` or if you do not want Cloudflare to proxy the `CDN-Cache-Control` header downstream.\n\n* Return both `Cloudflare-CDN-Cache-Control` and `CDN-Cache-Control` response headers. In this case, Cloudflare only looks at `Cloudflare-CDN-Cache-Control` when making caching decisions because it is the most specific version of `CDN-Cache-Control` and proxies `CDN-Cache-Control` downstream. Only forwarding `CDN-Cache-Control` in this situation is beneficial if you want Cloudflare to have a different caching behavior than other CDNs downstream.\n\nAdditionally, surrogates will not honor `Cache-Control` headers in the response from an origin. For example, if the `Surrogate-Control` header is present within the response, Cloudflare ignores any `Cache-Control` directives, even if the `Surrogate-Control` header does not contain directives.\n\n## Interaction with other Cloudflare features\n\n### Edge Cache TTL cache rule\n\nThe [Edge Cache TTL cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#edge-ttl) overrides the amount of time an asset is cached on the edge (Cloudflare data centers). This cache rule overrides directives in `Cloudflare-CDN-Cache-Control/CDN-Cache-Control` which manage how long an asset is cached on the edge. You can create this rule in the dashboard in **Caching** > **Cache Rules**.\n\n### Browser Cache TTL cache rule\n\nThe [Browser Cache TTL cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#browser-ttl) overrides the amount of time an asset is cached by browsers/servers downstream of Cloudflare. Browser Cache TTL only modifies the `Cache-Control` response header. This cache rule does not modify `Cloudflare-CDN-Cache-Control/CDN-Cache-Control` response headers.\n\n### Other Origin Response Headers\n\nThe origin returns the `Expires` response header which specifies the amount of time before an object is considered stale to the browser. This response header does not affect the caching decision at Cloudflare when `Cloudflare-CDN-Cache-Control/CDN-Cache-Control` is in use.\n\n### Cloudflare Default cache values\n\nIn situations where Cloudflare does not receive `Cloudflare-CDN-Cache-Control`, `CDN-Cache-Control`, or `Cache-Control` values, cacheable assets use the general [default values](https://developers.cloudflare.com/cache/concepts/default-cache-behavior/).\n\n## When to use CDN-Cache-Control\n\n### Manage cached assets TTLs\n\nUse `CDN-Cache-Control` when you want to manage cached assetâ€™s TTLs separately for origin caches, CDN caches, and browser caches. The example below shows how you can manage your cached assetâ€™s TTLs using origin-set response headers.\n\nHeaders:\n\n* `Cache-Control: max-age=14400, s-maxage=84000`\n* `Cloudflare-CDN-Cache-Control: max-age=24400`\n* `CDN-Cache-Control: max-age=18000`\n\nCache behavior:\n\n| Caches | Cache TTL (seconds) |\n| - | - |\n| Origin Server Cache | 14400 |\n| Network Shared Cache | 84000 |\n| Cloudflare Edge | 24400 |\n| Other CDNs | 18000 |\n| Browser Cache | 14400 |\n\n### Specify when to serve stale content\n\nUse `CDN-Cache-Control` headers in conjunction with `Cache-Control` headers to specify when to serve stale content in the case of error or during revalidation. The example below shows how you might set your headers and directives to apply to CDNs when handling errors.\n\nHeaders:\n\n* `Cache-Control: stale-if-error=400`\n* `Cloudflare-CDN-Cache-Control: stale-if-error=60`\n* `CDN-Cache-Control: stale-if-error=200`\n\nBehavior in response to [5XX error](https://developers.cloudflare.com/support/troubleshooting/http-status-codes/cloudflare-5xx-errors/):\n\n| Caches | Stale served (seconds) in response to error |\n| - | - |\n| Origin Cache Layer/Network Cache/Browser Cache | 400 (if it assumes the directive applies) |\n| Cloudflare Edge | 60 |\n| Other CDN | 200 |\n\n</page>\n\n<page>\n---\ntitle: Customize cache Â· Cloudflare Cache (CDN) docs\ndescription: \"Some possible combinations of origin web server settings and\n  Cloudflare Cache Rules include:\"\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/concepts/customize-cache/\n  md: https://developers.cloudflare.com/cache/concepts/customize-cache/index.md\n---\n\nSome possible combinations of origin web server settings and Cloudflare [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/) include:\n\n## Create a directory for static content at your origin web server\n\nFor example, create a `/static/` subdirectory at your origin web server and a Cache Everything Cache Rule matching the following expression:\n\n* Using the Expression Builder: `Hostname contains \"example.com\" AND URI Path starts with \"/static\"`\n* Using the Expression Editor: `(http.host contains \"example.com\" and starts_with(http.request.uri.path, \"/static\"))`\n\n## Append a unique file extension to static pages\n\nFor example, create a `.shtml` file extension for resources at your origin web server and a Cache Everything Cache Rule matching the following expression:\n\n* Using the Expression Builder: `Hostname contains \"example.com\" AND URI Path ends with \".shtml\"`\n* Using the Expression Editor: `(http.host contains \"example.com\" and ends_with(http.request.uri.path, \".shtml\"))`\n\n## Add a query string to a resourceâ€™s URL to mark the content as static\n\nFor example, add a `static=true` query string for resources at your origin web server and a Cache Everything Cache Rule matching the following expression:\n\n* Using the Expression Builder: `Hostname contains \"example.com\" AND URI Query String contains \"static=true\"`\n* Using the Expression Editor: `(http.host contains \"example.com\" and http.request.uri.query contains \"static=true\")`\n\nResources that match a Cache Everything Cache Rule are still not cached if the origin web server sends a Cache-Control header of `max-age=0`, `private`, `no-cache`, or an `Expires` header with an already expired date. Include the [Edge Cache TTL](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#edge-ttl) setting within the Cache Everything Cache Rule to additionally override the `Cache-Control` headers from the origin web server.\n\n</page>\n\n<page>\n---\ntitle: Default Cache Behavior Â· Cloudflare Cache (CDN) docs\ndescription: Cloudflare respects the origin web serverâ€™s cache headers in the\n  following order unless an Edge Cache TTL cache rule overrides the headers.\n  Refer to the Edge TTL section for details on default TTL behavior.\nlastUpdated: 2025-12-09T12:37:32.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/concepts/default-cache-behavior/\n  md: https://developers.cloudflare.com/cache/concepts/default-cache-behavior/index.md\n---\n\nCloudflare respects the origin web serverâ€™s cache headers in the following order unless an [Edge Cache TTL cache rule](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#edge-ttl) overrides the headers. Refer to the [Edge TTL](https://developers.cloudflare.com/cache/how-to/configure-cache-status-code/#edge-ttl) section for details on default TTL behavior.\n\n* Cloudflare **does not** cache the resource when:\n\n  * The `Cache-Control` header is set to `private`, `no-store`, `no-cache`, or `max-age=0`.\n  * The [Set-Cookie header](https://developers.cloudflare.com/cache/concepts/cache-behavior/#interaction-of-set-cookie-response-header-with-cache) exists.\n  * The HTTP request method is anything other than a `GET`.\n\n* Cloudflare **does** cache the resource when:\n\n  * The `Cache-Control` header is set to `public` and `max-age` is greater than 0.\n  * The `Expires` header is set to a future date.\n\nNote\n\nCloudflare does cache the resource even if there is no `Cache-Control` header based on [status codes](https://developers.cloudflare.com/cache/how-to/configure-cache-status-code/#edge-ttl).\n\nNote\n\nIf both `max-age` and an `Expires` header are set, `max-age` will be used by Cloudflare.\n\nWhen [Origin Cache Control](https://developers.cloudflare.com/cache/concepts/cache-control/) is enabled on an Enterprise customerâ€™s website, it indicates that Cloudflare should strictly respect `Cache-Control` directives received from the origin server. Free, Pro and Business customers have this feature enabled by default. For a list of directives and behaviors when Origin Cache-Control is enabled or disabled, refer to [Cache-Control directives](https://developers.cloudflare.com/cache/concepts/cache-control/#cache-control-directives).\n\n## Client side range requests\n\nClients can send range requests to be served from the cache using the `Range` header. Note that:\n\n* If the origin response includes a `Content-Length` header, then the specified byte range will be returned with an [HTTP 206](https://developers.cloudflare.com/support/troubleshooting/http-status-codes/2xx-success/#206-partial-content) response.\n* If the origin response does not include the `Content-Length` header, the cache will return the full content with an HTTP 200 response.\n\n## Default cached file extensions\n\nCloudflare only caches based on file extension and not by MIME type. The Cloudflare CDN does not cache HTML or JSON by default. Additionally, by default Cloudflare caches a website's robots.txt.\n\n| | | | | | | |\n| - | - | - | - | - | - | - |\n| 7Z | CSV | GIF | MIDI | PNG | TIF | ZIP |\n| AVI | DOC | GZ | MKV | PPT | TIFF | ZST |\n| AVIF | DOCX | ICO | MP3 | PPTX | TTF | |\n| APK | DMG | ISO | MP4 | PS | WEBM | |\n| BIN | EJS | JAR | OGG | RAR | WEBP | |\n| BMP | EOT | JPG | OTF | SVG | WOFF | |\n| BZ2 | EPS | JPEG | PDF | SVGZ | WOFF2 | |\n| CLASS | EXE | JS | PICT | SWF | XLS | |\n| CSS | FLAC | MID | PLS | TAR | XLSX | |\n\nTo cache additional content, refer to [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/) to create a rule to cache everything.\n\n## Edge TTL\n\nBy default, Cloudflare caches certain HTTP response codes with the followingÂ Edge Cache TTLÂ when a `cache-control` directive or `expires` response header are not present.\n\n| HTTP status code | Default TTL |\n| - | - |\n| 200, 206, 301 | 120m |\n| 302, 303 | 20m |\n| 404, 410 | 3m |\n\nAll other status codes are not cached by default.\n\n## Customization options and limits\n\nCloudflareâ€™s CDN provides several cache customization options:\n\n* Caching behavior for individual URLs via [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/)\n\n[Go to **Cache Rules**](https://dash.cloudflare.com/?to=/:account/:zone/caching/cache-rules)\n\n* Customize caching with [Cloudflare Workers](https://developers.cloudflare.com/workers/reference/how-the-cache-works/)\n* Adjust caching level, cache TTL, and more in the Caching page in the Cloudflare dashboard:\n\n[Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/:zone/caching/configuration)\n\n### Upload limits\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | Yes | Yes | Yes | Yes |\n| Max upload size | 100 MB | 100 MB | 200 MB | 500+ MB |\n\nCustomers can reduce the **Maximum Upload Size** from the zone's **Network** page.\n\nIf you require a larger upload, you can group requests into smaller chunks, upload the full resource through an [unproxied (grey-clouded) DNS record](https://developers.cloudflare.com/dns/proxy-status/) or [upgrade your plan](https://developers.cloudflare.com/billing/change-plan/).\n\n### Cacheable size limits\n\nCloudflare cacheable file limits:\n\n* Free, Pro and Business customers have a limit of 512 MB.\n* For Enterprise customers the default maximum cacheable file size is 5 GB. Contact your account team to request a limit increase.\n\n## When does Cloudflare cache successfully?\n\nThe connection status between visitors and Cloudflare can vary, affecting whether Cloudflare caches the content or not. If Cloudflare has already established a connection to the origin and started fetching the content, it will continue to retrieve and cache the entire content, even if the visitor disconnects midway. However, if a visitor disconnects before the origin responds to Cloudflare's request, no content will have been fetched yet, so Cloudflare will not start caching the content.\n\n</page>\n\n<page>\n---\ntitle: Retention vs Freshness (TTL) Â· Cloudflare Cache (CDN) docs\ndescription: In the context of Cloudflare CDN (Content Delivery Network),\n  retention and freshness refer to two separate but related concepts. For an\n  object in cache, freshness is how long it should be considered valid without\n  consulting its source, while retention refers to how long it stays in cache\n  before being removed.\nlastUpdated: 2024-10-17T18:33:04.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/concepts/retention-vs-freshness/\n  md: https://developers.cloudflare.com/cache/concepts/retention-vs-freshness/index.md\n---\n\nIn the context of Cloudflare CDN (Content Delivery Network), retention and freshness refer to two separate but related concepts. For an object in cache, freshness is how long it should be considered valid without consulting its source, while retention refers to how long it stays in cache before being removed.\n\n## Retention\n\nWhen a file or resource is requested from a website, Cloudflare caches it to avoid having to ask the origin server for it again the next time it is requested, reducing latency and improving delivery speed. But if an object in cache does not get requested again, eventually it will be removed to make room for newer, more popular objects. This process is called eviction and is a standard part of cache management. When the cache wants to store a new object but does not have room, it uses an algorithm called Least Recently Used, or LRU, to nominate an object to evict and replace it with the new one. An objectâ€™s cache retention period refers to the duration the object is stored in Cloudflareâ€™s cache before being evicted. It is worth noting that an objectâ€™s retention period is a function of its relative popularity and the size of Cloudflareâ€™s caches, and therefore is not configurable.\n\n## Freshness (TTL)\n\nThe time window that an object should be considered safe for a cache to use is dictated by its freshness, also known as Time to Live (TTL). If an object has a TTL of five minutes that means that, starting from the moment the cache first receives the object, for the next five minutes the cache can use that object without checking with the origin again. After five minutes have passed, if Cloudflare gets another request for that object, we cannot use what is stored in the cache without first checking the origin to see if the object is still valid. Those first five minutes in this objectâ€™s case are its freshness period. There are a few ways to configure TTLs for resources served through Cloudflareâ€™s Content Delivery Network:\n\n* Include [Origin Cache Control](https://developers.cloudflare.com/cache/concepts/cache-control/) or [CDN Cache Control](https://developers.cloudflare.com/cache/concepts/cache-control/) directives, like `max-age` or `s-maxage`, in the origin cache-control response header.\n\n* Use [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/) or [Workers](https://developers.cloudflare.com/cache/interaction-cloudflare-products/workers/).\n\nIf an object in cache is no longer fresh and Cloudflare receives a request for it, we ask the origin to revalidate the object we have in cache. The Origin can then either send a new version of the object which will replace the old in cache, or tell us the object we have is valid and to refresh its TTL. This revalidation will happen any time an objectâ€™s retention period is greater than its freshness period.\n\n</page>\n\n<page>\n---\ntitle: Revalidation and request collapsing Â· Cloudflare Cache (CDN) docs\ndescription: Revalidation is a caching mechanism that checks the freshness of\n  cached data before serving it to users. If a cached object is no longer fresh\n  and Cloudflare receives a request for it, the system makes a request to the\n  origin to revalidate the object in the Cloudflare cache. By using headers like\n  If-Modified-Since and ETag, Cloudflare validates content without fully\n  re-fetching it. When these headers are missing, Smart Edge Revalidation\n  generates a Last-Modified header, ensuring efficient updates and delivery of\n  fresh content while reducing origin traffic.\nlastUpdated: 2025-07-28T14:45:53.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/concepts/revalidation/\n  md: https://developers.cloudflare.com/cache/concepts/revalidation/index.md\n---\n\nRevalidation is a caching mechanism that checks the [freshness](https://developers.cloudflare.com/cache/concepts/retention-vs-freshness/#freshness-ttl) of cached data before serving it to users. If a cached object is no longer fresh and Cloudflare receives a request for it, the system makes a request to the origin to revalidate the object in the Cloudflare cache. By using headers like `If-Modified-Since` and `ETag`, Cloudflare validates content without fully re-fetching it. When these headers are missing, [Smart Edge Revalidation](https://blog.cloudflare.com/introducing-smart-edge-revalidation/) generates a `Last-Modified` header, ensuring efficient updates and delivery of fresh content while reducing origin traffic.\n\n## Revalidation towards origin\n\nFor stale (expired TTL) content, Cloudflare will send a revalidation request to the origin. If the stale content is still valid Cloudflare will set a new TTL. If the content is expired, then the origin will provide new fresh content to replace the old.\n\nConsider the following example scenarios.\n\n### Example 1\n\nOne-thousand (1,000) requests arrive simultaneously at Cloudflare's network, and the requested resource was in Cloudflare but cannot be served because its TTL configuration indicates it is no longer fresh. This means that the resource needs to be served from the origin server. In this case, one request will go to the origin to be revalidated, while the other 999 requests will be served from cache with the status of [UPDATING](https://developers.cloudflare.com/cache/concepts/cache-responses/#updating). This means that the resource, although expired, is served stale from Cloudflare's cache, while the origin server is updating it. This behavior is defined by the [`stale-while-revalidate`](https://developers.cloudflare.com/cache/concepts/cache-control/#revalidation) directive in `cache-control`. If you do not wish to serve stale content, set the directive to zero seconds, `stale-while-revalidate=0`.\n\n### Example 2\n\nOne-thousand (1,000) requests arrive simultaneously at a single Cloudflare data center, and the requested asset is not in Cloudflare's cache (a cache miss). These requests will use a cache lock to communicate with your origin. This means that only the first request will go to origin to fetch the asset. The remaining 999 requests wait for the first request to fetch the data, after which the response is [streamed](https://blog.cloudflare.com/introducing-concurrent-streaming-acceleration/) to all the waiting requests. The cache lock ensures that Cloudflare only sends the origin one request at a time for a given asset from a location in Cloudflare's network, preventing the origin from getting too much traffic.\n\n## Smart revalidation towards users\n\nWhen both [`Last-Modified`](https://datatracker.ietf.org/doc/html/rfc7232?cf_history_state=%7B%22guid%22%3A%22C255D9FF78CD46CDA4F76812EA68C350%22%2C%22historyId%22%3A15%2C%22targetId%22%3A%226C8153BAEF7BC0C5A331E28F8BCF1ABA%22%7D#section-2.2) and [`Etag`](https://datatracker.ietf.org/doc/html/rfc7232?cf_history_state=%7B%22guid%22%3A%22C255D9FF78CD46CDA4F76812EA68C350%22%2C%22historyId%22%3A13%2C%22targetId%22%3A%226C8153BAEF7BC0C5A331E28F8BCF1ABA%22%7D#section-2.3) headers are absent from the origin server response, Smart Edge Revalidation will use the time the object was cached on Cloudflare's global network as the `Last-Modified` header value. When a browser sends a revalidation request to Cloudflare using `If-Modified-Since` or `If-None-Match`, our global network can answer those revalidation questions using the `Last-Modified` header generated from Smart Edge Revalidation. In this way, our global network can ensure efficient revalidation even if the headers are not sent from the origin.\n\n</page>\n\n<page>\n---\ntitle: Always Online Â· Cloudflare Cache (CDN) docs\ndescription: Cloudflareâ€™s Always Online feature is now integrated with the\n  Internet Archive so that visitors can access a portion of your website even\n  when your origin server is unreachable and a Cloudflare-cached version is\n  unavailable. When your origin is unreachable, Always Online checks\n  Cloudflareâ€™s cache for a stale or expired version of your website. If a\n  version does not exist, Cloudflare goes to the Internet Archive to fetch and\n  serve static portions of your website.\nlastUpdated: 2025-10-06T13:41:54.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/always-online/\n  md: https://developers.cloudflare.com/cache/how-to/always-online/index.md\n---\n\nCloudflareâ€™s Always Online feature is now integrated with the [Internet Archive](https://archive.org/) so that visitors can access a portion of your website even when your origin server is unreachable and a Cloudflare-cached version is unavailable. When your origin is unreachable, Always Online checks Cloudflareâ€™s cache for a stale or expired version of your website. If a version does not exist, Cloudflare goes to the Internet Archive to fetch and serve static portions of your website.\n\nWhen you enable Always Online with Internet Archive integration, Cloudflare shares your hostname and popular URL paths with the archive so that the Internet Archiveâ€™s crawler stores the pages you want archived. When submitting targets to the crawler, Cloudflare identifies the most popular URLs found among GET requests that returned a 200 HTTP status code in the previous five hours.\n\nNote that Cloudflare does not save a copy of every page of your website, and it cannot serve dynamic content while your origin is offline. If the requested page is not in the Internet Archive's Wayback Machine, the visitor sees the actual error page caused by the offline origin web server.\n\nWhen the Internet Archive integration is enabled, Cloudflare tells the Internet Archive what pages to crawl and how often. The pages to crawl, as previously mentioned, are the most popular URLs that were successfully visited in the last five hours. The crawling intervals, to ensure stability of service, are limited by Cloudflare. Limits vary according to your Cloudflare plan.\n\n## Availability\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | Yes | Yes | Yes | Yes |\n| Crawl interval | Every 30 days | Every 15 days | Every 5 days | Every 5 days |\n\n## Visitor Experience\n\nWhen Always Online with Internet Archive integration is enabled, visitors see a banner at the top of the webpage explaining they are visiting an archived version of the website. Visitors can select the Refresh button to check whether the origin has recovered and fresh content is available.\n\nWhen a visitor requests content for an offline website, Cloudflare returns an HTTP response status code in the range [520â€“527](https://developers.cloudflare.com/support/troubleshooting/http-status-codes/cloudflare-5xx-errors/error-520/), depending on the issue. These status codes indicate that the origin is unreachable.\n\nWhen the Internet Archive integration is enabled, Cloudflare checks the archive and serves the most recently archived version of the page.\n\nVisitors who interact with dynamic parts of a website, such as a shopping cart or comment box, will see an error page caused by the offline origin web server.\n\n## Enable Always Online\n\nHere is how to enable Always Online in the dashboard:\n\n1. In the Cloudflare dashboard, go to the **Configuration** page.\n\n   [Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/:zone/caching/configuration)\n\n2. Choose the domain that will use Always Online with Internet Archive integration.\n\n3. Under **Always Online**, set the toggle to **On**.\n\nNote\n\nWhen turning on Always Online, you are also enabling the Internet Archive integration.\n\nRefer to [Always Online](https://developers.cloudflare.com/cache/troubleshooting/always-online/) for best practices, limitations, and FAQs.\n\n</page>\n\n<page>\n---\ntitle: Cache Keys Â· Cloudflare Cache (CDN) docs\ndescription: A Cache Key is an identifier that Cloudflare uses for a file in our\n  cache, and the Cache Key Template defines the identifier for a given HTTP\n  request.\nlastUpdated: 2025-12-04T09:27:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-keys/\n  md: https://developers.cloudflare.com/cache/how-to/cache-keys/index.md\n---\n\nA Cache Key is an identifier that Cloudflare uses for a file in our cache, and the Cache Key Template defines the identifier for a given HTTP request.\n\nA default cache key includes:\n\n1. Full URL:\n\n   * scheme - could be HTTP or HTTPS.\n   * host - for example, `www.cloudflare.com`\n   * URI with query string - for example, `/logo.jpg?utm_source=newsletter`\n\n2. Origin header sent by client (for CORS support).\n\n3. `x-http-method-override`, `x-http-method`, and `x-method-override` headers.\n\n4. `x-forwarded-host`, `x-host`, `x-forwarded-scheme` (unless http or https), `x-original-url`, `x-rewrite-url`, and `forwarded` headers.\n\n## Create custom cache keys\n\nCustom cache keys let you precisely set the cacheability setting for any resource. They provide the benefit of more control, though they may reduce your cache hit rate and result in cache sharding:\n\n1. In the Cloudflare dashboard, go to the **Cache Rules** page.\n\n   [Go to **Cache Rules**](https://dash.cloudflare.com/?to=/:account/:zone/caching/cache-rules)\n\n2. Select **Create rule**.\n\n3. Under **When incoming requests match**, define the [rule expression](https://developers.cloudflare.com/ruleset-engine/rules-language/expressions/edit-expressions/#expression-builder).\n\n4. Under **Then**, in the **Cache eligibility** section, select **Eligible for cache**.\n\n5. Add the **Cache Key** setting to the rule and select the appropriate **Query String** setting.\n\n6. You can also select settings for **Headers**, **Cookie**, **Host**, and **User**.\n\n7. To save and deploy your rule, select **Deploy**. If you are not ready to deploy your rule, select **Save as Draft**.\n\nNote\n\nWhen [URL normalization](https://developers.cloudflare.com/rules/normalization/) is enabled, we recommend also enabling [Normalize URLs to origin](https://developers.cloudflare.com/rules/normalization/manage/), especially if you are setting custom cache keys or using cache by device type, which also modifies the cache key. This helps ensure the URL in the cache key matches the URL sent to the origin, preventing cache poisoning and ensuring consistent behavior.\n\n## Cache Key Template\n\nThere are a couple of common reasons to change the Cache Key Template. You might change the Cache Key Template to:\n\n* Fragment the cache so one URL is stored in multiple files. For example, to store different files based on a specific query string in the URL.\n* Consolidate the cache so different HTTP requests are stored in the same file. For example, to remove the Origin header added to Cloudflare Cache Keys by default.\n\n### Impact of SSL settings on Cache behavior\n\nCloudflare's `$scheme` variable plays a key role in caching behavior, but its meaning varies depending on the cache key type:\n\n* **Default Cache Key**: `$scheme` refers to the **origin scheme** â€” the protocol Cloudflare uses to connect to your origin server (HTTP or HTTPS). In this configuration, changes to your SSL settings (for example, switching from Flexible to Full) alter the origin scheme. Because the cache key includes the origin scheme, such changes trigger a cache bust, requiring Cloudflare to fetch content again from the origin.\n\n* **Custom Cache Key**: `$scheme` refers to the **visitor's scheme** â€” the protocol used by the client making the request to Cloudflare. In this case, SSL setting changes do not impact the cache key unless the origin scheme is explicitly included in your custom configuration.\n\nFor example, with Flexible SSL, Cloudflare always connects to the origin over HTTP, regardless of whether the visitor uses HTTP or HTTPS. This results in the same cache key for both protocols under the default configuration.\n\nBe aware that changes in the SSL setting can lead to cache invalidation when using the default cache key:\n\n* Switching from **Off** to **Full**, **Full (strict)**, or **Strict** updates the origin scheme from HTTP to HTTPS, resulting in a cache bust.\n\n* Moving from **Flexible** to **Full**, **Full (strict)**, or **Strict** similarly changes the origin scheme to HTTPS and causes a cache bust.\n\nUnderstanding how `$scheme` interacts with your caching configuration is essential when modifying SSL modes to avoid unexpected cache behavior.\n\n### Cache Level: Ignore Query String\n\nA [Cache Level](https://developers.cloudflare.com/cache/how-to/set-caching-levels/) of Ignore Query String creates a Cache Key that includes all the elements in the default cache key, except for the query string in the URI that is no longer included. For instance, a request for `http://example.com/file.jpg?something=123` and a request for `http://example.com/file.jpg?something=789` will have the same cache key, in this case.\n\n## Cache Key Settings\n\nThe following fields control the Cache Key Template.\n\n### Query String\n\nThe query string controls which URL query string parameters go into the Cache Key. You can `include` specific query string parameters or `exclude` them using the respective fields. When you include a query string parameter, the `value` of the query string parameter is used in the Cache Key.\n\n#### Example\n\nIf you include the query string foo in a URL like `https://www.example.com/?foo=bar`, then bar appears in the Cache Key. Exactly one of `include` or `exclude` is expected.\n\n#### Usage notes\n\n* To include all query string parameters (the default behavior), use include: `\"\\*\"`\n* To ignore query strings, use exclude: `\"\\*\"`\n* To include most query string parameters but exclude a few, use the exclude field which assumes the other query string parameters are included.\n\n### Headers\n\nHeaders control which headers go into the Cache Key. Similar to Query String, you can include specific headers or exclude default headers.\n\nWhen you include a header, the header value is included in the Cache Key. For example, if an HTTP request contains an HTTP header like `X-Auth-API-key: 12345`, and you include the `X-Auth-API-Key header` in your Cache Key Template, then `12345` appears in the Cache Key.\n\nIn the **Include headers and selected values** section, you can add header names and their values to the cache key. For custom headers, values are optional, but for the following restricted headers, you must include one to 10 specific values:\n\n* `accept`\n* `accept-charset`\n* `accept-encoding`\n* `accept-datetime`\n* `accept-language`\n* `referer`\n* `user-agent`\n\nTo check for the presence of a header without including its actual value, use the **Check presence of** option.\n\nCurrently, you can only exclude the `Origin` header. The `Origin` header is always included unless explicitly excluded. Including the [Origin header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Origin) in the Cache Key is important to enforce [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS).\n\nAdditionally, you cannot include the following headers:\n\n* Headers that re-implement cache or proxy features\n\n  * `connection`\n  * `content-length`\n  * `cache-control`\n  * `if-match`\n  * `if-modified-since`\n  * `if-none-match`\n  * `if-unmodified-since`\n  * `range`\n  * `upgrade`\n\n* Headers that are covered by other Cache Key features\n\n  * `cookie`\n  * `host`\n\n* Headers that are specific to Cloudflare and prefixed with `cf-`, for example, `cf-ray`\n\n* Headers that are already included in the custom Cache Key template, for example, `origin`\n\n### Host\n\nHost determines which host header to include in the Cache Key.\n\n* If `Use original host` (`resolved: false` in the API), Cloudflare includes the `Host` header in the HTTP request sent to the origin.\n* If `Resolved host` (`resolved: true` in the API), Cloudflare includes the `Host` header that was resolved to get the `origin IP` for the request. The `Host` header may be different from the header actually sent if it has been changed with an [Origin Rule](https://developers.cloudflare.com/rules/origin-rules/features/#dns-record).\n\n### Cookie\n\nLike `query_string` or `header`, `cookie` controls which cookies appear in the Cache Key. You can either include the cookie value or check for the presence of a particular cookie.\n\n#### Usage notes\n\nYou cannot include cookies specific to Cloudflare. Cloudflare cookies are prefixed with `__cf`, for example, `__cflb`\n\n### User features\n\nUser feature fields add features about the end-user (client) into the Cache Key.\n\n* `device_type` classifies a request as `mobile`, `desktop`, or `tablet` based on the User Agent\n* `geo` includes the clientâ€™s country, derived from the IP address\n* `lang` includes the first language code contained in the `Accept-Language` header sent by the client\n\n## Availability\n\nCache keys options availability varies according to your plan.\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Cache deception armor | Yes | Yes | Yes | Yes |\n| Cache by device type | Yes | Yes | Yes | Yes |\n| Ignore query string | Yes | Yes | Yes | Yes |\n| Sort query string | Yes | Yes | Yes | Yes |\n| Query string | No | No | No | Yes |\n| Headers | No | No | No | Yes |\n| Cookie | No | No | No | Yes |\n| Host | No | No | No | Yes |\n| User features | No | No | No | Yes |\n\n## Troubleshooting\n\nYou can use [Cloudflare Trace](https://developers.cloudflare.com/rules/trace-request/) to find which Cache Key settings were applied to your request. When you send a request through the Trace tool, if the request was served from cache, it will show a cache hit in the **Cache Paremeters** section. Then select **View paremeter detail** to see exactly which Cache Key properties were used.\n\n## Limitations\n\nThe [Prefetch](https://developers.cloudflare.com/speed/optimization/content/prefetch-urls/) feature is not compatible with the [Custom Cache Keys](https://developers.cloudflare.com/cache/how-to/cache-rules/examples/custom-cache-key/). With [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/), the custom cache key is used to cache all assets. However, Prefetch always uses the default cache key. This results in a key mismatch.\n\n</page>\n\n<page>\n---\ntitle: Cache Rules Â· Cloudflare Cache (CDN) docs\ndescription: Use Cache Rules to customize cache settings on Cloudflare. Cache\n  Rules allows you to make adjustments to what is eligible to cache, how long it\n  should be cached and where, as well as trigger specific interactions with\n  Cloudflare's cache and other Rules products for matching requests.\nlastUpdated: 2025-02-13T16:37:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/cache-rules/\n  md: https://developers.cloudflare.com/cache/how-to/cache-rules/index.md\n---\n\nUse Cache Rules to customize cache settings on Cloudflare. Cache Rules allows you to make adjustments to what is eligible to cache, how long it should be cached and where, as well as trigger specific interactions with Cloudflare's cache and other Rules products for matching requests.\n\nCache Rules can be created in the [dashboard](https://developers.cloudflare.com/cache/how-to/cache-rules/create-dashboard/), via [API](https://developers.cloudflare.com/cache/how-to/cache-rules/create-api/) or [Terraform](https://developers.cloudflare.com/cache/how-to/cache-rules/terraform-example/).\n\nNotes\n\nCache Rules require that you [proxy the DNS records](https://developers.cloudflare.com/dns/proxy-status/) of your domain (or subdomain) through Cloudflare.\n\nRules can be versioned. Refer to the [Version Management](https://developers.cloudflare.com/version-management/) documentation for more information.\n\n## Rules templates\n\nCloudflare provides you with rules templates for common use cases.\n\n1. In the Cloudflare dashboard, go to the Rules **Overview** page.\n\n   [Go to **Overview**](https://dash.cloudflare.com/?to=/:account/:zone/rules/overview)\n\n2. Select **Templates**, and then select one of the available templates.\n\nYou can also refer to the [Examples gallery](https://developers.cloudflare.com/rules/examples/) in the developer docs.\n\n## Availability\n\nThe following table describes Cache Rules availability per plan.\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | Yes | Yes | Yes | Yes |\n| Number of rules | 10 | 25 | 50 | 300 |\n\n## Troubleshooting\n\nWhen troubleshooting Cache Rules, use [Cloudflare Trace](https://developers.cloudflare.com/rules/trace-request/) to determine if a rule is triggering for a specific URL.\n\n</page>\n\n<page>\n---\ntitle: Cache by status code Â· Cloudflare Cache (CDN) docs\ndescription: Customers can set cache time-to-live (TTL) based on the response\n  status from the origin web server. Cache TTL refers to the duration of a\n  resource in the Cloudflare network before being marked as STALE or discarded\n  from cache. Status codes are returned by a resource's origin.\nlastUpdated: 2025-12-02T11:09:48.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/configure-cache-status-code/\n  md: https://developers.cloudflare.com/cache/how-to/configure-cache-status-code/index.md\n---\n\nCustomers can set cache time-to-live (TTL) based on the response status from the origin web server. Cache TTL refers to the duration of a resource in the Cloudflare network before being marked as `STALE` or discarded from cache. Status codes are returned by a resource's origin.\n\nSetting cache TTL based on response status overrides the [default cache behavior (standard caching)](https://developers.cloudflare.com/cache/concepts/default-cache-behavior/) for static files and overrides cache instructions sent by the origin web server. To cache non-static assets, set a [Cache Level of Cache Everything using a Cache Rule](https://developers.cloudflare.com/cache/how-to/cache-rules/create-api/#example-requests). Setting `no-store` **Cache-Control** or a low TTL (using `max-age`/`s-maxage`) increases requests to origin web servers and decreases performance.\n\n## Caching limits\n\nThe maximum caching limit for Free, Pro, and Business customers is 512 MB per file, and the maximum caching limit for Enterprise customers is 5 GB per file. If you need to raise the limits, contact your Customer Success Manager.\n\n## Edge TTL\n\nBy default, Cloudflare caches certain HTTP response codes with the followingÂ Edge Cache TTLÂ when a `cache-control` directive or `expires` response header are not present.\n\n| HTTP status code | Default TTL |\n| - | - |\n| 200, 206, 301 | 120m |\n| 302, 303 | 20m |\n| 404, 410 | 3m |\n\nAll other status codes are not cached by default.\n\n## Set cache TTL by response status via the Cloudflare dashboard\n\nTo set cache TTL by response status, [create a Cache Rule](https://developers.cloudflare.com/cache/how-to/cache-rules/) for [**Cache TTL by status code**](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#edge-ttl).\n\n## Set cache TTL by response status via the Cloudflare API",
      "language": "unknown"
    },
    {
      "code": "### Syntax\n\nProvide a JSON object containing status codes and their corresponding TTLs. Each key-value pair in the cache TTL by status cache rule has the following syntax:\n\n* `status_code`: An integer value such as 200 or 500. `status_code` matches the exact status code from the origin web server. Valid status codes are between 100-999.\n* `status_code_range`: Integer values for `from` and `to`. `status_code_range` matches any status code from the origin web server within the specified range.\n* `value`: An integer value that defines the duration an asset is valid in seconds or one of the following strings: `no-store` (equivalent to `-1`), `no-cache` (equivalent to `0`).\n\n## Set cache TTL by response status via a Cloudflare Worker\n\nThe **cacheTtlByStatus** option is a version of the **cacheTtl** feature that designates a cache TTL for a requestâ€™s response status code (for example, `{ \"200-299\": 86400, 404: 1, \"500-599\": 0 }`).\n\n## TTL handling for 304 and 200 status codes\n\n1. If a TTL is not explicitly set for status code `304`, we automatically set it to match the TTL of status code `200` (if the user has defined one for `200`).\n\n2. If a user explicitly sets a different TTL for `304` than for `200`, the following behavior will occur:\n\n* When a `200` response is received, the asset is cached with the TTL specified for status `200`.\n* Once the asset expires and we revalidate with the origin, if the origin returns a `304`, the cache TTL is updated to the value set for `304`.\n\nFor example, if a user specifies a TTL of one hour for status `200` and 0 seconds (cache and always revalidate) for status `304`, the asset will be cached for 1 hour. After it expires, we revalidate with the origin. If the origin returns a `304`, each subsequent request will trigger revalidation. If the origin continues to return `304`, this cycle will persist.\n\nThis behavior is likely undesirable unless the user has a specific use case. Therefore, users should ensure that the TTL for `304` matches the TTL for `200` unless they intentionally require this behavior.\n\n</page>\n\n<page>\n---\ntitle: Edge and Browser Cache TTL Â· Cloudflare Cache (CDN) docs\ndescription: Edge Cache TTL (Time to Live) specifies the maximum time to cache a\n  resource in the Cloudflare global network. Edge Cache TTL is not visible in\n  response headers and the minimum Edge Cache TTL depends on plan type.\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/edge-browser-cache-ttl/\n  md: https://developers.cloudflare.com/cache/how-to/edge-browser-cache-ttl/index.md\n---\n\n## Edge Cache TTL\n\nEdge Cache TTL (Time to Live) specifies the maximum time to cache a resource in the Cloudflare global network. Edge Cache TTL is not visible in response headers and the minimum Edge Cache TTL depends on plan type.\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | Yes | Yes | Yes | Yes |\n| Minimum Edge Cache TTL | 2 hours | 1 hour | 1 second | 1 second |\n\nFor more information on how to set up Edge Cache TTL, refer to [Cache rules](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#edge-ttl).\n\n## Browser Cache TTL\n\nThe Browser Cache TTL sets the expiration for resources cached in a visitorâ€™s browser. By default, Cloudflare honors the cache expiration set in your `Expires` and `Cache-Control` headers but overrides those headers if:\n\n* The value of the `Expires` or `Cache-Control` header from the origin web server is less than the Browser Cache TTL Cloudflare setting.\n* The origin web server does not send a `Cache-Control` or an `Expires` header.\n\nUnless specifically set in a cache rule, Cloudflare does not override or insert `Cache-Control` headers if you set **Browser Cache TTL** to **Respect Existing Headers**.\n\nNote\n\n* Setting high Browser Cache TTL values means that the assets will be cached for a long time by usersâ€™ browsers.\n* If you modify cached assets, the new assets may not be displayed to repeat visitors before the Browser Cache TTL expires.\n* Purging Cloudflareâ€™s cache does not affect assets stored by a visitorâ€™s browser.\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | Yes | Yes | Yes | Yes |\n| Minimum Browser Cache TTL (Page Rules) | 2 minutes | 2 minutes | 2 minutes | 30 seconds |\n| Minimum Browser Cache TTL | 1 second | 1 second | 1 second | 1 second |\n| Default Browser Cache TTL | 4 hours | 4 hours | 4 hours | 4 hours |\n\nFor more information on setting the Browser Cache TTL, refer to [Set Browser Cache TTL](https://developers.cloudflare.com/cache/how-to/edge-browser-cache-ttl/set-browser-ttl/).\n\n</page>\n\n<page>\n---\ntitle: Purge cache Â· Cloudflare Cache (CDN) docs\ndescription: \"Cloudflare's Instant Purge ensures that updates to your content\n  are reflected immediately. Multiple options are available for purging content,\n  with single-file cache purging (purge by URL) being the recommended method.\n  However, the following additional options are also available:\"\nlastUpdated: 2025-04-09T16:31:57.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/purge-cache/\n  md: https://developers.cloudflare.com/cache/how-to/purge-cache/index.md\n---\n\nCloudflare's Instant Purge ensures that updates to your content are reflected immediately. Multiple options are available for purging content, with single-file cache purging (purge by URL) being the recommended method. However, the following additional options are also available:\n\n* [â€‹Purge by single-file](https://developers.cloudflare.com/cache/how-to/purge-cache/purge-by-single-file/)\n* [â€‹Purge everything](https://developers.cloudflare.com/cache/how-to/purge-cache/purge-everything/)\n* [Purge cache by cache-tags](https://developers.cloudflare.com/cache/how-to/purge-cache/purge-by-tags/)\n* [â€‹Purge cache by hostname](https://developers.cloudflare.com/cache/how-to/purge-cache/purge-by-hostname/)\n* [â€‹Purge cache by prefix (URL)](https://developers.cloudflare.com/cache/how-to/purge-cache/purge_by_prefix/)\n* [Purge cache key resources](https://developers.cloudflare.com/cache/how-to/purge-cache/purge-cache-key/)\n* [Pâ€‹urge varied images](https://developers.cloudflare.com/cache/how-to/purge-cache/purge-varied-images/)\n* [Purge zone versions via API](https://developers.cloudflare.com/cache/how-to/purge-cache/purge-zone-versions/)\n\nNote\n\nIf versioning is active on your zone and multiple environments are configured, you can select the specific environment you want to purge. For more details, refer to the [Version Management](https://developers.cloudflare.com/version-management/) documentation.\n\n## Availability and limits\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | Yes | Yes | Yes | Yes |\n| Purge options | URL, Hostname, Tag, Prefix, and Purge Everything | URL, Hostname, Tag, Prefix, and Purge Everything | URL, Hostname, Tag, Prefix, and Purge Everything | URL, Hostname, Tag, Prefix, and Purge Everything |\n\n### Hostname, tag, prefix URL, and purge everything limits\n\nThe current purge limits are applied per **account**:\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Requests | 5 requests per minute | 5 requests per second | 10 requests per second | 50 requests per second |\n| Bucket size | 25 | 25 | 50 | 500 |\n| Max operations per request | 100 | 100 | 100 | 100 |\n\n### Single-file purge limits\n\nThe current purge limits are applied per **account**:\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| URLs | 800 URLs per second | 1500 URLs per second | 1500 URLs per second | 3000 URLs per second |\n| Max operations per request | 100 | 100 | 100 | 500 |\n\nNote that the thresholds for URLs are calculated using a moving average.\n\n### Token bucket rate limiting\n\nCloudflare uses token bucket rate limiting to limit the number of purge requests flowing through the system at any given time, ensuring a steady and manageable flow.\n\nEach account tier has a defined request rate (for example, Free: 5 requests per minute, Business: 10 requests per second), and requests are only allowed if there are available tokens in the bucket. Tokens refill at a consistent rate, but each bucket has a maximum capacity (for example, Free: 25 tokens, Enterprise: 500 tokens), allowing short bursts of requests if tokens have accumulated.\n\nIf the bucket is empty, further requests must wait until new tokens are added. This system maintains fair usage while allowing occasional bursts within the bucket's capacity.\n\nIf you are an Enterprise customer and you need more operations, reach out to your account team for support.\n\n</page>\n\n<page>\n---\ntitle: Caching levels Â· Cloudflare Cache (CDN) docs\ndescription: Caching levels determine how much of your websiteâ€™s static content\n  Cloudflare should cache. Cloudflareâ€™s CDN caches static content according to\n  the levels below.\nlastUpdated: 2024-10-10T10:43:06.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/set-caching-levels/\n  md: https://developers.cloudflare.com/cache/how-to/set-caching-levels/index.md\n---\n\nCaching levels determine how much of your websiteâ€™s static content Cloudflare should cache. Cloudflareâ€™s CDN caches static content according to the levels below.\n\n* **No Query String**: Delivers resources from cache when there is no query string. Example URL: `example.com/pic.jpg`\n* **Ignore Query String**: Delivers the same resource to everyone independent of the query string. Example URL: `example.com/pic.jpg?ignore=this-query-string`\n* **Standard (Default)**: Delivers a different resource each time the query string changes. Example URL: `example.com/pic.jpg?with=query`\n\nYou can adjust the caching level from the dashboard under **Caching** > **Configuration** > **Caching level**.\n\nNote\n\nIgnore Query String only disregards the query string for static file extensions. For example, Cloudflare serves the `style.css` resource to requests for either `style.css?this` or `style.css?that`.\n\n## API Caching level values\n\nIf you are using the API to change the cache level, the values will differ from those shown in the dashboard. Refer to the table below to see how the API values map to the values shown in the dashboard.\n\n| Dashboard | API |\n| - | - |\n| No Query String | Basic |\n| Ignore Query String | Simplified |\n| Standard (Default) | Aggressive |\n\n</page>\n\n<page>\n---\ntitle: Tiered Cache Â· Cloudflare Cache (CDN) docs\ndescription: Tiered Cache uses the size of Cloudflareâ€™s network to reduce\n  requests to customer origins by dramatically increasing cache hit ratios. With\n  data centers around the world, Cloudflare caches content very close to end\n  users. However, if a piece of content is not in cache, the Cloudflare edge\n  data centers must contact the origin server to receive the cacheable content.\nlastUpdated: 2025-10-06T13:41:54.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/how-to/tiered-cache/\n  md: https://developers.cloudflare.com/cache/how-to/tiered-cache/index.md\n---\n\nTiered Cache uses the size of Cloudflareâ€™s network to reduce requests to customer origins by dramatically increasing cache hit ratios. With data centers around the world, Cloudflare caches content very close to end users. However, if a piece of content is not in cache, the Cloudflare edge data centers must contact the origin server to receive the cacheable content.\n\nTiered Cache works by dividing Cloudflareâ€™s data centers into a hierarchy of lower-tiers and upper-tiers. If content is not cached in lower-tier data centers (generally the ones closest to a visitor), the lower-tier must ask an upper-tier to see if it has the content. If the upper-tier does not have the content, only the upper-tier can ask the origin for content. This practice improves bandwidth efficiency by limiting the number of data centers that can ask the origin for content, which reduces origin load and makes websites more cost-effective to operate.\n\nAdditionally, Tiered Cache concentrates connections to origin servers so they come from a small number of data centers rather than the full set of network locations. This results in fewer open connections using server resources.\n\nTo enable Tiered Cache, refer to [Enable Tiered Cache](https://developers.cloudflare.com/cache/how-to/tiered-cache/#enable-tiered-cache).\n\n## Tiered Cache Topology\n\nCloudflare allows you to select your cache topology so that you have control over how your origin connects to Cloudflareâ€™s data centers. This will help ensure higher cache hit ratios, fewer origin connections, and a reduction of Internet latency. Below you can find details about the options we have available.\n\n### Smart Tiered Cache\n\nSmart Shield\n\nThis functionality is now offered as part of Cloudflare's origin server safeguard, Smart Shield. [Learn more](https://developers.cloudflare.com/smart-shield/).\n\nSmart Tiered Cache dynamically selects the single closest upper tier for each of your websiteâ€™s origins with no configuration required, using our in-house performance and routing data. Cloudflare collects latency data for each request to an origin, and uses the latency data to determine how well any upper-tier data center is connected with an origin. As a result, Cloudflare can select the data center with the lowest latency to be the upper-tier for an origin.\n\n#### Load Balancing interaction\n\nWhile Smart Tiered Cache selects one Upper Tier per origin, when using Load Balancing, Smart Tiered Cache will select the single best Upper Tier for the entire [Load Balancing Pool](https://developers.cloudflare.com/load-balancing/understand-basics/load-balancing-components/#pools).\n\n#### Caveats\n\nSmart Tiered Cache does not work when an origin is behind an [anycast](https://www.cloudflare.com/en-gb/learning/cdn/glossary/anycast-network/) or a regional unicast network because that will prevent us from knowing where the origin is located. As a result, we are unable to select the optimal upper tier and latency may be negatively impacted.\n\nYou need to be careful when updating your origin IPs/DNS records while Smart Tiered Cache is enabled. Depending on the changes made, it may cause the existing assigned upper tiers to change, resulting in an increased `MISS` rate as cache is refilled in the new upper tiers. If the origin is switched to a network behind anycast, it will significantly reduce the effectiveness of Smart Tiered Cache.\n\nIf you need to use anycast or regional unicast and want to use Smart Tiered cache, please engage your account team.\n\n### Generic Global Tiered Cache\n\nGeneric Global topology allows for all of Cloudflareâ€™s global data centers to serve as a network of upper-tiers. This topology may help reduce the long tail latencies for far-away visitors.\n\n### Regional Tiered Cache\n\nSmart Shield\n\nThis functionality is now offered as part of Cloudflare's origin server safeguard, Smart Shield. [Learn more](https://developers.cloudflare.com/smart-shield/).\n\nRegional Tiered Cache provides an additional layer of caching for customers who have a global traffic footprint and want to serve content faster by avoiding network latency when there is a cache `MISS` in a lower-tier, resulting in an upper-tier fetch in a data center located far away.\n\nRegional Tiered Cache instructs Cloudflare to check a regional hub data center near the lower tier before going to the upper tier that may be outside of the region.\n\nThis can help improve performance for **Smart** and **Custom Tiered Cache** topologies with upper-tiers in one or two regions. Regional Tiered Cache is not beneficial for customers with many upper tiers in many regions like Generic Global Tiered Cache.\n\n### Custom Tiered Cache\n\nCustom Tiered cache allows Enterprise customers to work with their account team to set a custom topology that fits your specific needs, for instance you have close upper tiers or you have an unique traffic pattern. If you want a custom topology, please engage your account team.\n\n## Availability\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Tiered Cache | Yes | Yes | Yes | Yes |\n| Smart Topology | Yes | Yes | Yes | Yes |\n| Generic Global Topology | No | No | No | Yes |\n| Regional Tiered Cache | No | No | No | Yes |\n| Custom Topology | No | No | No | Yes |\n\n## Bandwidth Alliance\n\nEnterprise customers can override Bandwidth Alliance configuration with Tiered Cache. For all other users, the Bandwidth Alliance takes precedence. Tiered Cache is still a valuable option to enable because the Bandwidth Alliance may not always be an available option, and in those instances, the Tiered Cache configuration will be used.\n\n## Enable Tiered Cache\n\nYou can enable Tiered Cache in the dashboard or via API.\n\n### Enable Tiered Cache in the dashboard\n\n1. In the Cloudflare dashboard, go to the **Tiered Cache** page.\n\n   [Go to **Tiered Cache**](https://dash.cloudflare.com/?to=/:account/:zone/caching/tiered-cache)\n\n2. From **Tiered Cache**, toggle the button to **enabled**.\n\n3. In **Tiered Cache Topology**, you can control how your origin connects to Cloudflareâ€™s data centers. You can select:\n\n   * **Upper Tier Cache** - You have the option to choose between Smart or Generic Global Tiered Cache Topology.\n   * **Middle Tier Cache** - If you have selected Smart or Custom Tiered Cache Topology, you can now enable Regional Tiered Cache.\n   * **Custom Tiered Cache** - Allows you to work with Cloudflareâ€™s support team to set a custom topology that fits your specific needs.\n   * **Disable Tiered Cache**.\n\n![Tiered Cache Topology dashboard](https://developers.cloudflare.com/_astro/tiered_cache_topology.sy3gfwwc_ZdD2IV.webp)\n\n### Enable Tiered Cache via API\n\nTo enable Tiered Cache via API use the following cURL example:",
      "language": "unknown"
    },
    {
      "code": "You can also configure Tiered Cache Topology via API, for instance:\n\nEnable Smart Tiered Cache\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Zone Settings Write`\n* `Zone Write`",
      "language": "unknown"
    },
    {
      "code": "Enable Regional Tiered Cache\n\nRequired API token permissions\n\nAt least one of the following [token permissions](https://developers.cloudflare.com/fundamentals/api/reference/permissions/) is required:\n\n* `Zone Settings Write`\n* `Zone Write`",
      "language": "unknown"
    },
    {
      "code": "For more API examples and configuration options for Tiered Cache, refer to the [API documentation](https://developers.cloudflare.com/api/resources/argo/subresources/tiered_caching/methods/get/).\n\nNote\n\nTo confirm that Tiered Cache is working, make sure you have the value `CacheTieredFill` in your http\\_requests logs, this will indicate that Tiered Cache was used to serve the request.\n\n</page>\n\n<page>\n---\ntitle: Enable cache in an R2 bucket Â· Cloudflare Cache (CDN) docs\ndescription: \"To enable caching for a Cloudflare R2 bucket, make sure your\n  bucket is public and accessible by the Cache. This can be done by creating a\n  Custom Domain. Follow these steps to set up a Custom Domain for your bucket:\"\nlastUpdated: 2025-04-15T08:21:57.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/interaction-cloudflare-products/r2/\n  md: https://developers.cloudflare.com/cache/interaction-cloudflare-products/r2/index.md\n---\n\nTo enable caching for a [Cloudflare R2](https://developers.cloudflare.com/r2/) bucket, make sure your bucket is public and accessible by the Cache. This can be done by creating a [Custom Domain](https://developers.cloudflare.com/r2/buckets/public-buckets/#custom-domains). Follow these steps to set up a Custom Domain for your bucket:\n\n1. Go to **R2** and select your bucket.\n2. On the bucket page, select **Settings**.\n3. Under **Public access** > **Custom Domains**, select **Connect Domain**.\n4. Enter the domain name you want to connect to and select **Continue**.\n5. Review the new record that will be added to the DNS table and select **Connect Domain**.\n\nThis will generate a publicly available CNAME in the format `[name].domain.com`.\n\n## Tiered Cache\n\nBy default Cloudflare will cache R2 content based on [cache rules](https://developers.cloudflare.com/cache/how-to/cache-rules/) at the Edge only.\n\nTiered cache can be enabled by configuring [Smart Tiered Cache](https://developers.cloudflare.com/cache/how-to/tiered-cache/#smart-tiered-cache) which will select an Upper Tier data center next to your R2 bucket for optimal performance.\n\n## Additional considerations\n\n* Apply access controls to your newly public bucket. Refer to [Control cache access with WAF and Snippets](https://developers.cloudflare.com/cache/interaction-cloudflare-products/waf-snippets/) for more information.\n* Be aware of the [cacheable size limits](https://developers.cloudflare.com/cache/concepts/default-cache-behavior/#cacheable-size-limits) for files.\n\n</page>\n\n<page>\n---\ntitle: Control cache access with WAF and Snippets Â· Cloudflare Cache (CDN) docs\ndescription: To limit access to the public bucket created for caching content,\n  you can use Cloudflare's WAF. The WAF provides an additional security layer to\n  filter requests and ensure that only authorized traffic reaches your bucket.\nlastUpdated: 2025-04-15T08:21:57.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/interaction-cloudflare-products/waf-snippets/\n  md: https://developers.cloudflare.com/cache/interaction-cloudflare-products/waf-snippets/index.md\n---\n\nTo limit access to the public bucket created for caching content, you can use Cloudflare's [WAF](https://developers.cloudflare.com/waf/custom-rules/use-cases/configure-token-authentication/). The WAF provides an additional security layer to filter requests and ensure that only authorized traffic reaches your bucket.\n\nThe following diagram illustrates the flow of a user's request through WAF, Cache, and R2.",
      "language": "unknown"
    },
    {
      "code": "The WAF product uses token authentication to either sign or authenticate a request. You can then use this in either Workers or Snippets to control access.\n\n## Presigned URLs\n\nYou can presign URLs similar to [S3](https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-presigned-url.html), enabling you to share direct access to your content with a with an associated timeout. This approach can be implemented using a combination of Snippets, Rules, or Cloudflare Workers.\n\nFor optimal performance, we recommend separating the creation and validation processes as follows:\n\n* [Snippets](https://developers.cloudflare.com/rules/snippets/examples/signing-requests/) for HMAC creation\n* [Rules](https://developers.cloudflare.com/ruleset-engine/rules-language/functions/#hmac-validation) for HMAC validation\n\nIn the Workers documentation, in the section [Signing requests](https://developers.cloudflare.com/workers/examples/signing-requests/), you can also find an example of how to verify a signed request using the HMAC.\n\n</page>\n\n<page>\n---\ntitle: Customize cache behavior with Workers Â· Cloudflare Cache (CDN) docs\ndescription: You can use Workers to customize cache behavior on Cloudflare's\n  CDN. Cloudflare Workers provide flexibility in handling assets and responses\n  by running both before and after the cache. A Worker can be configured to run\n  before a request reaches the cache, allowing for modifications to the request,\n  and it can also be used to modify assets once they are returned from the\n  cache.\nlastUpdated: 2025-03-20T14:38:38.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/interaction-cloudflare-products/workers/\n  md: https://developers.cloudflare.com/cache/interaction-cloudflare-products/workers/index.md\n---\n\nYou can use [Workers](https://developers.cloudflare.com/workers/) to customize cache behavior on Cloudflare's CDN. Cloudflare Workers provide flexibility in handling assets and responses by running both before and after the cache. A Worker can be configured to run before a request reaches the cache, allowing for modifications to the request, and it can also be used to modify assets once they are returned from the cache.\n\nThe diagram below illustrates a common interaction flow between Workers and Cache.\n\n![Workers and cache flow example flow diagram.](https://developers.cloudflare.com/_astro/workers-cache-flow.DBEQRofC_Z2dn2tk.webp)\n\n1. A User (a) Requests a URI, and this request is directed to a Worker. The Worker can then interact with the request, either requesting the content further upstream using (b) fetch() or sending a (f) Response back to the User.\n2. If the content is cached, the Cache will send a (e) Response back to the Worker which can now interact with the response before sending a (f) Response back to the user.\n3. When using cache rules with Workers, the cache rule should not be set based on the user URL/host (a). Instead, the rule must match the properties of the URL in the fetch() (b) request â€” such as headers, hostname, or URL path â€” otherwise, the rule will not be applied.\n\nHere are a few examples of how Workers can be used to customize cache behavior:\n\n* **Modify Response**: Adjust or enhance content after it is retrieved from the cache, ensuring that responses are up-to-date or tailored to specific needs.\n\n* **Signed URLs**: Generate URLs that are valid for a specific duration (for example, minutes, hours, days) to control access and enhance security.\n\n* **Personalized Response**: Deliver personalized content based on user data while leveraging cached resources to reduce the load on the origin.\n\n* **Reduce Latency**: Serve content from a location close to the user, decreasing load times and improving the user experience.\n\nYou can also use [Snippets](https://developers.cloudflare.com/rules/snippets/) as a free alternative for simple modifications and logic, bypassing the need for full Worker scripts. These lightweight scripts enable quick adjustments and optimizations, offering an efficient way to enhance your Cloudflare setup without the complexity and overhead of more extensive code deployments.\n\nNote\n\nWhen using Workers and [Orange-to-Orange (O2O)](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/), some caveats and limitations may apply.\n\n## Cache features in Workers\n\n* **fetch()**: Allows interaction with Cloudflare's Cache and Tiered Cache, providing control over how requests are handled. To optimize caching behavior, you can set TTLs, define custom cache keys, and configure cache headers directly within a fetch request. For more details on these configurations, refer to [Cache using fetch](https://developers.cloudflare.com/workers/examples/cache-using-fetch/).\n\n* **Cache API**: Enables storing and retrieving responses from Cloudflare's cache, limited to the cache in the local data center and excluding content stored in the Tiered Cache. To use the Cache API to store responses in Cloudflare's cache, refer to [Using the Cache API](https://developers.cloudflare.com/workers/examples/cache-api/).\n\nTo understand more about how Cache and Workers interact refer to [Cache in Workers](https://developers.cloudflare.com/workers/reference/how-the-cache-works/).\n\n</page>\n\n<page>\n---\ntitle: How Workers interact with Cache Rules Â· Cloudflare Cache (CDN) docs\ndescription: Your Workers script can override Cache Rules behavior, whether it\n  is applied to a zone using Cloudflare or a zone that is not proxied through\n  Cloudflare.\nlastUpdated: 2025-12-02T11:27:33.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/interaction-cloudflare-products/workers-cache-rules/\n  md: https://developers.cloudflare.com/cache/interaction-cloudflare-products/workers-cache-rules/index.md\n---\n\nYour Workers script can override [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/) behavior, whether it is applied to a zone using Cloudflare or a zone that is not proxied through Cloudflare.\n\nFor example, if there is a cache rule configured to bypass cache for `example.com/foo`, but your Workers script sets `cacheEverything: true`, the script's setting will take precedence, and the request will be cached. The same applies if the request is made to a non-Cloudflare zone â€” the Worker's `cacheEverything` setting will still override.\n\n## Precedence order\n\nCache behavior is determined by the following order of precedence:\n\n1. [Workers](https://developers.cloudflare.com/workers/) script settings\n2. [Cache rules](https://developers.cloudflare.com/cache/how-to/cache-rules/)\n3. [Page rules](https://developers.cloudflare.com/rules/page-rules/)\n\nCache rules override page rule settings, and Workers scripts override cache rules. Among rules at the same level, the one with the highest specificity takes priority.\n\n## Compatibility flags\n\nThis override behavior is controlled by [compatibility flags](https://developers.cloudflare.com/workers/configuration/compatibility-flags/):\n\n* For the [Fetch API](https://developers.cloudflare.com/workers/runtime-apis/fetch/): `request_cf_overrides_cache_rules`\n* For the [Cache API](https://developers.cloudflare.com/workers/runtime-apis/cache/): `cache_api_request_cf_overrides_cache_rules`\n\nThese flags must be enabled to allow Workers scripts to override cache rules.\n\n### Compatibility date behavior\n\nWhether these flags are enabled by default depends on your Worker's compatibility date:\n\n* **Fetch API (`request_cf_overrides_cache_rules`)**\n  * Enabled by default for compatibility dates **on or after 2025-04-02**.\n\n* **Cache API (`cache_api_request_cf_overrides_cache_rules`)**\n\n  * Enabled by default for compatibility dates **on or after 2025-05-19**.\n\n  * **Important:** For `cache_api_request_cf_overrides_cache_rules` to be recognized, you must also enable `cache_api_compat_flags`.\n\n    * `cache_api_compat_flags` enables the compatibility flag functionality for Workers. If `cache_api_compat_flags` is not set, then no compatibility flags â€” even if configured â€” will be recognized by the Cache API.\n    * `cache_api_compat_flags` is enabled by default for compatibility dates **on or after 2025-04-19**.\n\nIf your Worker has an earlier compatibility date than the ones listed above, the corresponding flags must be manually enabled; otherwise, cache behavior will follow the original cache rules instead of the Worker's settings.\n\n### Example (Older compatibility date)\n\nIf a cache rule is configured to bypass cache for `example.com/foo`, and a Worker with a compatibility date of `2025-04-02` or earlier tries to set `cacheEverything: true`, the cache rule will take effect, and the response will not be cached.\n\nLikewise, if using the Cache API without `cache_api_compat_flags` enabled, even if you enable `cache_api_request_cf_overrides_cache_rules`, the Cache API will not take effect.\n\n</page>\n\n<page>\n---\ntitle: Cache Analytics Â· Cloudflare Cache (CDN) docs\ndescription: Use Cache Analytics to improve site performance or reduce origin\n  web server traffic. Cache Analytics helps determine if resources are missing\n  from cache, expired, or ineligible for caching. Cache Analytics includes\n  filter by hostname, list of top URLs that miss cache, and a query of up to\n  three days of data.\nlastUpdated: 2025-10-06T13:41:54.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/performance-review/cache-analytics/\n  md: https://developers.cloudflare.com/cache/performance-review/cache-analytics/index.md\n---\n\nUse Cache Analytics to improve site performance or reduce origin web server traffic. Cache Analytics helps determine if resources are missing from cache, expired, or ineligible for caching. Cache Analytics includes filter by hostname, list of top URLs that miss cache, and a query of up to three days of data.\n\n## Availability\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | No | Yes | Yes | Yes |\n| Retention period | N/A | 7 days | 30 days | 30 days |\n\n## Access Cache Analytics\n\nIn the Cloudflare dashboard, go to the **Caching** page.\n\n[Go to **Overview**](https://dash.cloudflare.com/?to=/:account/:zone/caching)\n\n## Requests vs Data Transfer\n\nYou can decide wheter to focus on **Requests** or **Data Transfer**:\n\n* **Requests** (default view) help assess performance, as each cache miss slows down content delivery.\n* **Data Transfer** is useful for cost analysis, since most hosting providers charge for every byte that leaves their network.\n\nYou can switch between these views while keeping other analytics filters applied.\n\nFor best practices related to Cache Analytics, refer to [Cache performance](https://developers.cloudflare.com/cache/performance-review/cache-performance/).\n\n## Add filters\n\nCache Analytics also allows for flexible filtering of data. Create filters to focus on the traffic to optimize. Example filters include **Cache status**, **Host**, **Path**, or **Content type**.\n\nTo add filters, under **Cache Performance**, select **Add filter**. Select **Apply** when you are done.\n\n## Review cache status\n\nThe **Requests summary** graph depicts how your traffic changes over time, such as in response to a high-traffic event or a recent configuration change. Note that the Requests summary content is based on a 10% sample of requests. For more information on how sampling works, refer to [Understanding sampling in Cloudflare Analytics](https://developers.cloudflare.com/analytics/sampling/).\n\n**Served by Cloudflare** indicates content served by Cloudflare that did not require contacting your origin web server. **Served by Origin** indicates traffic served from the origin web server.\n\nFor **Data Transfer**, **Revalidated** requests are considered **Served by Cloudflare**. However, revalidated requests count as **Served by Origin** within the **Requests** view. This analytics behavior reflects that Cloudflare must check the origin web server for revalidated cache requests before returning a result from cache.\n\n**Cache status** graphs help explain why traffic is served from Cloudflare versus the origin web server. The graph shows analytics by content-type to portray how different components of your website perform:\n\nFor a breakdown of cache statuses and their descriptions, refer to [Cloudflare cache responses](https://developers.cloudflare.com/cache/concepts/cache-responses/).\n\n## Review requests by source\n\nCache Analytics shows top metrics (Top-N) for several request components. Apply filters before reviewing Top-N metrics. For example, filtering to only view traffic with an Expired or Revalidated Cache status lets you review which URLs were primarily responsible for those statuses.\n\n### Empty content types\n\nFinding an **empty** content type when reviewing your analytics is common. This content type occurs when 301/302 redirects do not contain an HTTP response body. Additionally, most HTTP error codes, such as 403, do not return text/html and are therefore also reported as empty.\n\n</page>\n\n<page>\n---\ntitle: CDN Reference Architecture Â· Cloudflare Cache (CDN) docs\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/reference/cdn-reference-architecture/\n  md: https://developers.cloudflare.com/cache/reference/cdn-reference-architecture/index.md\n---\n\n\n</page>\n\n<page>\n---\ntitle: Cache performance Â· Cloudflare Cache (CDN) docs\ndescription: Depending on the cache status you receive, you can make\n  modifications to improve your cache ratio. To review the list of cache\n  statuses, refer to Cloudflare cache responses.\nlastUpdated: 2024-09-16T18:29:37.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/performance-review/cache-performance/\n  md: https://developers.cloudflare.com/cache/performance-review/cache-performance/index.md\n---\n\n## Optimize cache ratios\n\nDepending on the cache status you receive, you can make modifications to improve your cache ratio. To review the list of cache statuses, refer to [Cloudflare cache responses](https://developers.cloudflare.com/cache/concepts/cache-responses/).\n\n* **Dynamic**: Default response for many file types including HTML. To cache additional content, refer to [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/).\n\n* **Revalidated**: To address an atypical quantity of revalidated content, consider [increasing your Edge Cache TTLs](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#edge-ttl).\n\n* **Expired**: Consider [extending Edge Cache TTLs](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#edge-ttl)) for these resources via a Cache Rule or enable revalidation at your origin.\n\n* **Miss**: Although tricky to optimize, there are a few potential remedies:\n\n  * [Enable Argo Tiered Caching](https://developers.cloudflare.com/cache/how-to/tiered-cache/#enable-tiered-cache) to check cache in another Cloudflare data center before checking the origin web server.\n  * [Create a custom cache key](https://developers.cloudflare.com/cache/how-to/cache-rules/examples/custom-cache-key/) for multiple URLs to match the same cached resource, for example by ignoring query string.\n\n## Example reports for troubleshooting cache performance\n\nSeveral examples of helpful insights into your site performance via Cache Analytics include:\n\n* Not caching HTML.\n\n  * Identify the issue: Select **Add filter** and select **Cache status equals Dynamic**.\n  * Resolution: Set a Cloudflare Cache Rule to [cache dynamic content](https://developers.cloudflare.com/cache/how-to/cache-rules/examples/cache-everything/).\n\nWarning\n\nThis option caches all HTML regardless of the presence of dynamic content. If you use this approach to cache pages containing dynamic content, visitors may receive information not intended for them. To avoid caching dynamic content, you can add a condition to the rule's matching criteria to prevent it from matching that content. Some examples include:\n\n* Checking for the presence of a cookie.\n* Negative matching against known dynamic content file paths.\n* Negative matching against dynamic content extensions (or lack of an extension).\n\n- Short cache expiration TTL.\n\n  * Identify the issue: Select **Add filter** and select **Cache status equals Revalidated**.\n  * Resolution: [Increase Cloudflare's Edge Cache TTL via a Cache Rule](https://developers.cloudflare.com/cache/how-to/cache-rules/examples/edge-ttl/).\n\n- Need to enable Tiered Cache or Custom Cache Key\n\n  * Identify the issue: Select **Add filter** and select **Cache status equals Miss**.\n  * Resolution: [Enable Argo Tiered Caching](https://developers.cloudflare.com/cache/how-to/tiered-cache/#enable-tiered-cache) or [create a custom cache key](https://developers.cloudflare.com/cache/how-to/cache-rules/examples/custom-cache-key/).\n\n</page>\n\n<page>\n---\ntitle: CSAM Scanning Tool Â· Cloudflare Cache (CDN) docs\ndescription: The Child Sexual Abuse Material (CSAM) Scanning Tool allows website\n  owners to proactively identify and take action on CSAM located on their\n  website. By enabling this tool, Cloudflare will compare content served for\n  your website through the Cloudflare cache to known lists of CSAM. These lists\n  are provided to Cloudflare by leading child safety advocacy groups such as the\n  National Center for Missing and Exploited Children (NCMEC).\nlastUpdated: 2025-01-31T11:32:10.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/reference/csam-scanning/\n  md: https://developers.cloudflare.com/cache/reference/csam-scanning/index.md\n---\n\nThe Child Sexual Abuse Material (CSAM) Scanning Tool allows website owners to proactively identify and take action on CSAM located on their website. By enabling this tool, Cloudflare will compare content served for your website through the Cloudflare cache to known lists of CSAM. These lists are provided to Cloudflare by leading child safety advocacy groups such as the National Center for Missing and Exploited Children (NCMEC).\n\nRemember, by enabling the Service, you agree to theÂ [Service-Specific Terms](https://www.cloudflare.com/service-specific-terms-application-services/#csam-scanning-tool-terms)Â for the CSAM Scanning Tool. You agree to use this tool solely for the purposes of preventing the spread of CSAM.\n\n***\n\n## Why would a URL be blocked?\n\nBecause knowingly distributing or viewing CSAM is illegal, the owner of the website has enabled Cloudflare's CSAM scanning tool to proactively identify and block images identified as CSAM located on their website.\n\n***\n\n## Configure the CSAM scanning tool\n\nTo enable the tool:\n\n1. Log into the [Cloudflare dashboard](https://dash.cloudflare.com/).\n2. Select your account and zone.\n3. Go to **Caching** > **Configuration**.\n4. For **CSAM Scanning Tool**, select **Configure**.\n\nYou must provide an email address, which will be used to notify you in the event Cloudflare detects a positive match.\n\n***\n\n## What happens when a match is detected?\n\nWhen a potential match is detected with the tool:\n\n1. An email is sent to you once per day to inform you of any detections made in the past 24 hours. This email will include the file paths of any content that was matched.\n2. If possible, a block is placed to prevent further serving of the matched content. If a block fails, we will indicate that the content has not been blocked in the email.\n\n***\n\n## What action should I take when a match is detected?\n\nYou are responsible for understanding and complying with any legal obligations you have as a website owner when made aware of any potential CSAM. Although legal obligations vary based on the provider and the jurisdiction, website owners often have obligations to report apparent CSAM, to remove content, and to preserve records. Some of those possible obligations are as follows:\n\n* You likely have an obligation to report apparent CSAM to the appropriate authorities. You can file a report to NCMEC with additional information via NCMEC's CyberTip reporting form or find the preferred reporting portal for your jurisdiction via the INHOPE website.\n\n\n\n* You may need to preserve and securely store a copy of the content and related data in the case NCMEC or law enforcement reach out for additional details.\n* You likely have an obligation to securely preserve certain information related to your report for at least 90 days in the case of an investigation. To ensure that access to the content is limited, take care not to store this information anywhere accessible to anyone but those within your organization responsible for legal requests.\n\n\n\n* You should remove the content and notify Cloudflare of the removal.\n* Once any preservation obligations have been fulfilled, you should remove the content from your website. This is especially important if Cloudflare's notice to you indicates that our block was unsuccessful.\n\n***\n\n## How do I have a block removed from my website?\n\nTo disable a block, either because you have determined that the blocked content is not CSAM (a false positive) or because you have taken down the blocked content, view [Blocked Content in the Security Center](https://developers.cloudflare.com/security-center/blocked-content/) in the Cloudflare Dashboard and request reviews on the relevant blocks. A request to remove a block must be accompanied by a representation from you confirming that the blocked content is not CSAM or has been removed.\n\nThese actions are available to users with the following roles:\n\n* Admin\n* Super Admin\n* Trust & Safety\n\n***\n\n## Additional Resources\n\n[CSAM Scanning Tool Supplemental Terms](https://www.cloudflare.com/supplemental-terms/)\n\n[National Center for Missing and Exploited Children (NCMEC)](https://www.missingkids.org/)\n\n[NCMEC CyberTipline](https://www.missingkids.org/gethelpnow/cybertipline)\n\n[INHOPE](https://www.inhope.org/)\n\n</page>\n\n<page>\n---\ntitle: Development Mode Â· Cloudflare Cache (CDN) docs\ndescription: Development Mode temporarily suspends Cloudflare's edge caching and\n  Polish features for three hours unless disabled beforehand. Development Mode\n  allows customers to immediately observe changes to their cacheable content\n  like images, CSS, or JavaScript.\nlastUpdated: 2025-10-06T13:41:54.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/reference/development-mode/\n  md: https://developers.cloudflare.com/cache/reference/development-mode/index.md\n---\n\nDevelopment Mode temporarily suspends Cloudflare's edge caching and [Polish](https://developers.cloudflare.com/images/polish/) features for three hours unless disabled beforehand. Development Mode allows customers to immediately observe changes to their cacheable content like images, CSS, or JavaScript.\n\nNote\n\nTo bypass cache for longer than three hours, use bypass cache in [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/settings/#bypass-cache).\n\n## Enable Development Mode\n\nDevelopment Mode temporarily bypasses Cloudflare's cache and does not purge cached files. To instantly purge your Cloudflare cache, refer to [purge cache](https://developers.cloudflare.com/cache/how-to/purge-cache/).\n\n1. In the Cloudflare dashboard, go to the **Configuration** page.\n\n   [Go to **Configuration**](https://dash.cloudflare.com/?to=/:account/:zone/caching/configuration)\n\n2. Toggle **Development Mode** to **On**.\n\n</page>\n\n<page>\n---\ntitle: Using ETag Headers with Cloudflare Â· Cloudflare Cache (CDN) docs\ndescription: ETag headers identify whether the version of a resource cached in\n  the browser is the same as the resource at the origin web server.Â A visitor's\n  browser stores ETags. When a visitor revisits a site, the browser compares\n  each ETag to the one it stored. Matching values cause a 304 Not-Modified HTTP\n  response that indicates the cached resource version is current. Cloudflare\n  supports both strong and weak ETags configured at your origin web server.\nlastUpdated: 2025-11-04T09:21:07.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/reference/etag-headers/\n  md: https://developers.cloudflare.com/cache/reference/etag-headers/index.md\n---\n\nETag headers identify whether the version of a resource cached in the browser is the same as the resource at the origin web server.Â A visitor's browser stores ETags. When a visitor revisits a site, the browser compares each ETag to the one it stored. Matching values cause a `304 Not-Modified HTTP` response that indicates the cached resource version is current. Cloudflare supports both strong and weak ETags configured at your origin web server.\n\n## Weak ETags\n\nWeak ETag headers indicate a cached resource is semantically equivalent to the version on the web server but not necessarily byte-for-byte identical.\n\nNote\n\nWhen using weak ETag headers, it is necessary to disable certain features such as [Email Obfuscation](https://developers.cloudflare.com/waf/tools/scrape-shield/email-address-obfuscation/) and [Automatic HTTPS Rewrites](https://developers.cloudflare.com/ssl/edge-certificates/additional-options/automatic-https-rewrites/) to prevent Cloudflare from removing the ETag headers set by your origin web server. For a comprehensive list of the features you need to disable, refer to the [Notes about end-to-end compression](https://developers.cloudflare.com/speed/optimization/content/compression/#notes-about-end-to-end-compression).\n\n## Strong ETags\n\nStrong ETag headers ensure the resource in browser cache and on the web server are byte-for-byte identical. Use [Cache Rules](https://developers.cloudflare.com/cache/how-to/cache-rules/) to enable strong ETag headers.\n\n### Behavior with Respect Strong ETags enabled\n\nWhen you enable **Respect Strong ETags** in a cache rule, Cloudflare will use strong ETag header validation to ensure that resources in the Cloudflare cache and on the origin server are byte-for-byte identical.\n\nHowever, in some situations Cloudflare will convert strong ETags to weak ETags. For example, given the following conditions:\n\n* **Respect Strong ETags** is enabled\n* [Brotli compression](https://developers.cloudflare.com/speed/optimization/content/compression/) is enabled\n* The origin server's response includes an `etag: \"foobar\"` strong ETag header\n\nThe Cloudflare network will take the following actions, depending on the visitor's `accept-encoding` header and the compression used in the origin server's response:\n\nEnabling **Respect Strong ETags** in Cloudflare automatically disables Rocket Loader, Email Obfuscation, Automatic HTTPS Rewrites, and Mirage.\n\n### Behavior with Respect Strong ETags disabled\n\nWhen **Respect Strong ETags** is disabled, Cloudflare will preserve strong ETag headers set by the origin web server if all the following conditions apply:\n\n* The origin server sends a response compressed using GZIP or Brotli, or an uncompressed response.\n* If the origin server sends a compressed response, the visitor accepts the same compression (GZIP, Brotli), according to the `accept-encoding` header.\n* [Rocket Loader](https://developers.cloudflare.com/speed/optimization/content/rocket-loader/) and [Email Obfuscation](https://developers.cloudflare.com/waf/tools/scrape-shield/email-address-obfuscation/) features are disabled.\n\nIn all other situations, Cloudflare will either convert strong ETag headers to weak ETag headers or remove the strong ETag. For example, given the following conditions:\n\n* **Respect Strong ETags** is disabled\n* [Brotli compression](https://developers.cloudflare.com/speed/optimization/content/compression/) is enabled\n* The origin server's response includes an `etag: \"foobar\"` strong ETag header\n\nThe Cloudflare network will take the following actions, depending on the visitor's `accept-encoding` header and the compression used in the origin server's response:\n\nRefer to [Content compression](https://developers.cloudflare.com/speed/optimization/content/compression/) for more information.\n\n## Important remarks\n\n* You must set the value in a strong ETag header using double quotes (for example, `etag: \"foobar\"`). If you use an incorrect format, Cloudflare will remove the ETag header instead of converting it to a weak ETag.Â \n\n* If a resource is cacheable and there is a cache miss, Cloudflare does not send ETag headers to the origin server. This is because Cloudflare requires the full response body to fill its cache.\n\n* If your origin (or R2) applies compression based on `accept-encoding`, the first compression type will be cached. Consider whether strong ETags fit your use case, or use cache key rules to handle different compression types.\n\n</page>\n\n<page>\n---\ntitle: Always Online - Troubleshooting Â· Cloudflare Cache (CDN) docs\ndescription: Observe the following best practices when enabling Always Online\n  with Internet Archive integration.\nlastUpdated: 2025-05-28T15:52:59.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cache/troubleshooting/always-online/\n  md: https://developers.cloudflare.com/cache/troubleshooting/always-online/index.md\n---\n\nObserve the following best practices when enabling Always Online with Internet Archive integration.\n\n* **Allow requests from the Internet Archive IP addresses.** Origin servers receive requests from the Internet Archive IPs. Make sure you are not blocking requests from the Internet Archive IP range: `207.241.224.0/20` and `208.70.24.0/21`.\n* **The Internet Archive does not consider your origin server's cache-control header.** When the Internet Archive is crawling sites, it will crawl sites regardless of their cache-control, since the Internet Archive does not cache assets, but archives them.\n* **Consider potential conflicts with Cloudflare features that transform URIs.** Always Online with Internet Archive integration may cause issues with Cache Rules and other Cloudflare features that transform URIs due to the way the Internet Archive crawls pages to archive. Specifically, some redirects that take place at the edge may cause the Internet Archive's crawler not to archive the target URL. Before enabling Origin Cache Control, review [how Cloudflare caches resources by default](https://developers.cloudflare.com/cache/concepts/default-cache-behavior/) as well as any Cache Rules you have configured so that you can avoid these issues. If you experience problems, disable Always Online.\n* **Do not block Known Bots or Verified Bots via a WAF custom rule.** If you block either of these bot lists, the Internet Archive will not be able to crawl.\n\nDo not use Always Online with:\n\n* API traffic.\n* An [IP Access rule](https://developers.cloudflare.com/waf/tools/ip-access-rules/) or a [WAF custom rule](https://developers.cloudflare.com/waf/custom-rules/) that blocks the United States or\n* Bypass Cache cache rules. Always Online ignores Bypass Cache cache rules and serves Always Online cached assets.\n\n## Limitations\n\nThere are limitations with the Always Online functionality:\n\n1. Always Online is not immediately active for sites recently added due to:\n\n   * DNS record propagation, which can take 24-72 hours\n   * Always Online has not initially crawled the website\n\n2. Cloudflare cannot show private content behind logins or handle form submission (POSTs) if your origin web server is offline.\n\nAlways Online does not trigger for HTTP response codes such as [404](https://developers.cloudflare.com/support/troubleshooting/http-status-codes/4xx-client-error/error-404/), [503](https://developers.cloudflare.com/support/troubleshooting/http-status-codes/cloudflare-5xx-errors/error-503/), or [500](https://developers.cloudflare.com/support/troubleshooting/http-status-codes/cloudflare-5xx-errors/error-500/) errors such as database connection errors or internal server errors.\n\n## Frequently asked questions\n\n1. How can I know if a page has been crawled?\n\n   * You can go to the [Internet Archive](https://web.archive.org/) and search for the page URL to see if it has been crawled or not.\n   * You can also check this via the [Internet Archive Availability API](https://archive.org/help/wayback_api.php).\n\n2. Why were not pages x, y, and z crawled?\n\n   * Since Cloudflare only requests to crawl the most popular pages on the site, it is possible that there will be missing pages. If you really want to archive a page, then you can visit the [Internet Archive](https://web.archive.org/save) save page and ask them to crawl a particular page.\n\n3. What IP addresses do we need to allowlist to make sure crawling works?\n\n   * IP Range: `207.241.224.0/20` and `208.70.24.0/21`. Note that this ip range belongs to Internet Archive and NOT Cloudflare, since it is the Internet Archive that does the crawling.\n\n4. What user agent should the origin expect to see?\n\n   * Currently the Internet Archive uses: `Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/605.1.15 (KHTML, like Gecko) Chrome/89.0.4389.82 Safari/605.1.15`.\n\n</page>\n\n<page>\n---\ntitle: Global Acceleration Â· Cloudflare China Network docs\ndescription: Global Acceleration is a suite of connectivity offerings designed\n  to simplify your global assets' deployment in China. Global Acceleration is\n  provided by our partners including CMI, CBC Tech, and JD Cloud.\nlastUpdated: 2025-10-23T09:44:53.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/china-network/concepts/global-acceleration/\n  md: https://developers.cloudflare.com/china-network/concepts/global-acceleration/index.md\n---\n\nNote\n\nGlobal Acceleration is a service offering that can be an add-on to China Network and also extends Zero Trust services into China.\n\nGlobal Acceleration is a suite of connectivity offerings designed to simplify your global assets' deployment in China. Global Acceleration is provided by our partners including CMI, CBC Tech, and JD Cloud.\n\nGlobal Acceleration can support the following scenarios:\n\n| Service | Scenario |\n| - | - |\n| [CDN Global Acceleration](#cdn-global-acceleration) | Elevated performance of global dynamic assets on China Network CDN. |\n| [WARP Global Acceleration](#warp-global-acceleration) | WARP client used in Mainland China. |\n| [Magic WAN Global Acceleration](#magic-wan-global-acceleration) | Magic WAN used in Mainland China. |\n| [ICP](#icp-services) | China Network prerequisite. |\n| [MLPS](#mlps-services) | MLPS certification services. |\n| [Travel SIM](#travel-sim) | Zero Trust clients in business traveling to Mainland China. |\n\n## CDN Global Acceleration\n\nCDN Global Acceleration provides stable and reliable connections for dynamic content entering and exiting China, specifically beneficial for users' experience within the country.\n\n## WARP Global Acceleration\n\nWARP Global Acceleration enables [WARP client](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/) access within China, allowing remote employees to maintain secure and consistent connections.\n\n## Magic WAN Global Acceleration\n\nMagic WAN Global Acceleration enables [Magic WAN](https://developers.cloudflare.com/magic-wan/) access within China, allowing in-office employees to maintain secure and reliable connectivity.\n\n## ICP services\n\nInternet Content Provider (ICP) service simplifies the complexities of acquiring an ICP for domains to operate compliantly within China.\n\n## MLPS services\n\nThe Multi-Level Protection Scheme (MLPS) service add-on streamlines the certification process to secure the MLPS L3 certification for your applications.\n\n### Travel SIM\n\nTravel SIM offers temporary, seamless WARP access for individual employees traveling to China, ensuring uninterrupted connectivity during their visit.\n\n***\n\n## General process\n\n### 1. Validate prerequisites\n\nEnsure that you have a Cloudflare [Enterprise plan](https://www.cloudflare.com/plans/enterprise/) and [China Network](https://developers.cloudflare.com/china-network/), if you want CDN Global Acceleration. WARP and Magic WAN licenses are required for WARP Connection or Magic WAN Global Acceleration.\n\n### 2. Sign contract\n\nContact your Cloudflare account team. They will assist you with contracting with us, or our local China partners, depending on the service.\n\n### 3. Deploy Global Acceleration\n\nOur local China partners will assist you to deploy Global Acceleration.\n\n</page>\n\n<page>\n---\ntitle: China Authoritative DNS Â· Cloudflare China Network docs\ndescription: Cloudflare China Network provides a nearest-to-client nameservice\n  by default. The DNS request is resolved on the data center nearest to the\n  client out of China, and the HTTP request is served on the data center nearest\n  to the client. The closest Cloudflare data center outside of China is adopted\n  for clients outside of China, and the JD Cloud data center in China is adopted\n  for clients in China.\nlastUpdated: 2025-09-25T09:00:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/china-network/concepts/china-dns/\n  md: https://developers.cloudflare.com/china-network/concepts/china-dns/index.md\n---\n\nCloudflare China Network provides a nearest-to-client nameservice by default. The DNS request is resolved on the data center nearest to the client out of China, and the HTTP request is served on the data center nearest to the client. The closest Cloudflare data center outside of China is adopted for clients outside of China, and the JD Cloud data center in China is adopted for clients in China.\n\n## In-China Nameserver\n\nCloudflare is able to deploy DNS service in Mainland China to improve the Time to First Byte (TTFB) performance. With this deployment, the DNS query will be resolved in Mainland China instead of the global DNS servers.\n\n## When to use\n\nBefore you enable China Authoritative DNS, you should confirm that majority (over 90%) of your traffic is coming from Mainland China. After you enable China Authoritative DNS, all the global DNS requests will be routed to JD Cloud data centers in Mainland China instead of the nearest data centers.\n\n## Comparison\n\nThe following table compares the default DNS offering with the In-China Nameserver option.\n\n| DNS option | Behavior |\n| - | - |\n| Default | Uses the DNS server closest to the end user. |\n| In-China DNS | Uses only DNS in China, operated by JD Cloud. |\n\n## General setup\n\nAfter you [enable the Cloudflare China Network service](https://developers.cloudflare.com/china-network/get-started/), do the following:\n\n1. Contact your Cloudflare sales team to enable the feature. Currently you cannot enable it in the Cloudflare dashboard.\n\n   The current China Network supports both a [full setup](https://developers.cloudflare.com/dns/zone-setups/full-setup/) and a [partial setup](https://developers.cloudflare.com/dns/zone-setups/partial-setup/).\n\n2. Update your domain registrar with the assigned in-China nameservers.\n\n   * For a full setup: These nameservers are displayed in the Cloudflare dashboard.\n   * For a partial setup: Create a `CNAME` record pointing to `<hostname>.cdn.cloudflareanycast.net` for global default DNS setting and `<hostname>.cdn.cloudflarecn.net` for In-China DNS.\n\n   Example 1: China Network zone named `example.cn` that requires In-China DNS\n\n   If you have two DNS records, `www` and `media`, pointing to two different origin servers. Your Authoritative DNS server will have the following DNS records:\n\n   * CNAME `www.example.cn` to `www.example.cn.cdn.cloudflarecn.net`\n   * CNAME `media.example.cn` to `media.example.cn.cdn.cloudflarecn.net`\n\n   Example 2: China Network zone named `example.com` that requires global default DNS setting\n\n   If you have two DNS records, `www` and `media`, pointing to two different origin servers. Your Authoritative DNS server will have the following DNS records:\n\n   * CNAME `www.example.com` to `www.example.com.cdn.cloudflareanycast.net`\n   * CNAME `media.example.com` to `media.example.com.cdn.cloudflareanycast.net`\n\n3. Test your configuration by checking if the domain resolves correctly.\n\nFor further assistance, contact your account team.\n\n</page>\n\n<page>\n---\ntitle: Internet Content Provider (ICP) Â· Cloudflare China Network docs\ndescription: Internet Content Provider (ICP) is a licensing regime instated by\n  the Telecommunications Regulations of the People's Republic of China\n  (ä¸­åŽäººæ°‘å…±å’Œå›½ç”µä¿¡æ¡ä¾‹), promulgated in September 2000.\nlastUpdated: 2025-08-27T13:31:36.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/china-network/concepts/icp/\n  md: https://developers.cloudflare.com/china-network/concepts/icp/index.md\n---\n\nInternet Content Provider (ICP) is a licensing regime instated by the Telecommunications Regulations of the People's Republic of China (ä¸­åŽäººæ°‘å…±å’Œå›½ç”µä¿¡æ¡ä¾‹), promulgated in September 2000.\n\nUnder the ICP, all websites with their own domain name that operate inside China must obtain a license, whether hosted on a server in Mainland China or provided to visitors from China via a CDN. Licenses are issued at the provincial level. You can use the Ministry of Industry and Information Technology (MIIT) website to [check if a domain already has an ICP number](https://beian.miit.gov.cn/#/Integrated/recordQuery) (only available in Chinese).\n\nAll public websites in Mainland China must have an ICP number [displayed on the website's home page](#display-your-icp-number). Websites with the same apex domain can share the same ICP number. China-based hosting providers are instructed to shut down any website (often without notice) without an ICP number.\n\n## Types of ICP\n\nTo host web services in Mainland China, you are legally required to acquire an **ICP filing** or an **ICP license** in China.\n\nThe type of ICP you must obtain depends on the type of website you are providing to customers in China:\n\n| | ICP filing | ICP license |\n| - | - | - |\n| Definition | An ICP filing, known in Chinese as â€œBeiâ€™An,â€ is the first level of ICP registration. An ICP filing enables the holder to host a website on a server or CDN in Mainland China for informational purposes only. | An ICP license, known as â€œICP Zhengâ€ in Chinese, allows online platforms or third-party sellers selling goods and services to deploy their website on a hosting server or CDN within Mainland China. |\n| Website Purpose | Non-commercial and non-transactional purposes. | Commercial and transactional purposes. |\n| Eligibility | Representative office Wholly foreign-owned enterprise Joint venture Local company Individuals (personal website) | Joint venture (foreign company with less than 50% ownership) Local company |\n| Example format | Beijing ICP preparation XXXXXXXX number | Beijing ICP license XXXXXXXX number |\n| Other requirements | N/A | Companies acquiring an ICP license must already have obtained an ICP filing. |\n| Timeline | 1-2 months | 2-3 months |\n\nIf you wish to host a marketing-related website, you only need an ICP filing.\n\n***\n\n## Obtain an ICP number\n\nCloudflare recommends that you apply for an ICP license through your hosting or Cloud Services Provider. You will need to provide the necessary documents to your provider to register the ICP number on your behalf:\n\n| For Individuals | For Commercial Companies |\n| - | - |\n| â€“ ICP application form â€“ Copy of your personal ID â€“ Forms to authenticate website information â€“ Copy of your domain certificate | â€“ Copy of your business license â€“ Your organization code certificate |\n\nAfter all required documents are submitted, it can take four to eight weeks to obtain an ICP depending on the type of website and the province where the company is registered. Although there is no cost to register with the MIIT, your provider may charge you a fee.\n\nAfter receiving the ICP number and the certificate, add it to your website's home page.\n\n## Display your ICP number\n\nAfter you obtain an ICP number, you must display it in the footer of your website, like in the following example:\n\n![An ICP number displayed in the footer of a website.](https://developers.cloudflare.com/_astro/icp-number-in-footer.BX2CP_mf_Zu7u5x.webp)\n\n</page>\n\n<page>\n---\ntitle: Available products and features Â· Cloudflare China Network docs\ndescription: \"The following products and features are available on the\n  Cloudflare China Network operated by JD Cloud:\"\nlastUpdated: 2025-10-24T08:58:32.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/china-network/reference/available-products/\n  md: https://developers.cloudflare.com/china-network/reference/available-products/index.md\n---\n\nThe following products and features are available on the Cloudflare China Network operated by JD Cloud:\n\n## Application Services\n\n| Product/Feature | Description |\n| - | - |\n| [Authoritative DNS](https://developers.cloudflare.com/china-network/concepts/china-dns/) | Authoritative DNS resolution inside Mainland China. |\n| [CDN/Cache](https://developers.cloudflare.com/cache/) | Core cache features. Static cache only. Does not support Cache Reserve or Tiered Cache. |\n| [Image Transformations](https://developers.cloudflare.com/images/) | Optimize image format at the edge to fit a domain's layout. |\n| [DDoS Protection](https://developers.cloudflare.com/ddos-protection/) | Layer 7 (application layer) protection against DDoS attacks such as HTTP flood attacks, WordPress Pingback attacks, HULK attacks, and LOIC attacks. |\n| [Managed rules](https://developers.cloudflare.com/waf/managed-rules/) | Pre-configured OWASP rulesets and Cloudflare managed rulesets. |\n| [Custom rules](https://developers.cloudflare.com/waf/custom-rules/) | Custom WAF rules. Supports uploaded content scanning and managed challenges. |\n| [Rate limiting rules](https://developers.cloudflare.com/waf/rate-limiting-rules/) | Define rate limits for incoming requests matching an expression, and the action to take when those rate limits are reached. |\n| [Content scanning](https://developers.cloudflare.com/waf/detections/malicious-uploads) | Attempts to detect content objects, such as uploaded files, and scans them for malicious signatures like malware |\n| [Page Shield](https://developers.cloudflare.com/page-shield/) | Simplifies external script management by tracking loaded resources like scripts and providing alerts when it detects new resources or malicious scripts. |\n| [Bot Management](https://developers.cloudflare.com/bots/)[1](#user-content-fn-1) | Provides bot identification and protection for a domain. Only supports certain Machine Learning (ML) models. |\n| [Argo Smart Routing](https://developers.cloudflare.com/argo-smart-routing/) | Layer 7 (application layer) traffic smart-routed more efficiently to origin. |\n| [Rules](https://developers.cloudflare.com/rules/) | Make adjustments to requests and responses, configure Cloudflare settings, and trigger specific actions for matching requests. |\n| [Load Balancing](https://developers.cloudflare.com/load-balancing/additional-options/load-balancing-china/) | Maximize application performance and availability. |\n\n## Developer Services\n\n| Product/Feature | Description |\n| - | - |\n| [Workers](https://developers.cloudflare.com/workers/) | A serverless execution environment running on the Cloudflare global network. |\n| [Workers KV](https://developers.cloudflare.com/kv/) | Configuration data, service routing metadata, personalization (A/B testing). |\n| [R2](https://developers.cloudflare.com/r2/)[2](#user-content-fn-2) | Object storage for all your data. |\n| [Assets](https://developers.cloudflare.com/workers/static-assets/) | Upload static assets (HTML, CSS, images and other files) as part of your Worker â€” Cloudflare will handle caching and serving them to web browsers. |\n| [Environment variables](https://developers.cloudflare.com/workers/configuration/environment-variables/) | Attach text strings or JSON values to your Worker. |\n| [Images](https://developers.cloudflare.com/images/transform-images/bindings/)[3](#user-content-fn-3) | Store, transform, optimize, and deliver images at scale. |\n| [mTLS](https://developers.cloudflare.com/workers/runtime-apis/bindings/mtls/) | Securely connect to backend servers over [mTLS](https://www.cloudflare.com/learning/access-management/what-is-mutual-tls/). |\n| [Rate Limiting](https://developers.cloudflare.com/workers/runtime-apis/bindings/rate-limit/) | Define rate limits and write code around them in your Worker. |\n| [Secrets](https://developers.cloudflare.com/workers/configuration/secrets/) | Attach encrypted text values to your Worker. |\n| [Service bindings](https://developers.cloudflare.com/workers/runtime-apis/bindings/service-bindings/) | Service bindings allow one Worker to call into another, without going through a publicly-accessible URL. |\n| [Tail Workers](https://developers.cloudflare.com/workers/observability/logs/tail-workers/) | Receives information about the execution of other Workers. |\n| [Version metadata](https://developers.cloudflare.com/workers/runtime-apis/bindings/version-metadata/) | Access metadata associated with a version from inside the Workers runtime. |\n| [Workers for Platforms](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/) | Deploy custom code on behalf of your users or let your users directly deploy their own code to your platform, managing infrastructure. |\n\n## Network Services\n\n| Feature | Description |\n| - | - |\n| [IPv6](https://developers.cloudflare.com/network/ipv6-compatibility/) | All data centers have IPv6 support by default. |\n| [SSL/TLS](https://developers.cloudflare.com/ssl/) | Customer Certificate, Dedicated Certificate, Universal Certificate, Custom, ACM (Dedicated), Universal SSL. |\n| [HTTP/3 (QUIC)](https://www.cloudflare.com/learning/performance/what-is-http3/) | The latest version of the HTTP protocol to optimize page loading performance. |\n| [WebSockets](https://developers.cloudflare.com/workers/runtime-apis/websockets/) | Real-time communication with Cloudflare Workers serverless functions. |\n\n## Zero Trust Services\n\nRefer to [Global Acceleration](https://developers.cloudflare.com/china-network/concepts/global-acceleration/) for more information.\n\n## Other Services\n\n| Feature | Description |\n| - | - |\n| [Instant Logs](https://developers.cloudflare.com/logs/instant-logs/) | Live Tail your Cloudflare HTTP logs in the Cloudflare dashboard. |\n| [Logpush](https://developers.cloudflare.com/logs/logpush/) | Push your Cloudflare HTTP logs to a storage service. |\n\nFor more details or specific product features, refer to the [FAQ](https://developers.cloudflare.com/china-network/faq/#products-and-features) page or contact your account team.\n\n## Footnotes\n\n1. [Turnstile](https://developers.cloudflare.com/turnstile/) is not available within Mainland China. [â†©](#user-content-fnref-1)\n\n2. R2 buckets cannot be created within Mainland China and [custom domains](https://developers.cloudflare.com/r2/buckets/public-buckets/#add-your-domain-to-cloudflare) are not supported within Mainland China. However, R2 can be extended into Mainland China through [Global Acceleration](https://developers.cloudflare.com/china-network/concepts/global-acceleration/). [â†©](#user-content-fnref-2)\n\n3. Image Resizing works [within Workers](https://developers.cloudflare.com/images/transform-images/transform-via-workers/), but may not be available [through URL format](https://developers.cloudflare.com/images/transform-images/transform-via-url/). [â†©](#user-content-fnref-3)\n\n</page>\n\n<page>\n---\ntitle: Infrastructure Â· Cloudflare China Network docs\ndescription: For up-to-date information, refer to the Cloudflare China Network page.\nlastUpdated: 2025-04-23T10:22:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/china-network/reference/infrastructure/\n  md: https://developers.cloudflare.com/china-network/reference/infrastructure/index.md\n---\n\n## China data centers\n\nFor up-to-date information, refer to the [Cloudflare China Network](https://www.cloudflare.com/china-network/) page.\n\n### Network IP addresses\n\nCloudflare publishes a list of IP addresses for JD Cloud data centers, used by Cloudflare when connecting to the origin networks of customers to retrieve assets. These addresses are not the same IP addresses returned to website visitors as part of DNS resolution.\n\nYou can obtain the list of JD Cloud data center IP addresses via Cloudflare API. Use the [Cloudflare/JD Cloud IP Details](https://developers.cloudflare.com/api/resources/ips/methods/list/) operation with the `networks=jdcloud` query string parameter:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "The `jdcloud_cidrs` array lists the IP addresses of JD Cloud data centers.\n\nCloudflare will add new IP addresses to this list 30 days in advance before connecting from those IP addresses to an origin server. If you are using the China Network on JD Cloud, you should update your firewalls to reflect any IP address changes at least once every 30 days.\n\n</page>\n\n<page>\n---\ntitle: Interstitial Challenge Pages Â· Cloudflare challenges docs\ndescription: An interstitial Challenge Page acts as a gate between the visitor\n  and your website or application while Cloudflare verifies the authenticity of\n  the visitor.\nlastUpdated: 2025-10-13T17:48:00.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-challenges/challenge-types/challenge-pages/\n  md: https://developers.cloudflare.com/cloudflare-challenges/challenge-types/challenge-pages/index.md\n---\n\nAn interstitial Challenge Page acts as a gate between the visitor and your website or application while Cloudflare verifies the authenticity of the visitor.\n\nThe Challenge Page intercepts the visitor from getting to the destination URL by holding the request and evaluating the browser environment for automated signals, and serving a Challenge. The visitor cannot reach their destination without passing the Challenge. Based on the signals indicated by their browser environment, the visitor may be asked to perform an interaction such as checking a box or selecting a button for further probing.\n\nYou can implement a Challenge Page to your website or application by creating a [WAF custom rule](https://developers.cloudflare.com/waf/custom-rules/).\n\nChallenges are triggered by a rule in the [Web Application Firewall (WAF)](https://developers.cloudflare.com/waf/), [Bot Management](https://developers.cloudflare.com/bots/), or [Rate limiting](https://developers.cloudflare.com/waf/rate-limiting-rules/).\n\nThe level of interactivity and visibility of the Challenge Page depends on the Action that you select when creating the WAF rule for your website or application.\n\n## Actions\n\nThe following Challenge types are the available actions when you create a WAF rule for a Challenge Page.\n\n### Managed Challenge (recommended)\n\nManaged Challenges are where Cloudflare dynamically chooses the appropriate type of Challenge served to the visitor based on the characteristics of a request from the signals indicated by their browser. This helps avoid [CAPTCHAs](https://www.cloudflare.com/learning/bots/how-captchas-work/), which also reduces the lifetimes of human time spent solving CAPTCHAs across the Internet.\n\nMost human visitors are automatically verified and the Challenge Page will display **Successful**. However, if Cloudflare detects non-human attributes from the visitor's browser, they may be required to interact with the Challenge to solve it.\n\nUnless there are specific compatibility issues or other reasons to use other types of Challenges, Cloudflare recommends you to use Managed Challenges for your custom rules.\n\nWarning\n\nUsing Cloudflare Challenges along with Rules features may cause Challenge loops. Refer to [Rules troubleshooting](https://developers.cloudflare.com/rules/reference/troubleshooting/) for more information.\n\n### Interactive Challenge\n\nInteractive Challenge Pages offer the highest security for your website or application because it requires a visitor to interact with the Interstitial Challenge Page, presenting the visitor with an Interactive Challenge to solve.\n\nFor more information about why Cloudflare does not recommend using Interactive Challenge, in favor of Managed Challenge, refer to our [blog post](https://blog.cloudflare.com/end-cloudflare-captcha/).\n\n### JavaScript Challenge (non-interactive)\n\nWith a JavaScript (JS) Challenge, Cloudflare makes the determination on whether or not the visitor is automated based on the limited information attained from their browser signals via an injected JavaScript. Then, it presents a Challenge Page that requires no interaction from a visitor except the JavaScript processed by their browser.\n\nThe visitor must wait until their browser finishes processing the JavaScript, which typically takes less than five seconds.\n\nIf the visitor passes the Challenge, the original request continues to the destination URL. If the Challenge fails or cannot be completed, the visitor is presented with another Interstitial Challenge Page.\n\n## Compatibility limitations\n\nChallenge Pages interrupt the request flow by returning a full HTML page for the user's browser to render and solve. This mechanism fails when the browser expects a non-HTML response, such as an AJAX or XHR (fetch) request.\n\nTo ensure your API calls are protected without breaking single-page applications (SPAs) or API integrations, Cloudflare recommends using Turnstile Pre-clearance.\n\nBy enabling Pre-clearance, the Turnstile widget issues a persistent clearance cookie (`cf_clearance`) upon successful human verification on an initial HTML page. This cookie pre-clears the visitor to interact with sensitive API endpoints secured by WAF rules, allowing you to deploy granular security without forcing a disruptive Challenge Page response.\n\nFor implementation details, refer to the [guidance on Pre-clearance for Turnstile](https://developers.cloudflare.com/cloudflare-challenges/concepts/clearance/#pre-clearance-support-in-turnstile).\n\n</page>\n\n<page>\n---\ntitle: JavaScript Detections Â· Cloudflare challenges docs\ndescription: JavaScript Detections is a type of Challenge separate from\n  Cloudflareâ€™s Challenge Pages or Turnstile. Javascript Detections helps\n  Cloudflare's bot solutions identify automated requests.\nlastUpdated: 2025-11-14T23:07:26.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-challenges/challenge-types/javascript-detections/\n  md: https://developers.cloudflare.com/cloudflare-challenges/challenge-types/javascript-detections/index.md\n---\n\nJavaScript Detections is a type of Challenge separate from Cloudflareâ€™s Challenge Pages or Turnstile. Javascript Detections helps Cloudflare's [bot solutions](https://developers.cloudflare.com/bots/) identify automated requests.\n\nWhile Challenge Pages and Turnstile rely on client-side signals to determine the authenticity of a request, Bot Managementâ€™s JavaScript Detections relies on network-side signals and run on every single request made to your website.\n\n## Process\n\nJavaScript Detections is implemented on your website via a lightweight, invisible JavaScript code snippet that follows Cloudflare's [privacy standards](https://www.cloudflare.com/privacypolicy/).\n\nJavaScript is injected only in response to requests for HTML pages or page views, excluding AJAX calls. API and mobile application traffic is unaffected.\n\nJavaScript Detections has a lifespan of 15 minutes. However, the code is injected again before the session expires. After page load, the script is deferred and utilizes a separate thread (where available) to ensure that performance impact is minimal. The snippets of JavaScript will contain a source pointing to the Challenge Platform, with paths that start with `/cdn-cgi/challenge-platform/â€¦`\n\nOnce JavaScript Detections is injected on the HTML page, the visitor's browser will run the JavaScript code snippet and a `cf_clearance` cookie is issued to the visitor. The information in JavaScript Detections is stored in the `cf_clearance` cookie and is used to populate `js_detection.passed`.\n\n* If the visitor is verified and a `cf_clearance` cookie is issued, it will contain the outcome: `cf.bot_management.js.detection.passed` = `true`\n* If the verification fails, the cookie will contain the outcome: `cf.bot_management.js.detection.passed` = `false`\n\nNote\n\nThe `cf_clearance` cookie cannot exceed the maximum size of 4096 bytes.\n\nWarning\n\nEnforcement against bots does **not** occur even if the cookie is flagged false.\n\nYou must enable JavaScript Detections and then create a custom WAF rule using the `cf.bot_management.js.detection.passed` field to block or challenge a failed request.\n\nWhen the visitor encounters a WAF custom rule on your website, the rule will check the outcome of the `cf_clearance` cookie. The outcome of the `cf_clearance` cookie determines whether the request passes, or is blocked or challenged.\n\nRefer to the steps below to enable and enforce JavaScript Detections.\n\n## 1. Enable JavaScript Detections\n\nFor Bot Fight Mode customers, [JavaScript Detections](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/javascript-detections/) is automatically enabled and cannot be disabled.\n\nFor Super Bot Fight Mode and Bot Management for Enterprise customers, [JavaScript Detections](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/javascript-detections/) is optional.\n\n* Old dashboard\n\n  1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/), and select your account and domain.\n  2. Go to **Security** > **Bots**.\n  3. Select **Configure Bot Management**.\n  4. For **JavaScript Detections**, switch the toggle to **On**.\n\n* New dashboard\n\n  1. In the Cloudflare dashboard, go to the **Security Settings** page.\n\n     [Go to **Settings**](https://dash.cloudflare.com/?to=/:account/:zone/security/settings)\n\n  2. Under your bot traffic plan configurations, select the edit icon for **JS detections** and turn **JavaScript Detections** on.\n\nFor more details on how to set up bot protection, refer to the [Bots documentation](https://developers.cloudflare.com/bots/get-started/).\n\n## 2. Enforce execution of JavaScript Detections\n\nOnce you enable JavaScript detections, you must use the `cf.bot_management.js_detection.passed` field to create [WAF custom rules](https://developers.cloudflare.com/waf/custom-rules/) (or the `request.cf.botManagement.jsDetection.passed` variable in [Workers](https://developers.cloudflare.com/workers/)).\n\nWhen adding this field to WAF custom rules, it is used on endpoints expecting browser traffic (avoiding native mobile applications or websocket endpoints), after a user's first request to your application (Cloudflare needs at least one HTML request before injecting JavaScript detection), and with the Managed Challenge action, because there are legitimate reasons a user might not have passed a JavaScript Detection challenge (network issues, ad blockers, disabled JavaScript in browser, native mobile applications).\n\n### Prerequisites\n\n* You must have an [Enterprise Bot Management](https://developers.cloudflare.com/bots/plans/bm-subscription/) subscription.\n* You must have JavaScript Detections enabled on your zone.\n* You must have [updated your Content Security Policy headers](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/javascript-detections/#if-you-have-a-content-security-policy-csp) for JavaScript detections.\n* You must not run this field on websocket endpoints.\n* You must use the field in a custom rules expression that expects only browser traffic.\n* The action should always be a managed challenge in case a legitimate user has not received the challenge for network or browser reasons.\n* The path specified in the rule builder should never be the first HTML page a user visits when browsing your site.\n\nThe `cf.bot_management.js_detection.passed` field should never be used in a WAF custom rule that matches a visitor's first request to a site. It is necessary to have at least one HTML request before Cloudflare can inject JavaScript detection.\n\n* WAF rule example",
      "language": "unknown"
    },
    {
      "code": "* Workers example",
      "language": "unknown"
    },
    {
      "code": "Refer to the [WAF documentation](https://developers.cloudflare.com/waf/custom-rules/create-dashboard/) for more information on creating a custom rule.\n\n## API\n\nIf you enable JavaScript Detections via the dashboard, Cloudflare will insert a script tag in all HTML pages served on your website. If you would prefer to limit where JavaScript Detections is served, you can do so with the JavaScript Detections API script.\n\nThe JavaScript Detections API allows you more granular control over when and where JavaScript Detections is injected on your website, as well as an option for callback handling (for logging or other additional actions).\n\nYou can explicitly add a script reference to `/cdn-cgi/challenge-platform/scripts/jsd/api.js` and your own code calling `window.cloudflare.jsd.executeOnce` on specific HTML pages of your website.\n\nWarning\n\nIt is not recommended to combine both approaches (zone-wide toggle and the manual injection). If you want to selectively deploy JavaScript Detections only on certain pages, disable JavaScript Detections via the Cloudflare dashboard and use the JavaScript Detections API exclusively.\n\nThe following script must be added to every page that you wish to have JavaScript Detections enabled:",
      "language": "unknown"
    },
    {
      "code": "Note\n\n`result` = `success` or `error` only refers to the execution of JavaScript Detections. It does not indicate whether a visitor is a human or a bot.\n\n## Considerations\n\nJavaScript Detections does not guarantee a specific bot score.\n\n* If the JavaScript Detections injection or execution fails and `cf.bot_management.js_detection.passed` = `false`, a separate Bot Management heuristic can still yield a `1` or higher bot score, independent of JavaScript Detections.\n* If the JavaScript Detections passes, the final bot score may still be `1` due to other detection heuristics (for example, known malicious IP, signature detection, and more), resulting in `js_detection.passed` = `true`, but `score` = `1`.\n\n## Limitations\n\n### If you enabled Bot Management before June 2020\n\nCustomers who enabled Enterprise Bot Management before June 2020 do not have JavaScript Detections enabled by default (unless specifically requested). These customers can still enable the feature in the Cloudflare dashboard.\n\n### If it is the first request to your website\n\nThe first request from a new client to your website or application will generally not have JavaScript Detections data (`cf.bot_management.js_detection.passed` = `false`). This is because Cloudflare needs at least one HTML request before injecting JavaScript Detection and issuing the `cf_clearance` cookie.\n\nSubsequent requests can include a `cf_clearance` cookie if JavaScript ran successfully.\n\n### If you have a Content Security Policy (CSP)\n\nIf you have a Content Security Policy (CSP), you need to take additional steps to implement JavaScript Detections:\n\n* Ensure that anything under `/cdn-cgi/challenge-platform/` is allowed. Your CSP should allow scripts served from your origin domain (`script-src self`).\n\n* For `nonce` script tags:\n\n  * If your CSP uses a `nonce` for script tags, Cloudflare will add these nonces to the scripts it injects by parsing your CSP response header.\n\n  * If your CSP does not use `nonce` for script tags and **JavaScript Detections** is enabled, you may see a console error such as `Refused to execute inline script because it violates the following Content Security Policy directive: \"script-src 'self'\". Either the 'unsafe-inline' keyword, a hash ('sha256-b123b8a70+4jEj+d6gWI9U6IilUJIrlnRJbRR/uQl2Jc='), or a nonce ('nonce-...') is required to enable inline execution.` We highly discourage the use of `unsafe-inline` and instead recommend the use CSP `nonces` in script tags which we parse and support in our CDN.\n\nWarning\n\nJavaScript Detections is not supported with `nonce` set via `<meta>` tags.\n\n### If you have ETags\n\nEnabling JavaScript Detections (JSD) will strip [ETags](https://developers.cloudflare.com/cache/reference/etag-headers/) from HTML responses where JSD is injected.\n\n</page>\n\n<page>\n---\ntitle: Turnstile Â· Cloudflare challenges docs\ndescription: Turnstile is Cloudflare's CAPTCHA-alternative solution. You can\n  embed Turnstile as a widget on your website or application, where it runs a\n  client-side Challenge directly in the background of the visitor's browser.\nlastUpdated: 2025-10-13T17:48:00.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-challenges/challenge-types/turnstile/\n  md: https://developers.cloudflare.com/cloudflare-challenges/challenge-types/turnstile/index.md\n---\n\n[Turnstile](https://developers.cloudflare.com/turnstile/) is Cloudflare's CAPTCHA-alternative solution. You can embed Turnstile as a widget on your website or application, where it runs a client-side Challenge directly in the background of the visitor's browser.\n\nTurnstile differs from Challenges Pages in that the Challenge does not pause the request or interrupt the user's experience. Since the widget is embedded onto the webpage and only runs on a specific part of the HTML, the visitor will have already arrived at the destination URL and is viewing the page when they encounter a Turnstile widget. Instead of blocking the visitor from accessing the entire website, the Turnstile widget prevents the visitor from certain actions such as completing login or sign up forms, and more, until the widget is solved.\n\nIn most cases, nothing further is required from the visitor. However, if necessary, Turnstile may display a simple checkbox that the visitor must click to proceed.\n\nAfter the Challenge passes, Turnstile issues a clearance token to the visitor that must be validated via the [Siteverify API](https://developers.cloudflare.com/turnstile/get-started/server-side-validation/) before completing a sensitive action like login, sign up, or other form submissions.\n\nWarning\n\nIt is critical to enforce Turnstile tokens with the Siteverify API. The Turnstile token could be invalid, expired, or already redeemed. Not verifying the token will leave major vulnerabilities in your implementation.\n\nYou **must** call Siteverify to complete your Turnstile configuration. Otherwise, it is incomplete and will result in zeroes for token validation when viewing your metrics in [Turnstile Analytics](https://developers.cloudflare.com/turnstile/turnstile-analytics/).\n\n## Widget types\n\nWhile there are three types of widgets that you can choose to implement on your website or application, the Challenge logic behind them remains the same.\n\n* **Managed (recommended)**: Functions similar to a Managed Challenge Page. It selects a Challenge based on the signals gathered from the visitor's browser and presents an interaction only if it detects potentially automated traffic.\n\n* **Non-Interactive**: The widget is displayed, but the visitor does not need to interact with it to verify their identity.\n\n* **Invisible**: The widget is completely invisible to the visitor, but the Challenge still runs in the background.\n\n## Implementation\n\nWhen you create a widget for your website or application via the Cloudflare dashboard, you will receive a sitekey.\n\nThe sitekey is used with [client-side rendering](https://developers.cloudflare.com/turnstile/get-started/client-side-rendering/#implicitly-render-the-turnstile-widget) by adding it to the `<div>` container placeholder. You will then place that `<div>` code snippet where you want to add the widget to your site page or form.\n\n## Get started\n\nRefer to the [Turnstile documentation](https://developers.cloudflare.com/turnstile/get-started/) for guidance on implementing a widget to your website or application.\n\n</page>\n\n<page>\n---\ntitle: Clearance Â· Cloudflare challenges docs\ndescription: A cf_clearance cookie proves to Cloudflare that the visitor is a\n  verified human and has passed the Challenge presented to them.\nlastUpdated: 2025-11-12T16:45:57.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-challenges/concepts/clearance/\n  md: https://developers.cloudflare.com/cloudflare-challenges/concepts/clearance/index.md\n---\n\n## `cf_clearance` cookies\n\nA `cf_clearance` cookie proves to Cloudflare that the visitor is a verified human and has passed the Challenge presented to them.\n\nThe `cf_clearance` cookie is securely tied to the specific visitor and device it was issued to. This binding is a security feature designed to prevent the cookie from being easily transferred and re-used on other machines.\n\nAs an additional layer of security, Cloudflare recommends that customers [add a rate limiting rule](https://developers.cloudflare.com/waf/rate-limiting-rules/) based on the `cf_clearance` cookie value. This ensures that a single, valid cookie cannot be abused by a single machine to send an excessive volume of requests.\n\nIf a visitor passes an Interactive Challenge (highest security level), then the `cf_clearance` cookie indicates this to the origin and allows the visitor to bypass any other Challenge on the website, whether it is another Interactive Challenge, a Managed Challenge, or a non-interactive JavaScript Challenge for as long as the cookie is valid.\n\nIf a visitor receives a `cf_clearance` cookie on a page that uses a WAF rule with Managed or JavaScript Challenge (lower security levels), then encountering a different page with a higher security clearance level Challenge will prompt them to solve the Challenge again.\n\nThe original `cf_clearance` cookie that was issued to the visitor from a lower security clearance level Challenge will be replaced with the new `cf_clearance` cookie from a higher security clearance level Challenge.\n\n## Pre-clearance support in Turnstile\n\nPre-clearance in [Turnstile](https://developers.cloudflare.com/turnstile/) allows websites to streamline user experiences by using `cf_clearance` cookies. The `cf_clearance` cookie enables visitors to bypass WAF Challenges downstream, based on the security clearance level set by the customer. This can be particularly useful for trusted visitors, enhancing usability while maintaining security.\n\nBy default, Turnstile issues a one-time use token to the visitor when they solve a Challenge via the widget. The token goes to your website's backend that needs to be validated by Siteverify API.\n\nWarning\n\nIt is critical to enforce Turnstile tokens with the Siteverify API. The Turnstile token could be invalid, expired, or already redeemed. Not verifying the token will leave major vulnerabilities in your implementation.\n\nYou **must** call Siteverify to complete your Turnstile configuration. Otherwise, it is incomplete and will result in zeroes for token validation when viewing your metrics in [Turnstile Analytics](https://developers.cloudflare.com/turnstile/turnstile-analytics/).\n\nNote\n\nThe clearance token cannot be used again.\n\n| Challenge type | Issued clearance |\n| - | - |\n| Challenge Page | `cf_clearance` cookie (default) |\n| Turnstile widget | Token (default) `cf_clearance` cookie (optional addition) |\n\nWhen you enable pre-clearance support on Turnstile, a `cf_clearance` cookie is issued to the visitor in addition to the default Turnstile token.\n\nYou can integrate Cloudflare Challenges by allowing Turnstile to issue a `cf_clearance` cookie as pre-clearance to your visitor. The pre-clearance level is set upon widget creation or widget modification using the Turnstile API's clearance\\_level. Possible values for the configuration are:\n\n* `interactive`\n* `managed`\n* `jschallenge`\n* `no_clearance`\n\nAll widgets have pre-clearance mode set to `false` and the security clearance is set to `no_clearance` by default.\n\nFor Enterprise customers eligible to enable widgets without any pre-configured hostnames, Cloudflare recommends issuing pre-clearance cookies on widgets where at least one hostname is specified and is the same as the zone that you want to integrate with Turnstile.\n\nRefer to the [blog post](https://blog.cloudflare.com/integrating-turnstile-with-the-cloudflare-waf-to-challenge-fetch-requests) for more details on how pre-clearance works with WAF.\n\n### Pre-clearance level options\n\n**Interactive** (High) `interactive`\n\nAllows a user with a clearance cookie to not be challenged by Interactive, Managed Challenge, or JavaScript Challenge Firewall Rules.\n\n**Managed** (Medium) `managed`\n\nAllows a user with a clearance cookie to not be challenged by Managed Challenge or JavaScript Challenge Firewall Rules.\n\n**Non-interactive** (Low) `jschallenge`\n\nAllows a user with a clearance cookie to not be challenged by JavaScript Challenge Firewall Rules.\n\n### Clearance cookie duration\n\nClearance cookies generated by the Turnstile widget will be valid for the time specified by the zone-level Challenge Passage value. To configure the Challenge Passage setting, refer to [Challenge Passage](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/challenge-pages/challenge-passage/).\n\n### Setup\n\nTo enable pre-clearance, you must ensure that the hostname of the Turnstile widget matches the zone with the WAF rules. During the Turnstile configuration setup in the Cloudflare dashboard, you have access to a list of registered zones. Select the appropriate hostname from this list.\n\nThe prerequisite is crucial for pre-clearance to function properly. If set up correctly, visitors who successfully solve Turnstile will receive a cookie with the security clearance level set by the customer. When encountering a WAF challenge on the same zone, they will bypass additional challenges for the configured clearance level and below.\n\nFor more details on managing hostnames, refer to the [Hostname Management documentation](https://developers.cloudflare.com/turnstile/additional-configuration/hostname-management/).\n\nNote\n\n[JavaScript detections](https://developers.cloudflare.com/bots/additional-configurations/javascript-detections/) are stored in the `cf_clearance` cookie.\n\nThe `cf_clearance` cookie cannot exceed the maximum size of 4096 bytes.\n\n#### Enable pre-clearance on a new site\n\n1. In the Cloudflare dashboard, go to the **Turnstile** page.\n\n   [Go to **Turnstile**](https://dash.cloudflare.com/?to=/:account/turnstile)\n\n2. Select **Add widget**.\n\n3. Under **Would you like to opt for pre-clearance for this site?** select **Yes**.\n\n4. Choose the pre-clearance level from the select box.\n\n5. Select **Create**.\n\n#### Enable pre-clearance on an existing site\n\n1. In the Cloudflare dashboard, go to the **Turnstile** page.\n\n   [Go to **Turnstile**](https://dash.cloudflare.com/?to=/:account/turnstile)\n\n2. Go to the existing widget or site and select **Settings**.\n\n3. Under **Would you like to opt for pre-clearance for this site?** select **Yes**.\n\n4. Choose the pre-clearance level from the select box.\n\n5. Select **Update**.\n\n</page>\n\n<page>\n---\ntitle: How Challenges work Â· Cloudflare challenges docs\ndescription: Challenges can be issued in three primary ways depending on which\n  Cloudflare products or features are in use. Each method is designed to balance\n  security with seamless visitor experience.\nlastUpdated: 2025-07-14T15:47:27.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-challenges/concepts/how-challenges-work/\n  md: https://developers.cloudflare.com/cloudflare-challenges/concepts/how-challenges-work/index.md\n---\n\nChallenges can be issued in three primary ways depending on which Cloudflare products or features are in use. Each method is designed to balance security with seamless visitor experience.\n\n| Product | Challenge type(s) |\n| - | - |\n| [WAF](https://developers.cloudflare.com/waf/) ([custom rules](https://developers.cloudflare.com/waf/custom-rules/), [rate limiting rules](https://developers.cloudflare.com/waf/rate-limiting-rules/), [IP access rules](https://developers.cloudflare.com/waf/tools/ip-access-rules/)) | [Interstitial Challenge Page](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/challenge-pages/) |\n| [Bot Management](https://developers.cloudflare.com/bots/get-started/bot-management/) | [JavaScript Detections](https://developers.cloudflare.com/bots/additional-configurations/javascript-detections/) |\n| [Bot Fight Mode](https://developers.cloudflare.com/bots/get-started/bot-fight-mode/), [Super Bot Fight Mode](https://developers.cloudflare.com/bots/get-started/super-bot-fight-mode/) | [Interstitial Challenge Page](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/challenge-pages/) |\n| [Turnstile](https://developers.cloudflare.com/turnstile/) | Embedded widget |\n| [HTTP DDoS attack protection](https://developers.cloudflare.com/ddos-protection/managed-rulesets/http/) | Any Challenge |\n| [Under Attack Mode](https://developers.cloudflare.com/fundamentals/reference/under-attack-mode/) | [Managed Challenge](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/challenge-pages/#managed-challenge-recommended) |\n\nChallenge Pages and Turnstile rely on the same underlying mechanism to issue Challenges to your website or application's visitors.\n\nJavaScript Detections supports Cloudflare's Enterprise Bot Management. While it still relies on client-side detections, JavaScript Detections function using a more performant challenge logic than Challenge Pages or Turnstile.\n\n***\n\n## Available Challenges\n\nRefer to the following pages for more information on the different challenge types:\n\n* [Interstitial Challenge Pages](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/challenge-pages/)\n* [Turnstile](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/turnstile/)\n* [JavaScript Detections](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/javascript-detections/)\n\n***\n\n## Limitations\n\nCloudflare Challenges cannot support the following:\n\n* [Browser extensions](https://developers.cloudflare.com/cloudflare-challenges/reference/supported-browsers/#browser-extensions) that modify the browser's `User-Agent` value or Web APIs such as `Canvas` and `WebGL`.\n* Implementations where a domain serves a challenge page originally requested for another domain.\n* Challenge Pages cannot be embedded in cross-origin iframes.\n* Client software where the solve request of a Managed Challenge comes from a different IP than the original IP a Challenge request was issued to. For example, if you receive the Challenge from one IP and solve it using another IP, the solve is not valid and you may encounter a Challenge loop.\n\n</page>\n\n<page>\n---\ntitle: Challenge solve rate (CSR) Â· Cloudflare challenges docs\ndescription: The challenge solve rate (CSR) is the percentage of issued\n  challenges â€” Interactive Challenge, JS Challenge, or Managed Challenge actions\n  â€” that were solved.\nlastUpdated: 2025-10-13T17:48:00.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-challenges/reference/challenge-solve-rate/\n  md: https://developers.cloudflare.com/cloudflare-challenges/reference/challenge-solve-rate/index.md\n---\n\nThe challenge solve rate (CSR) is the percentage of issued challenges â€” Interactive Challenge, JS Challenge, or Managed Challenge actions â€” that were solved.",
      "language": "unknown"
    },
    {
      "code": "This metric helps you evaluate your rule's effectiveness, as well as whether you need to make any adjustments to the rule's criteria or action. Rules in Challenge mode will start generating Challenge Solve Rate data (CSR) which indicates the false positive percentage.\n\nYou can find the CSR of a rule by going to its corresponding dashboard page:\n\n* Old dashboard\n\n  * For [custom rules](https://developers.cloudflare.com/waf/custom-rules/), go to your zone > **Security** > **WAF** > **Custom rules**.\n  * For [rate limiting rules](https://developers.cloudflare.com/waf/rate-limiting-rules/), go to your zone > **Security** > **WAF** > **Rate limiting rules**.\n\n* New dashboard\n\n  For [custom rules](https://developers.cloudflare.com/waf/custom-rules/) or [rate limiting rules](https://developers.cloudflare.com/waf/rate-limiting-rules/), go to your zone > **Security** > **Security rules**.\n\n***\n\n## Challenge actions in Security Events\n\nIf you find a Challenge Solved action, such as `[js]challengeSolved` or `challengeSolved`, in your Security Events that does not seem to match the underlying rule criteria, it is because this action refers to the successful mitigation of a previous request.\n\nThe Challenge lifecycle involves two distinct events, which are crucial for interpreting your logs:\n\n* Challenge trigger: The original request matched a WAF custom rule with a Challenge action. This request contains the suspicious parameters that triggered the rule.\n* Challenge solved: The client's browser sends back a subsequent request containing the validated solution. This action is logged as Challenge Solved.\n\nThe parameters of the solved request may no longer match the original rule's expression. For example, if a Challenge was issued due to a low Bot Score, the score for the solved request may have already changed to a non-suspicious value upon successful verification.\n\nThe Challenge Solved action is purely an informative signal that a previously issued Challenge was answered, allowing the visitor's traffic to proceed. It does not imply that the subsequent request re-matched the initial trigger rule.\n\n***\n\n## Failed Challenges\n\nYou will not find a dedicated metric for failed Challenges in Security Analytics because Cloudflare calculates failure indirectly, based on the difference between Challenges issued and Challenges solved.\n\nThe system views any issued Challenge that does not result in a successful clearance cookie as a failure. This is why the number of failed Challenges may appear exceptionally high: the majority of issued Challenges are never completed.\n\nThe official calculation for failures is:",
      "language": "unknown"
    },
    {
      "code": "The large number of unmatched Challenges is primarily due to automated traffic (bots or scrapers) that abandon the process immediately upon encountering the initial Challenge script.\n\nKey reasons a Challenge may be issued but never solved:\n\n* The visitor gives up on the Challenge or navigates away from the page.\n* The visitor attempts to solve the Challenge but cannot provide a valid answer.\n* The system receives an invalid or malformed answer from the client.\n* The script environment (often a bot's controlled browser) fails to run the necessary client-side checks.\n\n</page>\n\n<page>\n---\ntitle: Private Access Tokens (PAT) Â· Cloudflare challenges docs\ndescription: When a user is presented with a Challenge Page, Cloudflare decides\n  what Challenges need to be solved to prove they are human using results from\n  the Private Access Token (PAT). If a user presents a token, they will have an\n  easier time solving the Challenge.\nlastUpdated: 2025-06-24T17:41:46.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-challenges/reference/private-access-tokens/\n  md: https://developers.cloudflare.com/cloudflare-challenges/reference/private-access-tokens/index.md\n---\n\nWhen a user is presented with a Challenge Page, Cloudflare decides what Challenges need to be solved to prove they are human using results from the Private Access Token (PAT). If a user presents a token, they will have an easier time solving the Challenge.\n\nWhile some Challenges are computationally complex or require interactivity, most of the Challenges served are invisible to the user.\n\nThe Challenge Page is an interstitial page and users will encounter it regardless of having a valid PAT or not. A PAT does not automatically solve a Challenge. It prevents certain Challenges from being issued.\n\n</page>\n\n<page>\n---\ntitle: Supported browsers Â· Cloudflare challenges docs\ndescription: Cloudflare can challenge your visitors in various ways. They can be\n  challenged by Challenge Pages, Turnstile, or by JavaScript Detections (JSD) in\n  Bot Management. This document lays out the supported browsers across all of\n  these challenge methods. When your website or application presents a\n  Challenge, your visitors receive either a Non-interactive or an Interactive\n  Challenge.\nlastUpdated: 2025-06-24T17:41:46.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-challenges/reference/supported-browsers/\n  md: https://developers.cloudflare.com/cloudflare-challenges/reference/supported-browsers/index.md\n---\n\nCloudflare can challenge your visitors in various ways. They can be challenged by [Challenge Pages](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/challenge-pages/), [Turnstile](https://developers.cloudflare.com/turnstile/), or by [JavaScript Detections (JSD) in Bot Management](https://developers.cloudflare.com/cloudflare-challenges/challenge-types/javascript-detections/). This document lays out the supported browsers across all of these challenge methods. When your website or application presents a Challenge, your visitors receive either a Non-interactive or an Interactive Challenge.\n\nCloudflare is committed to ensuring our Challenges work with as many browsers as possible, but there are limitations that you should be aware of.\n\n## Overview\n\nCloudflare Challenges are designed to be compatible with any desktop and mobile browser. If your visitors are using an up-to-date version of a browser listed below, they will receive and be able to solve Challenges without any issues. The following is a non-exclusive list of browsers supported by Cloudflare Challenges. Browsers not listed on this list are supported on a best-effort basis.\n\n### Supported browsers\n\nThe following browsers are officially supported and tested.\n\nGoogle Chrome (desktop and mobile)\n\n* Current version and two previous major versions\n* Chromium-based browsers and Chromium-based browsers that track the current Chrome stable version\n\nWarning\n\nBeta, Dev, Canary, Nightly, or other unreleased builds are not officially supported.\n\nMozilla Firefox\n\n* Current version and two previous major versions\n* Extended Support Release (ESR) versions are supported\n\nSafari\n\n* Current version and two previous major versions\n* iOS Safari on current iOS version and two previous major versions\n\nMicrosoft Edge\n\n* Current version and two previous major versions\n\nSamsung Internet Browser\n\n* Current version and two previous major versions\n\n### Limited browser support\n\nThe following browsers and environments have limited support and may experience occasional issues.\n\n* Internet Explorer is no longer supported.\n* Browsers or operating systems that are more than five years old or have not received security updates in over two years.\n* Custom or heavily modified browser engines, webviews, or embedded browsers.\n\nNote\n\nIf your visitors encounter issues using these browsers, we recommend upgrading to a more current browser for the best experience.\n\n### Unsupported browsers\n\nThe following environments are not supported.\n\n* Command-line tools such as `wget`, `curl`, or others that lack JavaScript execution capabilities required for Cloudflare Challenges.\n* Headless browsers like headless Chrome, headless Firefox, PhantomJS, or others. Challenges are specifically designed to identify and block headless browser traffic. Automation tools and scripts that use headless browsers are not supported.\n* Browser automation frameworks such as Selenium, Puppeteer, Playwright, or others that are considered automated traffic will be blocked by Challenges.\n\n## Common issues\n\n### Browser extensions\n\nBrowser extensions can interfere with Challenges in several ways.\n\n* Ad blockers and content blockers may prevent Challenge scripts from loading properly or block communication with Cloudflare's validation servers.\n* Privacy-focused extensions like script blockers, fingerprinting protection, or canvas blockers can interfere with the Challenge verification process.\n* VPN or proxy extensions might trigger additional security checks or cause IP address inconsistencies.\n* Browser automation tools are often detected as potential bots and may cause Challenge failures.\n\nNote\n\nIf Challenges consistently fail, try temporarily disabling extensions and reload the page.\n\n### Device emulation and developer tools\n\nChallenges are designed to distinguish between real human users and automated traffic. When device emulation is enabled (such as through browser developer tools), it can trigger bot detection mechanisms.\n\n* Mobile device emulation in desktop browsers often uses distinctive characteristics that differ from real mobile devices.\n* Developer tools may modify browser behavior or expose debugging information that changes how Challenges operate.\n* Automation frameworks like Selenium, Puppeteer, or Playwright are specifically detected as non-human traffic.\n\nNote\n\nFor developers testing applications, we recommend using real devices rather than emulated environments when possible.\n\nIf you must use emulation, be aware that Challenges may be more difficult to pass, and do not reflect the real experience on mobile devices.\n\n### WebViews and in-app browsers\n\nChallenges may behave differently depending on embedded browser contexts.\n\n* WebViews in mobile applications may have limited functionality compared to full browsers\n* In-app browsers often have restricted JavaScript capabilities\n* Email client preview windows typically cannot complete Interactive Challenges\n\n## Troubleshooting\n\nIf your visitors consistently experience Challenge issues, refer to [Challenge solve issues](https://developers.cloudflare.com/cloudflare-challenges/troubleshooting/challenge-solve-issues/) for additional troubleshooting information.\n\n</page>\n\n<page>\n---\ntitle: Supported languages Â· Cloudflare challenges docs\ndescription: Cloudflare Challenges can detect multiple languages and display the\n  localized Challenge experience, which is determined by navigator.language\n  value. The Navigator.language read-only property returns a string representing\n  the preferred language of the user, usually the language of the browser user\n  interface.\nlastUpdated: 2025-06-24T17:41:46.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-challenges/reference/supported-languages/\n  md: https://developers.cloudflare.com/cloudflare-challenges/reference/supported-languages/index.md\n---\n\n## Multi-language support\n\nCloudflare Challenges can detect multiple languages and display the localized Challenge experience, which is determined by `navigator.language` value. The [Navigator.language read-only property](https://developer.mozilla.org/en-US/docs/Web/API/Navigator/language) returns a string representing the preferred language of the user, usually the language of the browser user interface.\n\nFor language support specific to Challenge Pages, refer to the table below.\n\n| Language | Language code (4 letters) | Language code (2 letters) |\n| - | - | - |\n| Arabic (Egypt) | `ar-eg` | `ar` |\n| Chinese (Simplified, China) | `zh-cn` | `zh` |\n| Chinese (Traditional, Taiwan) | `zh-tw` | -- |\n| Dutch (Netherlands) | `nl-nl` | `nl` |\n| English (United States) | `en-us` | `en` |\n| French (France) | `fr-fr` | `fr` |\n| German (Germany) | `de-de` | `de` |\n| Indonesian (Indonesia) | `id-id` | `id` |\n| Italian (Italy) | `it-it` | `it` |\n| Japanese (Japan) | `ja-jp` | `ja` |\n| Korean (Korea) | `ko-kr` | `ko` |\n| Persian | -- | `fa` |\n| Polish (Poland) | `pl-pl` | `pl` |\n| Portuguese (Brazil) | `pt-br` | `pt` |\n| Russian (Russia) | `ru-ru` | `ru` |\n| Spanish (Spain) | `es-es` | `es` |\n| Turkish (Turkey) | `tr-tr` | `tr` |\n\n### Turnstile language support\n\nFor language support specific to Turnstile, refer to the [Turnstile documentation](https://developers.cloudflare.com/turnstile/reference/supported-languages/).\n\n</page>\n\n<page>\n---\ntitle: Client API Â· Constellation docs\ndescription: The Constellation client API allows developers to interact with the\n  inference engine using the models configured for each project. Inference is\n  the process of running data inputs on a machine-learning model and generating\n  an output, or otherwise known as a prediction.\nlastUpdated: 2025-01-29T12:28:42.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/constellation/platform/client-api/\n  md: https://developers.cloudflare.com/constellation/platform/client-api/index.md\n---\n\nThe Constellation client API allows developers to interact with the inference engine using the models configured for each project. Inference is the process of running data inputs on a machine-learning model and generating an output, or otherwise known as a prediction.\n\nBefore you use the Constellation client API, you need to:\n\n* Sign up for a [Cloudflare account](https://dash.cloudflare.com/sign-up).\n* Enable Constellation by logging into the Cloudflare dashboard > **Workers & Pages** > **Constellation**.\n* Create a Constellation project and configure the binding.\n* Import the `@cloudflare/constellation` library in your code:",
      "language": "unknown"
    },
    {
      "code": "## Tensor class\n\nTensors are essentially multidimensional numerical arrays used to represent any kind of data, like a piece of text, an image, or a time series. TensorFlow popularized the use of [Tensors](https://www.tensorflow.org/guide/tensor) in machine learning (hence the name). Other frameworks and runtimes have since followed the same concept.\n\nConstellation also uses Tensors for model input.\n\nTensors have a data type, a shape, the data, and a name.",
      "language": "unknown"
    },
    {
      "code": "### Create new Tensor",
      "language": "unknown"
    },
    {
      "code": "#### type\n\nDefines the type of data represented in the Tensor. Options are:\n\n* TensorType.Bool\n* TensorType.Float16\n* TensorType.Float32\n* TensorType.Int8\n* TensorType.Int16\n* TensorType.Int32\n* TensorType.Int64\n\n#### value\n\nThis is the tensor's data. Example tensor values can include:\n\n* scalar: 4\n* vector: \\[1, 2, 3]\n* two-axes 3x2 matrix: \\[\\[1,2], \\[2,4], \\[5,6]]\n* three-axes 3x2 matrix \\[ \\[\\[1, 2], \\[3, 4]], \\[\\[5, 6], \\[7, 8]], \\[\\[9, 10], \\[11, 12]] ]\n\n#### options\n\nYou can pass options to your tensor:\n\n##### shape\n\nTensors store multidimensional data. The shape of the data can be a scalar, a vector, a 2D matrix or multiple-axes matrixes. Some examples:\n\n* \\[] - scalar data\n* \\[3] - vector with 3 elements\n* \\[3, 2] - two-axes 3x2 matrix\n* \\[3, 2, 2] - three-axis 2x2 matrix\n\nRefer to the [TensorFlow documentation](https://www.tensorflow.org/guide/tensor) for more information about shapes.\n\nIf you don't pass the shape, then we try to infer it from the value object. If we can't, we thrown an error.\n\n##### name\n\nNaming a tensor is optional, it can be a useful key for mapping operations when building the tensor inputs.\n\n### Tensor examples\n\n#### A scalar",
      "language": "unknown"
    },
    {
      "code": "#### Arrays",
      "language": "unknown"
    },
    {
      "code": "#### Named",
      "language": "unknown"
    },
    {
      "code": "### Tensor properties\n\nYou can read the tensor's properties after it has been created:",
      "language": "unknown"
    },
    {
      "code": "### Tensor methods\n\n#### async tensor.toJSON()\n\nSerializes the tensor to a JSON object:",
      "language": "unknown"
    },
    {
      "code": "#### async tensor.fromJSON()\n\nSerializes a JSON object to a tensor:",
      "language": "unknown"
    },
    {
      "code": "## InferenceSession class\n\nConstellation requires an inference session before you can run a task. A session is locked to a specific project, defined in your binding, and the project model.\n\nYou can, and should, if possible, run multiple tasks under the same inference session. Reusing the same session, means that we instantiate the runtime and load the model to memory once.",
      "language": "unknown"
    },
    {
      "code": "### InferenceSession methods\n\n#### new InferenceSession()\n\nTo create a new session:",
      "language": "unknown"
    },
    {
      "code": "* **env.PROJECT** is the project binding defined in your Wrangler configuration.\n* **0ae7bd14...** is the model ID inside the project. Use Wrangler to list the models and their IDs in a project.\n\n#### async session.run()\n\nRuns a task in the created inference session. Takes a list of tensors as the input.",
      "language": "unknown"
    },
    {
      "code": "You can also use an object and name your tensors.",
      "language": "unknown"
    },
    {
      "code": "This is the same as using the name option when you create a tensor.",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Challenge solve issues Â· Cloudflare challenges docs\ndescription: \"You may encounter a Challenge loop where the Challenge keeps\n  reappearing without being solved. This is in very specific cases where we\n  detect strong bot signals. If you are a legitimate human, you can follow the\n  troubleshooting guide below to resolve the issue or submit a feedback report.\n  Challenge loops can happen for several reasons:\"\nlastUpdated: 2025-06-24T17:41:46.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-challenges/troubleshooting/challenge-solve-issues/\n  md: https://developers.cloudflare.com/cloudflare-challenges/troubleshooting/challenge-solve-issues/index.md\n---\n\n## Challenge loops\n\nYou may encounter a Challenge loop where the Challenge keeps reappearing without being solved. This is in very specific cases where we detect strong bot signals. If you are a legitimate human, you can follow the troubleshooting guide below to resolve the issue or submit a feedback report. Challenge loops can happen for several reasons:\n\n* **Network issues**: Poor or unstable network connections can prevent the Challenge from being completed.\n* **Browser configuration**: Some browser settings or extensions may block the scripts needed to execute the Challenge.\n* **Unsupported browsers**: Using a browser that is not supported by Turnstile.\n* **JavaScript disabled**: Turnstile relies on JavaScript to function properly.\n* **Detection errors**: If Turnstile suspects bot-like behavior, you may encounter repeated Challenges for verification.\n\nMost Challenges are quick to complete and typically take only a few seconds. If it takes longer, ensure your network is stable and follow the [troubleshooting steps](#troubleshooting).\n\nNote\n\nIf the issue persists, try switching to a different network or device to rule out any issues with your browser environment.\n\nEnsure your browser is updated to the latest version to maintain compatibility.\n\n## Troubleshooting\n\nFollow the steps below to ensure that your environment is properly configured.\n\n1. Verify your browser compatibility.\n\n   * Turnstile supports all major browsers, except Internet Explorer.\n   * Ensure your browser is up to date. For more information, refer to our [Supported browsers](https://developers.cloudflare.com/cloudflare-challenges/reference/supported-browsers/).\n\n2. Disable your browser extensions.\n\n   * Some browser extensions, such as ad blockers, may block the scripts Turnstile needs to operate.\n   * Temporarily disable all extensions and reload the page.\n\n3. Enable JavaScript.\n   * Turnstile requires JavaScript to run. Ensure it is enabled in your browser settings. Refer to your browser's documentation for instructions on enabling JavaScript.\n\n4. Try Incognito or Private mode.\n   * Use your browser's incognito or private mode to rule out issues caused by extensions or cached data.\n\n5. Test another browser or device.\n   * Switch to a different browser or device to see if the issue is specific to your current setup.\n\n6. Avoid VPNs or proxies.\n   * Some virtual private networks (VPN) or proxies may interfere with Turnstile. Disable them temporarily to test.\n\n7. Switch to a different network.\n   * Your current network may have restrictions causing Turnstile challenges to fail. Try switching to another network, such as a mobile hotspot.\n\nIf none of the above resolves your issue, contact the website administrator with the [error code](https://developers.cloudflare.com/turnstile/troubleshooting/client-side-errors/error-codes/) and Ray ID or submit a [feedback report](https://developers.cloudflare.com/turnstile/troubleshooting/feedback-reports/) through the Turnstile widget by selecting **Submit Feedback**.\n\n</page>\n\n<page>\n---\ntitle: API reference Â· Cloudflare for Platforms docs\nlastUpdated: 2024-12-16T22:33:26.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/api-reference/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/api-reference/index.md\n---\n\n\n</page>\n\n<page>\n---\ntitle: Design guide Â· Cloudflare for Platforms docs\nlastUpdated: 2024-08-29T16:36:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/design-guide/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/design-guide/index.md\n---\n\n\n</page>\n\n<page>\n---\ntitle: Custom hostnames Â· Cloudflare for Platforms docs\ndescription: Cloudflare for SaaS allows you, as a SaaS provider, to extend the\n  benefits of Cloudflare products to custom domains by adding them to your zone\n  as custom hostnames. We support adding hostnames that are a subdomain of your\n  zone (for example, sub.serviceprovider.com) and vanity domains (for example,\n  customer.com) to your SaaS zone.\nlastUpdated: 2024-09-20T16:41:42.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/index.md\n---\n\nCloudflare for SaaS allows you, as a SaaS provider, to extend the benefits of Cloudflare products to custom domains by adding them to your zone as custom hostnames. We support adding hostnames that are a subdomain of your zone (for example, `sub.serviceprovider.com`) and vanity domains (for example, `customer.com`) to your SaaS zone.\n\n## Resources\n\n* [Create custom hostnames](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/create-custom-hostnames/)\n* [Hostname validation](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/hostname-validation/)\n* [Move hostnames](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/migrating-custom-hostnames/)\n* [Remove custom hostnames](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/remove-custom-hostnames/)\n* [Custom metadata](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/custom-metadata/)\n\n</page>\n\n<page>\n---\ntitle: Analytics Â· Cloudflare for Platforms docs\ndescription: \"You can use custom hostname analytics for two general purposes:\n  exploring how your customers use your product and sharing the benefits\n  provided by Cloudflare with your customers.\"\nlastUpdated: 2025-07-25T16:42:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/hostname-analytics/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/hostname-analytics/index.md\n---\n\nYou can use custom hostname analytics for two general purposes: exploring how your customers use your product and sharing the benefits provided by Cloudflare with your customers.\n\nThese analytics include **Site Analytics**, **Bot Analytics**, **Cache Analytics**, **Security Events**, and [any other datasets](https://developers.cloudflare.com/analytics/graphql-api/features/data-sets/) with the `clientRequestHTTPHost` field.\n\nNote\n\nThe plan of your Cloudflare for SaaS application determines the analytics available for your custom hostnames.\n\n## Explore customer usage\n\nUse custom hostname analytics to help your organization with billing and infrastructure decisions, answering questions like:\n\n* \"How many total requests is your service getting?\"\n* \"Is one customer transferring significantly more data than the others?\"\n* \"How many global customers do you have and where are they distributed?\"\n\nIf you see one customer is using more data than another, you might increase their bill. If requests are increasing in a certain geographic region, you might want to increase the origin servers in that region.\n\nTo access custom hostname analytics, either [use the dashboard](https://developers.cloudflare.com/analytics/faq/about-analytics/) and filter by the `Host` field or [use the GraphQL API](https://developers.cloudflare.com/analytics/graphql-api/) and filter by the `clientRequestHTTPHost` field. For more details, refer to our tutorial on [Querying HTTP events by hostname with GraphQL](https://developers.cloudflare.com/analytics/graphql-api/tutorials/end-customer-analytics/).\n\n## Share Cloudflare data with your customers\n\nWith custom hostname analytics, you can also share site information with your customers, including data about:\n\n* How many pageviews their site is receiving.\n* Whether their site has a large percentage of bot traffic.\n* How fast their site is.\n\nBuild custom dashboards to share this information by specifying an individual custom hostname in `clientRequestHTTPHost` field of [any dataset](https://developers.cloudflare.com/analytics/graphql-api/features/data-sets/) that includes this field.\n\n## Logpush\n\n[Logpush](https://developers.cloudflare.com/logs/logpush/) sends metadata from Cloudflare products to your cloud storage destination or SIEM.\n\nUsing [filters](https://developers.cloudflare.com/logs/logpush/logpush-job/filters/), you can send set sample rates (or not include logs altogether) based on filter criteria. This flexibility allows you to maintain selective logs for custom hostnames without massively increasing your log volume.\n\nFiltering is available for [all Cloudflare datasets](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/zone/).\n\nNote\n\nFiltering is not supported on the following data types: `objects`, `array[object]`.\n\nFor the Firewall events dataset, the following fields are not supported: `Action`, `Description`, `Kind`, `MatchIndex`, `Metadata`, `OriginatorRayID`, `RuleID`, and `Source`.\n\n</page>\n\n<page>\n---\ntitle: Performance Â· Cloudflare for Platforms docs\ndescription: \"Cloudflare for SaaS allows you to deliver the best performance to\n  your end customers by helping enable you to reduce latency through:\"\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/performance/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/performance/index.md\n---\n\nCloudflare for SaaS allows you to deliver the best performance to your end customers by helping enable you to reduce latency through:\n\n* [Argo Smart Routing for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/performance/argo-for-saas/) calculates and optimizes the fastest path for requests to travel to your origin.\n* [Early Hints for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/performance/early-hints-for-saas/) provides faster loading speeds for individual custom hostnames by allowing the browser to begin loading responses while the origin server is compiling the full response.\n* [Cache for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/performance/cache-for-saas/) makes customer websites faster by storing a copy of the websiteâ€™s content on the servers of our globally distributed data centers.\n* By using Cloudflare for SaaS, your customers automatically inherit the benefits of Cloudflare's vast [anycast network](https://www.cloudflare.com/network/).\n\n</page>\n\n<page>\n---\ntitle: Plans â€” Cloudflare for SaaS Â· Cloudflare for Platforms docs\ndescription: Learn what features and limits are part of various Cloudflare plans.\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/plans/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/plans/index.md\n---\n\n| | Free | Pro | Business | Enterprise |\n| - | - | - | - | - |\n| Availability | Yes | Yes | Yes | Contact your account team |\n| Hostnames included | 100 | 100 | 100 | Custom |\n| Max hostnames | 50,000 | 50,000 | 50,000 | Unlimited, but contact sales if using over 50,000. |\n| Price per additional hostname | $0.10 | $0.10 | $0.10 | Custom pricing |\n| [Custom analytics](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/hostname-analytics/) | Yes | Yes | Yes | Yes |\n| [Custom origin](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/custom-origin/) | Yes | Yes | Yes | Yes |\n| [SNI Rewrite for Custom Origin](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/custom-origin/#sni-rewrites) | No | No | No | Contact your account team |\n| [Custom certificates](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/custom-certificates/) | No | No | No | Yes |\n| [CSR support](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/custom-certificates/certificate-signing-requests/) | No | No | No | Yes |\n| [Selectable CA](https://developers.cloudflare.com/ssl/reference/certificate-authorities/) | No | No | No | Yes |\n| Wildcard custom hostnames | No | No | No | Yes |\n| Non-SNI support for SaaS zone | No | Yes | Yes | Yes |\n| [mTLS support](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/enforce-mtls/) | No | No | No | Yes |\n| [WAF for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/waf-for-saas/) | WAF rules with current zone plan | WAF rules with current zone plan | WAF rules with current zone plan | Create and apply custom firewall rulesets. |\n| [Apex proxying/BYOIP](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/apex-proxying/) | No | No | No | Paid add-on |\n| [Custom metadata](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/custom-metadata/) | No | No | No | Paid add-on |\n\n## Enterprise plan benefits\n\nThe Enterprise plan offers features that give SaaS providers flexibility when it comes to meeting their end customer's requirements. In addition to that, Enterprise customers are able to extend all of the benefits of the Enterprise plan to their customer's custom hostnames. This includes advanced Bot Mitigation, WAF rules, analytics, DDoS mitigation, and more.\n\nIn addition, large SaaS providers rely on Enterprise level support, multi-user accounts, SSO, and other benefits that are not provided in non-Enterprise plans.\n\nNote\n\nEnterprise customers can preview this product as a [non-contract service](https://developers.cloudflare.com/billing/preview-services/), which provides full access, free of metered usage fees, limits, and certain other restrictions.\n\n</page>\n\n<page>\n---\ntitle: Reference â€” Cloudflare for SaaS Â· Cloudflare for Platforms docs\nlastUpdated: 2024-09-20T16:41:42.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/reference/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/reference/index.md\n---\n\n* [Connection request details](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/reference/connection-details/)\n* [Troubleshooting](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/reference/troubleshooting/)\n* [Status codes](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/reference/status-codes/)\n* [Token validity periods](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/reference/token-validity-periods/)\n* [Deprecation - Version 1](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/reference/versioning/)\n* [Certificate and hostname priority](https://developers.cloudflare.com/ssl/reference/certificate-and-hostname-priority/)\n* [Certificate authorities](https://developers.cloudflare.com/ssl/reference/certificate-authorities/)\n* [Certificate statuses](https://developers.cloudflare.com/ssl/reference/certificate-statuses/)\n* [Domain control validation backoff schedule](https://developers.cloudflare.com/ssl/edge-certificates/changing-dcv-method/validation-backoff-schedule/)\n\n</page>\n\n<page>\n---\ntitle: Resources for SaaS customers Â· Cloudflare for Platforms docs\ndescription: Cloudflare partners with many SaaS providers to extend our\n  performance and security benefits to your website.\nlastUpdated: 2025-01-10T16:06:07.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/index.md\n---\n\nCloudflare partners with many [SaaS providers](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/) to extend our performance and security benefits to your website.\n\nIf you are a SaaS customer, you can take this process a step further by managing your own zone on Cloudflare. This setup - known as **Orange-to-Orange (O2O)** - allows you to benefit from your provider's setup but still customize how Cloudflare treats incoming traffic to your zone.\n\n## Related resources\n\n* [How it works](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/how-it-works/)\n* [Provider guides](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/provider-guides/)\n* [Product compatibility](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/product-compatibility/)\n* [Remove domain](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/saas-customers/remove-domain/)\n\n</page>\n\n<page>\n---\ntitle: Security Â· Cloudflare for Platforms docs\ndescription: \"Cloudflare for SaaS provides increased security per custom hostname through:\"\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/index.md\n---\n\nCloudflare for SaaS provides increased security per custom hostname through:\n\n* [Certificate management](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/)\n\n  * [Issue certificates through Cloudflare](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/issue-and-validate/)\n  * [Upload your own certificates](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/custom-certificates/)\n\n* Control your traffic's level of encryption with [TLS settings](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/certificate-management/enforce-mtls/)\n\n* Create and deploy WAF custom rules, rate limiting rules, and managed rulesets using [WAF for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/security/waf-for-saas/)\n\n</page>\n\n<page>\n---\ntitle: Get started - Cloudflare for SaaS Â· Cloudflare for Platforms docs\nlastUpdated: 2024-09-20T16:41:42.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/index.md\n---\n\n* [Enable](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/enable/)\n* [Configuring Cloudflare for SaaS](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/getting-started/)\n* [Advanced Settings](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/advanced-settings/)\n* [Common API Calls](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/start/common-api-calls/)\n\n</page>\n\n<page>\n---\ntitle: Configuration Â· Cloudflare for Platforms docs\nlastUpdated: 2025-12-29T17:29:32.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/index.md\n---\n\n* [Dynamic dispatch Worker](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/dynamic-dispatch/)\n* [Hostname routing](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/hostname-routing/)\n* [Bindings](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/bindings/)\n* [Custom limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/custom-limits/)\n* [Observability](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/observability/)\n* [Outbound Workers](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/outbound-workers/)\n* [Static assets](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/static-assets/)\n* [Tags](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/tags/)\n\n</page>\n\n<page>\n---\ntitle: Get started Â· Cloudflare for Platforms docs\ndescription: Get started with Workers for Platforms by deploying a starter kit\n  to your account.\nlastUpdated: 2025-12-29T17:29:32.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/get-started/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/get-started/index.md\n---\n\nGet started with Workers for Platforms by deploying a starter kit to your account.\n\n## Deploy a platform\n\nDeploy the [Platform Starter Kit](https://github.com/cloudflare/templates/tree/main/worker-publisher-template) to your Cloudflare account. This creates a complete Workers for Platforms setup with one click.\n\n[![Deploy to Cloudflare](https://deploy.workers.cloudflare.com/button)](https://deploy.workers.cloudflare.com/?url=https://github.com/cloudflare/templates/tree/main/worker-publisher-template)\n\nAfter deployment completes, open your Worker URL. You now have a platform where you can deploy code snippets.\n\n### Try it out\n\n1. Enter a script name, for example `my-worker`.\n2. Write or paste Worker code in the editor.\n3. Click **Deploy Worker**.\n\nOnce deployed, visit `/<script-name>` on your Worker URL to run your code. For example, if you named your script `my-worker`, go to `https://<your-worker>.<subdomain>.workers.dev/my-worker`.\n\nEach script you deploy becomes its own isolated Worker. The platform calls the Cloudflare API to create the Worker and the dispatch Worker routes requests to it based on the URL path.\n\n## Understand how it works\n\nThe template you deployed contains three components that work together:\n\n### Dispatch namespace\n\nA dispatch namespace is a collection of user Workers. Think of it as a container that holds all the Workers your platform deploys on behalf of your customers.\n\nWhen you deployed the template, it created a dispatch namespace automatically. You can view it in the Cloudflare dashboard under **Workers for Platforms**.\n\n### Dispatch Worker\n\nThe dispatch Worker receives incoming requests and routes them to the correct user Worker. It uses a [binding](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/bindings/) to access the dispatch namespace.",
      "language": "unknown"
    },
    {
      "code": "The `env.DISPATCHER.get()` method retrieves a user Worker by name from the dispatch namespace.\n\n### User Workers\n\nUser Workers contain the code your customers write and deploy. They run in isolated environments with no access to other customers' data or code.\n\nIn the template, user Workers are deployed programmatically through the API. In production, your platform would call the Cloudflare API or SDK to deploy user Workers when your customers save their code.\n\n## Build your platform\n\nNow that you understand how the components work together, customize the template for your use case:\n\n* [Dynamic dispatch](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/dynamic-dispatch/) â€” Route requests by subdomain or hostname\n* [Hostname routing](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/hostname-routing/) â€” Let customers use [custom domains](https://developers.cloudflare.com/cloudflare-for-platforms/cloudflare-for-saas/domain-support/) with their applications\n* [Bindings](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/bindings/) â€” Give each customer access to their own [database](https://developers.cloudflare.com/d1/), [key-value store](https://developers.cloudflare.com/kv/), or [object storage](https://developers.cloudflare.com/r2/)\n* [Outbound Workers](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/outbound-workers/) â€” Configure egress policies on outgoing requests from customer code\n* [Custom limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/custom-limits/) â€” Set CPU time and subrequest limits per customer\n* [API examples](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/reference/platform-examples/) â€” Examples for deploying and managing customer code programmatically\n\n## Build an AI vibe coding platform\n\n[![Deploy to Cloudflare](https://deploy.workers.cloudflare.com/button)](https://deploy.workers.cloudflare.com/?url=https://github.com/cloudflare/vibesdk)\n\nBuild an [AI vibe coding platform](https://developers.cloudflare.com/reference-architecture/diagrams/ai/ai-vibe-coding-platform/) where users describe what they want and AI generates and deploys applications.\n\nWith [VibeSDK](https://github.com/cloudflare/vibesdk), Cloudflare's open source vibe coding platform, you can get started with an example that handles AI code generation, code execution in secure sandboxes, live previews, and deployment at scale.\n\n[View demo](https://build.cloudflare.dev)\n\n[View on GitHub](https://github.com/cloudflare/vibesdk)\n\n</page>\n\n<page>\n---\ntitle: How Workers for Platforms works Â· Cloudflare for Platforms docs\ndescription: \"If you are familiar with Workers, Workers for Platforms introduces\n  four key components: dispatch namespaces, dynamic dispatch Workers, user\n  Workers, and optionally outbound Workers.\"\nlastUpdated: 2025-12-29T17:29:32.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/how-workers-for-platforms-works/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/how-workers-for-platforms-works/index.md\n---\n\n## Architecture\n\nIf you are familiar with [Workers](https://developers.cloudflare.com/workers/), Workers for Platforms introduces four key components: dispatch namespaces, dynamic dispatch Workers, user Workers, and optionally outbound Workers.\n\n![Workers for Platforms architecture](https://developers.cloudflare.com/_astro/programmable-platforms-1.BCCEhzLr_Z2oGmWd.svg)\n\n### Dispatch namespace\n\nA dispatch namespace is a container that holds all of your customers' Workers. Your platform takes the code your customers write, and then makes an API request to deploy that code as a user Worker to a namespace â€” for example `staging` or `production`. Compared to [Workers](https://developers.cloudflare.com/workers/), this provides:\n\n* **Unlimited number of Workers** - No per-account script limits apply to Workers in a namespace\n* **Isolation by default** - Each user Worker in a namespace runs in [untrusted mode](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/reference/worker-isolation/) â€” user Workers never share a cache even when running on the same Cloudflare zone, and cannot access the `request.cf` object\n* **Dynamic invocation** - Your dynamic dispatch Worker can call any Worker in the namespace using `env.DISPATCHER.get(\"worker-name\")`\n\nBest practice\n\nAll your customers' Workers should live in a single namespace (for example, `production`). Do not create a namespace per customer.\n\nIf you need to test changes safely, create a separate `staging` namespace.\n\n### Dynamic dispatch Worker\n\nA dynamic dispatch Worker is the entry point for all requests to your platform. Your dynamic dispatch Worker:\n\n* **Routes requests** - Determines which customer Worker should handle each request based on hostname, path, headers, or any other criteria\n* **Runs platform logic** - Executes authentication, rate limiting, or request validation before customer code runs\n* **Sets per-customer limits** - Enforces [custom limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/custom-limits/) on CPU time and subrequests based on plan type\n* **Sanitizes responses** - Modifies or filters responses from customer Workers\n\nThe dynamic dispatch Worker uses a [dispatch namespace binding](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/dynamic-dispatch/) to invoke user Workers:",
      "language": "unknown"
    },
    {
      "code": "### User Workers\n\nUser Workers contain code written by your customers. Your customer sends their code to your platform, and then you make an API request to deploy a user Worker on their behalf. User Workers are deployed to a dispatch namespace and invoked by your dynamic dispatch Worker. You can provide user Workers with [bindings](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/bindings/) to access KV, D1, R2, and other Cloudflare resources.\n\n![Deployment and management flow](https://developers.cloudflare.com/_astro/programmable-platforms-6.BfYznbr5_Z2oGmWd.svg)\n\n### Outbound Worker (optional)\n\nAn [outbound Worker](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/configuration/outbound-workers/) intercepts [`fetch()`](https://developers.cloudflare.com/workers/runtime-apis/fetch/) requests made by user Workers. Use it to:\n\n* **Control egress** - Block or allow external API calls from customer code\n* **Log requests** - Track what external services customers are calling\n* **Modify requests** - Add authentication headers or transform requests before they leave your platform\n\n![Outbound Worker egress control pattern](https://developers.cloudflare.com/_astro/programmable-platforms-3.C-LkeZtS_ZG0FdN.svg)\n\n### Request lifecycle\n\n1. A request arrives at your dynamic dispatch Worker (for example, `customer-a.example.com/api`)\n2. Your dynamic dispatch Worker determines which user Worker should handle the request\n3. The dynamic dispatch Worker calls `env.DISPATCHER.get(\"customer-a\")` to get the user Worker\n4. The user Worker executes. If it makes external `fetch()` calls and an outbound Worker is configured, those requests pass through the outbound Worker first.\n5. The user Worker returns a response\n6. Your dynamic dispatch Worker can optionally modify the response before returning it\n\n***\n\n## Workers for Platforms versus Service bindings\n\nBoth Workers for Platforms and [Service bindings](https://developers.cloudflare.com/workers/runtime-apis/bindings/service-bindings/) enable Worker-to-Worker communication. Use Service bindings when you know exactly which Workers need to communicate. Use Workers for Platforms when user Workers are uploaded dynamically by your customers.\n\nYou can use both simultaneously - your dynamic dispatch Worker can use Service bindings to call internal services while also dispatching to user Workers in a namespace.\n\n</page>\n\n<page>\n---\ntitle: Platform templates Â· Cloudflare for Platforms docs\ndescription: Deploy a fully working platform to your Cloudflare account and\n  customize it for your use case.\nlastUpdated: 2025-12-29T17:29:32.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform-templates/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform-templates/index.md\n---\n\nDeploy a fully working platform to your Cloudflare account and customize it for your use case.\n\n* [Platform Starter Kit](https://github.com/cloudflare/templates/tree/main/worker-publisher-template)\n* [Deploy an AI vibe coding platform](https://github.com/cloudflare/vibesdk)\n\n</page>\n\n<page>\n---\ntitle: Reference Â· Cloudflare for Platforms docs\nlastUpdated: 2025-12-29T17:29:32.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/reference/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/reference/index.md\n---\n\n* [Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/reference/limits/)\n* [Local development](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/reference/local-development/)\n* [User Worker metadata](https://developers.cloudflare.com/workers/configuration/multipart-upload-metadata/)\n* [Worker Isolation](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/reference/worker-isolation/)\n* [Pricing](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/reference/pricing/)\n* [API examples](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/reference/platform-examples/)\n\n</page>\n\n<page>\n---\ntitle: WFP REST API Â· Cloudflare for Platforms docs\nlastUpdated: 2024-12-16T22:33:26.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/wfp-api/\n  md: https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/wfp-api/index.md\n---\n\n\n</page>\n\n<page>\n---\ntitle: Access settings Â· Cloudflare One docs\nlastUpdated: 2025-10-24T18:16:28.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/index.md\n---\n\n* [App Launcher](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/app-launcher/)\n* [Session management](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/)\n\n</page>\n\n<page>\n---\ntitle: AI controls Â· Cloudflare One docs\nlastUpdated: 2025-10-24T20:47:24.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/ai-controls/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/ai-controls/index.md\n---\n\n* [MCP server portals](https://developers.cloudflare.com/cloudflare-one/access-controls/ai-controls/mcp-portals/)\n* [Secure MCP servers with Access for SaaS](https://developers.cloudflare.com/cloudflare-one/access-controls/ai-controls/saas-mcp/)\n* [Authenticate MCP server to self-hosted apps](https://developers.cloudflare.com/cloudflare-one/access-controls/ai-controls/linked-apps/)\n\n</page>\n\n<page>\n---\ntitle: Applications Â· Cloudflare One docs\nlastUpdated: 2025-10-23T19:01:53.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/applications/index.md\n---\n\n* [Add web applications](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/)\n* [Non-HTTP applications](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/)\n* [Add bookmarks](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/bookmarks/)\n\n</page>\n\n<page>\n---\ntitle: Event subscriptions Â· Cloudflare One docs\ndescription: Event subscriptions allow you to receive messages when events occur\n  across your Cloudflare account. Cloudflare products (e.g., KV, Workers AI,\n  Workers) can publish structured events to a queue, which you can then consume\n  with Workers or HTTP pull consumers to build custom workflows, integrations,\n  or logic.\nlastUpdated: 2025-11-07T21:41:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/event-subscriptions/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/event-subscriptions/index.md\n---\n\n[Event subscriptions](https://developers.cloudflare.com/queues/event-subscriptions/) allow you to receive messages when events occur across your Cloudflare account. Cloudflare products (e.g., [KV](https://developers.cloudflare.com/kv/), [Workers AI](https://developers.cloudflare.com/workers-ai/), [Workers](https://developers.cloudflare.com/workers/)) can publish structured events to a [queue](https://developers.cloudflare.com/queues/), which you can then consume with Workers or [HTTP pull consumers](https://developers.cloudflare.com/queues/configuration/pull-consumers/) to build custom workflows, integrations, or logic.\n\nFor more information on [Event Subscriptions](https://developers.cloudflare.com/queues/event-subscriptions/), refer to the [management guide](https://developers.cloudflare.com/queues/event-subscriptions/manage-event-subscriptions/).\n\n## Available Access events\n\n#### `application.created`\n\nTriggered when an application is created.\n\n**Example:**",
      "language": "unknown"
    },
    {
      "code": "#### `application.deleted`\n\nTriggered when an application is deleted.\n\n**Example:**",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Access policies Â· Cloudflare One docs\ndescription: Cloudflare Access determines who can reach your application by\n  applying the Access policies you configure.\nlastUpdated: 2025-12-19T17:15:17.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/policies/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/policies/index.md\n---\n\nCloudflare Access determines who can reach your application by applying the Access policies you configure.\n\nAn Access policy consists of an **Action** as well as rules which determine the scope of the action. To build a rule, you need to choose a **Rule type**, **Selector**, and a **Value** for the selector.\n\n* [Actions](#actions)\n* [Rule types](#rule-types)\n* [Selectors](#selectors)\n\n## Actions\n\nActions let you grant or deny permission to a certain user or user group. You can set only one action per policy.\n\n### Allow\n\nThe Allow action allows users that meet certain criteria to reach an application behind Access.\n\nThe following example lets any user with an `@example.com` email address, as validated against an IdP, reach the application:\n\n| Action | Rule type | Selector | Value |\n| - | - | - | - |\n| Allow | Include | Emails Ending In: | `@example.com` |\n\nYou can add a Require rule in the same policy action to enforce additional checks. Finally, if the policy contains an Exclude rule, users meeting that definition are prevented from reaching the application.\n\nFor example, this second configuration lets any user from Portugal with a `@team.com` email address, as validated against an IdP, reach the application, except for `user-1` and `user-2`:\n\n| Action | Rule type | Selector | Value |\n| - | - | - | - |\n| Allow | Include | Country | `Portugal` |\n| | Require | Emails Ending In | `@team.com` |\n| | Exclude | Email | `user-1@team.com`, `user-2@team.com` |\n\n### Block\n\nThe Block action prevents users who meet certain critera from reaching an application behind Access. For example, the following policy blocks requests from Russian source IPs that are not on your [list of approved IPs](https://developers.cloudflare.com/cloudflare-one/reusable-components/lists/).\n\n| Action | Rule type | Selector | Value |\n| - | - | - | - |\n| Block | Include | Country | `Russian Federation` |\n| | Exclude | IP list | `Corporate IP allowlist` |\n\nBlock policies are best used in conjunction with [Allow policies](#allow) as a way to carve out exceptions in those Allow policies. Since Access is deny by default, users who do not match a Block policy will still be denied access unless they explicitly match an Allow policy.\n\n### Bypass\n\nWarning\n\nBypass does not enforce any Access security controls and requests are not logged. Bypass policies should be tested before deploying to production. Consider using [Service Auth](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/#service-auth) if you would like to enforce policies and maintain logging without requiring user authentication.\n\nAs Bypass does not enforce Access security controls, Bypass policies do not support identity-based [rule types](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/#rule-types). When making Bypass policies, you will not be able to apply certain identity-based [selectors](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/#selectors) (such as email).\n\nThe Bypass action disables any Access enforcement for traffic that meets the defined rule criteria. Bypass is typically used to enable applications that require specific endpoints to be public.\n\nFor example, some applications have an endpoint under the `/admin` route that must be publicly routable. In this situation, you could create an Access application for the domain `test.example.com/admin/<your-url>` and add the following Bypass policy:\n\n| Action | Rule type | Selector | Value |\n| - | - | - | - |\n| Bypass | Include | Everyone | `Everyone` |\n\nAs part of implementing a Zero Trust security model, Cloudflare does not recommend using Bypass to grant direct permanent access to your internal applications. To enable seamless and secure access for on-network employees, use Cloudflare Tunnel to [connect your private network](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/cloudflared/) and have users connect through WARP.\n\nNote\n\nWhen applying a Bypass action, security settings revert to the defaults configured for the zone and any configured Page Rules. If **Always use HTTPS** is enabled for the site, then traffic to the bypassed destination continues in HTTPS. If **Always use HTTPS** is disabled, traffic is HTTP.\n\n#### Product compatibility\n\nBypass policies which contain [WARP device posture check](https://developers.cloudflare.com/cloudflare-one/reusable-components/posture-checks/) rules will not function when [Zaraz](https://developers.cloudflare.com/zaraz/) is enabled for the zone protected by Access, or if a [Worker](https://developers.cloudflare.com/workers/) intercepts the request. To work around this limitation and bypass Access, change the policy action to [Service Auth](#service-auth).\n\n### Service Auth\n\nService Auth rules enforce authentication flows that do not require an identity provider IdP login, such as service tokens and mutual TLS.\n\n| Action | Rule type | Selector |\n| - | - | - |\n| Service Auth | Include | Valid certificate |\n\n## Rule types\n\nRules work like logical operators. They help you define which categories of users your policy will affect. All Access policies must contain an Include rule. This is what defines the initial pool of eligible users who can access an application. You can then add Exclude and Require rules to enforce specific policies for those users.\n\n### Include\n\nThe Include rule is similar to an OR logical operator. In case more than one Include rule is specified, users need to meet only one of the criteria.\n\n### Exclude\n\nThe Exclude rule works like a NOT logical operator. A user meeting any Exclusion criteria will not be allowed access to the application.\n\n### Require\n\nThe Require rule works like an AND logical operator. A user must meet all specified Require rules to be allowed access.\n\n#### Require rules with OR operators\n\nBy default, any values added to a Require rule are concatenated by an AND operator. For example, let's say you want to grant access to an application to both the full-time employees and the contractors, and only the ones based in specific countries â€” say Portugal and the United States. If you set up a rule with the following configuration:\n\n| Action | Rule type | Selector | Value |\n| - | - | - | - |\n| Allow | Require | Country | `United States`, `Portugal` |\n| | Require | Emails ending in | `@cloudflare.com`, `@contractors.com` |\n\nthe policy will only grant access to people reaching the application from both the United States AND Portugal, and who have both an email ending in `@cloudflare.com` AND in `@contractors.com`. Therefore, nobody will have access to the application.\n\nTo require only one country and one email ending:\n\n1. [Create a rule group](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/groups/) that includes users in Portugal OR in the United States:\n\n   | Rule type | Selector | Value |\n   | - | - | - |\n   | Include | Country | `United States`, `Portugal` |\n\n2. Create a policy that requires the rule group, and that also includes users with emails ending in either `@cloudflare.com` OR `@contractors.com`:\n\n   | Action | Rule type | Selector | Value |\n   | - | - | - | - |\n   | Allow | Require | Rule group | `Country requirements` |\n   | | Include | Emails ending in | `@cloudflare.com`, `@contractors.com` |\n\n## Selectors\n\nWhen you add a rule to your policy, you will be asked to specify the criteria/attributes you want users to meet. These attributes are available for all Access application types, including [SaaS](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/), [self-hosted](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/self-hosted-public-app/), and [non-HTTP](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/) applications.\n\nNon-identity attributes are polled continuously, meaning they are-evaluated with each new HTTP request for changes during the [user session](https://developers.cloudflare.com/cloudflare-one/access-controls/access-settings/session-management/). If you have configured [SCIM provisioning](https://developers.cloudflare.com/cloudflare-one/team-and-resources/users/scim/), you can force a user to re-attest all attributes with Access whenever you revoke the user in the IdP or update their IdP group membership.\n\n| Selector | Description | Checked at login | Checked continuously1 | Identity-based selector? |\n| - | - | - | - | - |\n| Emails | `you@company.com` | âœ… | âŒ | âœ… |\n| Emails ending in | `@company.com` | âœ… | âŒ | âœ… |\n| External Evaluation | Allows or denies access based on [custom logic](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/external-evaluation/) in an external API. | âœ… | âŒ | âœ… |\n| IP ranges | `192.168.100.1/24` (supports IPv4/IPv6 addresses and CIDR ranges) | âœ… | âœ… | âŒ |\n| Country | Uses the IP address to determine country. | âœ… | âœ… | âŒ |\n| Everyone | Allows, denies, or bypasses access to everyone. | âœ… | âŒ | âŒ |\n| Common Name | The request will need to present a valid certificate with an expected common name. | âœ… | âœ… | âŒ |\n| Valid Certificate | The request will need to present any valid client certificate. | âœ… | âœ… | âŒ |\n| Service Token | The request will need to present the correct service token headers configured for the specific application. Requires the [Service Auth](#service-auth) action. | âœ… | âœ… | âŒ |\n| Any Access Service Token | The request will need to present the headers for any [service token](https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/service-tokens/) created for this account. Requires the [Service Auth](#service-auth) action. | âœ… | âœ… | âŒ |\n| Linked App Token | Checks for a valid [OAuth access token](https://developers.cloudflare.com/cloudflare-one/access-controls/ai-controls/linked-apps/) issued to a specific Access for SaaS application. Requires the [Service Auth](#service-auth) action. | âœ… | âœ… | âŒ |\n| Login Methods | Checks the identity provider used at the time of login. | âœ… | âŒ | âœ… |\n| Authentication Method | Checks the [multifactor authentication](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/mfa-requirements/) method used by the user, if supported by the identity provider. | âœ… | âŒ | âœ… |\n| Identity provider group | Checks the user groups configured with your identity provider (IdP). This selector only displays if you use Microsoft Entra ID, GitHub, Google, Okta, or an IdP that provisions groups with [SCIM](https://developers.cloudflare.com/cloudflare-one/team-and-resources/users/scim/). | âœ… | âŒ | âœ… |\n| SAML Group | Checks a SAML attribute name / value pair. This selector only displays if you use a [generic SAML](https://developers.cloudflare.com/cloudflare-one/integrations/identity-providers/generic-saml/) identity provider. | âœ… | âŒ | âœ… |\n| OIDC Claim | Checks an OIDC claim name / value pair. This selector only displays if you use a [generic OIDC](https://developers.cloudflare.com/cloudflare-one/integrations/identity-providers/generic-oidc/) identity provider. | âœ… | âŒ | âœ… |\n| Device posture | Checks [device posture signals](https://developers.cloudflare.com/cloudflare-one/reusable-components/posture-checks/) from the WARP client or a third-party service provider. | âœ… | âœ… | âŒ |\n| Warp | Checks that the device is connected to WARP, including the consumer version. | âœ… | âœ… | âŒ |\n| Gateway | Checks that the device is connected to your Zero Trust instance through the [WARP client](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/). | âœ… | âœ… | âŒ |\n\n1 For SaaS applications, Access can only enforce policies at the time of initial sign on and when reissuing the SaaS session. Once the user has authenticated to the SaaS app, session management falls solely within the purview of the SaaS app.\n\n## Order of execution\n\nPolicies are evaluated based on their action type and ordering. Bypass and Service Auth policies are evaluated first, from top to bottom as shown in the UI. Then, Block and Allow policies are evaluated based on their order.\n\nFor example, if you have a list of policies arranged as follows:\n\n* Allow A\n* Block B\n* Service Auth C\n* Bypass D\n* Allow E\n\nThe policies will execute in this order: Service Auth C > Bypass D > Allow A > Block B > Allow E. Once a user matches an Allow or Block policy, evaluation stops and no subsequent policies can override the decision.\n\n## Common misconfigurations\n\nIf you add any of the following rules to an Allow policy, anyone will be able to access your application.\n\n### Include everyone\n\n| Rule type | Selector | Value |\n| - | - | - |\n| Include | Everyone | `Everyone` |\n\n### Include all valid emails\n\n| Rule type | Selector | Value |\n| - | - | - |\n| Include | Login Methods | `One-time PIN` |\n\n## Additional resources\n\n* [API and Terraform](https://developers.cloudflare.com/cloudflare-one/api-terraform/) provide programmatic ways to manage your Access policies and configurations.\n\n</page>\n\n<page>\n---\ntitle: Service credentials Â· Cloudflare One docs\nlastUpdated: 2025-10-24T20:47:24.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/\n  md: https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/index.md\n---\n\n* [Mutual TLS](https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/mutual-tls-authentication/)\n* [Service tokens](https://developers.cloudflare.com/cloudflare-one/access-controls/service-credentials/service-tokens/)\n\n</page>\n\n<page>\n---\ntitle: Scan for sensitive data Â· Cloudflare One docs\ndescription: You can use Cloudflare Data Loss Prevention (DLP) to discover if\n  files stored in a SaaS application contains sensitive data. To perform DLP\n  scans in a SaaS app, first configure a DLP profile with the data patterns you\n  want to detect, then add the profile to a CASB integration.\nlastUpdated: 2025-10-27T15:01:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/casb-dlp/\n  md: https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/casb-dlp/index.md\n---\n\nNote\n\nRequires Cloudflare CASB and Cloudflare DLP.\n\nYou can use [Cloudflare Data Loss Prevention (DLP)](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/) to discover if files stored in a SaaS application contains sensitive data. To perform DLP scans in a SaaS app, first configure a [DLP profile](#configure-a-dlp-profile) with the data patterns you want to detect, then [add the profile](#enable-dlp-scans-in-casb) to a CASB integration.\n\n## Supported integrations\n\n* [Amazon Web Services (AWS) S3](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/aws-s3/)\n* [Box](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/box/)\n* [Dropbox](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/dropbox/)\n* [Google Cloud Platform (GCP) Cloud Storage](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/gcp-cloud-storage)\n* [Google Drive](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/google-drive/)\n* [Microsoft OneDrive](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/onedrive/)\n* [Microsoft SharePoint](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/sharepoint/)\n\n## Configure a DLP profile\n\nYou may either use DLP profiles predefined by Cloudflare, or create your own custom profiles based on regex, predefined detection entries, datasets, and document fingerprints.\n\n### Configure a predefined profile\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Data loss prevention** > **Profiles**.\n2. Choose a [predefined profile](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-profiles/predefined-profiles/) and select **Edit**.\n3. Enable one or more **Detection entries** according to your preferences. The DLP Profile matches using the OR logical operator â€” if multiple entries are enabled, your data needs to match only one of the entries.\n4. Select **Save profile**.\n\nYour DLP profile is now ready to use with CASB.\n\n### Build a custom profile\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Data loss prevention** > **Profiles**.\n\n2. Select **Create profile**.\n\n3. Enter a name and optional description for the profile.\n\n4. Add custom or existing detection entries.\n\n   Add a custom entry\n\n   1. Select **Add custom entry** and give it a name.\n\n   2. In **Value**, enter a regular expression (or regex) that defines the text pattern you want to detect. For example, `test\\d\\d` will detect the word `test` followed by two digits.\n\n      * Regular expressions are written in Rust. We recommend validating your regex with [Rustexp](https://rustexp.lpil.uk/).\n      * DLP detects UTF-8 characters, which can be up to 4 bytes each. Custom text pattern detections are limited to 1024 bytes in length.\n      * DLP does not support regular expressions with `+` or `*` operators because they are prone to exceeding the length limit. For example, the regex pattern `a+` can detect an infinite number of `a` characters. We recommend using `a{min,max}` instead, such as `a{1,1024}`.\n\n   3. To save the detection entry, select **Done**.\n\n   Add existing entries\n\n   Existing entries include [predefined](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-profiles/predefined-profiles/) and [user-defined](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/detection-entries/) detection entries.\n\n   1. Select **Add existing entries**.\n   2. Choose which entries you want to add, then select **Confirm**.\n   3. To save the detection entry, select **Done**.\n\n5. (Optional) Configure [**profile settings**](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-profiles/advanced-settings/) for the profile.\n\n6. Select **Save profile**.\n\nYour DLP profile is now ready to use with CASB.\n\nFor more information, refer to [Configure a DLP profile](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-profiles/).\n\n## Enable DLP scans in CASB\n\n### Add a new integration\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Cloud & SaaS findings** > **Integrations**.\n2. Select **Connect an integration** and choose a [supported integration](#supported-integrations).\n3. During the setup process, you will be prompted to select DLP profiles for the integration.\n4. Select **Save integration**.\n\nCASB will scan every publicly accessible file in the integration for text that matches the DLP profile. The initial scan may take up to a few hours to complete.\n\n### Modify an existing integration\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Cloud & SaaS findings** > **Integrations**.\n2. Choose a [supported integration](#supported-integrations) and select **Configure**.\n3. Under **DLP profiles**, select the profiles that you want the integration to scan for.\n4. Select **Save integration**.\n\nIf you enable a DLP profile from the **Manage integrations** page, CASB will only scan publicly accessible files that have had a modification event since enabling the DLP profile. Modification events include changes to the following attributes:\n\n* Contents of the file\n* Name of the file\n* Visibility of the file (only if changed to publicly accessible)\n* Owner of the file\n* Location of the file (for example, moved to a different folder)\n\nIn order to scan historical data, you must enable the DLP profile during the [integration setup flow](#add-a-new-integration).\n\n## Limitations\n\nDLP in CASB will only scan:\n\n* [Text-based files](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/#supported-file-types) such as documents, spreadsheets, and PDFs. Images are not supported.\n* Files less than or equal 100 MB in size.\n* Source code with a minimum size of 5 KB for Java and R.\n\n</page>\n\n<page>\n---\ntitle: Manage security findings Â· Cloudflare One docs\ndescription: Findings are security issues detected within SaaS and cloud\n  applications that involve users, data at rest, and other configuration\n  settings. With Cloudflare CASB, you can review a comprehensive list of\n  findings in Cloudflare One and immediately start taking action on the issues\n  found.\nlastUpdated: 2025-10-27T15:01:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/\n  md: https://developers.cloudflare.com/cloudflare-one/cloud-and-saas-findings/manage-findings/index.md\n---\n\nFindings are security issues detected within SaaS and cloud applications that involve users, data at rest, and other configuration settings. With Cloudflare CASB, you can review a comprehensive list of findings in Cloudflare One and immediately start taking action on the issues found.\n\n## Prerequisites\n\n* You have added a [Cloud and SaaS integration](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/).\n* Your scan has surfaced at least one security finding.\n\n## Posture findings\n\nPosture findings include misconfigurations, unauthorized user activity, and other data security issues.\n\nTo view details about the posture findings that CASB found:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Cloud & SaaS findings** > **Posture Findings**.\n2. Choose **SaaS** or **Cloud**.\n3. To view details about a finding, select the finding's name\n\nCloud & SaaS findings will display details about your posture finding, including the finding type, [severity level](#severity-levels), number of instances, associated integration, current status, and date detected. For more information on each instance of the finding, select **Manage**.\n\nTo manage the finding's visibility, you can update the finding's [severity level](#severity-levels) or [hide the finding](#hide-findings) from view. Additionally, some findings provide a remediation guide to resolve the issue or support [creating a Gateway HTTP policy](#resolve-finding-with-a-gateway-policy) to block the traffic.\n\n### Severity levels\n\nCloudflare CASB labels each finding with one of the following severity levels:\n\n| Severity level | Urgency |\n| - | - |\n| Critical | Suggests the finding is something your team should act on today. |\n| High | Suggests the finding is something your team should act on this week. |\n| Medium | Suggests the finding should be reviewed sometime this month. |\n| Low | Suggests the finding is informational or part of a scheduled review process. |\n\n#### Change the severity level\n\nYou can change the severity level for a finding at any time in case the default assignment does not suit your environment:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Cloud & SaaS findings** > **Posture Findings**.\n2. Locate the finding you want to modify and select **Manage**.\n3. In the severity level drop-down menu, choose your desired setting (*Critical*, *High*, *Medium*, or *Low*).\n\nThe new severity level will only apply to the posture finding within this specific integration. If you added multiple integrations of the same application, the other integrations will not be impacted by this change.\n\n## Content findings\n\nContent findings include instances of potential data exposure as identified by [DLP](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/).\n\nTo view details about the content findings that CASB found:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Cloud & SaaS findings** > **Content Findings**.\n2. Choose **SaaS** or **Cloud**.\n3. To view details about a finding, select the finding's name.\n\nCloud & SaaS findings will display details about your content finding, including the file name, a link to the file, matching DLP profiles, associated integration, and date detected.\n\nAWS users can configure a [compute account](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/aws-s3/#compute-account) to scan for data security resources within their S3 resources.\n\n## View shared files\n\nFile findings for some integrations (such as [Microsoft 365](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/#file-sharing) and [Box](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/box/#file-sharing)) may link to an inaccessible file. To access the actual shared file:\n\n* Posture finding\n\n  1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Cloud & SaaS findings** > **Posture Findings**.\n  2. Choose **SaaS** or **Cloud**.\n  3. Locate the individual finding, then select **Manage**.\n  4. In **Active Instances**, select the file name.\n  5. In **Shared Links**, select the linked file instance.\n\n* Content finding\n\n  1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Cloud & SaaS findings** > **Content Findings**.\n  2. Choose **SaaS** or **Cloud**.\n  3. Select the file name of the detected asset.\n  4. In **Sharing details**, select the linked file instance.\n\n## Hide findings\n\nAfter reviewing your findings, you may decide that certain posture findings are not applicable to your organization. Cloudflare CASB allows you to remove findings or individual instances of findings from your list of active issues. CASB will continue to scan for these issues, but any detections will appear in a separate tab.\n\n### Ignore a finding\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Cloud & SaaS findings** > **Posture Findings**.\n2. Locate the active finding you want to hide.\n3. In the three-dot menu, select **Move to ignore**.\n\nThe finding's status will change from **Active** to **Ignored**. CASB will continue to scan for these findings and report detections. You can change ignored findings back to **Active** with the same process at any time.\n\n### Hide an instance of a finding\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Cloud & SaaS findings** > **Posture Findings**.\n2. Choose the active finding you want to hide, then select **Manage**.\n3. In **Active**, find the instance you want to hide.\n4. In the three-dot menu, select **Move to hidden**.\n\nThe instance will be moved from **Active** to **Hidden** within the finding. If the finding occurs again for the same user, CASB will report the new instance quietly in the **Hidden** tab. You can move hidden instances back to the **Active** tab at any time.\n\n## Remediate findings\n\nIn addition to detecting and surfacing misconfigurations or issues with SaaS and cloud applications, CASB can also remediate findings directly in applications.\n\nCASB supports remediation for findings from the [Microsoft 365 integration](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/):\n\nSupported CASB findings for remediation\n\n* Microsoft: File publicly accessible with edit access\n* Microsoft: File publicly accessible with view access\n* Microsoft: File publicly accessible with edit access with DLP Profile match\n* Microsoft: File publicly accessible with view access with DLP Profile match\n\n### Configure remediation permissions\n\nBefore you can remediate findings, [add a new integration](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/#add-an-integration) and choose *Read-Write mode* during setup. Alternatively, you can update an existing integration:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Cloud & SaaS findings** > **Integrations**.\n2. Choose your integration, then select **Configure**.\n3. In **Integration permissions**, choose *Read-Write mode*.\n4. Select **Update integration**. CASB will redirect you to your Microsoft 365 configuration.\n5. Sign in to your organization, then select **Accept**.\n\nCASB can now remediate supported findings directly.\n\n### Remediate a finding\n\nTo remediate a supported finding:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Cloud & SaaS findings** > **Posture Findings**.\n2. Choose a supported finding type, then select **Manage**.\n3. In **Active Instances**, select an instance.\n4. In **Remediation details**, choose a remediation action to take.\n\nCASB will begin remediating the instance.\n\n### Manage remediated findings\n\nRemediated findings will appear in **Cloud & SaaS findings** > **Posture Findings**. The status of the finding will change depending on what action CASB has taken:\n\n| Status | Description |\n| - | - |\n| Pending | CASB has set the finding to be remediated. |\n| Queued | CASB has queued the finding for remediation. |\n| Processing | CASB is currently remediating the finding. |\n| Validating | CASB successfully completed the remediation and is waiting for confirmation that the finding has been resolved. |\n| Completed | CASB successfully remediated the finding and validated that the finding has been resolved. |\n| Failed | CASB unsuccessfully remediated the finding. |\n| Rejected | CASB does not have the correct permissions to remediate the finding. |\n\nIf the status is **Completed**, remediation succeeded. If the status is **Failed** or **Rejected**, remediation failed, and you can select the finding to take action again.\n\nCASB will log remediation actions in **Logs** > **Admin**. For more information, refer to [Cloudflare One Logs](https://developers.cloudflare.com/cloudflare-one/insights/logs/).\n\n## Resolve finding with a Gateway policy\n\nUsing the security findings from CASB allows for fine-grained Gateway policies which prevent future unwanted behavior while still allowing usage that aligns to your organization's security policy. You can view a CASB finding, like the use of an unapproved application, then immediately prevent or control access with Gateway.\n\nCASB supports creating a Gateway policy for findings from the [Google Workspace integration](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/):\n\nSupported CASB findings for Gateway policies\n\n* Google Workspace: File publicly accessible with edit access\n* Google Workspace: File publicly accessible with view access\n* Google Workspace: File shared outside company with edit access\n* Google Workspace: File shared outside company with view access\n\nBefore you begin\n\nEnsure that you have [enabled HTTP filtering](https://developers.cloudflare.com/cloudflare-one/traffic-policies/initial-setup/http/) for your organization.\n\nTo create a Gateway policy directly from a CASB finding:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Cloud & SaaS findings** > **Posture Findings** or **Cloud & SaaS findings** > **Content Findings**.\n\n2. Choose **SaaS** or **Cloud**.\n\n3. Choose the finding you want to modify, then select **Manage**.\n\n4. Find the instance you want to block and select its three-dot menu.\n\n5. Select **Block with Gateway HTTP policy**. A new browser tab will open with a pre-filled HTTP policy.\n\n   Note\n\n   Not all CASB findings will have the **Block with Gateway HTTP policy** option. Unsupported findings can only be resolved from your application dashboard or through your domain provider.\n\n6. (Optional) [Configure the HTTP policy](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/). For example, if the policy blocks an unsanctioned third-party app, you can apply the policy to some or all users, or only block uploads or downloads.\n\n7. Select **Save**.\n\nYour HTTP policy will now prevent future instances of the security finding.\n\n</page>\n\n<page>\n---\ntitle: Access Changelog Â· Cloudflare One docs\ndescription: Review recent changes to Cloudflare Access.\nlastUpdated: 2025-10-24T20:47:24.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/changelog/access/\n  md: https://developers.cloudflare.com/cloudflare-one/changelog/access/index.md\n---\n\n[Subscribe to RSS](https://developers.cloudflare.com/changelog/rss/access.xml)\n\n## 2025-10-28\n\n**Access private hostname applications support all ports/protocols**\n\n[Cloudflare Access for private hostname applications](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/self-hosted-private-app/) can now secure traffic on all ports and protocols.\n\nPreviously, applying Zero Trust policies to private applications required the application to use HTTPS on port `443` and support Server Name Indicator (SNI).\n\nThis update removes that limitation. As long as the application is reachable via a Cloudflare off-ramp, you can now enforce your critical security controls â€” like single sign-on (SSO), MFA, device posture, and variable session lengths â€” to any private application. This allows you to extend Zero Trust security to services like SSH, RDP, internal databases, and other non-HTTPS applications.\n\n![Example private application on non-443 port](https://developers.cloudflare.com/_astro/internal_private_app_any_port.DNXnEy0u_1ijFvb.webp)\n\nFor example, you can now create a self-hosted application in Access for `ssh.testapp.local` running on port `22`. You can then build a policy that only allows engineers in your organization to connect after they pass an SSO/MFA check and are using a corporate device.\n\nThis feature is generally available across all plans.\n\n## 2025-09-22\n\n**Access Remote Desktop Protocol (RDP) destinations securely from your browser â€” now generally available!**\n\n[Browser-based RDP](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/rdp/rdp-browser/) with [Cloudflare Access](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/) is now generally available for all Cloudflare customers. It enables secure, remote Windows server access without VPNs or RDP clients.\n\nSince we announced our [open beta](https://developers.cloudflare.com/changelog/access/#2025-06-30), we've made a few improvements:\n\n* Support for targets with IPv6.\n* Support for [Magic WAN](https://developers.cloudflare.com/magic-wan/) and [WARP Connector](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/warp-connector/) as on-ramps.\n* More robust error messaging on the login page to help you if you encounter an issue.\n* Worldwide keyboard support. Whether your day-to-day is in Portuguese, Chinese, or something in between, your browser-based RDP experience will look and feel exactly like you are using a desktop RDP client.\n* Cleaned up some other miscellaneous issues, including but not limited to enhanced support for Entra ID accounts and support for usernames with spaces, quotes, and special characters.\n\nAs a refresher, here are some benefits browser-based RDP provides:\n\n* **Control how users authenticate to internal RDP resources** with single sign-on (SSO), multi-factor authentication (MFA), and granular access policies.\n* **Record who is accessing which servers and when** to support regulatory compliance requirements and to gain greater visibility in the event of a security event.\n* **Eliminate the need to install and manage software on user devices**. You will only need a web browser.\n* **Reduce your attack surface** by keeping your RDP servers off the public Internet and protecting them from common threats like credential stuffing or brute-force attacks.\n\n![Example of a browser-based RDP Access application](https://developers.cloudflare.com/_astro/browser-based-rdp-access-app.BNXce1JL_1NEtce.webp)\n\nTo get started, refer to [Connect to RDP in a browser](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/rdp/rdp-browser/).\n\n## 2025-08-26\n\n**Manage and restrict access to internal MCP servers with Cloudflare Access**\n\nYou can now control who within your organization has access to internal MCP servers, by putting internal MCP servers behind [Cloudflare Access](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/).\n\n[Self-hosted applications](https://developers.cloudflare.com/cloudflare-one/access-controls/ai-controls/linked-apps/) in Cloudflare Access now support OAuth for MCP server authentication. This allows Cloudflare to delegate access from any self-hosted application to an MCP server via OAuth. The OAuth access token authorizes the MCP server to make requests to your self-hosted applications on behalf of the authorized user, using that user's specific permissions and scopes.\n\nFor example, if you have an MCP server designed for internal use within your organization, you can configure Access policies to ensure that only authorized users can access it, regardless of which MCP client they use. Support for internal, self-hosted MCP servers also works with MCP server portals, allowing you to provide a single MCP endpoint for multiple MCP servers. For more on MCP server portals, read the [blog post](https://blog.cloudflare.com/zero-trust-mcp-server-portals/) on the Cloudflare Blog.\n\n## 2025-08-26\n\n**MCP server portals**\\\n![MCP server portal](https://developers.cloudflare.com/_astro/mcp-server-portal.BOKqTCoI_ZIxF0P.webp)\n\nAn [MCP server portal](https://developers.cloudflare.com/cloudflare-one/access-controls/ai-controls/mcp-portals/) centralizes multiple Model Context Protocol (MCP) servers onto a single HTTP endpoint. Key benefits include:\n\n* **Streamlined access to multiple MCP servers**: MCP server portals support both unauthenticated MCP servers as well as MCP servers secured using any third-party or custom OAuth provider. Users log in to the portal URL through Cloudflare Access and are prompted to authenticate separately to each server that requires OAuth.\n* **Customized tools per portal**: Admins can tailor an MCP portal to a particular use case by choosing the specific tools and prompt templates that they want to make available to users through the portal. This allows users to access a curated set of tools and prompts â€” the less external context exposed to the AI model, the better the AI responses tend to be.\n* **Observability**: Once the user's AI agent is connected to the portal, Cloudflare Access logs the indiviudal requests made using the tools in the portal.\n\nThis is available in an open beta for all customers across all plans! For more information check out our [blog](https://blog.cloudflare.com/zero-trust-mcp-server-portals/) for this release.\n\n## 2025-08-15\n\n**SFTP support for SSH with Cloudflare Access for Infrastructure**\n\n[SSH with Cloudflare Access for Infrastructure](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/ssh-infrastructure-access/) now supports SFTP. It is compatible with SFTP clients, such as Cyberduck.\n\n## 2025-08-14\n\n**Cloudflare Access Logging supports the Customer Metadata Boundary (CMB)**\n\nCloudflare Access logs now support the [Customer Metadata Boundary (CMB)](https://developers.cloudflare.com/data-localization/metadata-boundary/). If you have configured the CMB for your account, all Access logging will respect that configuration.\n\nNote\n\nFor EU CMB customers, the logs will not be stored by Access and will appear as empty in the dashboard. EU CMB customers should utilize [Logpush](https://developers.cloudflare.com/logs/logpush/) to retain their Access logging, if desired.\n\n## 2025-07-01\n\n**Access RDP securely from your browser â€” now in open beta**\n\n[Browser-based RDP](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/rdp/rdp-browser/) with [Cloudflare Access](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/) is now available in open beta for all Cloudflare customers. It enables secure, remote Windows server access without VPNs or RDP clients.\n\nWith browser-based RDP, you can:\n\n* **Control how users authenticate to internal RDP resources** with single sign-on (SSO), multi-factor authentication (MFA), and granular access policies.\n* **Record who is accessing which servers and when** to support regulatory compliance requirements and to gain greater visibility in the event of a security event.\n* **Eliminate the need to install and manage software on user devices**. You will only need a web browser.\n* **Reduce your attack surface** by keeping your RDP servers off the public Internet and protecting them from common threats like credential stuffing or brute-force attacks.\n\n![Example of a browsed-based RDP Access application](https://developers.cloudflare.com/_astro/browser-based-rdp-access-app.BNXce1JL_1NEtce.webp)\n\nTo get started, see [Connect to RDP in a browser](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/rdp/rdp-browser/).\n\n## 2025-06-05\n\n**Cloudflare One Analytics Dashboards and Exportable Access Report**\n\nCloudflare One now offers powerful new analytics dashboards to help customers easily discover available insights into their application access and network activity. These dashboards provide a centralized, intuitive view for understanding user behavior, application usage, and security posture.\n\n!\\[Cloudflare One Analytics Dashboards]\\(\\~/assets/images/changelog/cloudflare-one/Analytics Dashboards.png)\n\nAdditionally, a new exportable access report is available, allowing customers to quickly view high-level metrics and trends in their application access. A **preview** of the report is shown below, with more to be found in the report:\n\n![Cloudflare One Analytics Dashboards](https://developers.cloudflare.com/_astro/access-report.C744W7JR_Td5Jj.webp)\n\nBoth features are accessible in the Cloudflare [Zero Trust dashboard](https://one.dash.cloudflare.com/), empowering organizations with better visibility and control.\n\n## 2025-05-16\n\n**New Access Analytics in the Cloudflare One Dashboard**\n\nA new Access Analytics dashboard is now available to all Cloudflare One customers. Customers can apply and combine multiple filters to dive into specific slices of their Access metrics. These filters include:\n\n* Logins granted and denied\n* Access events by type (SSO, Login, Logout)\n* Application name (Salesforce, Jira, Slack, etc.)\n* Identity provider (Okta, Google, Microsoft, onetimepin, etc.)\n* Users (`chris@cloudflare.com`, `sally@cloudflare.com`, `rachel@cloudflare.com`, etc.)\n* Countries (US, CA, UK, FR, BR, CN, etc.)\n* Source IP address\n* App type (self-hosted, Infrastructure, RDP, etc.)\n\n![Access Analytics](https://developers.cloudflare.com/_astro/accessanalytics.DYXgwZCl_cA6SI.webp)\n\nTo access the new overview, log in to your Cloudflare [Zero Trust dashboard](https://one.dash.cloudflare.com/) and find Analytics in the side navigation bar.\n\n## 2025-04-21\n\n**Access bulk policy tester**\n\nThe [Access bulk policy tester](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/policy-management/#test-all-policies-in-an-application) is now available in the Cloudflare Zero Trust dashboard. The bulk policy tester allows you to simulate Access policies against your entire user base before and after deploying any changes. The policy tester will simulate the configured policy against each user's last seen identity and device posture (if applicable).\n\n![Example policy tester](https://developers.cloudflare.com/_astro/example-policy-tester.DCY8hQvx_ZVibzJ.webp)\n\n## 2025-04-09\n\n**Cloudflare Zero Trust SCIM User and Group Provisioning Logs**\n\n[Cloudflare Zero Trust SCIM provisioning](https://developers.cloudflare.com/cloudflare-one/team-and-resources/users/scim) now has a full audit log of all create, update and delete event from any SCIM Enabled IdP. The [SCIM logs](https://developers.cloudflare.com/cloudflare-one/insights/logs/scim-logs/) support filtering by IdP, Event type, Result and many more fields. This will help with debugging user and group update issues and questions.\n\nSCIM logs can be found on the Zero Trust Dashboard under **Logs** -> **SCIM provisioning**.\n\n![Example SCIM Logs](https://developers.cloudflare.com/_astro/example-scim-log.Bv5Zqckh_Z1GHFvk.webp)\n\n## 2025-03-03\n\n**New SAML and OIDC Fields and SAML transforms for Access for SaaS**\n\n[Access for SaaS applications](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/saas-apps/) now include more configuration options to support a wider array of SaaS applications.\n\n**SAML and OIDC Field Additions**\n\nOIDC apps now include:\n\n* Group Filtering via RegEx\n* OIDC Claim mapping from an IdP\n* OIDC token lifetime control\n* Advanced OIDC auth flows including hybrid and implicit flows\n\n![OIDC field additions](https://developers.cloudflare.com/_astro/oidc-claims.2di8l9Lv_ZOEc1S.webp)\n\nSAML apps now include improved SAML attribute mapping from an IdP.\n\n![SAML field additions](https://developers.cloudflare.com/_astro/saml-attribute-statements.CW45j5Qi_ZjcQ8E.webp)\n\n**SAML transformations**\n\nSAML identities sent to Access applications can be fully customized using JSONata expressions. This allows admins to configure the precise identity SAML statement sent to a SaaS application.\n\n![Configured SAML statement sent to application](https://developers.cloudflare.com/_astro/transformation-box.DyKn-DdN_7LzOj.webp)\n\n## 2025-01-15\n\n**Export SSH command logs with Access for Infrastructure using Logpush**\n\nAvailability\n\nOnly available on Enterprise plans.\n\nCloudflare now allows you to send SSH command logs to storage destinations configured in [Logpush](https://developers.cloudflare.com/logs/logpush/), including third-party destinations. Once exported, analyze and audit the data as best fits your organization! For a list of available data fields, refer to the [SSH logs dataset](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/ssh_logs/).\n\nTo set up a Logpush job, refer to [Logpush integration](https://developers.cloudflare.com/cloudflare-one/insights/logs/logpush/).\n\n## 2024-10-01\n\n**Eliminate long-lived credentials and enhance SSH security with Cloudflare Access for Infrastructure**\n\nOrganizations can now eliminate long-lived credentials from their SSH setup and enable strong multi-factor authentication for SSH access, similar to other Access applications, all while generating access and command logs.\n\nSSH with [Access for Infrastructure](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/infrastructure-apps/) uses short-lived SSH certificates from Cloudflare, eliminating SSH key management and reducing the security risks associated with lost or stolen keys. It also leverages a common deployment model for Cloudflare One customers: [WARP-to-Tunnel](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/ssh-warp-to-tunnel/).\n\nSSH with Access for Infrastructure enables you to:\n\n* **Author fine-grained policy** to control who may access your SSH servers, including specific ports, protocols, and SSH users.\n* **Monitor infrastructure access** with Access and SSH command logs, supporting regulatory compliance and providing visibility in case of security breach.\n* **Preserve your end users' workflows.** SSH with Access for Infrastructure supports native SSH clients and does not require any modifications to usersâ€™ SSH configs.\n\n![Example of an infrastructure Access application](https://developers.cloudflare.com/_astro/infrastructure-app.BhpJOgxs_Z1Ixiie.webp)\n\nTo get started, refer to [SSH with Access for Infrastructure](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/ssh-infrastructure-access/).\n\n## 2025-02-12\n\n**Access policies support filtering**\n\nYou can now filter Access policies by their action, selectors, rule groups, and assigned applications.\n\n## 2025-02-11\n\n**Private self-hosted applications and reusable policies GA**\n\n[Private self-hosted applications](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/self-hosted-private-app/) and [reusable Access policies](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/policy-management/) are now generally available (GA) for all customers.\n\n## 2025-01-21\n\n**Access Applications support private hostnames/IPs and reusable Access policies.**\n\nCloudflare Access self-hosted applications can now be defined by [private IPs](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/self-hosted-private-app/), [private hostnames](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/non-http/self-hosted-private-app/) (on port 443) and [public hostnames](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/self-hosted-public-app/). Additionally, we made Access policies into their own object which can be reused across multiple applications. These updates involved significant updates to the overall Access dashboard experience. The updates will be slowly rolled out to different customer cohorts. If you are an Enterprise customer and would like early access, reach out to your account team.\n\n## 2025-01-15\n\n**Logpush for SSH command logs**\n\nEnterprise customers can now use Logpush to export SSH command logs for Access for Infrastructure targets.\n\n## 2024-12-04\n\n**SCIM GA for Okta and Microsoft Entra ID**\n\nCloudflare's SCIM integrations with [Okta](https://developers.cloudflare.com/cloudflare-one/integrations/identity-providers/okta/#synchronize-users-and-groups) and [Microsoft Entra ID](https://developers.cloudflare.com/cloudflare-one/integrations/identity-providers/entra-id/#synchronize-users-and-groups) (formerly AzureAD) are now out of beta and generally available (GA) for all customers. These integrations can be used for Access and Gateway policies and Zero Trust user management. Note: This GA release does not include [Dashboard SSO SCIM](https://developers.cloudflare.com/fundamentals/account/account-security/scim-setup/) support.\n\n## 2024-10-23\n\n**SSH with Access for Infrastructure**\n\nAdmins can now use [Access for Infrastructure](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/use-cases/ssh/ssh-infrastructure-access/) to manage privileged access to SSH servers. Access for Infrastructure provides improved control and visibility over who accessed what service and what they did during their SSH session. Access for Infrastructure also eliminates the risk and overhead associated with managing SSH keys by using short-lived SSH certificates to access SSH servers.\n\n## 2024-08-26\n\n**Reduce automatic seat deprovisioning minimum to 1 month, down from 2 months.**\n\nAdmins can now configure Zero Trust seats to [automatically expire](https://developers.cloudflare.com/cloudflare-one/team-and-resources/users/seat-management/#enable-seat-expiration) after 1 month of user inactivity. The previous minimum was 2 months.\n\n## 2024-06-06\n\n**Scalability improvements to the App Launcher**\n\nApplications now load more quickly for customers with a large number of applications or complex policies.\n\n## 2024-04-28\n\n**Add option to bypass CORS to origin server**\n\nAccess admins can [defer all CORS enforcement to their origin server](https://developers.cloudflare.com/cloudflare-one/access-controls/applications/http-apps/authorization-cookie/cors/#bypass-options-requests-to-origin) for specific Access applications.\n\n## 2024-04-15\n\n**Zero Trust User identity audit logs**\n\nAll user identity changes via SCIM or Authentication events are logged against a user's registry identity.\n\n## 2024-02-22\n\n**Access for SaaS OIDC Support**\n\nAccess for SaaS applications can be setup with OIDC as an authentication method. OIDC and SAML 2.0 are now both fully supported.\n\n## 2024-02-22\n\n**WARP as an identity source for Access**\n\nAllow users to log in to Access applications with their WARP session identity. Users need to reauthenticate based on default session durations. WARP authentication identity must be turned on in your device enrollment permissions and can be enabled on a per application basis.\n\n## 2023-12-20\n\n**Unique Entity IDs in Access for SaaS**\n\nAll new Access for SaaS applications have unique Entity IDs. This allows for multiple integrations with the same SaaS provider if required. The unique Entity ID has the application audience tag appended. Existing apps are unchanged.\n\n## 2023-12-15\n\n**Default relay state support in Access for SaaS**\n\nAllows Access admins to set a default relay state on Access for SaaS apps.\n\n## 2023-09-15\n\n**App launcher supports tags and filters**\n\nAccess admins can now tag applications and allow users to filter by those tags in the App Launcher.\n\n## 2023-09-15\n\n**App launcher customization**\n\nAllow Access admins to configure the App Launcher page within Zero Trust.\n\n## 2023-09-15\n\n**View active Access user identities in the dashboard and API**\n\nAccess admins can now view the full contents of a user's identity and device information for all active application sessions.\n\n## 2023-09-08\n\n**Custom OIDC claims for named IdPs**\n\nAccess admins can now add custom claims to the existing named IdP providers. Previously this was locked to the generic OIDC provider.\n\n## 2023-08-02\n\n**Azure AD authentication contexts**\n\nSupport Azure AD authentication contexts directly in Access policies.\n\n## 2023-06-23\n\n**Custom block pages for Access applications**\n\nAllow Access admins to customize the block pages presented by Access to end users.\n\n</page>\n\n<page>\n---\ntitle: Browser Isolation Changelog Â· Cloudflare One docs\ndescription: Review recent changes to Cloudflare Browser Isolation.\nlastUpdated: 2025-07-07T17:31:26.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/changelog/browser-isolation/\n  md: https://developers.cloudflare.com/cloudflare-one/changelog/browser-isolation/index.md\n---\n\n[Subscribe to RSS](https://developers.cloudflare.com/changelog/rss/browser-isolation.xml)\n\n## 2025-05-13\n\n**SAML HTTP-POST bindings support for RBI**\n\nRemote Browser Isolation (RBI) now supports SAML HTTP-POST bindings, enabling seamless authentication for SSO-enabled applications that rely on POST-based SAML responses from Identity Providers (IdPs) within a Remote Browser Isolation session. This update resolves a previous limitation that caused `405` errors during login and improves compatibility with multi-factor authentication (MFA) flows.\n\nWith expanded support for major IdPs like Okta and Azure AD, this enhancement delivers a more consistent and user-friendly experience across authentication workflows. Learn how to [set up Remote Browser Isolation](https://developers.cloudflare.com/cloudflare-one/remote-browser-isolation/setup/).\n\n## 2025-05-01\n\n**Browser Isolation Overview page for Zero Trust**\n\nA new **Browser Isolation Overview** page is now available in the Cloudflare Zero Trust dashboard. This centralized view simplifies the management of [Remote Browser Isolation (RBI)](https://developers.cloudflare.com/cloudflare-one/remote-browser-isolation/) deployments, providing:\n\n* **Streamlined Onboarding:** Easily set up and manage isolation policies from one location.\n* **Quick Testing:** Validate [clientless web application isolation](https://developers.cloudflare.com/cloudflare-one/remote-browser-isolation/setup/clientless-browser-isolation/) with ease.\n* **Simplified Configuration:** Configure [isolated access applications](https://developers.cloudflare.com/cloudflare-one/access-controls/policies/isolate-application/) and policies efficiently.\n* **Centralized Monitoring:** Track aggregate usage and blocked actions.\n\nThis update consolidates previously disparate settings, accelerating deployment, improving visibility into isolation activity, and making it easier to ensure your protections are working effectively.\n\n![Browser Isolation Overview](https://developers.cloudflare.com/_astro/browser-isolation-overview.Ljd5ax_O_PTyT8.webp)\n\nTo access the new overview, log in to your Cloudflare [Zero Trust dashboard](https://one.dash.cloudflare.com/) and find Browser Isolation in the side navigation bar.\n\n## 2025-03-04\n\n**Gain visibility into user actions in Zero Trust Browser Isolation sessions**\n\nWe're excited to announce that new logging capabilities for [Remote Browser Isolation (RBI)](https://developers.cloudflare.com/cloudflare-one/remote-browser-isolation/) through [Logpush](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/) are available in Beta starting today!\n\nWith these enhanced logs, administrators can gain visibility into end user behavior in the remote browser and track blocked data extraction attempts, along with the websites that triggered them, in an isolated session.",
      "language": "unknown"
    },
    {
      "code": "User Actions available:\n\n* **Copy & Paste**\n* **Downloads & Uploads**\n* **Printing**\n\nLearn more about how to get started with Logpush in our [documentation](https://developers.cloudflare.com/logs/logpush/).\n\n## 2024-11-21\n\n**Improved non-English keyboard support**\n\nYou can now type in languages that use diacritics (like Ã¡ or Ã§) and character-based scripts (such as Chinese, Japanese, and Korean) directly within the remote browser. The isolated browser now properly recognizes non-English keyboard input, eliminating the need to copy and paste content from a local browser or device.\n\n## 2024-03-21\n\n**Removed third-party cookie dependencies**\n\nRemoved dependency on third-party cookies in the isolated browser, fixing an issue that previously caused intermittent disruptions for users maintaining multi-site, cross-tab sessions in the isolated browser.\n\n</page>\n\n<page>\n---\ntitle: CASB Changelog Â· Cloudflare One docs\ndescription: Review recent changes to Cloudflare CASB.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/changelog/casb/\n  md: https://developers.cloudflare.com/cloudflare-one/changelog/casb/index.md\n---\n\n[Subscribe to RSS](https://developers.cloudflare.com/changelog/rss/casb.xml)\n\n## 2025-11-14\n\n**New SaaS Security weekly digests with API CASB**\n\nYou can now stay on top of your SaaS security posture with the new **CASB Weekly Digest** notification. This opt-in email digest is delivered to your inbox every Monday morning and provides a high-level summary of your organization's Cloudflare API CASB findings from the previous week.\n\nThis allows security teams and IT administrators to get proactive, at-a-glance visibility into new risks and integration health without having to log in to the dashboard.\n\nTo opt in, navigate to **Manage Account** > **Notifications** in the Cloudflare dashboard to configure the **CASB Weekly Digest** alert type.\n\n#### Key capabilities\n\n* **At-a-glance summary** â€” Review new high/critical findings, most frequent finding types, and new content exposures from the past 7 days.\n* **Integration health** â€” Instantly see the status of all your connected SaaS integrations (Healthy, Unhealthy, or Paused) to spot API connection issues.\n* **Proactive alerting** â€” The digest is sent automatically to all subscribed users every Monday morning.\n* **Easy to configure** â€” Users can opt in by enabling the notification in the Cloudflare dashboard under **Manage Account** > **Notifications**.\n\n#### Learn more\n\n* Configure [notification preferences](https://developers.cloudflare.com/notifications/) in Cloudflare.\n\nThe CASB Weekly Digest notification is available to all Cloudflare users today.\n\n## 2025-10-28\n\n**CASB introduces new granular roles**\n\nCloudflare CASB (Cloud Access Security Broker) now supports two new granular roles to provide more precise access control for your security teams:\n\n* **Cloudflare CASB Read:** Provides read-only access to view CASB findings and dashboards. This role is ideal for security analysts, compliance auditors, or team members who need visibility without modification rights.\n* **Cloudflare CASB:** Provides full administrative access to configure and manage all aspects of the CASB product.\n\nThese new roles help you better enforce the principle of least privilege. You can now grant specific members access to CASB security findings without assigning them broader permissions, such as the **Super Administrator** or **Administrator** roles.\n\nTo enable [Data Loss Prevention (DLP)](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-profiles/), scans in CASB, account members will need the **Cloudflare Zero Trust** role.\n\nYou can find these new roles when inviting members or creating API tokens in the Cloudflare dashboard under **Manage Account** > **Members**.\n\nTo learn more about managing roles and permissions, refer to the [Manage account members and roles documentation](https://developers.cloudflare.com/fundamentals/manage-members/roles/).\n\n## 2025-08-26\n\n**New CASB integrations for ChatGPT, Claude, and Gemini**\n\n[Cloudflare CASB](https://www.cloudflare.com/zero-trust/products/casb/) now supports three of the most widely used GenAI platforms â€” **OpenAI ChatGPT**, **Anthropic Claude**, and **Google Gemini**. These API-based integrations give security teams agentless visibility into posture, data, and compliance risks across their organizationâ€™s use of generative AI.\n\n![Cloudflare CASB showing selection of new findings for ChatGPT, Claude, and Gemini integrations.](https://developers.cloudflare.com/_astro/casb-ai-integrations-preview.B-zsSA1P_Z1CkbtH.webp)\n\n#### Key capabilities\n\n* **Agentless connections** â€” connect ChatGPT, Claude, and Gemini tenants via API; no endpoint software required\n* **Posture management** â€” detect insecure settings and misconfigurations that could lead to data exposure\n* **DLP detection** â€” identify sensitive data in uploaded chat attachments or files\n* **GenAI-specific insights** â€” surface risks unique to each providerâ€™s capabilities\n\n#### Learn more\n\n* [ChatGPT integration docs](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/openai/)\n* [Claude integration docs](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/anthropic/)\n* [Gemini integration docs](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/google-workspace/gemini/)\n\nThese integrations are available to all Cloudflare One customers today.\n\n## 2025-06-23\n\n**Data Security Analytics in the Zero Trust dashboard**\n\nZero Trust now includes **Data security analytics**, providing you with unprecedented visibility into your organization sensitive data.\n\nThe new dashboard includes:\n\n* **Sensitive Data Movement Over Time:**\n\n  * See patterns and trends in how sensitive data moves across your environment. This helps understand where data is flowing and identify common paths.\n\n* **Sensitive Data at Rest in SaaS & Cloud:**\n\n  * View an inventory of sensitive data stored within your corporate SaaS applications (for example, Google Drive, Microsoft 365) and cloud accounts (such as AWS S3).\n\n* **DLP Policy Activity:**\n\n  * Identify which of your Data Loss Prevention (DLP) policies are being triggered most often.\n  * See which specific users are responsible for triggering DLP policies.\n\n![Data Security Analytics](https://developers.cloudflare.com/_astro/cf1-data-security-analytics-v1.BGl6fYXl_Z20un3h.webp)\n\nTo access the new dashboard, log in to [Cloudflare One](https://one.dash.cloudflare.com/) and go to **Insights** on the sidebar.\n\n## 2024-11-22\n\n**Find security misconfigurations in your AWS cloud environment**\n\nYou can now use CASB to find security misconfigurations in your AWS cloud environment using [Data Loss Prevention](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/).\n\nYou can also [connect your AWS compute account](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/aws-s3/#compute-account) to extract and scan your S3 buckets for sensitive data while avoiding egress fees. CASB will scan any objects that exist in the bucket at the time of configuration.\n\nTo connect a compute account to your AWS integration:\n\n1. In [Cloudflare One](https://one.dash.cloudflare.com), go to **Cloud & SaaS findings** > **Integrations**.\n2. Find and select your AWS integration.\n3. Select **Open connection instructions**.\n4. Follow the instructions provided to connect a new compute account.\n5. Select **Refresh**.\n\n## 2024-06-03\n\n**Atlassian Bitbucket integration**\n\nYou can now scan your Bitbucket Cloud workspaces for a variety of contextualized security issues such as source code exposure, admin misconfigurations, and more.\n\n## 2024-05-23\n\n**Data-at-rest DLP for Box and Dropbox**\n\nYou can now scan your [Box](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/box/#data-loss-prevention-optional) and [Dropbox](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/dropbox/#data-loss-prevention-optional) files for DLP matches.\n\n## 2024-04-16\n\n**Export CASB findings to CSV**\n\nYou can now export all top-level CASB findings or every instance of your findings to CSV.\n\n</page>\n\n<page>\n---\ntitle: DLP Changelog Â· Cloudflare One docs\ndescription: Review recent changes to Cloudflare DLP.\nlastUpdated: 2025-10-24T15:44:40.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/changelog/dlp/\n  md: https://developers.cloudflare.com/cloudflare-one/changelog/dlp/index.md\n---\n\n[Subscribe to RSS](https://developers.cloudflare.com/changelog/rss/dlp.xml)\n\n## 2025-10-01\n\n**Expanded File Type Controls for Executables and Disk Images**\n\nYou can now enhance your security posture by blocking additional application installer and disk image file types with Cloudflare Gateway. Preventing the download of unauthorized software packages is a critical step in securing endpoints from malware and unwanted applications.\n\nWe have expanded Gateway's file type controls to include:\n\n* Apple Disk Image (dmg)\n* Microsoft Software Installer (msix, appx)\n* Apple Software Package (pkg)\n\nYou can find these new options within the [*Upload File Types* and *Download File Types* selectors](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/#download-and-upload-file-types) when creating or editing an HTTP policy. The file types are categorized as follows:\n\n* **System**: *Apple Disk Image (dmg)*\n* **Executable**: *Microsoft Software Installer (msix)*, *Microsoft Software Installer (appx)*, *Apple Software Package (pkg)*\n\nTo ensure these file types are blocked effectively, please note the following behaviors:\n\n* DMG: Due to their file structure, DMG files are blocked at the very end of the transfer. A user's download may appear to progress but will fail at the last moment, preventing the browser from saving the file.\n* MSIX: To comprehensively block Microsoft Software Installers, you should also include the file type *Unscannable*. MSIX files larger than 100 MB are identified as Unscannable ZIP files during inspection.\n\nTo get started, go to your HTTP policies in Zero Trust. For a full list of file types, refer to [supported file types](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/#supported-file-types).\n\n## 2025-09-25\n\n**Refine DLP Scans with New Body Phase Selector**\n\nYou can now more precisely control your HTTP DLP policies by specifying whether to scan the request or response body, helping to reduce false positives and target specific data flows.\n\nIn the Gateway HTTP policy builder, you will find a new selector called *Body Phase*. This allows you to define the direction of traffic the DLP engine will inspect:\n\n* *Request Body*: Scans data sent from a user's machine to an upstream service. This is ideal for monitoring data uploads, form submissions, or other user-initiated data exfiltration attempts.\n* *Response Body*: Scans data sent to a user's machine from an upstream service. Use this to inspect file downloads and website content for sensitive data.\n\nFor example, consider a policy that blocks Social Security Numbers (SSNs). Previously, this policy might trigger when a user visits a website that contains example SSNs in its content (the response body). Now, by setting the **Body Phase** to *Request Body*, the policy will only trigger if the user attempts to upload or submit an SSN, ignoring the content of the web page itself.\n\nAll policies without this selector will continue to scan both request and response bodies to ensure continued protection.\n\nFor more information, refer to [Gateway HTTP policy selectors](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/#body-phase/).\n\n## 2025-08-25\n\n**New DLP topic based detection entries for AI prompt protection**\n\nYou now have access to a comprehensive suite of capabilities to secure your organization's use of generative AI. AI prompt protection introduces four key features that work together to provide deep visibility and granular control.\n\n1. **Prompt Detection for AI Applications**\n\nDLP can now natively detect and inspect user prompts submitted to popular AI applications, including **Google Gemini**, **ChatGPT**, **Claude**, and **Perplexity**.\n\n1. **Prompt Analysis and Topic Classification**\n\nOur DLP engine performs deep analysis on each prompt, applying [topic classification](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/detection-entries/#ai-prompt-topics). These topics are grouped into two evaluation categories:\n\n* **Content:** PII, Source Code, Credentials and Secrets, Financial Information, and Customer Data.\n\n* **Intent:** Jailbreak attempts, requests for malicious code, or attempts to extract PII.\n\nTo help you apply these topics quickly, we have also released five new predefined profiles (for example, AI Prompt: AI Security, AI Prompt: PII) that bundle these new topics.\n\n![DLP](https://developers.cloudflare.com/_astro/ai-prompt-detection-entry.4QmdkAuv_1OGLqX.webp)\n\n1. **Granular Guardrails**\n\n   You can now build guardrails using Gateway HTTP policies with [application granular controls](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/#application-granular-controls). Apply a DLP profile containing an [AI prompt topic detection](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/detection-entries/#ai-prompt-topics) to individual AI applications (for example, `ChatGPT`) and specific user actions (for example, `SendPrompt`) to block sensitive prompts.\n\n   ![DLP](https://developers.cloudflare.com/_astro/ai-prompt-policy.CF3H2rbK_Z1leRrd.webp)\n\n2. **Full Prompt Logging**\n\n   To aid in incident investigation, an optional setting in your Gateway policy allows you to [capture prompt logs](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-policies/logging-options/#log-generative-ai-prompt-content) to store the full interaction of prompts that trigger a policy match. To make investigations easier, logs can be filtered by `conversation_id`, allowing you to reconstruct the full context of an interaction that led to a policy violation.\n\n   ![DLP](https://developers.cloudflare.com/_astro/ai-prompt-log.ywQDc5qN_285cvc.webp)\n\nAI prompt protection is now available in open beta. To learn more about it, read the [blog](https://blog.cloudflare.com/ai-prompt-protection/#closing-the-loop-logging) or refer to [AI prompt topics](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/detection-entries/#ai-prompt-topics).\n\n## 2025-07-17\n\n**New detection entry type: Document Matching for DLP**\n\nYou can now create [document-based](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/detection-entries/#documents) detection entries in DLP by uploading example documents. Cloudflare will encrypt your documents and create a unique fingerprint of the file. This fingerprint is then used to identify similar documents or snippets within your organization's traffic and stored files.\n\n![DLP](https://developers.cloudflare.com/_astro/document-match.CcN8pGgR_8o13J.webp)\n\n**Key features and benefits:**\n\n* **Upload documents, forms, or templates:** Easily upload .docx and .txt files (up to 10 MB) that contain sensitive information you want to protect.\n\n* **Granular control with similarity percentage:** Define a minimum similarity percentage (0-100%) that a document must meet to trigger a detection, reducing false positives.\n\n* **Comprehensive coverage:** Apply these document-based detection entries in:\n\n  * **Gateway policies:** To inspect network traffic for sensitive documents as they are uploaded or shared.\n\n  * **CASB (Cloud Access Security Broker):** To scan files stored in cloud applications for sensitive documents at rest.\n\n* **Identify sensitive data:** This new detection entry type is ideal for identifying sensitive data within completed forms, templates, or even small snippets of a larger document, helping you prevent data exfiltration and ensure compliance.\n\nOnce uploaded and processed, you can add this new document entry into a DLP profile and policies to enhance your data protection strategy.\n\n## 2025-06-23\n\n**Data Security Analytics in the Zero Trust dashboard**\n\nZero Trust now includes **Data security analytics**, providing you with unprecedented visibility into your organization sensitive data.\n\nThe new dashboard includes:\n\n* **Sensitive Data Movement Over Time:**\n\n  * See patterns and trends in how sensitive data moves across your environment. This helps understand where data is flowing and identify common paths.\n\n* **Sensitive Data at Rest in SaaS & Cloud:**\n\n  * View an inventory of sensitive data stored within your corporate SaaS applications (for example, Google Drive, Microsoft 365) and cloud accounts (such as AWS S3).\n\n* **DLP Policy Activity:**\n\n  * Identify which of your Data Loss Prevention (DLP) policies are being triggered most often.\n  * See which specific users are responsible for triggering DLP policies.\n\n![Data Security Analytics](https://developers.cloudflare.com/_astro/cf1-data-security-analytics-v1.BGl6fYXl_Z20un3h.webp)\n\nTo access the new dashboard, log in to [Cloudflare One](https://one.dash.cloudflare.com/) and go to **Insights** on the sidebar.\n\n## 2025-05-12\n\n**Case Sensitive Custom Word Lists**\n\nYou can now configure [custom word lists](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/detection-entries/#custom-wordlist) to enforce case sensitivity. This setting supports flexibility where needed and aims to reduce false positives where letter casing is critical.\n\n![dlp](https://developers.cloudflare.com/_astro/case-sesitive-cwl.MPuOc_3r_2hrao0.webp)\n\n## 2025-05-07\n\n**Send forensic copies to storage without DLP profiles**\n\nYou can now [send DLP forensic copies](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-policies/logging-options/#send-http-requests-to-logpush-destination/) to third-party storage for any HTTP policy with an `Allow` or `Block` action, without needing to include a DLP profile. This change increases flexibility for data handling and forensic investigation use cases.\n\nBy default, Gateway will send all matched HTTP requests to your configured DLP Forensic Copy jobs.\n\n![DLP](https://developers.cloudflare.com/_astro/forensic-copies-for-all.fxeFrCY4_1rLkLy.webp)\n\n## 2025-04-14\n\n**New predefined detection entry for ICD-11**\n\nYou now have access to the World Health Organization (WHO) 2025 edition of the [International Classification of Diseases 11th Revision (ICD-11)](https://www.who.int/news/item/14-02-2025-who-releases-2025-update-to-the-international-classification-of-diseases-%28icd-11%29) as a predefined detection entry. The new dataset can be found in the [Health Information](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-profiles/predefined-profiles/#health-information) predefined profile.\n\nICD-10 dataset remains available for use.\n\n## 2025-02-03\n\n**Block files that are password-protected, compressed, or otherwise unscannable.**\n\nGateway HTTP policies can now block files that are password-protected, compressed, or otherwise unscannable.\n\nThese unscannable files are now matched with the [Download and Upload File Types traffic selectors](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/#download-and-upload-file-types) for HTTP policies:\n\n* Password-protected Microsoft Office document\n* Password-protected PDF\n* Password-protected ZIP archive\n* Unscannable ZIP archive\n\nTo get started inspecting and modifying behavior based on these and other rules, refer to [HTTP filtering](https://developers.cloudflare.com/cloudflare-one/traffic-policies/initial-setup/http/).\n\n## 2025-01-20\n\n**Detect source code leaks with Data Loss Prevention**\n\nYou can now detect source code leaks with Data Loss Prevention (DLP) with predefined checks against common programming languages.\n\nThe following programming languages are validated with natural language processing (NLP).\n\n* C\n* C++\n* C#\n* Go\n* Haskell\n* Java\n* JavaScript\n* Lua\n* Python\n* R\n* Rust\n* Swift\n\nDLP also supports confidence level for [source code profiles](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-profiles/predefined-profiles/#source-code).\n\nFor more details, refer to [DLP profiles](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-profiles/).\n\n## 2025-01-15\n\n**Payload log match visibility**\n\nWhen viewing decrypted payload log matches, DLP now provides more context by listing multiple DLP matches and the matching DLP profile.\n\n## 2024-11-25\n\n**Profile confidence levels**\n\nDLP profiles now support setting a [confidence level](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-profiles/advanced-settings/#confidence-levels) to choose how tolerant its detections are to false positives based on the context of the detection. The higher a profile's confidence level is, the less false positives will be allowed. Confidence levels include Low, Medium, or High. DLP profile confidence levels supersede [context analysis](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-profiles/advanced-settings/#context-analysis).\n\n## 2024-11-01\n\n**Send entire HTTP requests to a Logpush destination**\n\nIn addition to [logging the payload](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-policies/logging-options/#log-the-payload-of-matched-rules) from HTTP requests that matched a DLP policy in Cloudflare Logs, Enterprise users can now configure a [Logpush job](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-policies/logging-options/#send-http-requests-to-logpush-destination) to send the entire HTTP request that triggered a DLP match to a storage destination. This allows long-term storage of full requests for use in forensic investigation.\n\n## 2024-09-03\n\n**Exact Data Match multi-entry upload support**\n\nYou can now upload files with [multiple columns of data](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/detection-entries/#upload-a-new-dataset) as Exact Data Match datasets. DLP can use each column as a separate existing detection entry.\n\n## 2024-05-23\n\n**Data-at-rest DLP for Box and Dropbox**\n\nYou can now scan your [Box](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/box/#data-loss-prevention-optional) and [Dropbox](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/dropbox/#data-loss-prevention-optional) files for DLP matches.\n\n## 2024-04-16\n\n**Optical character recognition**\n\nDLP can now [detect sensitive data](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/dlp-profiles/advanced-settings/#optical-character-recognition-ocr) in jpeg, jpg, and png files. This helps companies prevent the leak of sensitive data in images, such as screenshots.\n\n</page>\n\n<page>\n---\ntitle: Digital Experience Monitoring Changelog Â· Cloudflare One docs\ndescription: Review recent changes to Digital Experience Monitoring.\nlastUpdated: 2025-07-07T17:31:26.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/changelog/dex/\n  md: https://developers.cloudflare.com/cloudflare-one/changelog/dex/index.md\n---\n\n[Subscribe to RSS](https://developers.cloudflare.com/changelog/rss/dex.xml)\n\n## 2025-11-12\n\n**DEX Logpush jobs**\n\n[Digital Experience Monitoring (DEX)](https://developers.cloudflare.com/cloudflare-one/insights/dex/) provides visibility into WARP device metrics, connectivity, and network performance across your Cloudflare SASE deployment.\n\nWe've released four new WARP and DEX device data sets that can be exported via [Cloudflare Logpush](https://developers.cloudflare.com/cloudflare-one/insights/logs/logpush/). These Logpush data sets can be exported to R2, a cloud bucket, or a SIEM to build a customized logging and analytics experience.\n\n1. [DEX Application Tests](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/dex_application_tests/)\n2. [DEX Device State Events](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/dex_device_state_events/)\n3. [WARP Config Changes](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/warp_config_changes/)\n4. [WARP Toggle Changes](https://developers.cloudflare.com/logs/logpush/logpush-job/datasets/account/warp_toggle_changes/)\n\nTo create a new DEX or WARP Logpush job, customers can go to the account level of the Cloudflare dashboard > Analytics & Logs > Logpush to get started.\n\n![DEX logpush job creation dashboard](https://developers.cloudflare.com/_astro/dex_logpush_datasets.CtCk36pX_2dm9s2.webp)\n\n## 2025-08-29\n\n**DEX MCP Server**\n\n[Digital Experience Monitoring (DEX)](https://developers.cloudflare.com/cloudflare-one/insights/dex/) provides visibility into device connectivity and performance across your Cloudflare SASE deployment.\n\nWe've released an MCP server [(Model Context Protocol)](https://cloudflare.com/learning/ai/what-is-model-context-protocol-mcp/) for DEX.\n\nThe DEX MCP server is an AI tool that allows customers to ask a question like, \"Show me the connectivity and performance metrics for the device used by carlyâ€Œ@acme.com\", and receive an answer that contains data from the DEX API.\n\nAny Cloudflare One customer using a Free, PayGo, or Enterprise account can access the DEX MCP Server. This feature is available to everyone.\n\nCustomers can test the new DEX MCP server in less than one minute. To learn more, read the [DEX MCP server documentation](https://developers.cloudflare.com/cloudflare-one/insights/dex/dex-mcp-server/).\n\n## 2025-03-07\n\n**Cloudflare One Agent now supports Endpoint Monitoring**\n\n[Digital Experience Monitoring (DEX)](https://developers.cloudflare.com/cloudflare-one/insights/dex/) provides visibility into device, network, and application performance across your Cloudflare SASE deployment. The latest release of the Cloudflare One agent (v2025.1.861) now includes device endpoint monitoring capabilities to provide deeper visibility into end-user device performance which can be analyzed directly from the dashboard.\n\nDevice health metrics are now automatically collected, allowing administrators to:\n\n* View the last network a user was connected to\n* Monitor CPU and RAM utilization on devices\n* Identify resource-intensive processes running on endpoints\n\n![Device endpoint monitoring dashboard](https://developers.cloudflare.com/_astro/cloudflare-one-agent-health-monitoring.XXtiRuOp_Z144rRU.webp)\n\nThis feature complements existing DEX features like [synthetic application monitoring](https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/) and [network path visualization](https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/traceroute/), creating a comprehensive troubleshooting workflow that connects application performance with device state.\n\nFor more details refer to our [DEX](https://developers.cloudflare.com/cloudflare-one/insights/dex/) documentation.\n\n## 2025-01-24\n\n**IP visibility**\n\n[IP visibility](https://developers.cloudflare.com/cloudflare-one/insights/dex/ip-visibility/) enables admins to inspect the different IP addresses associated with an end-user device. IP types available for review on the Cloudflare dashboard include: the device's private IP, the public IP assigned to the device by the ISP, and the router's (that the device is connected to) private IP.\n\n## 2024-12-19\n\n**Remote captures**\n\nAdmins can now collect packet captures (PCAPs) and WARP diagnostic logs from end-user devices. For more information, refer to [Remote captures](https://developers.cloudflare.com/cloudflare-one/insights/dex/remote-captures/).\n\n## 2024-05-20\n\n**Last seen ISP**\n\nAdmins can view the last ISP seen for a device by going to **My Team** > **Devices**. Requires setting up a [traceroute test](https://developers.cloudflare.com/cloudflare-one/insights/dex/tests/traceroute/).\n\n## 2024-05-13\n\n**DEX alerts**\n\nAdmins can now set [DEX alerts](https://developers.cloudflare.com/cloudflare-one/insights/dex/notifications/) using [Cloudflare Notifications](https://developers.cloudflare.com/notifications/). Three new DEX alert types:\n\n* Device connectivity anomaly\n* Test latency\n* Test low availability\n\n</page>\n\n<page>\n---\ntitle: Email security Â· Cloudflare One docs\ndescription: We have updated the terminology â€œReclassifyâ€ and\n  â€œReclassificationsâ€ to â€œSubmitâ€ and â€œSubmissionsâ€ respectively. This update\n  more accurately reflects the outcome of providing these items to Cloudflare.\nlastUpdated: 2025-10-27T15:00:52.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/changelog/email-security/\n  md: https://developers.cloudflare.com/cloudflare-one/changelog/email-security/index.md\n---\n\n[Subscribe to RSS](https://developers.cloudflare.com/changelog/rss/email-security-cf1.xml)\n\n## 2025-12-03\n\n**Reclassifications to Submissions**\n\nWe have updated the terminology â€œReclassifyâ€ and â€œReclassificationsâ€ to â€œSubmitâ€ and â€œSubmissionsâ€ respectively. This update more accurately reflects the outcome of providing these items to Cloudflare.\n\nSubmissions are leveraged to tune future variants of campaigns. To respect data sanctity, providing a submission does not change the original disposition of the emails submitted.\n\n![nav\\_example](https://developers.cloudflare.com/_astro/reclassification-submission.B6nL5Hw7_LpJcG.webp)\n\nThis applies to all Email Security packages:\n\n* **Advantage**\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2025-11-18\n\n**Temporary Adjustment to Final Disposition Column**\n\n#### Temporary Adjustment to Final Disposition Column\n\nTo facilitate significant enhancements to our submission processes, the **Final Disposition** column of the **Team Submissions > Reclassifications** page inside the **Email Security Zero Trust** application will be temporarily removed.\n\n***\n\n#### What's Changing\n\nThe column displaying the final disposition status for submitted email misses will no longer be visible on the specified page.\n\n#### Why We're Doing This\n\nThis temporary change is required as we revamp and integrate a more powerful backend infrastructure for processing these security-critical submissions. This update is designed to make even more effective use of the data you provide to improve our detection capabilities. We assure you that your submissions are continuing to be addressed at an even greater rate than before, fueling faster and more accurate security improvements.\n\n#### Next Steps\n\nRest assured, the ability to submit email misses and the underlying analysis work remain **fully operational**. We are committed to reintroducing a refined, more valuable status update feature once the new infrastructure is completed.\n\n## 2025-10-17\n\n**On-Demand Security Report**\n\nYou can now generate on-demand security reports directly from the Cloudflare dashboard. This new feature provides a comprehensive overview of your email security posture, making it easier than ever to demonstrate the value of Cloudflareâ€™s Email security to executives and other decision makers.\n\nThese reports offer several key benefits:\n\n* **Executive Summary:** Quickly view the performance of Email security with a high-level executive summary.\n* **Actionable Insights:** Dive deep into trend data, breakdowns of threat types, and analysis of top targets to identify and address vulnerabilities.\n* **Configuration Transparency:** Gain a clear view of your policy, submission, and domain configurations to ensure optimal setup.\n* **Account Takeover Risks:** Get a snapshot of your M365 risky users (requires a Microsoft Entra ID P2 license and [M365 SaaS integration](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/microsoft-365/)).\n\n![Report](https://developers.cloudflare.com/_astro/report.CbkPa8Jt_BRc7y.webp)\n\nThis feature is available across the following Email security packages:\n\n* **Advantage**\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2025-09-23\n\n**Invalid Submissions Feedback**\n\nEmail security relies on your submissions to continuously improve our detection models. However, we often receive submissions in formats that cannot be ingested, such as incomplete EMLs, screenshots, or text files.\n\nTo ensure all customer feedback is actionable, we have launched two new features to manage invalid submissions sent to our team and user [submission aliases](https://developers.cloudflare.com/cloudflare-one/email-security/settings/phish-submissions/submission-addresses/):\n\n* **Email Notifications:** We now automatically notify users by email when they provide an invalid submission, educating them on the correct format. To disable notifications, go to **[Settings](https://one.dash.cloudflare.com/?to=/:account/email-security/settings)** > **Invalid submission emails** and turn the feature off.\n\n![EmailSec-Invalid-Submissions-Toggle](https://developers.cloudflare.com/_astro/EmailSec-Invalid-Submissions-Toggle.DXjbR6aX_Z1aqqxR.webp)\n\n* **Invalid Submission dashboard:** You can quickly identify which users need education to provide valid submissions so Cloudflare can provide continuous protection.\n\n![EmailSec-Invalid-Submissions-Dashboard](https://developers.cloudflare.com/_astro/EmailSec-Invalid-Submissions-Dashboard.zuf1on2n_Z1M2oP7.webp)\n\nLearn more about this feature on [invalid submissions](https://developers.cloudflare.com/cloudflare-one/email-security/submissions/invalid-submissions/).\n\nThis feature is available across these Email security packages:\n\n* **Advantage**\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2025-09-11\n\n**Regional Email Processing for Germany, India, or Australia**\n\nWeâ€™re excited to announce that Email security customers can now choose their preferred mail processing location directly from the UI when onboarding a domain. This feature is available for the following onboarding methods: **MX**, **BCC**, and **Journaling**.\n\n#### Whatâ€™s new\n\nCustomers can now select where their email is processed. The following regions are supported:\n\n* **Germany**\n* **India**\n* **Australia**\n\nGlobal processing remains the default option, providing flexibility to meet both compliance requirements or operational preferences.\n\n#### How to use it\n\nWhen onboarding a domain with MX, BCC, or Journaling:\n\n1. Select the desired processing location (Germany, India, or Australia).\n2. The UI will display updated processing addresses specific to that region.\n3. For MX onboarding, if your domain is managed by Cloudflare, you can automatically update MX records directly from the UI.\n\n#### Availability\n\nThis feature is available across these Email security packages:\n\n* **Advantage**\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n#### Whatâ€™s next\n\nWeâ€™re expanding the list of processing locations to match our [Data Localization Suite (DLS)](https://developers.cloudflare.com/data-localization/) footprint, giving customers the broadest set of regional options in the market without the complexity of self-hosting.\n\n## 2025-09-01\n\n**Updated Email security roles**\n\nTo provide more granular controls, we refined the [existing roles](https://developers.cloudflare.com/cloudflare-one/roles-permissions/#email-security-roles) for Email security and launched a new Email security role as well.\n\nAll Email security roles no longer have read or write access to any of the other Zero Trust products:\n\n* **Email Configuration Admin**\n* **Email Integration Admin**\n* **Email security Read Only**\n* **Email security Analyst**\n* **Email security Policy Admin**\n* **Email security Reporting**\n\nTo configure [Data Loss Prevention (DLP)](https://developers.cloudflare.com/cloudflare-one/email-security/outbound-dlp/) or [Remote Browser Isolation (RBI)](https://developers.cloudflare.com/cloudflare-one/remote-browser-isolation/setup/clientless-browser-isolation/#set-up-clientless-web-isolation), you now need to be an admin for the Zero Trust dashboard with the **Cloudflare Zero Trust** role.\n\nAlso through customer feedback, we have created a new additive role to allow **Email security Analyst** to create, edit, and delete Email security policies, without needing to provide access via the **Email Configuration Admin** role. This role is called **Email security Policy Admin**, which can read all settings, but has write access to [allow policies](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/allow-policies/), [trusted domains](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/trusted-domains/), and [blocked senders](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/blocked-senders/).\n\nThis feature is available across these Email security packages:\n\n* **Advantage**\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2025-08-07\n\n**Expanded Email Link Isolation**\n\nWhen you deploy MX or Inline, not only can you apply email link isolation to suspicious links in all emails (including benign), you can now also apply email link isolation to all links of a specified disposition. This provides more flexibility in controlling user actions within emails.\n\nFor example, you may want to deliver suspicious messages but isolate the links found within them so that users who choose to interact with the links will not accidentally expose your organization to threats. This means your end users are more secure than ever before.\n\n![Expanded Email Link Isolation Configuration](https://developers.cloudflare.com/_astro/expanded-link-actions.DziIg6E8_Z1KKbw8.webp)\n\nTo isolate all links within a message based on the disposition, select **Settings** > **Link Actions** > **View** and select **Configure**. As with other other links you isolate, an interstitial will be provided to warn users that this site has been isolated and the link will be recrawled live to evaluate if there are any changes in our threat intel. Learn more about this feature on [Configure link actions](https://developers.cloudflare.com/cloudflare-one/email-security/settings/detection-settings/configure-link-actions/).\n\nThis feature is available across these Email security packages:\n\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2025-05-15\n\n**Open email attachments with Browser Isolation**\n\nYou can now safely open email attachments to view and investigate them.\n\nWhat this means is that messages now have a **Attachments** section. Here, you can view processed attachments and their classifications (for example, *Malicious*, *Suspicious*, *Encrypted*). Next to each attachment, a **Browser Isolation** icon allows your team to safely open the file in a **clientless, isolated browser** with no risk to the analyst or your environment.\n\n![Attachment-RBI](https://developers.cloudflare.com/_astro/Attachment-RBI.U9Dp8dJO_ySprI.webp)\n\nTo use this feature, you must:\n\n* Enable **Clientless Web Isolation** in your Zero Trust settings.\n* Have **Browser Isolation (BISO)** seats assigned.\n\nFor more details, refer to our [setup guide](https://developers.cloudflare.com/cloudflare-one/remote-browser-isolation/setup/clientless-browser-isolation/).\n\nSome attachment types may not render in Browser Isolation. If there is a file type that you would like to be opened with Browser Isolation, reach out to your Cloudflare contact.\n\nThis feature is available across these Email security packages:\n\n* **Advantage**\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2025-05-08\n\n**Open email links with Browser Isolation**\n\nYou can now safely open links in emails to view and investigate them.\n\n![Open links with Browser Isolation](https://developers.cloudflare.com/_astro/investigate-links.pYbpGkt5_E8W6p.webp)\n\nFrom **Investigation**, go to **View details**, and look for the **Links identified** section. Next to each link, the Cloudflare dashboard will display an **Open in Browser Isolation** icon which allows your team to safely open the link in a clientless, isolated browser with no risk to the analyst or your environment. Refer to [Open links](https://developers.cloudflare.com/cloudflare-one/email-security/investigation/search-email/#open-links) to learn more about this feature.\n\nTo use this feature, you must:\n\n* Enable **Clientless Web Isolation** in your Zero Trust settings.\n* Have **Browser Isolation (RBI)** seats assigned.\n\nFor more details, refer to our [setup guide](https://developers.cloudflare.com/cloudflare-one/remote-browser-isolation/setup/clientless-browser-isolation/).\n\nThis feature is available across these Email security packages:\n\n* **Advantage**\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2025-04-01\n\n**CASB and Email security**\n\nWith Email security, you get two free CASB integrations.\n\nUse one SaaS integration for Email security to sync with your directory of users, take actions on delivered emails, automatically provide EMLs for reclassification requests for clean emails, discover CASB findings and more.\n\nWith the other integration, you can have a separate SaaS integration for CASB findings for another SaaS provider.\n\nRefer to [Add an integration](https://developers.cloudflare.com/cloudflare-one/integrations/cloud-and-saas/#add-an-integration) to learn more about this feature.\n\n![CASB-EmailSecurity](https://developers.cloudflare.com/_astro/CASB-EmailSecurity.B1wd9be2_Z1qI0fQ.webp)\n\nThis feature is available across these Email security packages:\n\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2025-03-01\n\n**Use Logpush for Email security detections**\n\nYou can now send detection logs to an endpoint of your choice with Cloudflare Logpush.\n\nFilter logs matching specific criteria you have set and select from over 25 fields you want to send. When creating a new Logpush job, remember to select **Email security alerts** as the dataset.\n\n![logpush-detections](https://developers.cloudflare.com/_astro/Logpush-Detections.Dc5tHta3_Zr7mfa.webp)\n\nFor more information, refer to [Enable detection logs](https://developers.cloudflare.com/cloudflare-one/insights/logs/enable-logs/#enable-detection-logs).\n\nThis feature is available across these Email security packages:\n\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2025-02-27\n\n**Check status of Email security or Area 1**\n\nConcerns about performance for Email security or Area 1? You can now check the operational status of both on the [Cloudflare Status page](https://www.cloudflarestatus.com/).\n\nFor Email security, look under **Cloudflare Sites and Services**.\n\n* **Dashboard** is the dashboard for Cloudflare, including Email security\n* **Email security (Zero Trust)** is the processing of email\n* **API** are the Cloudflare endpoints, including the ones for Email security\n\nFor Area 1, under **Cloudflare Sites and Services**:\n\n* **Area 1 - Dash** is the dashboard for Cloudflare, including Email security\n* **Email security (Area1)** is the processing of email\n* **Area 1 - API** are the Area 1 endpoints\n\n![Status-page](https://developers.cloudflare.com/_astro/Status-Page.DcFJ1286_2uqBex.webp)\n\nThis feature is available across these Email security packages:\n\n* **Advantage**\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2025-02-25\n\n**Use DLP Assist for M365**\n\nCloudflare Email security customers who have Microsoft 365 environments can quickly deploy an Email DLP (Data Loss Prevention) solution for free.\n\nSimply deploy our add-in, create a DLP policy in Cloudflare, and configure Outlook to trigger behaviors like displaying a banner, alerting end users before sending, or preventing delivery entirely.\n\nRefer to [Outbound Data Loss Prevention](https://developers.cloudflare.com/cloudflare-one/email-security/outbound-dlp/) to learn more about this feature.\n\nIn GUI alert:\n\n![DLP-Alert](https://developers.cloudflare.com/_astro/DLP-Alert.5s-fbKn3_1ALITN.webp)\n\nAlert before sending:\n\n![DLP-Pop-up](https://developers.cloudflare.com/_astro/DLP-Pop-up.0gkYy7o5_1vABF7.webp)\n\nPrevent delivery:\n\n![DLP-Blocked](https://developers.cloudflare.com/_astro/DLP-Blocked.CmQkGrnM_ZBxTWo.webp)\n\nThis feature is available across these Email security packages:\n\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2025-02-07\n\n**Open email links with Security Center**\n\nYou can now investigate links in emails with Cloudflare Security Center to generate a report containing a myriad of technical details: a phishing scan, SSL certificate data, HTTP request and response data, page performance data, DNS records, what technologies and libraries the page uses, and more.\n\n![Open links in Security Center](https://developers.cloudflare.com/_astro/Open-Links-Security-Center.b-LJU4YB_xe9E.webp)\n\nFrom **Investigation**, go to **View details**, and look for the **Links identified** section. Select **Open in Security Center** next to each link. **Open in Security Center** allows your team to quickly generate a detailed report about the link with no risk to the analyst or your environment.\n\nFor more details, refer to [Open links](https://developers.cloudflare.com/cloudflare-one/email-security/investigation/search-email/#open-links).\n\nThis feature is available across these Email security packages:\n\n* **Advantage**\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2024-12-19\n\n**Escalate user submissions**\n\nAfter you triage your users' submissions (that are machine reviewed), you can now escalate them to our team for reclassification (which are instead human reviewed). User submissions from the submission alias, PhishNet, and our API can all be escalated.\n\n![Escalate](https://developers.cloudflare.com/_astro/Escalate.CwXPIyM3_1C9J30.webp)\n\nFrom **Reclassifications**, go to **User submissions**. Select the three dots next to any of the user submissions, then select **Escalate** to create a team request for reclassification. The Cloudflare dashboard will then show you the submissions on the **Team Submissions** tab.\n\nRefer to [User submissions](https://developers.cloudflare.com/cloudflare-one/email-security/submissions/user-submissions/) to learn more about this feature.\n\nThis feature is available across these Email security packages:\n\n* **Advantage**\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2024-12-19\n\n**Increased transparency for phishing email submissions**\n\nYou now have more transparency about team and user submissions for phishing emails through a **Reclassification** tab in the Zero Trust dashboard.\n\nReclassifications happen when users or admins [submit a phish](https://developers.cloudflare.com/cloudflare-one/email-security/settings/phish-submissions/) to Email security. Cloudflare reviews and - in some cases - reclassifies these emails based on improvements to our machine learning models.\n\nThis new tab increases your visibility into this process, allowing you to view what submissions you have made and what the outcomes of those submissions are.\n\n![Use the Reclassification area to review submitted phishing emails](https://developers.cloudflare.com/_astro/reclassifications-tab.yDgtjG51_Z9zOJU.webp)\n\n## 2024-11-07\n\n**Use Logpush for Email security user actions**\n\nYou can now send user action logs for Email security to an endpoint of your choice with Cloudflare Logpush.\n\nFilter logs matching specific criteria you have set or select from multiple fields you want to send. For all users, we will log the date and time, user ID, IP address, details about the message they accessed, and what actions they took.\n\nWhen creating a new Logpush job, remember to select **Audit logs** as the dataset and filter by:\n\n* **Field**: `\"ResourceType\"`\n* **Operator**: `\"starts with\"`\n* **Value**: `\"email_security\"`.\n\n![Logpush-user-actions](https://developers.cloudflare.com/_astro/Logpush-User-Actions.D14fWgmq_Z1FGUyR.webp)\n\nFor more information, refer to [Enable user action logs](https://developers.cloudflare.com/cloudflare-one/insights/logs/enable-logs/#enable-user-action-logs).\n\nThis feature is available across all Email security packages:\n\n* **Enterprise**\n* **Enterprise + PhishGuard**\n\n## 2024-12-19\n\n**Email security expanded folder scanning**\n\nMicrosoft 365 customers can now choose to scan all folders or just the inbox when deploying via the Graph API.\n\n## 2024-08-06\n\n**Email security is live**\n\nEmail security is now live under Zero Trust.\n\n## 2024-08-06\n\n**Microsoft Graph API deployment.**\n\nCustomers using Microsoft Office 365 can set up Email security via Microsoft Graph API.\n\n</page>\n\n<page>\n---\ntitle: Magic Firewall Â· Cloudflare One docs\ndescription: The Magic Firewall dashboard now allows you to search custom rules\n  using the rule name and/or ID.\nlastUpdated: 2025-10-30T17:13:08.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/changelog/magic-firewall/\n  md: https://developers.cloudflare.com/cloudflare-one/changelog/magic-firewall/index.md\n---\n\n[Subscribe to RSS](https://developers.cloudflare.com/changelog/rss/magic-firewall.xml)\n\n## 2024-10-02\n\n**Search for custom rules using rule name and/or ID**\n\nThe Magic Firewall dashboard now allows you to search custom rules using the rule name and/or ID.\n\n1. Log into the [Cloudflare dashboard](https://dash.cloudflare.com) and select your account.\n2. Go to **Analytics & Logs** > **Network Analytics**.\n3. Select **Magic Firewall**.\n4. Add a filter for **Rule ID**.\n\n![Search for firewall rules with rule IDs](https://developers.cloudflare.com/_astro/search-with-rule-id.DJgzqgKk_1uO0HJ.webp)\n\nAdditionally, the rule ID URL link has been added to Network Analytics.\n\nFor more details about rules, refer to [Add rules](https://developers.cloudflare.com/cloudflare-one/traffic-policies/packet-filtering/add-rules/).\n\n## 2024-09-12\n\n**New UI improvements**\n\nThe dashboard now displays the order number of custom rules, and improved drag and drop functionality. You can also preview rules on a side panel without leaving the current page.\n\n## 2024-08-16\n\n**Magic Firewall Analytics Rule Log Enhancement**\n\nCustomers who create a rule in a disabled mode will see the rule as **Log (rule disabled)**.\n\n</page>\n\n<page>\n---\ntitle: Gateway Changelog Â· Cloudflare One docs\ndescription: Review recent changes to Cloudflare Gateway.\nlastUpdated: 2025-11-21T18:29:21.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/changelog/gateway/\n  md: https://developers.cloudflare.com/cloudflare-one/changelog/gateway/index.md\n---\n\n[Subscribe to RSS](https://developers.cloudflare.com/changelog/rss/gateway.xml)\n\n## 2025-12-17\n\n**Shadow IT - domain level SaaS analytics**\n\nZero Trust has again upgraded its **Shadow IT analytics**, providing you with unprecedented visibility into your organizations use of SaaS tools. With this dashboard, you can review who is using an application and volumes of data transfer to the application.\n\nWith this update, you can review data transfer metrics at the domain level, rather than just the application level, providing more granular insight into your data transfer patterns.\n\n![New Domain Level Metrics](https://developers.cloudflare.com/_astro/shadow-it-domain.DoZnGAtf_1pSvH0.webp)\n\nThese metrics can be filtered by all available filters on the dashboard, including user, application, or content category.\n\nBoth the analytics and policies are accessible in the Cloudflare [Zero Trust dashboard](https://one.dash.cloudflare.com/), empowering organizations with better visibility and control.\n\n## 2025-11-06\n\n**Applications to be remapped to the new categories**\n\nWe have previously added new application categories to better reflect their content and improve HTTP traffic management: refer to [Changelog](https://developers.cloudflare.com/cloudflare-one/changelog/gateway/#2025-10-28). While the new categories are live now, we want to ensure you have ample time to review and adjust any existing rules you have configured against old categories. The remapping of existing applications into these new categories will be completed by January 30, 2026. This timeline allows you a dedicated period to:\n\n* Review the new category structure.\n* Identify any policies you have that target the older categories.\n* Adjust your rules to reference the new, more precise categories before the old mappings change. Once the applications have been fully remapped by January 30, 2026, you might observe some changes in the traffic being mitigated or allowed by your existing policies. We encourage you to use the intervening time to prepare for a smooth transition.\n\n**Applications being remappedd**\n\n| Application Name | Existing Category | New Category |\n| - | - | - |\n| Google Photos | File Sharing | Photography & Graphic Design |\n| Flickr | File Sharing | Photography & Graphic Design |\n| ADP | Human Resources | Business |\n| Greenhouse | Human Resources | Business |\n| myCigna | Human Resources | Health & Fitness |\n| UnitedHealthcare | Human Resources | Health & Fitness |\n| ZipRecruiter | Human Resources | Business |\n| Amazon Business | Human Resources | Business |\n| Jobcenter | Human Resources | Business |\n| Jobsuche | Human Resources | Business |\n| Zenjob | Human Resources | Business |\n| DocuSign | Legal | Business |\n| Postident | Legal | Business |\n| Adobe Creative Cloud | Productivity | Photography & Graphic Design |\n| Airtable | Productivity | Development |\n| Autodesk Fusion360 | Productivity | IT Management |\n| Coursera | Productivity | Education |\n| Microsoft Power BI | Productivity | Business |\n| Tableau | Productivity | Business |\n| Duolingo | Productivity | Education |\n| Adobe Reader | Productivity | Business |\n| AnpiReport | Productivity | Travel |\n| ãƒ“ã‚ºãƒªãƒ¼ãƒ | Productivity | Business |\n| doda (ãƒ‡ãƒ¥ãƒ¼ãƒ€) | Productivity | Business |\n| æ±‚äººãƒœãƒƒã‚¯ã‚¹ | Productivity | Business |\n| ãƒžã‚¤ãƒŠãƒ“2026 | Productivity | Business |\n| Power Apps | Productivity | Business |\n| RECRUIT AGENT | Productivity | Business |\n| ã‚·ãƒ•ãƒˆãƒœãƒ¼ãƒ‰ | Productivity | Business |\n| ã‚¹ã‚¿ãƒ³ãƒã‚¤ | Productivity | Business |\n| Doctolib | Productivity | Health & Fitness |\n| Miro | Productivity | Photography & Graphic Design |\n| MyFitnessPal | Productivity | Health & Fitness |\n| Sentry Mobile | Productivity | Travel |\n| Slido | Productivity | Photography & Graphic Design |\n| Arista Networks | Productivity | IT Management |\n| Atlassian | Productivity | Business |\n| CoderPad | Productivity | Business |\n| eAgreements | Productivity | Business |\n| Vmware | Productivity | IT Management |\n| Vmware Vcenter | Productivity | IT Management |\n| AWS Skill Builder | Productivity | Education |\n| Microsoft Office 365 (GCC) | Productivity | Business |\n| Microsoft Exchange Online (GCC) | Productivity | Business |\n| Canva | Sales & Marketing | Photography & Graphic Design |\n| Instacart | Shopping | Food & Drink |\n| Wawa | Shopping | Food & Drink |\n| McDonald's | Shopping | Food & Drink |\n| Vrbo | Shopping | Travel |\n| American Airlines | Shopping | Travel |\n| Booking.com | Shopping | Travel |\n| Ticketmaster | Shopping | Entertainment & Events |\n| Airbnb | Shopping | Travel |\n| DoorDash | Shopping | Food & Drink |\n| Expedia | Shopping | Travel |\n| EasyPark | Shopping | Travel |\n| UEFA Tickets | Shopping | Entertainment & Events |\n| DHL Express | Shopping | Business |\n| UPS | Shopping | Business |\n\nFor more information on creating HTTP policies, refer to [Applications and app types](https://developers.cloudflare.com/cloudflare-one/traffic-policies/application-app-types/).\n\n## 2025-10-28\n\n**New Application Categories added for HTTP Traffic Management**\n\nTo give you precision and flexibility while creating policies to block unwanted traffic, we are introducing new, more granular application categories in the Gateway product.\n\nWe have added the following categories to provide more precise organization and allow for finer-grained policy creation, designed around how users interact with different types of applications:\n\n* Business\n* Education\n* Entertainment & Events\n* Food & Drink\n* Health & Fitness\n* Lifestyle\n* Navigation\n* Photography & Graphic Design\n* Travel\n\nThe new categories are live now, but we are providing a transition period for existing applications to be fully remapped to these new categories.\n\nThe full remapping will be completed by January 30, 2026.\n\nWe encourage you to use this time to:\n\n* Review the new category structure.\n* Identify and adjust any existing HTTP policies that reference older categories to ensure a smooth transition.\n\nFor more information on creating HTTP policies, refer to [Applications and app types](https://developers.cloudflare.com/cloudflare-one/traffic-policies/application-app-types/).\n\n## 2025-10-20\n\n**Schedule DNS policies from the UI**\n\nAdmins can now create [scheduled DNS policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/dns-policies/timed-policies/) directly from the Zero Trust dashboard, without using the API. You can configure policies to be active during specific, recurring times, such as blocking social media during business hours or gaming sites on school nights.\n\n* **Preset Schedules**: Use built-in templates for common scenarios like Business Hours, School Days, Weekends, and more.\n* **Custom Schedules**: Define your own schedule with specific days and up to three non-overlapping time ranges per day.\n* **Timezone Control**: Choose to enforce a schedule in a specific timezone (for example, US Eastern) or based on the local time of each user.\n* **Combined with Duration**: Policies can have both a schedule and a duration. If both are set, the duration's expiration takes precedence.\n\nYou can see the flow in the demo GIF:\n\n![Schedule DNS policies demo](https://developers.cloudflare.com/_astro/gateway-dns-scheduled-policies-ui.Cf4l1OTE_29xeRx.webp)\n\nThis update makes time-based DNS policies accessible to all Gateway customers, removing the technical barrier of the API.\n\n## 2025-10-10\n\n**New domain categories added**\n\nWe have added three new domain categories under the Technology parent category, to better reflect online content and improve DNS filtering.\n\n**New categories added**\n\n| Parent ID | Parent Name | Category ID | Category Name |\n| - | - | - | - |\n| 26 | Technology | 194 | Keep Awake Software |\n| 26 | Technology | 192 | Remote Access |\n| 26 | Technology | 193 | Shareware/Freeware |\n\nRefer to [Gateway domain categories](https://developers.cloudflare.com/cloudflare-one/traffic-policies/domain-categories/) to learn more.\n\n## 2025-09-30\n\n**Application granular controls for operations in SaaS applications**\n\nGateway users can now apply granular controls to their file sharing and AI chat applications through [HTTP policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies).\n\nThe new feature offers two methods of controlling SaaS applications:\n\n* **Application Controls** are curated groupings of Operations which provide an easy way for users to achieve a specific outcome. Application Controls may include *Upload*, *Download*, *Prompt*, *Voice*, and *Share* depending on the application.\n* **Operations** are controls aligned to the most granular action a user can take. This provides a fine-grained approach to enforcing policy and generally aligns to the SaaS providers API specifications in naming and function.\n\nGet started using [Application Granular Controls](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/granular-controls) and refer to the list of [supported applications](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/granular-controls/#compatible-applications).\n\n## 2025-09-25\n\n**Refine DLP Scans with New Body Phase Selector**\n\nYou can now more precisely control your HTTP DLP policies by specifying whether to scan the request or response body, helping to reduce false positives and target specific data flows.\n\nIn the Gateway HTTP policy builder, you will find a new selector called *Body Phase*. This allows you to define the direction of traffic the DLP engine will inspect:\n\n* *Request Body*: Scans data sent from a user's machine to an upstream service. This is ideal for monitoring data uploads, form submissions, or other user-initiated data exfiltration attempts.\n* *Response Body*: Scans data sent to a user's machine from an upstream service. Use this to inspect file downloads and website content for sensitive data.\n\nFor example, consider a policy that blocks Social Security Numbers (SSNs). Previously, this policy might trigger when a user visits a website that contains example SSNs in its content (the response body). Now, by setting the **Body Phase** to *Request Body*, the policy will only trigger if the user attempts to upload or submit an SSN, ignoring the content of the web page itself.\n\nAll policies without this selector will continue to scan both request and response bodies to ensure continued protection.\n\nFor more information, refer to [Gateway HTTP policy selectors](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/#body-phase/).\n\n## 2025-09-11\n\n**DNS filtering for private network onramps**\n\n[Magic WAN](https://developers.cloudflare.com/magic-wan/zero-trust/cloudflare-gateway/#dns-filtering) and [WARP Connector](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/warp-connector/site-to-internet/#configure-dns-resolver-on-devices) users can now securely route their DNS traffic to the Gateway resolver without exposing traffic to the public Internet.\n\nRouting DNS traffic to the Gateway resolver allows DNS resolution and filtering for traffic coming from private networks while preserving source internal IP visibility. This ensures Magic WAN users have full integration with our Cloudflare One features, including [Internal DNS](https://developers.cloudflare.com/cloudflare-one/traffic-policies/resolver-policies/#internal-dns) and [hostname-based policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/egress-policies/#selector-prerequisites).\n\nTo configure DNS filtering, change your Magic WAN or WARP Connector DNS settings to use Cloudflare's shared resolver IPs, `172.64.36.1` and `172.64.36.2`. Once you configure DNS resolution and filtering, you can use *Source Internal IP* as a traffic selector in your [resolver policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/resolver-policies/) for routing private DNS traffic to your [Internal DNS](https://developers.cloudflare.com/dns/internal-dns/).\n\n## 2025-08-27\n\n**Shadow IT - SaaS analytics dashboard**\n\nZero Trust has significantly upgraded its **Shadow IT analytics**, providing you with unprecedented visibility into your organizations use of SaaS tools. With this dashboard, you can review who is using an application and volumes of data transfer to the application.\n\nYou can review these metrics against application type, such as Artificial Intelligence or Social Media. You can also mark applications with an approval status, including **Unreviewed**, **In Review**, **Approved**, and **Unapproved** designating how they can be used in your organization.\n\n![Cloudflare One Analytics Dashboards](https://developers.cloudflare.com/_astro/shadow-it-analytics.BLNnG72w_eGLA5.webp)\n\nThese application statuses can also be used in Gateway HTTP policies, so you can block, isolate, limit uploads and downloads, and more based on the application status.\n\nBoth the analytics and policies are accessible in the Cloudflare [Zero Trust dashboard](https://one.dash.cloudflare.com/), empowering organizations with better visibility and control.\n\n## 2025-08-21\n\n**Gateway BYOIP Dedicated Egress IPs now available.**\n\nEnterprise Gateway users can now use Bring Your Own IP (BYOIP) for dedicated egress IPs.\n\nAdmins can now onboard and use their own IPv4 or IPv6 prefixes to egress traffic from Cloudflare, delivering greater control, flexibility, and compliance for network traffic.\n\nGet started by following the [BYOIP onboarding process](https://developers.cloudflare.com/cloudflare-one/traffic-policies/egress-policies/dedicated-egress-ips/#bring-your-own-ip-address-byoip). Once your IPs are onboarded, go to **Gateway** > **Egress policies** and select or create an egress policy. In **Select an egress IP**, choose *Use dedicated egress IPs (Cloudflare or BYOIP)*, then select your BYOIP address from the dropdown menu.\n\n![Screenshot of a dropdown menu adding a BYOIP IPv4 address as a dedicated egress IP in a Gateway egress policy](https://developers.cloudflare.com/_astro/Gateway-byoip-dedicated-egress-ips.D0pzLAbV_2vcHQC.webp)\n\nFor more information, refer to [BYOIP for dedicated egress IPs](https://developers.cloudflare.com/cloudflare-one/traffic-policies/egress-policies/dedicated-egress-ips/#bring-your-own-ip-address-byoip).\n\n## 2025-07-28\n\n**Scam domain category introduced under Security Threats**\n\nWe have introduced a new Security Threat category called **Scam**. Relevant domains are marked with the Scam category. Scam typically refers to fraudulent websites and schemes designed to trick victims into giving away money or personal information.\n\n**New category added**\n\n| Parent ID | Parent Name | Category ID | Category Name |\n| - | - | - | - |\n| 21 | Security Threats | 191 | Scam |\n\nRefer to [Gateway domain categories](https://developers.cloudflare.com/cloudflare-one/traffic-policies/domain-categories/) to learn more.\n\n## 2025-07-24\n\n**Gateway HTTP Filtering on all ports available in open BETA**\n\n[Gateway](https://developers.cloudflare.com/cloudflare-one/traffic-policies/) can now apply [HTTP filtering](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/) to all proxied HTTP requests, not just traffic on standard HTTP (`80`) and HTTPS (`443`) ports. This means all requests can now be filtered by [A/V scanning](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/antivirus-scanning/), [file sandboxing](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/file-sandboxing/), [Data Loss Prevention (DLP)](https://developers.cloudflare.com/cloudflare-one/data-loss-prevention/#data-in-transit), and more.\n\nYou can turn this [setting](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/protocol-detection/#inspect-on-all-ports) on by going to **Settings** > **Network** > **Firewall** and choosing *Inspect on all ports*.\n\n![HTTP Inspection on all ports setting](https://developers.cloudflare.com/_astro/Gateway-Inspection-all-ports.CCmwX6D0_Z1uW2Xo.webp)\n\nTo learn more, refer to [Inspect on all ports (Beta)](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/protocol-detection/#inspect-on-all-ports).\n\n## 2025-07-22\n\n**Google Bard Application replaced by Gemini**\n\nThe **Google Bard** application (ID: 1198) has been deprecated and fully removed from the system. It has been replaced by the **Gemini** application (ID: 1340). Any existing Gateway policies that reference the old Google Bard application will no longer function. To ensure your policies continue to work as intended, you should update them to use the new Gemini application. We recommend replacing all instances of the deprecated Bard application with the new Gemini application in your Gateway policies. For more information about application policies, please see the [Cloudflare Gateway documentation](https://developers.cloudflare.com/cloudflare-one/traffic-policies/application-app-types/).\n\n## 2025-06-18\n\n**Gateway will now evaluate Network policies before HTTP policies from July 14th, 2025**\n\n[Gateway](https://developers.cloudflare.com/cloudflare-one/traffic-policies/) will now evaluate [Network (Layer 4) policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/) **before** [HTTP (Layer 7) policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/). This change preserves your existing security posture and does not affect which traffic is filtered â€” but it may impact how notifications are displayed to end users.\n\nThis change will roll out progressively between **July 14â€“18, 2025**. If you use HTTP policies, we recommend reviewing your configuration ahead of rollout to ensure the user experience remains consistent.\n\n#### Updated order of enforcement\n\n**Previous order:**\n\n1. DNS policies\n2. HTTP policies\n3. Network policies\n\n**New order:**\n\n1. DNS policies\n2. **Network policies**\n3. **HTTP policies**\n\n#### Action required: Review your Gateway HTTP policies\n\nThis change may affect block notifications. For example:\n\n* You have an **HTTP policy** to block `example.com` and display a block page.\n* You also have a **Network policy** to block `example.com` silently (no client notification).\n\nWith the new order, the Network policy will trigger first â€” and the user will no longer see the HTTP block page.\n\nTo ensure users still receive a block notification, you can:\n\n* Add a client notification to your Network policy, or\n* Use only the HTTP policy for that domain.\n\n***\n\n#### Why weâ€™re making this change\n\nThis update is based on user feedback and aims to:\n\n* Create a more intuitive model by evaluating network-level policies before application-level policies.\n* Minimize [526 connection errors](https://developers.cloudflare.com/support/troubleshooting/http-status-codes/cloudflare-5xx-errors/error-526/#error-526-in-the-zero-trust-context) by verifying the network path to an origin before attempting to establish a decrypted TLS connection.\n\n***\n\nTo learn more, visit the [Gateway order of enforcement documentation](https://developers.cloudflare.com/cloudflare-one/traffic-policies/order-of-enforcement/).\n\n## 2025-05-29\n\n**New Gateway Analytics in the Cloudflare One Dashboard**\n\nUsers can now access significant enhancements to Cloudflare Gateway analytics, providing you with unprecedented visibility into your organization's DNS queries, HTTP requests, and Network sessions. These powerful new dashboards enable you to go beyond raw logs and gain actionable insights into how your users are interacting with the Internet and your protected resources.\n\nYou can now visualize and explore:\n\n* Patterns Over Time: Understand trends in traffic volume and blocked requests, helping you identify anomalies and plan for future capacity.\n* Top Users & Destinations: Quickly pinpoint the most active users, enabling better policy enforcement and resource allocation.\n* Actions Taken: See a clear breakdown of security actions applied by Gateway policies, such as blocks and allows, offering a comprehensive view of your security posture.\n* Geographic Regions: Gain insight into the global distribution of your traffic.\n\n![Gateway Analytics](https://developers.cloudflare.com/_astro/gateway-analytics.BdSwbIBb_18Yc2n.webp)\n\nTo access the new overview, log in to your Cloudflare [Zero Trust dashboard](https://one.dash.cloudflare.com/) and go to Analytics in the side navigation bar.\n\n## 2025-05-27\n\n**Gateway Protocol Detection Now Available for PAYGO and Free Plans**\n\nAll Cloudflare One Gateway users can now use Protocol detection logging and filtering, including those on Pay-as-you-go and Free plans.\n\nWith Protocol Detection, admins can identify and enforce policies on traffic proxied through Gateway based on the underlying network protocol (for example, HTTP, TLS, or SSH), enabling more granular traffic control and security visibility no matter your plan tier.\n\nThis feature is available to enable in your account network settings for all accounts. For more information on using Protocol Detection, refer to the [Protocol detection documentation](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/protocol-detection/).\n\n## 2025-05-14\n\n**Domain Categories improvements**\n\n**New categories added**\n\n| Parent ID | Parent Name | Category ID | Category Name |\n| - | - | - | - |\n| 1 | Ads | 66 | Advertisements |\n| 3 | Business & Economy | 185 | Personal Finance |\n| 3 | Business & Economy | 186 | Brokerage & Investing |\n| 21 | Security Threats | 187 | Compromised Domain |\n| 21 | Security Threats | 188 | Potentially Unwanted Software |\n| 6 | Education | 189 | Reference |\n| 9 | Government & Politics | 190 | Charity and Non-profit |\n\n**Changes to existing categories**\n\n| Original Name | New Name |\n| - | - |\n| Religion | Religion & Spirituality |\n| Government | Government/Legal |\n| Redirect | URL Alias/Redirect |\n\nRefer to [Gateway domain categories](https://developers.cloudflare.com/cloudflare-one/traffic-policies/domain-categories/) to learn more.\n\n## 2025-05-13\n\n**New Applications Added for DNS Filtering**\n\nYou can now create DNS policies to manage outbound traffic for an expanded list of applications. This update adds support for 273 new applications, giving you more control over your organization's outbound traffic.\n\nWith this update, you can:\n\n* Create DNS policies for a wider range of applications\n* Manage outbound traffic more effectively\n* Improve your organization's security and compliance posture\n\nFor more information on creating DNS policies, see our [DNS policy documentation](https://developers.cloudflare.com/cloudflare-one/traffic-policies/dns-policies/).\n\n## 2025-04-28\n\n**FQDN Filtering For Gateway Egress Policies**\n\nCloudflare One administrators can now control which egress IP is used based on a destination's fully qualified domain name (FDQN) within Gateway Egress policies.\n\n* Host, Domain, Content Categories, and Application selectors are now available in the Gateway Egress policy builder in beta.\n* During the beta period, you can use these selectors with traffic on-ramped to Gateway with the WARP client, proxy endpoints (commonly deployed with PAC files), or Cloudflare Browser Isolation.\n  * For WARP client support, additional configuration is required. For more information, refer to the [WARP client configuration documentation](https://developers.cloudflare.com/cloudflare-one/traffic-policies/egress-policies/#limitations).\n\n![Egress by FQDN and Hostname](https://developers.cloudflare.com/_astro/Gateway-Egress-FQDN-Policy-preview.Civon5p8_Z1NyGJz.webp)\n\nThis will help apply egress IPs to your users' traffic when an upstream application or network requires it, while the rest of their traffic can take the most performant egress path.\n\n## 2025-04-11\n\n**HTTP redirect and custom block page redirect**\n\nYou can now use more flexible redirect capabilities in Cloudflare One with Gateway.\n\n* A new **Redirect** action is available in the HTTP policy builder, allowing admins to redirect users to any URL when their request matches a policy. You can choose to preserve the original URL and query string, and optionally include policy context via query parameters.\n* For **Block** actions, admins can now configure a custom URL to display when access is denied. This block page redirect is set at the account level and can be overridden in DNS or HTTP policies. Policy context can also be passed along in the URL.\n\nLearn more in our documentation for [HTTP Redirect](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/#redirect) and [Block page redirect](https://developers.cloudflare.com/cloudflare-one/reusable-components/custom-pages/gateway-block-page/#redirect-to-a-block-page).\n\n## 2025-03-21\n\n**Secure DNS Locations Management User Role**\n\nWe're excited to introduce the [**Cloudflare Zero Trust Secure DNS Locations Write role**](https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/locations/#secure-dns-locations), designed to provide DNS filtering customers with granular control over third-party access when configuring their Protective DNS (PDNS) solutions.\n\nMany DNS filtering customers rely on external service partners to manage their DNS location endpoints. This role allows you to grant access to external parties to administer DNS locations without overprovisioning their permissions.\n\n**Secure DNS Location Requirements:**\n\n* Mandate usage of [Bring your own DNS resolver IP addresses](https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/locations/dns-resolver-ips/#bring-your-own-dns-resolver-ip) if available on the account.\n\n* Require source network filtering for IPv4/IPv6/DoT endpoints; token authentication or source network filtering for the DoH endpoint.\n\nYou can assign the new role via Cloudflare Dashboard (`Manage Accounts > Members`) or via API. For more information, refer to the [Secure DNS Locations documentation](https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/locations/#secure-dns-locations).\n\n## 2025-02-03\n\n**Block files that are password-protected, compressed, or otherwise unscannable.**\n\nGateway HTTP policies can now block files that are password-protected, compressed, or otherwise unscannable.\n\nThese unscannable files are now matched with the [Download and Upload File Types traffic selectors](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/#download-and-upload-file-types) for HTTP policies:\n\n* Password-protected Microsoft Office document\n* Password-protected PDF\n* Password-protected ZIP archive\n* Unscannable ZIP archive\n\nTo get started inspecting and modifying behavior based on these and other rules, refer to [HTTP filtering](https://developers.cloudflare.com/cloudflare-one/traffic-policies/initial-setup/http/).\n\n## 2025-02-12\n\n**Upload/Download File Size selectors for HTTP policies**\n\nGateway and DLP users can now create HTTP policies with the [Download and Upload File Size (MiB)](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/#download-and-upload-file-size) traffic selectors. This update allows users to block uploads or downloads based on file size.\n\n## 2025-02-02\n\n**The default global Cloudflare root certificate expired on 2025-02-02 at 16:05 UTC**\n\nIf you installed the default Cloudflare certificate before 2024-10-17, you must generate a new certificate and activate it for your Zero Trust organization to avoid inspection errors. Refer to [Troubleshooting](https://developers.cloudflare.com/cloudflare-one/faq/troubleshooting/#as-of-february-2-2025-my-end-user-devices-browser-is-returning-a-your-connection-is-not-private-warning) for instructions and troubleshooting steps.\n\n## 2025-01-08\n\n**Bring your own resolver IP (BYOIP) for DNS locations**\n\nEnterprise users can now [provide an IP address](https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/locations/dns-resolver-ips/#bring-your-own-dns-resolver-ip) for a private DNS resolver to use with [DNS locations](https://developers.cloudflare.com/cloudflare-one/networks/resolvers-and-proxies/dns/locations/). Gateway supports bringing your own IPv4 and IPv6 addresses.\n\n## 2024-11-20\n\n**Category filtering in the network policy builder**\n\nGateway users can now create network policies with the [Content Categories](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/#content-categories) and [Security Risks](https://developers.cloudflare.com/cloudflare-one/traffic-policies/network-policies/#security-risks) traffic selectors. This update simplifies malicious traffic blocking and streamlines network monitoring for improved security management.\n\n## 2024-10-17\n\n**Per-account Cloudflare root certificate**\n\nGateway users can now generate [unique root CAs](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/user-side-certificates/) for their Zero Trust account. Both generated certificate and custom certificate users must [activate a root certificate](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/user-side-certificates/#activate-a-root-certificate) to use it for inspection. Per-account certificates replace the default Cloudflare certificate, which is set to expire on 2025-02-02.\n\n## 2024-10-10\n\n**Time-based policy duration**\n\nGateway now offers [time-based DNS policy duration](https://developers.cloudflare.com/cloudflare-one/traffic-policies/dns-policies/timed-policies/#time-based-policy-duration). With policy duration, you can configure a duration of time for a policy to turn on or set an exact date and time to turn a policy off.\n\n## 2024-10-04\n\n**Expanded Gateway log fields**\n\nGateway now offers new fields in [activity logs](https://developers.cloudflare.com/cloudflare-one/insights/logs/gateway-logs/) for DNS, network, and HTTP policies to provide greater insight into your users' traffic routed through Gateway.\n\n## 2024-09-30\n\n**File sandboxing**\n\nGateway users on Enterprise plans can create HTTP policies with [file sandboxing](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/file-sandboxing/) to quarantine previously unseen files downloaded by your users and scan them for malware.\n\n## 2024-07-30\n\n**UK NCSC indicator feed publicly available in Gateway**\n\nGateway users on any plan can now use the [PDNS threat intelligence feed](https://developers.cloudflare.com/security-center/indicator-feeds/#publicly-available-feeds) provided by the UK National Cyber Security Centre (NCSC) in DNS policies.\n\n## 2024-07-14\n\n**Gateway DNS filter non-authenticated queries**\n\nGateway users can now select which endpoints to use for a given DNS location. Available endpoints include IPv4, IPv6, DNS over HTTPS (DoH), and DNS over TLS (DoT). Users can protect each configured endpoint by specifying allowed source networks. Additionally, for the DoH endpoint, users can filter traffic based on source networks and/or authenticate user identity tokens.\n\n## 2024-06-25\n\n**Gateway DNS policy setting to ignore CNAME category matches**\n\nGateway now offers the ability to selectively ignore CNAME domain categories in DNS policies via the [**Ignore CNAME domain categories** setting](https://developers.cloudflare.com/cloudflare-one/traffic-policies/domain-categories/#ignore-cname-domain-categories) in the policy builder and the [`ignore_cname_category_matches` setting](https://developers.cloudflare.com/api/resources/zero_trust/subresources/gateway/subresources/rules/methods/create/) in the API.\n\n## 2024-04-05\n\n**Gateway file type control improvements**\n\nGateway now offers a more extensive, categorized [list of files](https://developers.cloudflare.com/cloudflare-one/traffic-policies/http-policies/#download-and-upload-file-types) to control uploads and downloads.\n\n</page>\n\n<page>\n---\ntitle: Risk score Changelog Â· Cloudflare One docs\ndescription: Review recent changes to Cloudflare Zero Trust user risk scoring.\nlastUpdated: 2025-10-29T14:53:33.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/changelog/risk-score/\n  md: https://developers.cloudflare.com/cloudflare-one/changelog/risk-score/index.md\n---\n\n[Subscribe to RSS](https://developers.cloudflare.com/changelog/rss/risk-score.xml)\n\n## 2024-06-17\n\n**Exchange user risk scores with Okta**\n\nBeyond the controls in [Zero Trust](https://developers.cloudflare.com/cloudflare-one/), you can now [exchange user risk scores](https://developers.cloudflare.com/cloudflare-one/team-and-resources/users/risk-score/#send-risk-score-to-okta) with Okta to inform SSO-level policies.\n\nFirst, configure Cloudflare One to send user risk scores to Okta.\n\n1. Set up the [Okta SSO integration](https://developers.cloudflare.com/cloudflare-one/integrations/identity-providers/okta/).\n2. In [Cloudflare One](https://one.dash.cloudflare.com/), go to **Integrations** > **Identity providers**.\n3. In **Your identity providers**, locate your Okta integration and select **Edit**.\n4. Turn on **Send risk score to Okta**.\n5. Select **Save**.\n6. Upon saving, Cloudflare One will display the well-known URL for your organization. Copy the value.\n\nNext, configure Okta to receive your risk scores.\n\n1. On your Okta admin dashboard, go to **Security** > **Device Integrations**.\n2. Go to **Receive shared signals**, then select **Create stream**.\n3. Name your integration. In **Set up integration with**, choose *Well-known URL*.\n4. In **Well-known URL**, enter the well-known URL value provided by Cloudflare One.\n5. Select **Create**.\n\n## 2024-06-14\n\n**SentinelOne signal ingestion**\n\nYou can now configure a [predefined risk behavior](https://developers.cloudflare.com/cloudflare-one/team-and-resources/users/risk-score/#predefined-risk-behaviors) to evaluate user risk score using device posture attributes from the [SentinelOne integration](https://developers.cloudflare.com/cloudflare-one/integrations/service-providers/sentinelone/).\n\n</page>\n\n<page>\n---\ntitle: Cloudflare Tunnel Changelog Â· Cloudflare One docs\ndescription: Review recent changes to Cloudflare Tunnel.\nlastUpdated: 2025-10-21T14:33:19.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/cloudflare-one/changelog/tunnel/\n  md: https://developers.cloudflare.com/cloudflare-one/changelog/tunnel/index.md\n---\n\n[Subscribe to RSS](https://developers.cloudflare.com/changelog/rss/cloudflare-tunnel.xml)\n\n## 2025-11-11\n\n**cloudflared proxy-dns command will be removed starting February 2, 2026**\n\nStarting February 2, 2026, the `cloudflared proxy-dns` command will be removed from all new `cloudflared` [releases](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/downloads/).\n\nThis change is being made to enhance security and address a potential vulnerability in an underlying DNS library. This vulnerability is specific to the `proxy-dns` command and does not affect any other `cloudflared` features, such as the core [Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/) service.\n\nThe `proxy-dns` command, which runs a client-side [DNS-over-HTTPS (DoH)](https://developers.cloudflare.com/1.1.1.1/encryption/dns-over-https/) proxy, has been an officially undocumented feature for several years. This functionality is fully and securely supported by our actively developed products.\n\nVersions of `cloudflared` released before this date will not be affected and will continue to operate. However, note that our [official support policy](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/downloads/#deprecated-releases) for any `cloudflared` release is one year from its release date.\n\n#### Migration paths\n\nWe strongly advise users of this undocumented feature to migrate to one of the following officially supported solutions before February 2, 2026, to continue benefiting from secure [DNS-over-HTTPS](https://developers.cloudflare.com/1.1.1.1/encryption/dns-over-https/).\n\n#### End-user devices\n\nThe preferred method for enabling DNS-over-HTTPS on user devices is the [Cloudflare WARP client](https://developers.cloudflare.com/cloudflare-one/team-and-resources/devices/warp/). The WARP client automatically secures and proxies all DNS traffic from your device, integrating it with your organization's [Zero Trust policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/) and [posture checks](https://developers.cloudflare.com/cloudflare-one/reusable-components/posture-checks/).\n\n#### Servers, routers, and IoT devices\n\nFor scenarios where installing a client on every device is not possible (such as servers, routers, or IoT devices), we recommend using the [WARP Connector](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/warp-connector/).\n\nInstead of running `cloudflared proxy-dns` on a machine, you can install the WARP Connector on a single Linux host within your private network. This connector will act as a gateway, securely routing all DNS and network traffic from your [entire subnet](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/warp-connector/site-to-internet/) to Cloudflare for [filtering and logging](https://developers.cloudflare.com/cloudflare-one/traffic-policies/).\n\n## 2025-09-18\n\n**Connect and secure any private or public app by hostname, not IP â€” with hostname routing for Cloudflare Tunnel**\n\nYou can now route private traffic to [Cloudflare Tunnel](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/) based on a hostname or domain, moving beyond the limitations of IP-based routing. This new capability is **free for all Cloudflare One customers**.\n\nPreviously, Tunnel routes could only be defined by IP address or [CIDR range](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/cloudflared/connect-cidr/). This created a challenge for modern applications with dynamic or ephemeral IP addresses, often forcing administrators to maintain complex and brittle IP lists.\n\n![Hostname-based routing in Cloudflare Tunnel](https://developers.cloudflare.com/_astro/tunnel-hostname-routing.DSi8MP_7_1xE3pm.webp)\n\n**Whatâ€™s new:**\n\n* **Hostname & Domain Routing**: Create routes for individual hostnames (e.g., `payroll.acme.local`) or entire domains (e.g., `*.acme.local`) and direct their traffic to a specific Tunnel.\n* **Simplified Zero Trust Policies**: Build resilient policies in Cloudflare Access and Gateway using stable hostnames, making it dramatically easier to apply per-resource authorization for your private applications.\n* **Precise Egress Control**: Route traffic for public hostnames (e.g., `bank.example.com`) through a specific Tunnel to enforce a dedicated source IP, solving the IP allowlist problem for third-party services.\n* **No More IP Lists**: This feature makes the workaround of maintaining dynamic IP Lists for Tunnel connections obsolete.\n\nGet started in the Tunnels section of the Zero Trust dashboard with your first [private hostname](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/cloudflared/connect-private-hostname/) or [public hostname](https://developers.cloudflare.com/cloudflare-one/traffic-policies/egress-policies/egress-cloudflared/) route.\n\nLearn more in our [blog post](https://blog.cloudflare.com/tunnel-hostname-routing/).\n\n## 2025-09-11\n\n**DNS filtering for private network onramps**\n\n[Magic WAN](https://developers.cloudflare.com/magic-wan/zero-trust/cloudflare-gateway/#dns-filtering) and [WARP Connector](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/warp-connector/site-to-internet/#configure-dns-resolver-on-devices) users can now securely route their DNS traffic to the Gateway resolver without exposing traffic to the public Internet.\n\nRouting DNS traffic to the Gateway resolver allows DNS resolution and filtering for traffic coming from private networks while preserving source internal IP visibility. This ensures Magic WAN users have full integration with our Cloudflare One features, including [Internal DNS](https://developers.cloudflare.com/cloudflare-one/traffic-policies/resolver-policies/#internal-dns) and [hostname-based policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/egress-policies/#selector-prerequisites).\n\nTo configure DNS filtering, change your Magic WAN or WARP Connector DNS settings to use Cloudflare's shared resolver IPs, `172.64.36.1` and `172.64.36.2`. Once you configure DNS resolution and filtering, you can use *Source Internal IP* as a traffic selector in your [resolver policies](https://developers.cloudflare.com/cloudflare-one/traffic-policies/resolver-policies/) for routing private DNS traffic to your [Internal DNS](https://developers.cloudflare.com/dns/internal-dns/).\n\n## 2025-09-02\n\n**Cloudflare Tunnel and Networks API will no longer return deleted resources by default starting December 1, 2025**\n\nStarting **December 1, 2025**, list endpoints for the [Cloudflare Tunnel API](https://developers.cloudflare.com/api/resources/zero_trust/subresources/tunnels/) and [Zero Trust Networks API](https://developers.cloudflare.com/api/resources/zero_trust/subresources/networks/) will no longer return deleted tunnels, routes, subnets and virtual networks by default. This change makes the API behavior more intuitive by only returning active resources unless otherwise specified.\n\nNo action is required if you already explicitly set `is_deleted=false` or if you only need to list active resources.\n\nThis change affects the following API endpoints:\n\n* List all tunnels: [`GET /accounts/{account_id}/tunnels`](https://developers.cloudflare.com/api/resources/zero_trust/subresources/tunnels/methods/list/)\n* List [Cloudflare Tunnels](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/): [`GET /accounts/{account_id}/cfd_tunnel`](https://developers.cloudflare.com/api/resources/zero_trust/subresources/tunnels/subresources/cloudflared/methods/list/)\n* List [WARP Connector](https://developers.cloudflare.com/cloudflare-one/networks/connectors/cloudflare-tunnel/private-net/warp-connector/) tunnels: [`GET /accounts/{account_id}/warp_connector`](https://developers.cloudflare.com/api/resources/zero_trust/subresources/tunnels/subresources/warp_connector/methods/list/)\n* List tunnel routes: [`GET /accounts/{account_id}/teamnet/routes`](https://developers.cloudflare.com/api/resources/zero_trust/subresources/networks/subresources/routes/methods/list/)\n* List subnets: [`GET /accounts/{account_id}/zerotrust/subnets`](https://developers.cloudflare.com/api/resources/zero_trust/subresources/networks/subresources/subnets/methods/list/)\n* List virtual networks: [`GET /accounts/{account_id}/teamnet/virtual_networks`](https://developers.cloudflare.com/api/resources/zero_trust/subresources/networks/subresources/virtual_networks/methods/list/)\n\n#### What is changing?\n\nThe default behavior of the `is_deleted` query parameter will be updated.\n\n| Scenario | Previous behavior (before December 1, 2025) | New behavior (from December 1, 2025) |\n| - | - | - |\n| `is_deleted` parameter is omitted | Returns **active & deleted** tunnels, routes, subnets and virtual networks | Returns **only active** tunnels, routes, subnets and virtual networks |\n\n#### Action required\n\nIf you need to retrieve deleted (or all) resources, please update your API calls to explicitly include the `is_deleted` parameter before **December 1, 2025**.\n\nTo get a list of only deleted resources, you must now explicitly add the `is_deleted=true` query parameter to your request:",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Build a sequence custom rule via the Cloudflare dashboard",
      "id": "build-a-sequence-custom-rule-via-the-cloudflare-dashboard"
    },
    {
      "level": "h2",
      "text": "Manage sequence rules via the API",
      "id": "manage-sequence-rules-via-the-api"
    },
    {
      "level": "h3",
      "text": "Enable sequence rules",
      "id": "enable-sequence-rules"
    },
    {
      "level": "h3",
      "text": "Disable sequence rules",
      "id": "disable-sequence-rules"
    },
    {
      "level": "h2",
      "text": "Rules fields",
      "id": "rules-fields"
    },
    {
      "level": "h3",
      "text": "Example rules",
      "id": "example-rules"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Super Bot Fight Mode",
      "id": "super-bot-fight-mode"
    },
    {
      "level": "h2",
      "text": "Bot Management for Enterprise",
      "id": "bot-management-for-enterprise"
    },
    {
      "level": "h2",
      "text": "Which files are protected?",
      "id": "which-files-are-protected?"
    },
    {
      "level": "h2",
      "text": "Verified bots and signed agents",
      "id": "verified-bots-and-signed-agents"
    },
    {
      "level": "h2",
      "text": "AI bots",
      "id": "ai-bots"
    },
    {
      "level": "h3",
      "text": "Which bots are blocked",
      "id": "which-bots-are-blocked"
    },
    {
      "level": "h3",
      "text": "How it works",
      "id": "how-it-works"
    },
    {
      "level": "h2",
      "text": "Heuristics",
      "id": "heuristics"
    },
    {
      "level": "h2",
      "text": "JavaScript detections",
      "id": "javascript-detections"
    },
    {
      "level": "h2",
      "text": "Machine Learning (Business and Enterprise)",
      "id": "machine-learning-(business-and-enterprise)"
    },
    {
      "level": "h2",
      "text": "Anomaly detection (Enterprise)",
      "id": "anomaly-detection-(enterprise)"
    },
    {
      "level": "h2",
      "text": "Notes on detection",
      "id": "notes-on-detection"
    },
    {
      "level": "h2",
      "text": "Bot groupings",
      "id": "bot-groupings"
    },
    {
      "level": "h2",
      "text": "How Cloudflare generates bot scores",
      "id": "how-cloudflare-generates-bot-scores"
    },
    {
      "level": "h3",
      "text": "Heuristics",
      "id": "heuristics"
    },
    {
      "level": "h3",
      "text": "Machine learning",
      "id": "machine-learning"
    },
    {
      "level": "h3",
      "text": "Anomaly detection",
      "id": "anomaly-detection"
    },
    {
      "level": "h3",
      "text": "JavaScript detections",
      "id": "javascript-detections"
    },
    {
      "level": "h3",
      "text": "Cloudflare service",
      "id": "cloudflare-service"
    },
    {
      "level": "h3",
      "text": "Not computed",
      "id": "not-computed"
    },
    {
      "level": "h3",
      "text": "Notes on detection",
      "id": "notes-on-detection"
    },
    {
      "level": "h2",
      "text": "Potential values",
      "id": "potential-values"
    },
    {
      "level": "h2",
      "text": "Enable bot tags",
      "id": "enable-bot-tags"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "False Positive",
      "id": "false-positive"
    },
    {
      "level": "h2",
      "text": "False Negative",
      "id": "false-negative"
    },
    {
      "level": "h3",
      "text": "Subtypes",
      "id": "subtypes"
    },
    {
      "level": "h2",
      "text": "Submit a report",
      "id": "submit-a-report"
    },
    {
      "level": "h2",
      "text": "Via the API",
      "id": "via-the-api"
    },
    {
      "level": "h3",
      "text": "Create a feedback report",
      "id": "create-a-feedback-report"
    },
    {
      "level": "h3",
      "text": "List feedback reports",
      "id": "list-feedback-reports"
    },
    {
      "level": "h2",
      "text": "API Fields",
      "id": "api-fields"
    },
    {
      "level": "h3",
      "text": "Expression fields",
      "id": "expression-fields"
    },
    {
      "level": "h2",
      "text": "Recommendations when submitting a report",
      "id": "recommendations-when-submitting-a-report"
    },
    {
      "level": "h2",
      "text": "Recommendations after submitting a false positive",
      "id": "recommendations-after-submitting-a-false-positive"
    },
    {
      "level": "h2",
      "text": "Recommendations after submitting a false negative",
      "id": "recommendations-after-submitting-a-false-negative"
    },
    {
      "level": "h2",
      "text": "Considerations",
      "id": "considerations"
    },
    {
      "level": "h2",
      "text": "Enable Bot Fight Mode",
      "id": "enable-bot-fight-mode"
    },
    {
      "level": "h2",
      "text": "Disable Bot Fight Mode",
      "id": "disable-bot-fight-mode"
    },
    {
      "level": "h2",
      "text": "Block AI bots",
      "id": "block-ai-bots"
    },
    {
      "level": "h2",
      "text": "Visibility",
      "id": "visibility"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h3",
      "text": "Rules",
      "id": "rules"
    },
    {
      "level": "h3",
      "text": "JavaScript Detections",
      "id": "javascript-detections"
    },
    {
      "level": "h2",
      "text": "Enable Bot Management for Enterprise",
      "id": "enable-bot-management-for-enterprise"
    },
    {
      "level": "h2",
      "text": "Setup",
      "id": "setup"
    },
    {
      "level": "h3",
      "text": "Enable the latest Machine Learning version",
      "id": "enable-the-latest-machine-learning-version"
    },
    {
      "level": "h3",
      "text": "Block AI Bots",
      "id": "block-ai-bots"
    },
    {
      "level": "h3",
      "text": "Deploy default templates",
      "id": "deploy-default-templates"
    },
    {
      "level": "h2",
      "text": "Considerations",
      "id": "considerations"
    },
    {
      "level": "h3",
      "text": "WAF custom rules",
      "id": "waf-custom-rules"
    },
    {
      "level": "h2",
      "text": "Enable Super Bot Fight Mode",
      "id": "enable-super-bot-fight-mode"
    },
    {
      "level": "h2",
      "text": "Disable Super Bot Fight Mode",
      "id": "disable-super-bot-fight-mode"
    },
    {
      "level": "h2",
      "text": "Block AI bots",
      "id": "block-ai-bots"
    },
    {
      "level": "h2",
      "text": "Analytics",
      "id": "analytics"
    },
    {
      "level": "h3",
      "text": "Bot Report",
      "id": "bot-report"
    },
    {
      "level": "h3",
      "text": "Security events",
      "id": "security-events"
    },
    {
      "level": "h2",
      "text": "Ruleset Engine",
      "id": "ruleset-engine"
    },
    {
      "level": "h2",
      "text": "How do I get started?",
      "id": "how-do-i-get-started?"
    },
    {
      "level": "h2",
      "text": "Footnotes",
      "id": "footnotes"
    },
    {
      "level": "h2",
      "text": "How do I get started?",
      "id": "how-do-i-get-started?"
    },
    {
      "level": "h2",
      "text": "How do I get started?",
      "id": "how-do-i-get-started?"
    },
    {
      "level": "h2",
      "text": "How do I get started?",
      "id": "how-do-i-get-started?"
    },
    {
      "level": "h2",
      "text": "Alert types",
      "id": "alert-types"
    },
    {
      "level": "h3",
      "text": "Set up a bot detection alert",
      "id": "set-up-a-bot-detection-alert"
    },
    {
      "level": "h2",
      "text": "Alert logic",
      "id": "alert-logic"
    },
    {
      "level": "h2",
      "text": "Ruleset Engine fields",
      "id": "ruleset-engine-fields"
    },
    {
      "level": "h2",
      "text": "Workers variables",
      "id": "workers-variables"
    },
    {
      "level": "h2",
      "text": "Corporate Proxy",
      "id": "corporate-proxy"
    },
    {
      "level": "h2",
      "text": "Log fields",
      "id": "log-fields"
    },
    {
      "level": "h2",
      "text": "Enable auto-updates to the Machine Learning models",
      "id": "enable-auto-updates-to-the-machine-learning-models"
    },
    {
      "level": "h3",
      "text": "What will change",
      "id": "what-will-change"
    },
    {
      "level": "h3",
      "text": "Risks of not updating",
      "id": "risks-of-not-updating"
    },
    {
      "level": "h3",
      "text": "Model versions and release notes",
      "id": "model-versions-and-release-notes"
    },
    {
      "level": "h2",
      "text": "Common reasons for Bot Management to not score a request",
      "id": "common-reasons-for-bot-management-to-not-score-a-request"
    },
    {
      "level": "h3",
      "text": "Requests to internal endpoints",
      "id": "requests-to-internal-endpoints"
    },
    {
      "level": "h3",
      "text": "Purge requests",
      "id": "purge-requests"
    },
    {
      "level": "h3",
      "text": "Early hints cache requests",
      "id": "early-hints-cache-requests"
    },
    {
      "level": "h2",
      "text": "Enable Optimize for WordPress",
      "id": "enable-optimize-for-wordpress"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Create address maps",
      "id": "create-address-maps"
    },
    {
      "level": "h2",
      "text": "Manage address maps",
      "id": "manage-address-maps"
    },
    {
      "level": "h2",
      "text": "Non-SNI support",
      "id": "non-sni-support"
    },
    {
      "level": "h3",
      "text": "Spectrum HTTPS applications",
      "id": "spectrum-https-applications"
    },
    {
      "level": "h2",
      "text": "Requirements",
      "id": "requirements"
    },
    {
      "level": "h2",
      "text": "Auto-generated LOA",
      "id": "auto-generated-loa"
    },
    {
      "level": "h2",
      "text": "Template",
      "id": "template"
    },
    {
      "level": "h2",
      "text": "CDN",
      "id": "cdn"
    },
    {
      "level": "h2",
      "text": "Spectrum",
      "id": "spectrum"
    },
    {
      "level": "h2",
      "text": "API calls for prefix delegations",
      "id": "api-calls-for-prefix-delegations"
    },
    {
      "level": "h2",
      "text": "Configure prefix delegations",
      "id": "configure-prefix-delegations"
    },
    {
      "level": "h2",
      "text": "Footnotes",
      "id": "footnotes"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Check Static IPs",
      "id": "check-static-ips"
    },
    {
      "level": "h2",
      "text": "Before you begin",
      "id": "before-you-begin"
    },
    {
      "level": "h2",
      "text": "Prepare your IPs",
      "id": "prepare-your-ips"
    },
    {
      "level": "h3",
      "text": "1. Get account information",
      "id": "1.-get-account-information"
    },
    {
      "level": "h3",
      "text": "2. Create service bindings",
      "id": "2.-create-service-bindings"
    },
    {
      "level": "h3",
      "text": "3. Verify all service bindings",
      "id": "3.-verify-all-service-bindings"
    },
    {
      "level": "h2",
      "text": "Set up your Cloudflare services",
      "id": "set-up-your-cloudflare-services"
    },
    {
      "level": "h3",
      "text": "CDN",
      "id": "cdn"
    },
    {
      "level": "h3",
      "text": "Spectrum",
      "id": "spectrum"
    },
    {
      "level": "h2",
      "text": "(Optional) Add layer 7 functionality",
      "id": "(optional)-add-layer-7-functionality"
    },
    {
      "level": "h2",
      "text": "Footnotes",
      "id": "footnotes"
    },
    {
      "level": "h2",
      "text": "Before you begin",
      "id": "before-you-begin"
    },
    {
      "level": "h2",
      "text": "1. Get account information",
      "id": "1.-get-account-information"
    },
    {
      "level": "h2",
      "text": "2. Create service binding",
      "id": "2.-create-service-binding"
    },
    {
      "level": "h2",
      "text": "3. Create address maps",
      "id": "3.-create-address-maps"
    },
    {
      "level": "h2",
      "text": "4. Create DNS records",
      "id": "4.-create-dns-records"
    },
    {
      "level": "h2",
      "text": "5. (Optional) Add layer 7 functionality",
      "id": "5.-(optional)-add-layer-7-functionality"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Load the page using Browser Rendering",
      "id": "load-the-page-using-browser-rendering"
    },
    {
      "level": "h2",
      "text": "Call an LLM",
      "id": "call-an-llm"
    },
    {
      "level": "h2",
      "text": "Conclusion",
      "id": "conclusion"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "1. Define HTML and CSS",
      "id": "1.-define-html-and-css"
    },
    {
      "level": "h2",
      "text": "2. Load HTML and CSS Into Browser",
      "id": "2.-load-html-and-css-into-browser"
    },
    {
      "level": "h2",
      "text": "3. Generate and Return PDF",
      "id": "3.-generate-and-return-pdf"
    },
    {
      "level": "h2",
      "text": "Conclusion",
      "id": "conclusion"
    },
    {
      "level": "h2",
      "text": "Custom fonts",
      "id": "custom-fonts"
    },
    {
      "level": "h2",
      "text": "Quick start",
      "id": "quick-start"
    },
    {
      "level": "h2",
      "text": "Deploying",
      "id": "deploying"
    },
    {
      "level": "h2",
      "text": "Using Playwright MCP",
      "id": "using-playwright-mcp"
    },
    {
      "level": "h3",
      "text": "About Web Bot Auth",
      "id": "about-web-bot-auth"
    },
    {
      "level": "h3",
      "text": "Bot detection",
      "id": "bot-detection"
    },
    {
      "level": "h2",
      "text": "Pre-installed fonts",
      "id": "pre-installed-fonts"
    },
    {
      "level": "h3",
      "text": "Generic CSS font family support",
      "id": "generic-css-font-family-support"
    },
    {
      "level": "h3",
      "text": "Common system fonts",
      "id": "common-system-fonts"
    },
    {
      "level": "h3",
      "text": "Open source and extended fonts",
      "id": "open-source-and-extended-fonts"
    },
    {
      "level": "h3",
      "text": "International fonts",
      "id": "international-fonts"
    },
    {
      "level": "h2",
      "text": "Use your own custom font",
      "id": "use-your-own-custom-font"
    },
    {
      "level": "h3",
      "text": "Workers binding",
      "id": "workers-binding"
    },
    {
      "level": "h3",
      "text": "REST API",
      "id": "rest-api"
    },
    {
      "level": "h3",
      "text": "`waitUntil` options",
      "id": "`waituntil`-options"
    },
    {
      "level": "h2",
      "text": "Notes and recommendations",
      "id": "notes-and-recommendations"
    },
    {
      "level": "h2",
      "text": "Install",
      "id": "install"
    },
    {
      "level": "h2",
      "text": "Bindings",
      "id": "bindings"
    },
    {
      "level": "h2",
      "text": "Endpoint",
      "id": "endpoint"
    },
    {
      "level": "h2",
      "text": "Required fields",
      "id": "required-fields"
    },
    {
      "level": "h2",
      "text": "Common use cases",
      "id": "common-use-cases"
    },
    {
      "level": "h2",
      "text": "Basic usage",
      "id": "basic-usage"
    },
    {
      "level": "h3",
      "text": "Fetch rendered HTML from a URL",
      "id": "fetch-rendered-html-from-a-url"
    },
    {
      "level": "h2",
      "text": "Advanced usage",
      "id": "advanced-usage"
    },
    {
      "level": "h3",
      "text": "Block specific resource types",
      "id": "block-specific-resource-types"
    },
    {
      "level": "h3",
      "text": "Handling JavaScript-heavy pages",
      "id": "handling-javascript-heavy-pages"
    },
    {
      "level": "h3",
      "text": "Set a custom user agent",
      "id": "set-a-custom-user-agent"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Endpoint",
      "id": "endpoint"
    },
    {
      "level": "h2",
      "text": "Required fields",
      "id": "required-fields"
    },
    {
      "level": "h2",
      "text": "Common use cases",
      "id": "common-use-cases"
    },
    {
      "level": "h2",
      "text": "Basic Usage",
      "id": "basic-usage"
    },
    {
      "level": "h3",
      "text": "With a Prompt and JSON schema",
      "id": "with-a-prompt-and-json-schema"
    },
    {
      "level": "h2",
      "text": "Advanced Usage",
      "id": "advanced-usage"
    },
    {
      "level": "h3",
      "text": "Using a custom model (BYO API Key)",
      "id": "using-a-custom-model-(byo-api-key)"
    },
    {
      "level": "h3",
      "text": "Using a custom model with fallbacks",
      "id": "using-a-custom-model-with-fallbacks"
    },
    {
      "level": "h3",
      "text": "Handling JavaScript-heavy pages",
      "id": "handling-javascript-heavy-pages"
    },
    {
      "level": "h3",
      "text": "Set a custom user agent",
      "id": "set-a-custom-user-agent"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Endpoint",
      "id": "endpoint"
    },
    {
      "level": "h2",
      "text": "Required fields",
      "id": "required-fields"
    },
    {
      "level": "h2",
      "text": "Common use cases",
      "id": "common-use-cases"
    },
    {
      "level": "h2",
      "text": "Basic usage",
      "id": "basic-usage"
    },
    {
      "level": "h3",
      "text": "Get all links on a page",
      "id": "get-all-links-on-a-page"
    },
    {
      "level": "h2",
      "text": "Advanced usage",
      "id": "advanced-usage"
    },
    {
      "level": "h3",
      "text": "Retrieve only visible links",
      "id": "retrieve-only-visible-links"
    },
    {
      "level": "h3",
      "text": "Retrieve only links from the same domain",
      "id": "retrieve-only-links-from-the-same-domain"
    },
    {
      "level": "h3",
      "text": "Handling JavaScript-heavy pages",
      "id": "handling-javascript-heavy-pages"
    },
    {
      "level": "h3",
      "text": "Set a custom user agent",
      "id": "set-a-custom-user-agent"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Endpoint",
      "id": "endpoint"
    },
    {
      "level": "h2",
      "text": "Required fields",
      "id": "required-fields"
    },
    {
      "level": "h2",
      "text": "Common use cases",
      "id": "common-use-cases"
    },
    {
      "level": "h2",
      "text": "Basic usage",
      "id": "basic-usage"
    },
    {
      "level": "h3",
      "text": "Convert a URL to Markdown",
      "id": "convert-a-url-to-markdown"
    },
    {
      "level": "h3",
      "text": "Convert raw HTML to Markdown",
      "id": "convert-raw-html-to-markdown"
    },
    {
      "level": "h2",
      "text": "Advanced usage",
      "id": "advanced-usage"
    },
    {
      "level": "h3",
      "text": "Exclude unwanted requests (for example, CSS)",
      "id": "exclude-unwanted-requests-(for-example,-css)"
    },
    {
      "level": "h3",
      "text": "Handling JavaScript-heavy pages",
      "id": "handling-javascript-heavy-pages"
    },
    {
      "level": "h3",
      "text": "Set a custom user agent",
      "id": "set-a-custom-user-agent"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Endpoint",
      "id": "endpoint"
    },
    {
      "level": "h2",
      "text": "Required fields",
      "id": "required-fields"
    },
    {
      "level": "h2",
      "text": "Common use cases",
      "id": "common-use-cases"
    },
    {
      "level": "h2",
      "text": "Basic usage",
      "id": "basic-usage"
    },
    {
      "level": "h3",
      "text": "Convert a URL to PDF",
      "id": "convert-a-url-to-pdf"
    },
    {
      "level": "h3",
      "text": "Convert custom HTML to PDF",
      "id": "convert-custom-html-to-pdf"
    },
    {
      "level": "h2",
      "text": "Advanced usage",
      "id": "advanced-usage"
    },
    {
      "level": "h3",
      "text": "Advanced page load with custom headers and viewport",
      "id": "advanced-page-load-with-custom-headers-and-viewport"
    },
    {
      "level": "h3",
      "text": "Blocking images and styles when generating a PDF",
      "id": "blocking-images-and-styles-when-generating-a-pdf"
    },
    {
      "level": "h3",
      "text": "Customize page headers and footers",
      "id": "customize-page-headers-and-footers"
    },
    {
      "level": "h3",
      "text": "Include dynamic placeholders from page metadata",
      "id": "include-dynamic-placeholders-from-page-metadata"
    },
    {
      "level": "h3",
      "text": "Use custom fonts",
      "id": "use-custom-fonts"
    },
    {
      "level": "h3",
      "text": "Handling JavaScript-heavy pages",
      "id": "handling-javascript-heavy-pages"
    },
    {
      "level": "h3",
      "text": "Set a custom user agent",
      "id": "set-a-custom-user-agent"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Endpoint",
      "id": "endpoint"
    },
    {
      "level": "h2",
      "text": "Required fields",
      "id": "required-fields"
    },
    {
      "level": "h2",
      "text": "Common use cases",
      "id": "common-use-cases"
    },
    {
      "level": "h2",
      "text": "Basic usage",
      "id": "basic-usage"
    },
    {
      "level": "h3",
      "text": "Extract headings and links from a URL",
      "id": "extract-headings-and-links-from-a-url"
    },
    {
      "level": "h3",
      "text": "Response fields",
      "id": "response-fields"
    },
    {
      "level": "h2",
      "text": "Advanced Usage",
      "id": "advanced-usage"
    },
    {
      "level": "h3",
      "text": "Handling JavaScript-heavy pages",
      "id": "handling-javascript-heavy-pages"
    },
    {
      "level": "h3",
      "text": "Set a custom user agent",
      "id": "set-a-custom-user-agent"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Endpoint",
      "id": "endpoint"
    },
    {
      "level": "h2",
      "text": "Required fields",
      "id": "required-fields"
    },
    {
      "level": "h2",
      "text": "Common use cases",
      "id": "common-use-cases"
    },
    {
      "level": "h2",
      "text": "Basic usage",
      "id": "basic-usage"
    },
    {
      "level": "h3",
      "text": "Take a screenshot from custom HTML",
      "id": "take-a-screenshot-from-custom-html"
    },
    {
      "level": "h3",
      "text": "Take a screenshot from a URL",
      "id": "take-a-screenshot-from-a-url"
    },
    {
      "level": "h2",
      "text": "Advanced usage",
      "id": "advanced-usage"
    },
    {
      "level": "h3",
      "text": "Capture a screenshot of an authenticated page",
      "id": "capture-a-screenshot-of-an-authenticated-page"
    },
    {
      "level": "h3",
      "text": "Navigate and capture a full-page screenshot",
      "id": "navigate-and-capture-a-full-page-screenshot"
    },
    {
      "level": "h3",
      "text": "Improve blurry screenshot resolution",
      "id": "improve-blurry-screenshot-resolution"
    },
    {
      "level": "h3",
      "text": "Customize CSS and embed custom JavaScript",
      "id": "customize-css-and-embed-custom-javascript"
    },
    {
      "level": "h3",
      "text": "Capture a specific element using the selector option",
      "id": "capture-a-specific-element-using-the-selector-option"
    },
    {
      "level": "h3",
      "text": "Handling JavaScript-heavy pages",
      "id": "handling-javascript-heavy-pages"
    },
    {
      "level": "h3",
      "text": "Set a custom user agent",
      "id": "set-a-custom-user-agent"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Endpoint",
      "id": "endpoint"
    },
    {
      "level": "h2",
      "text": "Required fields",
      "id": "required-fields"
    },
    {
      "level": "h2",
      "text": "Common use cases",
      "id": "common-use-cases"
    },
    {
      "level": "h2",
      "text": "Basic usage",
      "id": "basic-usage"
    },
    {
      "level": "h3",
      "text": "Capture a snapshot from a URL",
      "id": "capture-a-snapshot-from-a-url"
    },
    {
      "level": "h2",
      "text": "Advanced usage",
      "id": "advanced-usage"
    },
    {
      "level": "h3",
      "text": "Create a snapshot from custom HTML",
      "id": "create-a-snapshot-from-custom-html"
    },
    {
      "level": "h3",
      "text": "Improve blurry screenshot resolution",
      "id": "improve-blurry-screenshot-resolution"
    },
    {
      "level": "h3",
      "text": "Handling JavaScript-heavy pages",
      "id": "handling-javascript-heavy-pages"
    },
    {
      "level": "h3",
      "text": "Set a custom user agent",
      "id": "set-a-custom-user-agent"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "1. Create a Worker project",
      "id": "1.-create-a-worker-project"
    },
    {
      "level": "h2",
      "text": "2. Install Puppeteer",
      "id": "2.-install-puppeteer"
    },
    {
      "level": "h2",
      "text": "3. Create a R2 bucket",
      "id": "3.-create-a-r2-bucket"
    },
    {
      "level": "h2",
      "text": "4. Configure your Wrangler configuration file",
      "id": "4.-configure-your-wrangler-configuration-file"
    },
    {
      "level": "h2",
      "text": "5. Code",
      "id": "5.-code"
    },
    {
      "level": "h2",
      "text": "6. Test",
      "id": "6.-test"
    },
    {
      "level": "h2",
      "text": "7. Deploy",
      "id": "7.-deploy"
    },
    {
      "level": "h2",
      "text": "Related resources",
      "id": "related-resources"
    },
    {
      "level": "h2",
      "text": "1. Create a Worker project",
      "id": "1.-create-a-worker-project"
    },
    {
      "level": "h2",
      "text": "2. Install Puppeteer",
      "id": "2.-install-puppeteer"
    },
    {
      "level": "h2",
      "text": "3. Configure the [Wrangler configuration file](https://developers.cloudflare.com/workers/wrangler/configuration/)",
      "id": "3.-configure-the-[wrangler-configuration-file](https://developers.cloudflare.com/workers/wrangler/configuration/)"
    },
    {
      "level": "h2",
      "text": "4. Code",
      "id": "4.-code"
    },
    {
      "level": "h2",
      "text": "5. Test",
      "id": "5.-test"
    },
    {
      "level": "h2",
      "text": "6. Deploy",
      "id": "6.-deploy"
    },
    {
      "level": "h2",
      "text": "Related resources",
      "id": "related-resources"
    },
    {
      "level": "h2",
      "text": "Enable Cache Reserve",
      "id": "enable-cache-reserve"
    },
    {
      "level": "h2",
      "text": "Cache Reserve asset eligibility",
      "id": "cache-reserve-asset-eligibility"
    },
    {
      "level": "h2",
      "text": "Limits",
      "id": "limits"
    },
    {
      "level": "h2",
      "text": "Usage",
      "id": "usage"
    },
    {
      "level": "h2",
      "text": "Pricing",
      "id": "pricing"
    },
    {
      "level": "h3",
      "text": "Cache Reserve pricing",
      "id": "cache-reserve-pricing"
    },
    {
      "level": "h3",
      "text": "Storage usage",
      "id": "storage-usage"
    },
    {
      "level": "h3",
      "text": "Operations",
      "id": "operations"
    },
    {
      "level": "h2",
      "text": "Cache Reserve billing examples",
      "id": "cache-reserve-billing-examples"
    },
    {
      "level": "h2",
      "text": "Tips and best practices",
      "id": "tips-and-best-practices"
    },
    {
      "level": "h2",
      "text": "Cache Reserve Analytics",
      "id": "cache-reserve-analytics"
    },
    {
      "level": "h2",
      "text": "Cache Reserve clear button",
      "id": "cache-reserve-clear-button"
    },
    {
      "level": "h2",
      "text": "Background",
      "id": "background"
    },
    {
      "level": "h2",
      "text": "Benefits",
      "id": "benefits"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Enable Crawler Hints",
      "id": "enable-crawler-hints"
    },
    {
      "level": "h2",
      "text": "Prevent indexing for a specific page",
      "id": "prevent-indexing-for-a-specific-page"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Enable Early Hints",
      "id": "enable-early-hints"
    },
    {
      "level": "h2",
      "text": "Generate Early Hints",
      "id": "generate-early-hints"
    },
    {
      "level": "h2",
      "text": "Emit Early Hints",
      "id": "emit-early-hints"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Enable Query String Sort",
      "id": "enable-query-string-sort"
    },
    {
      "level": "h2",
      "text": "Unexpected behavior with WordPress admin pages",
      "id": "unexpected-behavior-with-wordpress-admin-pages"
    },
    {
      "level": "h3",
      "text": "Identify the problem",
      "id": "identify-the-problem"
    },
    {
      "level": "h3",
      "text": "Respond to the issue",
      "id": "respond-to-the-issue"
    },
    {
      "level": "h2",
      "text": "Related resources",
      "id": "related-resources"
    },
    {
      "level": "h2",
      "text": "Use query strings",
      "id": "use-query-strings"
    },
    {
      "level": "h3",
      "text": "Geolocation example",
      "id": "geolocation-example"
    },
    {
      "level": "h2",
      "text": "Vary for Images",
      "id": "vary-for-images"
    },
    {
      "level": "h3",
      "text": "Enable Vary for Images",
      "id": "enable-vary-for-images"
    },
    {
      "level": "h2",
      "text": "Use Snippets for programmatic caching",
      "id": "use-snippets-for-programmatic-caching"
    },
    {
      "level": "h3",
      "text": "Example: A/B testing",
      "id": "example:-a/b-testing"
    },
    {
      "level": "h2",
      "text": "Custom Cache Keys (Enterprise)",
      "id": "custom-cache-keys-(enterprise)"
    },
    {
      "level": "h3",
      "text": "Example: Same URL, different content",
      "id": "example:-same-url,-different-content"
    },
    {
      "level": "h2",
      "text": "Use Cloudflare Workers for advanced logic",
      "id": "use-cloudflare-workers-for-advanced-logic"
    },
    {
      "level": "h3",
      "text": "Example: Device type â€“ Free/Pro/Biz (without Tiered Cache)",
      "id": "example:-device-type-â€“-free/pro/biz-(without-tiered-cache)"
    },
    {
      "level": "h3",
      "text": "Example: Device type â€“ Enterprise (with Tiered Cache)",
      "id": "example:-device-type-â€“-enterprise-(with-tiered-cache)"
    },
    {
      "level": "h2",
      "text": "Example: Caching Next.js RSC payloads",
      "id": "example:-caching-next.js-rsc-payloads"
    },
    {
      "level": "h3",
      "text": "Method 1: Transform Rules",
      "id": "method-1:-transform-rules"
    },
    {
      "level": "h3",
      "text": "Method 2: Snippets or Custom Cache Keys",
      "id": "method-2:-snippets-or-custom-cache-keys"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "File extensions",
      "id": "file-extensions"
    },
    {
      "level": "h2",
      "text": "Enable vary for images",
      "id": "enable-vary-for-images"
    },
    {
      "level": "h3",
      "text": "Create a variants rule",
      "id": "create-a-variants-rule"
    },
    {
      "level": "h3",
      "text": "Modify to only allow WebP variants",
      "id": "modify-to-only-allow-webp-variants"
    },
    {
      "level": "h3",
      "text": "Delete the rule",
      "id": "delete-the-rule"
    },
    {
      "level": "h3",
      "text": "Get the rule",
      "id": "get-the-rule"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h2",
      "text": "Learn about Cache Poisoning",
      "id": "learn-about-cache-poisoning"
    },
    {
      "level": "h2",
      "text": "Only cache files that are truly static",
      "id": "only-cache-files-that-are-truly-static"
    },
    {
      "level": "h2",
      "text": "Do not trust data in HTTP headers",
      "id": "do-not-trust-data-in-http-headers"
    },
    {
      "level": "h2",
      "text": "Do not trust GET request bodies",
      "id": "do-not-trust-get-request-bodies"
    },
    {
      "level": "h2",
      "text": "Monitor web security advisories",
      "id": "monitor-web-security-advisories"
    },
    {
      "level": "h2",
      "text": "Web Cache Deception attacks",
      "id": "web-cache-deception-attacks"
    },
    {
      "level": "h2",
      "text": "Cache Deception Armor protects against attacks",
      "id": "cache-deception-armor-protects-against-attacks"
    },
    {
      "level": "h3",
      "text": "Exceptions",
      "id": "exceptions"
    },
    {
      "level": "h2",
      "text": "Enable Cache Deception Armor",
      "id": "enable-cache-deception-armor"
    },
    {
      "level": "h2",
      "text": "Add or change CORS headers at the origin server",
      "id": "add-or-change-cors-headers-at-the-origin-server"
    },
    {
      "level": "h2",
      "text": "Add or change CORS headers on Cloudflare",
      "id": "add-or-change-cors-headers-on-cloudflare"
    },
    {
      "level": "h2",
      "text": "Interaction of `HEAD` requests with Cache",
      "id": "interaction-of-`head`-requests-with-cache"
    },
    {
      "level": "h2",
      "text": "Interaction of `Set-Cookie` response header with Cache",
      "id": "interaction-of-`set-cookie`-response-header-with-cache"
    },
    {
      "level": "h2",
      "text": "`Cache-control` directives",
      "id": "`cache-control`-directives"
    },
    {
      "level": "h3",
      "text": "Cacheability",
      "id": "cacheability"
    },
    {
      "level": "h3",
      "text": "Expiration",
      "id": "expiration"
    },
    {
      "level": "h3",
      "text": "Revalidation",
      "id": "revalidation"
    },
    {
      "level": "h3",
      "text": "Other",
      "id": "other"
    },
    {
      "level": "h3",
      "text": "Understand `no-store` and `no-cache` directives",
      "id": "understand-`no-store`-and-`no-cache`-directives"
    },
    {
      "level": "h2",
      "text": "Enable Origin Cache Control",
      "id": "enable-origin-cache-control"
    },
    {
      "level": "h2",
      "text": "Origin Cache Control behavior",
      "id": "origin-cache-control-behavior"
    },
    {
      "level": "h3",
      "text": "Directives",
      "id": "directives"
    },
    {
      "level": "h3",
      "text": "Conditions",
      "id": "conditions"
    },
    {
      "level": "h2",
      "text": "Examples",
      "id": "examples"
    },
    {
      "level": "h2",
      "text": "Interaction with other Cloudflare features",
      "id": "interaction-with-other-cloudflare-features"
    },
    {
      "level": "h3",
      "text": "Edge Cache TTL",
      "id": "edge-cache-ttl"
    },
    {
      "level": "h3",
      "text": "Browser Cache TTL",
      "id": "browser-cache-ttl"
    },
    {
      "level": "h3",
      "text": "Polish",
      "id": "polish"
    },
    {
      "level": "h3",
      "text": "Gzip and Other Compression",
      "id": "gzip-and-other-compression"
    },
    {
      "level": "h2",
      "text": "HIT",
      "id": "hit"
    },
    {
      "level": "h2",
      "text": "MISS",
      "id": "miss"
    },
    {
      "level": "h2",
      "text": "NONE/UNKNOWN",
      "id": "none/unknown"
    },
    {
      "level": "h2",
      "text": "EXPIRED",
      "id": "expired"
    },
    {
      "level": "h2",
      "text": "STALE",
      "id": "stale"
    },
    {
      "level": "h2",
      "text": "BYPASS",
      "id": "bypass"
    },
    {
      "level": "h2",
      "text": "REVALIDATED",
      "id": "revalidated"
    },
    {
      "level": "h2",
      "text": "UPDATING",
      "id": "updating"
    },
    {
      "level": "h2",
      "text": "DYNAMIC",
      "id": "dynamic"
    },
    {
      "level": "h2",
      "text": "Header precedence",
      "id": "header-precedence"
    },
    {
      "level": "h2",
      "text": "Interaction with other Cloudflare features",
      "id": "interaction-with-other-cloudflare-features"
    },
    {
      "level": "h3",
      "text": "Edge Cache TTL cache rule",
      "id": "edge-cache-ttl-cache-rule"
    },
    {
      "level": "h3",
      "text": "Browser Cache TTL cache rule",
      "id": "browser-cache-ttl-cache-rule"
    },
    {
      "level": "h3",
      "text": "Other Origin Response Headers",
      "id": "other-origin-response-headers"
    },
    {
      "level": "h3",
      "text": "Cloudflare Default cache values",
      "id": "cloudflare-default-cache-values"
    },
    {
      "level": "h2",
      "text": "When to use CDN-Cache-Control",
      "id": "when-to-use-cdn-cache-control"
    },
    {
      "level": "h3",
      "text": "Manage cached assets TTLs",
      "id": "manage-cached-assets-ttls"
    },
    {
      "level": "h3",
      "text": "Specify when to serve stale content",
      "id": "specify-when-to-serve-stale-content"
    },
    {
      "level": "h2",
      "text": "Create a directory for static content at your origin web server",
      "id": "create-a-directory-for-static-content-at-your-origin-web-server"
    },
    {
      "level": "h2",
      "text": "Append a unique file extension to static pages",
      "id": "append-a-unique-file-extension-to-static-pages"
    },
    {
      "level": "h2",
      "text": "Add a query string to a resourceâ€™s URL to mark the content as static",
      "id": "add-a-query-string-to-a-resourceâ€™s-url-to-mark-the-content-as-static"
    },
    {
      "level": "h2",
      "text": "Client side range requests",
      "id": "client-side-range-requests"
    },
    {
      "level": "h2",
      "text": "Default cached file extensions",
      "id": "default-cached-file-extensions"
    },
    {
      "level": "h2",
      "text": "Edge TTL",
      "id": "edge-ttl"
    },
    {
      "level": "h2",
      "text": "Customization options and limits",
      "id": "customization-options-and-limits"
    },
    {
      "level": "h3",
      "text": "Upload limits",
      "id": "upload-limits"
    },
    {
      "level": "h3",
      "text": "Cacheable size limits",
      "id": "cacheable-size-limits"
    },
    {
      "level": "h2",
      "text": "When does Cloudflare cache successfully?",
      "id": "when-does-cloudflare-cache-successfully?"
    },
    {
      "level": "h2",
      "text": "Retention",
      "id": "retention"
    },
    {
      "level": "h2",
      "text": "Freshness (TTL)",
      "id": "freshness-(ttl)"
    },
    {
      "level": "h2",
      "text": "Revalidation towards origin",
      "id": "revalidation-towards-origin"
    },
    {
      "level": "h3",
      "text": "Example 1",
      "id": "example-1"
    },
    {
      "level": "h3",
      "text": "Example 2",
      "id": "example-2"
    },
    {
      "level": "h2",
      "text": "Smart revalidation towards users",
      "id": "smart-revalidation-towards-users"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Visitor Experience",
      "id": "visitor-experience"
    },
    {
      "level": "h2",
      "text": "Enable Always Online",
      "id": "enable-always-online"
    },
    {
      "level": "h2",
      "text": "Create custom cache keys",
      "id": "create-custom-cache-keys"
    },
    {
      "level": "h2",
      "text": "Cache Key Template",
      "id": "cache-key-template"
    },
    {
      "level": "h3",
      "text": "Impact of SSL settings on Cache behavior",
      "id": "impact-of-ssl-settings-on-cache-behavior"
    },
    {
      "level": "h3",
      "text": "Cache Level: Ignore Query String",
      "id": "cache-level:-ignore-query-string"
    },
    {
      "level": "h2",
      "text": "Cache Key Settings",
      "id": "cache-key-settings"
    },
    {
      "level": "h3",
      "text": "Query String",
      "id": "query-string"
    },
    {
      "level": "h3",
      "text": "Headers",
      "id": "headers"
    },
    {
      "level": "h3",
      "text": "Host",
      "id": "host"
    },
    {
      "level": "h3",
      "text": "Cookie",
      "id": "cookie"
    },
    {
      "level": "h3",
      "text": "User features",
      "id": "user-features"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h2",
      "text": "Rules templates",
      "id": "rules-templates"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Caching limits",
      "id": "caching-limits"
    },
    {
      "level": "h2",
      "text": "Edge TTL",
      "id": "edge-ttl"
    },
    {
      "level": "h2",
      "text": "Set cache TTL by response status via the Cloudflare dashboard",
      "id": "set-cache-ttl-by-response-status-via-the-cloudflare-dashboard"
    },
    {
      "level": "h2",
      "text": "Set cache TTL by response status via the Cloudflare API",
      "id": "set-cache-ttl-by-response-status-via-the-cloudflare-api"
    },
    {
      "level": "h3",
      "text": "Syntax",
      "id": "syntax"
    },
    {
      "level": "h2",
      "text": "Set cache TTL by response status via a Cloudflare Worker",
      "id": "set-cache-ttl-by-response-status-via-a-cloudflare-worker"
    },
    {
      "level": "h2",
      "text": "TTL handling for 304 and 200 status codes",
      "id": "ttl-handling-for-304-and-200-status-codes"
    },
    {
      "level": "h2",
      "text": "Edge Cache TTL",
      "id": "edge-cache-ttl"
    },
    {
      "level": "h2",
      "text": "Browser Cache TTL",
      "id": "browser-cache-ttl"
    },
    {
      "level": "h2",
      "text": "Availability and limits",
      "id": "availability-and-limits"
    },
    {
      "level": "h3",
      "text": "Hostname, tag, prefix URL, and purge everything limits",
      "id": "hostname,-tag,-prefix-url,-and-purge-everything-limits"
    },
    {
      "level": "h3",
      "text": "Single-file purge limits",
      "id": "single-file-purge-limits"
    },
    {
      "level": "h3",
      "text": "Token bucket rate limiting",
      "id": "token-bucket-rate-limiting"
    },
    {
      "level": "h2",
      "text": "API Caching level values",
      "id": "api-caching-level-values"
    },
    {
      "level": "h2",
      "text": "Tiered Cache Topology",
      "id": "tiered-cache-topology"
    },
    {
      "level": "h3",
      "text": "Smart Tiered Cache",
      "id": "smart-tiered-cache"
    },
    {
      "level": "h3",
      "text": "Generic Global Tiered Cache",
      "id": "generic-global-tiered-cache"
    },
    {
      "level": "h3",
      "text": "Regional Tiered Cache",
      "id": "regional-tiered-cache"
    },
    {
      "level": "h3",
      "text": "Custom Tiered Cache",
      "id": "custom-tiered-cache"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Bandwidth Alliance",
      "id": "bandwidth-alliance"
    },
    {
      "level": "h2",
      "text": "Enable Tiered Cache",
      "id": "enable-tiered-cache"
    },
    {
      "level": "h3",
      "text": "Enable Tiered Cache in the dashboard",
      "id": "enable-tiered-cache-in-the-dashboard"
    },
    {
      "level": "h3",
      "text": "Enable Tiered Cache via API",
      "id": "enable-tiered-cache-via-api"
    },
    {
      "level": "h2",
      "text": "Tiered Cache",
      "id": "tiered-cache"
    },
    {
      "level": "h2",
      "text": "Additional considerations",
      "id": "additional-considerations"
    },
    {
      "level": "h2",
      "text": "Presigned URLs",
      "id": "presigned-urls"
    },
    {
      "level": "h2",
      "text": "Cache features in Workers",
      "id": "cache-features-in-workers"
    },
    {
      "level": "h2",
      "text": "Precedence order",
      "id": "precedence-order"
    },
    {
      "level": "h2",
      "text": "Compatibility flags",
      "id": "compatibility-flags"
    },
    {
      "level": "h3",
      "text": "Compatibility date behavior",
      "id": "compatibility-date-behavior"
    },
    {
      "level": "h3",
      "text": "Example (Older compatibility date)",
      "id": "example-(older-compatibility-date)"
    },
    {
      "level": "h2",
      "text": "Availability",
      "id": "availability"
    },
    {
      "level": "h2",
      "text": "Access Cache Analytics",
      "id": "access-cache-analytics"
    },
    {
      "level": "h2",
      "text": "Requests vs Data Transfer",
      "id": "requests-vs-data-transfer"
    },
    {
      "level": "h2",
      "text": "Add filters",
      "id": "add-filters"
    },
    {
      "level": "h2",
      "text": "Review cache status",
      "id": "review-cache-status"
    },
    {
      "level": "h2",
      "text": "Review requests by source",
      "id": "review-requests-by-source"
    },
    {
      "level": "h3",
      "text": "Empty content types",
      "id": "empty-content-types"
    },
    {
      "level": "h2",
      "text": "Optimize cache ratios",
      "id": "optimize-cache-ratios"
    },
    {
      "level": "h2",
      "text": "Example reports for troubleshooting cache performance",
      "id": "example-reports-for-troubleshooting-cache-performance"
    },
    {
      "level": "h2",
      "text": "Why would a URL be blocked?",
      "id": "why-would-a-url-be-blocked?"
    },
    {
      "level": "h2",
      "text": "Configure the CSAM scanning tool",
      "id": "configure-the-csam-scanning-tool"
    },
    {
      "level": "h2",
      "text": "What happens when a match is detected?",
      "id": "what-happens-when-a-match-is-detected?"
    },
    {
      "level": "h2",
      "text": "What action should I take when a match is detected?",
      "id": "what-action-should-i-take-when-a-match-is-detected?"
    },
    {
      "level": "h2",
      "text": "How do I have a block removed from my website?",
      "id": "how-do-i-have-a-block-removed-from-my-website?"
    },
    {
      "level": "h2",
      "text": "Additional Resources",
      "id": "additional-resources"
    },
    {
      "level": "h2",
      "text": "Enable Development Mode",
      "id": "enable-development-mode"
    },
    {
      "level": "h2",
      "text": "Weak ETags",
      "id": "weak-etags"
    },
    {
      "level": "h2",
      "text": "Strong ETags",
      "id": "strong-etags"
    },
    {
      "level": "h3",
      "text": "Behavior with Respect Strong ETags enabled",
      "id": "behavior-with-respect-strong-etags-enabled"
    },
    {
      "level": "h3",
      "text": "Behavior with Respect Strong ETags disabled",
      "id": "behavior-with-respect-strong-etags-disabled"
    },
    {
      "level": "h2",
      "text": "Important remarks",
      "id": "important-remarks"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h2",
      "text": "Frequently asked questions",
      "id": "frequently-asked-questions"
    },
    {
      "level": "h2",
      "text": "CDN Global Acceleration",
      "id": "cdn-global-acceleration"
    },
    {
      "level": "h2",
      "text": "WARP Global Acceleration",
      "id": "warp-global-acceleration"
    },
    {
      "level": "h2",
      "text": "Magic WAN Global Acceleration",
      "id": "magic-wan-global-acceleration"
    },
    {
      "level": "h2",
      "text": "ICP services",
      "id": "icp-services"
    },
    {
      "level": "h2",
      "text": "MLPS services",
      "id": "mlps-services"
    },
    {
      "level": "h3",
      "text": "Travel SIM",
      "id": "travel-sim"
    },
    {
      "level": "h2",
      "text": "General process",
      "id": "general-process"
    },
    {
      "level": "h3",
      "text": "1. Validate prerequisites",
      "id": "1.-validate-prerequisites"
    },
    {
      "level": "h3",
      "text": "2. Sign contract",
      "id": "2.-sign-contract"
    },
    {
      "level": "h3",
      "text": "3. Deploy Global Acceleration",
      "id": "3.-deploy-global-acceleration"
    },
    {
      "level": "h2",
      "text": "In-China Nameserver",
      "id": "in-china-nameserver"
    },
    {
      "level": "h2",
      "text": "When to use",
      "id": "when-to-use"
    },
    {
      "level": "h2",
      "text": "Comparison",
      "id": "comparison"
    },
    {
      "level": "h2",
      "text": "General setup",
      "id": "general-setup"
    },
    {
      "level": "h2",
      "text": "Types of ICP",
      "id": "types-of-icp"
    },
    {
      "level": "h2",
      "text": "Obtain an ICP number",
      "id": "obtain-an-icp-number"
    },
    {
      "level": "h2",
      "text": "Display your ICP number",
      "id": "display-your-icp-number"
    },
    {
      "level": "h2",
      "text": "Application Services",
      "id": "application-services"
    },
    {
      "level": "h2",
      "text": "Developer Services",
      "id": "developer-services"
    },
    {
      "level": "h2",
      "text": "Network Services",
      "id": "network-services"
    },
    {
      "level": "h2",
      "text": "Zero Trust Services",
      "id": "zero-trust-services"
    },
    {
      "level": "h2",
      "text": "Other Services",
      "id": "other-services"
    },
    {
      "level": "h2",
      "text": "Footnotes",
      "id": "footnotes"
    },
    {
      "level": "h2",
      "text": "China data centers",
      "id": "china-data-centers"
    },
    {
      "level": "h3",
      "text": "Network IP addresses",
      "id": "network-ip-addresses"
    },
    {
      "level": "h2",
      "text": "Actions",
      "id": "actions"
    },
    {
      "level": "h3",
      "text": "Managed Challenge (recommended)",
      "id": "managed-challenge-(recommended)"
    },
    {
      "level": "h3",
      "text": "Interactive Challenge",
      "id": "interactive-challenge"
    },
    {
      "level": "h3",
      "text": "JavaScript Challenge (non-interactive)",
      "id": "javascript-challenge-(non-interactive)"
    },
    {
      "level": "h2",
      "text": "Compatibility limitations",
      "id": "compatibility-limitations"
    },
    {
      "level": "h2",
      "text": "Process",
      "id": "process"
    },
    {
      "level": "h2",
      "text": "1. Enable JavaScript Detections",
      "id": "1.-enable-javascript-detections"
    },
    {
      "level": "h2",
      "text": "2. Enforce execution of JavaScript Detections",
      "id": "2.-enforce-execution-of-javascript-detections"
    },
    {
      "level": "h3",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "API",
      "id": "api"
    },
    {
      "level": "h2",
      "text": "Considerations",
      "id": "considerations"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h3",
      "text": "If you enabled Bot Management before June 2020",
      "id": "if-you-enabled-bot-management-before-june-2020"
    },
    {
      "level": "h3",
      "text": "If it is the first request to your website",
      "id": "if-it-is-the-first-request-to-your-website"
    },
    {
      "level": "h3",
      "text": "If you have a Content Security Policy (CSP)",
      "id": "if-you-have-a-content-security-policy-(csp)"
    },
    {
      "level": "h3",
      "text": "If you have ETags",
      "id": "if-you-have-etags"
    },
    {
      "level": "h2",
      "text": "Widget types",
      "id": "widget-types"
    },
    {
      "level": "h2",
      "text": "Implementation",
      "id": "implementation"
    },
    {
      "level": "h2",
      "text": "Get started",
      "id": "get-started"
    },
    {
      "level": "h2",
      "text": "`cf_clearance` cookies",
      "id": "`cf_clearance`-cookies"
    },
    {
      "level": "h2",
      "text": "Pre-clearance support in Turnstile",
      "id": "pre-clearance-support-in-turnstile"
    },
    {
      "level": "h3",
      "text": "Pre-clearance level options",
      "id": "pre-clearance-level-options"
    },
    {
      "level": "h3",
      "text": "Clearance cookie duration",
      "id": "clearance-cookie-duration"
    },
    {
      "level": "h3",
      "text": "Setup",
      "id": "setup"
    },
    {
      "level": "h2",
      "text": "Available Challenges",
      "id": "available-challenges"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h2",
      "text": "Challenge actions in Security Events",
      "id": "challenge-actions-in-security-events"
    },
    {
      "level": "h2",
      "text": "Failed Challenges",
      "id": "failed-challenges"
    },
    {
      "level": "h2",
      "text": "Overview",
      "id": "overview"
    },
    {
      "level": "h3",
      "text": "Supported browsers",
      "id": "supported-browsers"
    },
    {
      "level": "h3",
      "text": "Limited browser support",
      "id": "limited-browser-support"
    },
    {
      "level": "h3",
      "text": "Unsupported browsers",
      "id": "unsupported-browsers"
    },
    {
      "level": "h2",
      "text": "Common issues",
      "id": "common-issues"
    },
    {
      "level": "h3",
      "text": "Browser extensions",
      "id": "browser-extensions"
    },
    {
      "level": "h3",
      "text": "Device emulation and developer tools",
      "id": "device-emulation-and-developer-tools"
    },
    {
      "level": "h3",
      "text": "WebViews and in-app browsers",
      "id": "webviews-and-in-app-browsers"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Multi-language support",
      "id": "multi-language-support"
    },
    {
      "level": "h3",
      "text": "Turnstile language support",
      "id": "turnstile-language-support"
    },
    {
      "level": "h2",
      "text": "Tensor class",
      "id": "tensor-class"
    },
    {
      "level": "h3",
      "text": "Create new Tensor",
      "id": "create-new-tensor"
    },
    {
      "level": "h3",
      "text": "Tensor examples",
      "id": "tensor-examples"
    },
    {
      "level": "h3",
      "text": "Tensor properties",
      "id": "tensor-properties"
    },
    {
      "level": "h3",
      "text": "Tensor methods",
      "id": "tensor-methods"
    },
    {
      "level": "h2",
      "text": "InferenceSession class",
      "id": "inferencesession-class"
    },
    {
      "level": "h3",
      "text": "InferenceSession methods",
      "id": "inferencesession-methods"
    },
    {
      "level": "h2",
      "text": "Challenge loops",
      "id": "challenge-loops"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Resources",
      "id": "resources"
    },
    {
      "level": "h2",
      "text": "Explore customer usage",
      "id": "explore-customer-usage"
    },
    {
      "level": "h2",
      "text": "Share Cloudflare data with your customers",
      "id": "share-cloudflare-data-with-your-customers"
    },
    {
      "level": "h2",
      "text": "Logpush",
      "id": "logpush"
    },
    {
      "level": "h2",
      "text": "Enterprise plan benefits",
      "id": "enterprise-plan-benefits"
    },
    {
      "level": "h2",
      "text": "Related resources",
      "id": "related-resources"
    },
    {
      "level": "h2",
      "text": "Deploy a platform",
      "id": "deploy-a-platform"
    },
    {
      "level": "h3",
      "text": "Try it out",
      "id": "try-it-out"
    },
    {
      "level": "h2",
      "text": "Understand how it works",
      "id": "understand-how-it-works"
    },
    {
      "level": "h3",
      "text": "Dispatch namespace",
      "id": "dispatch-namespace"
    },
    {
      "level": "h3",
      "text": "Dispatch Worker",
      "id": "dispatch-worker"
    },
    {
      "level": "h3",
      "text": "User Workers",
      "id": "user-workers"
    },
    {
      "level": "h2",
      "text": "Build your platform",
      "id": "build-your-platform"
    },
    {
      "level": "h2",
      "text": "Build an AI vibe coding platform",
      "id": "build-an-ai-vibe-coding-platform"
    },
    {
      "level": "h2",
      "text": "Architecture",
      "id": "architecture"
    },
    {
      "level": "h3",
      "text": "Dispatch namespace",
      "id": "dispatch-namespace"
    },
    {
      "level": "h3",
      "text": "Dynamic dispatch Worker",
      "id": "dynamic-dispatch-worker"
    },
    {
      "level": "h3",
      "text": "User Workers",
      "id": "user-workers"
    },
    {
      "level": "h3",
      "text": "Outbound Worker (optional)",
      "id": "outbound-worker-(optional)"
    },
    {
      "level": "h3",
      "text": "Request lifecycle",
      "id": "request-lifecycle"
    },
    {
      "level": "h2",
      "text": "Workers for Platforms versus Service bindings",
      "id": "workers-for-platforms-versus-service-bindings"
    },
    {
      "level": "h2",
      "text": "Available Access events",
      "id": "available-access-events"
    },
    {
      "level": "h2",
      "text": "Actions",
      "id": "actions"
    },
    {
      "level": "h3",
      "text": "Allow",
      "id": "allow"
    },
    {
      "level": "h3",
      "text": "Block",
      "id": "block"
    },
    {
      "level": "h3",
      "text": "Bypass",
      "id": "bypass"
    },
    {
      "level": "h3",
      "text": "Service Auth",
      "id": "service-auth"
    },
    {
      "level": "h2",
      "text": "Rule types",
      "id": "rule-types"
    },
    {
      "level": "h3",
      "text": "Include",
      "id": "include"
    },
    {
      "level": "h3",
      "text": "Exclude",
      "id": "exclude"
    },
    {
      "level": "h3",
      "text": "Require",
      "id": "require"
    },
    {
      "level": "h2",
      "text": "Selectors",
      "id": "selectors"
    },
    {
      "level": "h2",
      "text": "Order of execution",
      "id": "order-of-execution"
    },
    {
      "level": "h2",
      "text": "Common misconfigurations",
      "id": "common-misconfigurations"
    },
    {
      "level": "h3",
      "text": "Include everyone",
      "id": "include-everyone"
    },
    {
      "level": "h3",
      "text": "Include all valid emails",
      "id": "include-all-valid-emails"
    },
    {
      "level": "h2",
      "text": "Additional resources",
      "id": "additional-resources"
    },
    {
      "level": "h2",
      "text": "Supported integrations",
      "id": "supported-integrations"
    },
    {
      "level": "h2",
      "text": "Configure a DLP profile",
      "id": "configure-a-dlp-profile"
    },
    {
      "level": "h3",
      "text": "Configure a predefined profile",
      "id": "configure-a-predefined-profile"
    },
    {
      "level": "h3",
      "text": "Build a custom profile",
      "id": "build-a-custom-profile"
    },
    {
      "level": "h2",
      "text": "Enable DLP scans in CASB",
      "id": "enable-dlp-scans-in-casb"
    },
    {
      "level": "h3",
      "text": "Add a new integration",
      "id": "add-a-new-integration"
    },
    {
      "level": "h3",
      "text": "Modify an existing integration",
      "id": "modify-an-existing-integration"
    },
    {
      "level": "h2",
      "text": "Limitations",
      "id": "limitations"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Posture findings",
      "id": "posture-findings"
    },
    {
      "level": "h3",
      "text": "Severity levels",
      "id": "severity-levels"
    },
    {
      "level": "h2",
      "text": "Content findings",
      "id": "content-findings"
    },
    {
      "level": "h2",
      "text": "View shared files",
      "id": "view-shared-files"
    },
    {
      "level": "h2",
      "text": "Hide findings",
      "id": "hide-findings"
    },
    {
      "level": "h3",
      "text": "Ignore a finding",
      "id": "ignore-a-finding"
    },
    {
      "level": "h3",
      "text": "Hide an instance of a finding",
      "id": "hide-an-instance-of-a-finding"
    },
    {
      "level": "h2",
      "text": "Remediate findings",
      "id": "remediate-findings"
    },
    {
      "level": "h3",
      "text": "Configure remediation permissions",
      "id": "configure-remediation-permissions"
    },
    {
      "level": "h3",
      "text": "Remediate a finding",
      "id": "remediate-a-finding"
    },
    {
      "level": "h3",
      "text": "Manage remediated findings",
      "id": "manage-remediated-findings"
    },
    {
      "level": "h2",
      "text": "Resolve finding with a Gateway policy",
      "id": "resolve-finding-with-a-gateway-policy"
    },
    {
      "level": "h2",
      "text": "2025-10-28",
      "id": "2025-10-28"
    },
    {
      "level": "h2",
      "text": "2025-09-22",
      "id": "2025-09-22"
    },
    {
      "level": "h2",
      "text": "2025-08-26",
      "id": "2025-08-26"
    },
    {
      "level": "h2",
      "text": "2025-08-26",
      "id": "2025-08-26"
    },
    {
      "level": "h2",
      "text": "2025-08-15",
      "id": "2025-08-15"
    },
    {
      "level": "h2",
      "text": "2025-08-14",
      "id": "2025-08-14"
    },
    {
      "level": "h2",
      "text": "2025-07-01",
      "id": "2025-07-01"
    },
    {
      "level": "h2",
      "text": "2025-06-05",
      "id": "2025-06-05"
    },
    {
      "level": "h2",
      "text": "2025-05-16",
      "id": "2025-05-16"
    },
    {
      "level": "h2",
      "text": "2025-04-21",
      "id": "2025-04-21"
    },
    {
      "level": "h2",
      "text": "2025-04-09",
      "id": "2025-04-09"
    },
    {
      "level": "h2",
      "text": "2025-03-03",
      "id": "2025-03-03"
    },
    {
      "level": "h2",
      "text": "2025-01-15",
      "id": "2025-01-15"
    },
    {
      "level": "h2",
      "text": "2024-10-01",
      "id": "2024-10-01"
    },
    {
      "level": "h2",
      "text": "2025-02-12",
      "id": "2025-02-12"
    },
    {
      "level": "h2",
      "text": "2025-02-11",
      "id": "2025-02-11"
    },
    {
      "level": "h2",
      "text": "2025-01-21",
      "id": "2025-01-21"
    },
    {
      "level": "h2",
      "text": "2025-01-15",
      "id": "2025-01-15"
    },
    {
      "level": "h2",
      "text": "2024-12-04",
      "id": "2024-12-04"
    },
    {
      "level": "h2",
      "text": "2024-10-23",
      "id": "2024-10-23"
    },
    {
      "level": "h2",
      "text": "2024-08-26",
      "id": "2024-08-26"
    },
    {
      "level": "h2",
      "text": "2024-06-06",
      "id": "2024-06-06"
    },
    {
      "level": "h2",
      "text": "2024-04-28",
      "id": "2024-04-28"
    },
    {
      "level": "h2",
      "text": "2024-04-15",
      "id": "2024-04-15"
    },
    {
      "level": "h2",
      "text": "2024-02-22",
      "id": "2024-02-22"
    },
    {
      "level": "h2",
      "text": "2024-02-22",
      "id": "2024-02-22"
    },
    {
      "level": "h2",
      "text": "2023-12-20",
      "id": "2023-12-20"
    },
    {
      "level": "h2",
      "text": "2023-12-15",
      "id": "2023-12-15"
    },
    {
      "level": "h2",
      "text": "2023-09-15",
      "id": "2023-09-15"
    },
    {
      "level": "h2",
      "text": "2023-09-15",
      "id": "2023-09-15"
    },
    {
      "level": "h2",
      "text": "2023-09-15",
      "id": "2023-09-15"
    },
    {
      "level": "h2",
      "text": "2023-09-08",
      "id": "2023-09-08"
    },
    {
      "level": "h2",
      "text": "2023-08-02",
      "id": "2023-08-02"
    },
    {
      "level": "h2",
      "text": "2023-06-23",
      "id": "2023-06-23"
    },
    {
      "level": "h2",
      "text": "2025-05-13",
      "id": "2025-05-13"
    },
    {
      "level": "h2",
      "text": "2025-05-01",
      "id": "2025-05-01"
    },
    {
      "level": "h2",
      "text": "2025-03-04",
      "id": "2025-03-04"
    },
    {
      "level": "h2",
      "text": "2024-11-21",
      "id": "2024-11-21"
    },
    {
      "level": "h2",
      "text": "2024-03-21",
      "id": "2024-03-21"
    },
    {
      "level": "h2",
      "text": "2025-11-14",
      "id": "2025-11-14"
    },
    {
      "level": "h2",
      "text": "2025-10-28",
      "id": "2025-10-28"
    },
    {
      "level": "h2",
      "text": "2025-08-26",
      "id": "2025-08-26"
    },
    {
      "level": "h2",
      "text": "2025-06-23",
      "id": "2025-06-23"
    },
    {
      "level": "h2",
      "text": "2024-11-22",
      "id": "2024-11-22"
    },
    {
      "level": "h2",
      "text": "2024-06-03",
      "id": "2024-06-03"
    },
    {
      "level": "h2",
      "text": "2024-05-23",
      "id": "2024-05-23"
    },
    {
      "level": "h2",
      "text": "2024-04-16",
      "id": "2024-04-16"
    },
    {
      "level": "h2",
      "text": "2025-10-01",
      "id": "2025-10-01"
    },
    {
      "level": "h2",
      "text": "2025-09-25",
      "id": "2025-09-25"
    },
    {
      "level": "h2",
      "text": "2025-08-25",
      "id": "2025-08-25"
    },
    {
      "level": "h2",
      "text": "2025-07-17",
      "id": "2025-07-17"
    },
    {
      "level": "h2",
      "text": "2025-06-23",
      "id": "2025-06-23"
    },
    {
      "level": "h2",
      "text": "2025-05-12",
      "id": "2025-05-12"
    },
    {
      "level": "h2",
      "text": "2025-05-07",
      "id": "2025-05-07"
    },
    {
      "level": "h2",
      "text": "2025-04-14",
      "id": "2025-04-14"
    },
    {
      "level": "h2",
      "text": "2025-02-03",
      "id": "2025-02-03"
    },
    {
      "level": "h2",
      "text": "2025-01-20",
      "id": "2025-01-20"
    },
    {
      "level": "h2",
      "text": "2025-01-15",
      "id": "2025-01-15"
    },
    {
      "level": "h2",
      "text": "2024-11-25",
      "id": "2024-11-25"
    },
    {
      "level": "h2",
      "text": "2024-11-01",
      "id": "2024-11-01"
    },
    {
      "level": "h2",
      "text": "2024-09-03",
      "id": "2024-09-03"
    },
    {
      "level": "h2",
      "text": "2024-05-23",
      "id": "2024-05-23"
    },
    {
      "level": "h2",
      "text": "2024-04-16",
      "id": "2024-04-16"
    },
    {
      "level": "h2",
      "text": "2025-11-12",
      "id": "2025-11-12"
    },
    {
      "level": "h2",
      "text": "2025-08-29",
      "id": "2025-08-29"
    },
    {
      "level": "h2",
      "text": "2025-03-07",
      "id": "2025-03-07"
    },
    {
      "level": "h2",
      "text": "2025-01-24",
      "id": "2025-01-24"
    },
    {
      "level": "h2",
      "text": "2024-12-19",
      "id": "2024-12-19"
    },
    {
      "level": "h2",
      "text": "2024-05-20",
      "id": "2024-05-20"
    },
    {
      "level": "h2",
      "text": "2024-05-13",
      "id": "2024-05-13"
    },
    {
      "level": "h2",
      "text": "2025-12-03",
      "id": "2025-12-03"
    },
    {
      "level": "h2",
      "text": "2025-11-18",
      "id": "2025-11-18"
    },
    {
      "level": "h2",
      "text": "2025-10-17",
      "id": "2025-10-17"
    },
    {
      "level": "h2",
      "text": "2025-09-23",
      "id": "2025-09-23"
    },
    {
      "level": "h2",
      "text": "2025-09-11",
      "id": "2025-09-11"
    },
    {
      "level": "h2",
      "text": "2025-09-01",
      "id": "2025-09-01"
    },
    {
      "level": "h2",
      "text": "2025-08-07",
      "id": "2025-08-07"
    },
    {
      "level": "h2",
      "text": "2025-05-15",
      "id": "2025-05-15"
    },
    {
      "level": "h2",
      "text": "2025-05-08",
      "id": "2025-05-08"
    },
    {
      "level": "h2",
      "text": "2025-04-01",
      "id": "2025-04-01"
    },
    {
      "level": "h2",
      "text": "2025-03-01",
      "id": "2025-03-01"
    },
    {
      "level": "h2",
      "text": "2025-02-27",
      "id": "2025-02-27"
    },
    {
      "level": "h2",
      "text": "2025-02-25",
      "id": "2025-02-25"
    },
    {
      "level": "h2",
      "text": "2025-02-07",
      "id": "2025-02-07"
    },
    {
      "level": "h2",
      "text": "2024-12-19",
      "id": "2024-12-19"
    },
    {
      "level": "h2",
      "text": "2024-12-19",
      "id": "2024-12-19"
    },
    {
      "level": "h2",
      "text": "2024-11-07",
      "id": "2024-11-07"
    },
    {
      "level": "h2",
      "text": "2024-12-19",
      "id": "2024-12-19"
    },
    {
      "level": "h2",
      "text": "2024-08-06",
      "id": "2024-08-06"
    },
    {
      "level": "h2",
      "text": "2024-08-06",
      "id": "2024-08-06"
    },
    {
      "level": "h2",
      "text": "2024-10-02",
      "id": "2024-10-02"
    },
    {
      "level": "h2",
      "text": "2024-09-12",
      "id": "2024-09-12"
    },
    {
      "level": "h2",
      "text": "2024-08-16",
      "id": "2024-08-16"
    },
    {
      "level": "h2",
      "text": "2025-12-17",
      "id": "2025-12-17"
    },
    {
      "level": "h2",
      "text": "2025-11-06",
      "id": "2025-11-06"
    },
    {
      "level": "h2",
      "text": "2025-10-28",
      "id": "2025-10-28"
    },
    {
      "level": "h2",
      "text": "2025-10-20",
      "id": "2025-10-20"
    },
    {
      "level": "h2",
      "text": "2025-10-10",
      "id": "2025-10-10"
    },
    {
      "level": "h2",
      "text": "2025-09-30",
      "id": "2025-09-30"
    },
    {
      "level": "h2",
      "text": "2025-09-25",
      "id": "2025-09-25"
    },
    {
      "level": "h2",
      "text": "2025-09-11",
      "id": "2025-09-11"
    },
    {
      "level": "h2",
      "text": "2025-08-27",
      "id": "2025-08-27"
    },
    {
      "level": "h2",
      "text": "2025-08-21",
      "id": "2025-08-21"
    },
    {
      "level": "h2",
      "text": "2025-07-28",
      "id": "2025-07-28"
    },
    {
      "level": "h2",
      "text": "2025-07-24",
      "id": "2025-07-24"
    },
    {
      "level": "h2",
      "text": "2025-07-22",
      "id": "2025-07-22"
    },
    {
      "level": "h2",
      "text": "2025-06-18",
      "id": "2025-06-18"
    },
    {
      "level": "h2",
      "text": "2025-05-29",
      "id": "2025-05-29"
    },
    {
      "level": "h2",
      "text": "2025-05-27",
      "id": "2025-05-27"
    },
    {
      "level": "h2",
      "text": "2025-05-14",
      "id": "2025-05-14"
    },
    {
      "level": "h2",
      "text": "2025-05-13",
      "id": "2025-05-13"
    },
    {
      "level": "h2",
      "text": "2025-04-28",
      "id": "2025-04-28"
    },
    {
      "level": "h2",
      "text": "2025-04-11",
      "id": "2025-04-11"
    },
    {
      "level": "h2",
      "text": "2025-03-21",
      "id": "2025-03-21"
    },
    {
      "level": "h2",
      "text": "2025-02-03",
      "id": "2025-02-03"
    },
    {
      "level": "h2",
      "text": "2025-02-12",
      "id": "2025-02-12"
    },
    {
      "level": "h2",
      "text": "2025-02-02",
      "id": "2025-02-02"
    },
    {
      "level": "h2",
      "text": "2025-01-08",
      "id": "2025-01-08"
    },
    {
      "level": "h2",
      "text": "2024-11-20",
      "id": "2024-11-20"
    },
    {
      "level": "h2",
      "text": "2024-10-17",
      "id": "2024-10-17"
    },
    {
      "level": "h2",
      "text": "2024-10-10",
      "id": "2024-10-10"
    },
    {
      "level": "h2",
      "text": "2024-10-04",
      "id": "2024-10-04"
    },
    {
      "level": "h2",
      "text": "2024-09-30",
      "id": "2024-09-30"
    },
    {
      "level": "h2",
      "text": "2024-07-30",
      "id": "2024-07-30"
    },
    {
      "level": "h2",
      "text": "2024-07-14",
      "id": "2024-07-14"
    },
    {
      "level": "h2",
      "text": "2024-06-25",
      "id": "2024-06-25"
    },
    {
      "level": "h2",
      "text": "2024-04-05",
      "id": "2024-04-05"
    },
    {
      "level": "h2",
      "text": "2024-06-17",
      "id": "2024-06-17"
    },
    {
      "level": "h2",
      "text": "2024-06-14",
      "id": "2024-06-14"
    },
    {
      "level": "h2",
      "text": "2025-11-11",
      "id": "2025-11-11"
    },
    {
      "level": "h2",
      "text": "2025-09-18",
      "id": "2025-09-18"
    },
    {
      "level": "h2",
      "text": "2025-09-11",
      "id": "2025-09-11"
    },
    {
      "level": "h2",
      "text": "2025-09-02",
      "id": "2025-09-02"
    }
  ],
  "url": "llms-txt#and-related-rights-in-the-digital-single-market.",
  "links": []
}