{
  "title": "postgres 3.4.5 or later is recommended",
  "content": "npm i drizzle-orm postgres dotenv\nnpm i -D drizzle-kit tsx @types/node\njsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"compatibility_flags\": [\n      \"nodejs_compat\"\n    ],\n    \"compatibility_date\": \"2024-09-23\",\n    \"hyperdrive\": [\n      {\n        \"binding\": \"HYPERDRIVE\",\n        \"id\": \"<your-hyperdrive-id-here>\"\n      }\n    ]\n  }\n  toml\n  # required for database drivers to function\n  compatibility_flags = [\"nodejs_compat\"]\n  compatibility_date = \"2024-09-23\"\n\n[[hyperdrive]]\n  binding = \"HYPERDRIVE\"\n  id = \"<your-hyperdrive-id-here>\"\n  ts\n   // src/db/schema.ts\n   import { pgTable, serial, varchar, timestamp } from \"drizzle-orm/pg-core\";\n\nexport const users = pgTable(\"users\", {\n     id: serial(\"id\").primaryKey(),\n     name: varchar(\"name\", { length: 255 }).notNull(),\n     email: varchar(\"email\", { length: 255 }).notNull().unique(),\n     createdAt: timestamp(\"created_at\").defaultNow(),\n   });\n   ts\n// src/index.ts\nimport { drizzle } from \"drizzle-orm/postgres-js\";\nimport postgres from \"postgres\";\nimport { users } from \"./db/schema\";\n\nexport interface Env {\n  HYPERDRIVE: Hyperdrive;\n}\n\nexport default {\n  async fetch(request, env, ctx): Promise<Response> {\n    // Create a database client with postgres.js driver connected via Hyperdrive\n    const sql = postgres(env.HYPERDRIVE.connectionString, {\n      // Limit the connections for the Worker request to 5 due to Workers' limits on concurrent external connections\n      max: 5,\n      // If you are not using array types in your Postgres schema, disable `fetch_types` to avoid an additional round-trip (unnecessary latency)\n      fetch_types: false,\n    });\n\n// Create the Drizzle client with the postgres.js connection\n    const db = drizzle(sql);\n\n// Sample query to get all users\n    const allUsers = await db.select().from(users);\n\nreturn Response.json(allUsers);\n  },\n} satisfies ExportedHandler<Env>;\ntoml\n   # .env\n   # Replace with your direct database connection string\n   DATABASE_URL='postgres://user:password@db-host.cloud/database-name'\n   ts\n   // drizzle.config.ts\n   import \"dotenv/config\";\n   import { defineConfig } from \"drizzle-kit\";\n   export default defineConfig({\n     out: \"./drizzle\",\n     schema: \"./src/db/schema.ts\",\n     dialect: \"postgresql\",\n     dbCredentials: {\n       url: process.env.DATABASE_URL!,\n     },\n   });\n   bash\n   npx drizzle-kit generate\n   bash\n   No config path provided, using default 'drizzle.config.ts'\n   Reading config file 'drizzle.config.ts'\n   1 tables\n   users 4 columns 0 indexes 0 fks\n\n[âœ“] Your SQL migration file âžœ drizzle/0000_mysterious_queen_noir.sql ðŸš€\n   bash\n   npx drizzle-kit migrate\n   bash\n   No config path provided, using default 'drizzle.config.ts'\n   Reading config file 'drizzle.config.ts'\n   Using 'postgres' driver for database querying\n   bash\nnpx wrangler deploy\nsh\n  npm i pg@>8.16.3\n  sh\n  yarn add pg@>8.16.3\n  sh\n  pnpm add pg@>8.16.3\n  sh\n  npm i -D @types/pg\n  sh\n  yarn add -D @types/pg\n  sh\n  pnpm add -D @types/pg\n  jsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"compatibility_flags\": [\n      \"nodejs_compat\"\n    ],\n    \"compatibility_date\": \"2024-09-23\",\n    \"hyperdrive\": [\n      {\n        \"binding\": \"HYPERDRIVE\",\n        \"id\": \"<your-hyperdrive-id-here>\"\n      }\n    ]\n  }\n  toml\n  # required for database drivers to function\n  compatibility_flags = [\"nodejs_compat\"]\n  compatibility_date = \"2024-09-23\"\n\n[[hyperdrive]]\n  binding = \"HYPERDRIVE\"\n  id = \"<your-hyperdrive-id-here>\"\n  ts\n// filepath: src/index.ts\nimport { Client } from \"pg\";\n\nexport default {\n  async fetch(\n    request: Request,\n    env: Env,\n    ctx: ExecutionContext,\n  ): Promise<Response> {\n    // Create a new client instance for each request.\n    const client = new Client({\n      connectionString: env.HYPERDRIVE.connectionString,\n    });\n\ntry {\n      // Connect to the database\n      await client.connect();\n      console.log(\"Connected to PostgreSQL database\");\n\n// Perform a simple query\n      const result = await client.query(\"SELECT * FROM pg_tables\");\n\nreturn Response.json({\n        success: true,\n        result: result.rows,\n      });\n    } catch (error: any) {\n      console.error(\"Database error:\", error.message);\n\nnew Response(\"Internal error occurred\", { status: 500 });\n    }\n  },\n};\nsh\n  npm i postgres@>3.4.5\n  sh\n  yarn add postgres@>3.4.5\n  sh\n  pnpm add postgres@>3.4.5\n  jsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"compatibility_flags\": [\n      \"nodejs_compat\"\n    ],\n    \"compatibility_date\": \"2024-09-23\",\n    \"hyperdrive\": [\n      {\n        \"binding\": \"HYPERDRIVE\",\n        \"id\": \"<your-hyperdrive-id-here>\"\n      }\n    ]\n  }\n  toml\n  # required for database drivers to function\n  compatibility_flags = [\"nodejs_compat\"]\n  compatibility_date = \"2024-09-23\"\n\n[[hyperdrive]]\n  binding = \"HYPERDRIVE\"\n  id = \"<your-hyperdrive-id-here>\"\n  ts\n// filepath: src/index.ts\nimport postgres from \"postgres\";\n\nexport default {\n  async fetch(\n    request: Request,\n    env: Env,\n    ctx: ExecutionContext,\n  ): Promise<Response> {\n    // Create a database client that connects to your database via Hyperdrive\n    // using the Hyperdrive credentials\n    const sql = postgres(env.HYPERDRIVE.connectionString, {\n      // Limit the connections for the Worker request to 5 due to Workers' limits on concurrent external connections\n      max: 5,\n      // If you are not using array types in your Postgres schema, disable `fetch_types` to avoid an additional round-trip (unnecessary latency)\n      fetch_types: false,\n\n// This is set to true by default, but certain query generators such as Kysely or queries using sql.unsafe() will set this to false. Hyperdrive will not cache prepared statements when this option is set to false and will require additional round-trips.\n      prepare: true,\n    });\n\ntry {\n      // A very simple test query\n      const result = await sql`select * from pg_tables`;\n\n// Return result rows as JSON\n      return Response.json({ success: true, result: result });\n    } catch (e: any) {\n      console.error(\"Database error:\", e.message);\n\nreturn Response.error();\n    }\n  },\n} satisfies ExportedHandler<Env>;\nsh\n  npm i -D prisma\n  sh\n  yarn add -D prisma\n  sh\n  pnpm add -D prisma\n  sh\n  npm i pg@>8.13.0 @prisma/adapter-pg\n  sh\n  yarn add pg@>8.13.0 @prisma/adapter-pg\n  sh\n  pnpm add pg@>8.13.0 @prisma/adapter-pg\n  sh\n  npm i -D @types/pg\n  sh\n  yarn add -D @types/pg\n  sh\n  pnpm add -D @types/pg\n  jsonc\n  {\n    \"$schema\": \"./node_modules/wrangler/config-schema.json\",\n    \"compatibility_flags\": [\n      \"nodejs_compat\"\n    ],\n    \"compatibility_date\": \"2024-09-23\",\n    \"hyperdrive\": [\n      {\n        \"binding\": \"HYPERDRIVE\",\n        \"id\": \"<your-hyperdrive-id-here>\"\n      }\n    ]\n  }\n  toml\n  # required for database drivers to function\n  compatibility_flags = [\"nodejs_compat\"]\n  compatibility_date = \"2024-09-23\"\n\n[[hyperdrive]]\n  binding = \"HYPERDRIVE\"\n  id = \"<your-hyperdrive-id-here>\"\n  sh\nnpx prisma init\nprisma\ngenerator client {\n  provider        = \"prisma-client-js\"\n  previewFeatures = [\"driverAdapters\"]\n}\n\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\nmodel User {\n  id        Int      @id @default(autoincrement())\n  name      String\n  email     String   @unique\n  createdAt DateTime @default(now())\n}\ntxt\nDATABASE_URL=\"postgres://user:password@host:port/database\"\njson\n\"scripts\": {\n  \"migrate\": \"npx prisma migrate dev\",\n  \"generate\": \"npx prisma generate --no-engine\",\n  \"studio\": \"npx prisma studio\"\n}\nsh\nnpm run generate\nsh\nnpm run migrate\nts\nimport { PrismaPg } from \"@prisma/adapter-pg\";\nimport { PrismaClient } from \"@prisma/client\";\n\nexport interface Env {\n  HYPERDRIVE: Hyperdrive;\n}\n\nexport default {\n  async fetch(request, env, ctx): Promise<Response> {\n    // Create Prisma client using driver adapter with Hyperdrive connection string\n    const adapter = new PrismaPg({ connectionString: env.HYPERDRIVE.connectionString });\n    const prisma = new PrismaClient({ adapter });\n\n// Sample query to create and fetch users\n    const user = await prisma.user.create({\n      data: {\n        name: \"John Doe\",\n        email: `john.doe.${Date.now()}@example.com`,\n      },\n    });\n\nconst allUsers = await prisma.user.findMany();\n\nreturn Response.json({\n      newUser: user,\n      allUsers: allUsers,\n    });\n  },\n} satisfies ExportedHandler<Env>;\nbash\nnpx wrangler deploy\nsh",
  "code_samples": [
    {
      "code": "Add the required Node.js compatibility flags and Hyperdrive binding to your `wrangler.jsonc` file:\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "## 2. Configure Drizzle\n\n### 2.1. Define a schema\n\nWith Drizzle ORM, we define the schema in TypeScript rather than writing raw SQL.\n\n1. Create a folder `/db/` in `/src/`.\n\n2. Create a `schema.ts` file.\n\n3. In `schema.ts`, define a `users` table as shown below.",
      "language": "unknown"
    },
    {
      "code": "### 2.2. Connect Drizzle ORM to the database with Hyperdrive\n\nUse your Hyperdrive configuration for your database when using the Drizzle ORM.\n\nPopulate your `index.ts` file as shown below.",
      "language": "unknown"
    },
    {
      "code": "Note\n\nYou may use [node-postgres](https://orm.drizzle.team/docs/get-started-postgresql#node-postgres) or [Postgres.js](https://orm.drizzle.team/docs/get-started-postgresql#postgresjs) when using Drizzle ORM. Both are supported and compatible.\n\n### 2.3. Configure Drizzle-Kit for migrations (optional)\n\nNote\n\nYou need to set up the tables in your database so that Drizzle ORM can make queries that work.\n\nIf you have already set it up (for example, if another user has applied the schema to your database), or if you are starting to use Drizzle ORM and the schema matches what already exists in your database, then you do not need to run the migration.\n\nYou can generate and run SQL migrations on your database based on your schema using Drizzle Kit CLI. Refer to [Drizzle ORM docs](https://orm.drizzle.team/docs/get-started/postgresql-new) for additional guidance.\n\n1. Create a `.env` file the root folder of your project, and add your database connection string. The Drizzle Kit CLI will use this connection string to create and apply the migrations.",
      "language": "unknown"
    },
    {
      "code": "2. Create a `drizzle.config.ts` file in the root folder of your project to configure Drizzle Kit and add the following content:",
      "language": "unknown"
    },
    {
      "code": "3. Generate the migration file for your database according to your schema files and apply the migrations to your database.\n\n   Run the following two commands:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "## 3. Deploy your Worker\n\nDeploy your Worker.",
      "language": "unknown"
    },
    {
      "code": "## Next steps\n\n* Learn more about [How Hyperdrive Works](https://developers.cloudflare.com/hyperdrive/concepts/how-hyperdrive-works/).\n* Refer to the [troubleshooting guide](https://developers.cloudflare.com/hyperdrive/observability/troubleshooting/) to debug common issues.\n* Understand more about other [storage options](https://developers.cloudflare.com/workers/platform/storage-options/) available to Cloudflare Workers.\n\n</page>\n\n<page>\n---\ntitle: node-postgres (pg) Â· Cloudflare Hyperdrive docs\ndescription: node-postgres (pg) is a widely-used PostgreSQL driver for Node.js\n  applications. This example demonstrates how to use node-postgres with\n  Cloudflare Hyperdrive in a Workers application.\nlastUpdated: 2025-11-11T16:21:10.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/hyperdrive/examples/connect-to-postgres/postgres-drivers-and-libraries/node-postgres/\n  md: https://developers.cloudflare.com/hyperdrive/examples/connect-to-postgres/postgres-drivers-and-libraries/node-postgres/index.md\n---\n\n[node-postgres](https://node-postgres.com/) (pg) is a widely-used PostgreSQL driver for Node.js applications. This example demonstrates how to use node-postgres with Cloudflare Hyperdrive in a Workers application.\n\nRecommended driver\n\n[Node-postgres](https://node-postgres.com/) (`pg`) is the recommended driver for connecting to your Postgres database from JavaScript or TypeScript Workers. It has the best compatibility with Hyperdrive's caching and is commonly available with popular ORM libraries. [Postgres.js](https://github.com/porsager/postgres) is also supported.\n\nInstall the `node-postgres` driver:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "Note\n\nThe minimum version of `node-postgres` required for Hyperdrive is `8.16.3`.\n\nIf using TypeScript, install the types package:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "Add the required Node.js compatibility flags and Hyperdrive binding to your `wrangler.jsonc` file:\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "Create a new `Client` instance and pass the Hyperdrive `connectionString`:",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Postgres.js Â· Cloudflare Hyperdrive docs\ndescription: Postgres.js is a modern, fully-featured PostgreSQL driver for\n  Node.js. This example demonstrates how to use Postgres.js with Cloudflare\n  Hyperdrive in a Workers application.\nlastUpdated: 2025-11-11T16:21:10.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/hyperdrive/examples/connect-to-postgres/postgres-drivers-and-libraries/postgres-js/\n  md: https://developers.cloudflare.com/hyperdrive/examples/connect-to-postgres/postgres-drivers-and-libraries/postgres-js/index.md\n---\n\n[Postgres.js](https://github.com/porsager/postgres) is a modern, fully-featured PostgreSQL driver for Node.js. This example demonstrates how to use Postgres.js with Cloudflare Hyperdrive in a Workers application.\n\nRecommended driver\n\n[Node-postgres](https://node-postgres.com/) (`pg`) is the recommended driver for connecting to your Postgres database from JavaScript or TypeScript Workers. It has the best compatibility with Hyperdrive's caching and is commonly available with popular ORM libraries. [Postgres.js](https://github.com/porsager/postgres) is also supported.\n\nInstall [Postgres.js](https://github.com/porsager/postgres):\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "Note\n\nThe minimum version of `postgres-js` required for Hyperdrive is `3.4.5`.\n\nAdd the required Node.js compatibility flags and Hyperdrive binding to your `wrangler.jsonc` file:\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "Create a Worker that connects to your PostgreSQL database via Hyperdrive:",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Prisma ORM Â· Cloudflare Hyperdrive docs\ndescription: Prisma ORM is a Node.js and TypeScript ORM with a focus on type\n  safety and developer experience. This example demonstrates how to use Prisma\n  ORM with PostgreSQL via Cloudflare Hyperdrive in a Workers application.\nlastUpdated: 2025-09-16T09:16:24.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/hyperdrive/examples/connect-to-postgres/postgres-drivers-and-libraries/prisma-orm/\n  md: https://developers.cloudflare.com/hyperdrive/examples/connect-to-postgres/postgres-drivers-and-libraries/prisma-orm/index.md\n---\n\n[Prisma ORM](https://www.prisma.io/docs) is a Node.js and TypeScript ORM with a focus on type safety and developer experience. This example demonstrates how to use Prisma ORM with PostgreSQL via Cloudflare Hyperdrive in a Workers application.\n\n## Prerequisites\n\n* A Cloudflare account with Workers access\n* A PostgreSQL database (such as [Prisma Postgres](https://www.prisma.io/postgres))\n* A [Hyperdrive configuration to your PostgreSQL database](https://developers.cloudflare.com/hyperdrive/get-started/#3-connect-hyperdrive-to-a-database)\n* An existing [Worker project](https://developers.cloudflare.com/workers/get-started/guide/)\n\n## 1. Install Prisma ORM\n\nInstall Prisma CLI as a dev dependency:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "Install the `pg` driver and Prisma driver adapter for use with Hyperdrive:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "If using TypeScript, install the types package:\n\n* npm",
      "language": "unknown"
    },
    {
      "code": "* yarn",
      "language": "unknown"
    },
    {
      "code": "* pnpm",
      "language": "unknown"
    },
    {
      "code": "Add the required Node.js compatibility flags and Hyperdrive binding to your `wrangler.toml` file:\n\n* wrangler.jsonc",
      "language": "unknown"
    },
    {
      "code": "* wrangler.toml",
      "language": "unknown"
    },
    {
      "code": "## 2. Configure Prisma ORM\n\n### 2.1. Initialize Prisma\n\nInitialize Prisma in your application:",
      "language": "unknown"
    },
    {
      "code": "This creates a `prisma` folder with a `schema.prisma` file and an `.env` file.\n\n### 2.2. Define a schema\n\nDefine your database schema in the `prisma/schema.prisma` file:",
      "language": "unknown"
    },
    {
      "code": "### 2.3. Set up environment variables\n\nAdd your database connection string to the `.env` file created by Prisma:",
      "language": "unknown"
    },
    {
      "code": "Add helper scripts to your `package.json`:",
      "language": "unknown"
    },
    {
      "code": "### 2.4. Generate Prisma Client\n\nGenerate the Prisma client with driver adapter support:",
      "language": "unknown"
    },
    {
      "code": "### 2.5. Run migrations\n\nGenerate and apply the database schema:",
      "language": "unknown"
    },
    {
      "code": "When prompted, provide a name for the migration (for example, `init`).\n\n## 3. Connect Prisma ORM to Hyperdrive\n\nUse your Hyperdrive configuration when using Prisma ORM. Update your `src/index.ts` file:",
      "language": "unknown"
    },
    {
      "code": "Note\n\nWhen using Prisma ORM with Hyperdrive, you must use driver adapters to properly utilize the Hyperdrive connection string. The `@prisma/adapter-pg` driver adapter allows Prisma ORM to work with the `pg` driver and Hyperdrive's connection pooling. This approach provides connection pooling at the network level through Hyperdrive, so you don't need Prisma-specific connection pooling extensions like Prisma Accelerate.\n\n## 4. Deploy your Worker\n\nDeploy your Worker:",
      "language": "unknown"
    },
    {
      "code": "## Next steps\n\n* Learn more about [How Hyperdrive Works](https://developers.cloudflare.com/hyperdrive/concepts/how-hyperdrive-works/).\n* Refer to the [troubleshooting guide](https://developers.cloudflare.com/hyperdrive/observability/troubleshooting/) to debug common issues.\n* Understand more about other [storage options](https://developers.cloudflare.com/workers/platform/storage-options/) available to Cloudflare Workers.\n\n</page>\n\n<page>\n---\ntitle: AWS RDS and Aurora Â· Cloudflare Hyperdrive docs\ndescription: Connect Hyperdrive to an AWS RDS or Aurora Postgres database instance.\nlastUpdated: 2025-08-20T20:59:04.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/hyperdrive/examples/connect-to-postgres/postgres-database-providers/aws-rds-aurora/\n  md: https://developers.cloudflare.com/hyperdrive/examples/connect-to-postgres/postgres-database-providers/aws-rds-aurora/index.md\n---\n\nThis example shows you how to connect Hyperdrive to an Amazon Relational Database Service (Amazon RDS) Postgres or Amazon Aurora database instance.\n\n## 1. Allow Hyperdrive access\n\nTo allow Hyperdrive to connect to your database, you will need to ensure that Hyperdrive has valid user credentials and network access.\n\nNote\n\nTo allow Hyperdrive to connect to your database, you must allow Cloudflare IPs to be able to access your database. You can either allow-list all IP address ranges (0.0.0.0 - 255.255.255.255) or restrict your IP access control list to the [IP ranges used by Hyperdrive](https://developers.cloudflare.com/hyperdrive/configuration/firewall-and-networking-configuration/).\n\nAlternatively, you can connect to your databases over in your private network using [Cloudflare Tunnels](https://developers.cloudflare.com/hyperdrive/configuration/connect-to-private-database/).\n\n### AWS Console\n\nWhen creating or modifying an instance in the AWS console:\n\n1. Configure a **DB cluster identifier** and other settings you wish to customize.\n2. Under **Settings** > **Credential settings**, note down the **Master username** and **Master password** (Aurora only).\n3. Under the **Connectivity** header, ensure **Public access** is set to **Yes**.\n4. Select an **Existing VPC security group** that allows public Internet access from `0.0.0.0/0` to the port your database instance is configured to listen on (default: `5432` for PostgreSQL instances).\n5. Select **Create database**.\n\nWarning\n\nYou must ensure that the [VPC security group](https://docs.aws.amazon.com/vpc/latest/userguide/vpc-security-groups.html) associated with your database allows public IPv4 access to your database port.\n\nRefer to AWS' [database server rules](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/security-group-rules-reference.html#sg-rules-db-server) for details on how to configure rules specific to your RDS or Aurora database.\n\n### Retrieve the database endpoint (Aurora)\n\nTo retrieve the database endpoint (hostname) for Hyperdrive to connect to:\n\n1. Go to **Databases** view under **RDS** in the AWS console.\n2. Select the database you want Hyperdrive to connect to.\n3. Under the **Endpoints** header, note down the **Endpoint name** with the type `Writer` and the **Port**.\n\n### Retrieve the database endpoint (RDS PostgreSQL)\n\nFor regular RDS instances (non-Aurora), you will need to fetch the endpoint and port of the database:\n\n1. Go to **Databases** view under **RDS** in the AWS console.\n2. Select the database you want Hyperdrive to connect to.\n3. Under the **Connectivity & security** header, note down the **Endpoint** and the **Port**.\n\nThe endpoint will resemble `YOUR_DATABASE_NAME.cpuo5rlli58m.AWS_REGION.rds.amazonaws.com` and the port will default to `5432`.\n\n## 2. Create your user\n\nOnce your database is created, you will need to create a user for Hyperdrive to connect as. Although you can use the **Master username** configured during initial database creation, best practice is to create a less privileged user.\n\nTo create a new user, log in to the database and use the `CREATE ROLE` command:",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "2. Configure Drizzle",
      "id": "2.-configure-drizzle"
    },
    {
      "level": "h3",
      "text": "2.1. Define a schema",
      "id": "2.1.-define-a-schema"
    },
    {
      "level": "h3",
      "text": "2.2. Connect Drizzle ORM to the database with Hyperdrive",
      "id": "2.2.-connect-drizzle-orm-to-the-database-with-hyperdrive"
    },
    {
      "level": "h3",
      "text": "2.3. Configure Drizzle-Kit for migrations (optional)",
      "id": "2.3.-configure-drizzle-kit-for-migrations-(optional)"
    },
    {
      "level": "h2",
      "text": "3. Deploy your Worker",
      "id": "3.-deploy-your-worker"
    },
    {
      "level": "h2",
      "text": "Next steps",
      "id": "next-steps"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "1. Install Prisma ORM",
      "id": "1.-install-prisma-orm"
    },
    {
      "level": "h2",
      "text": "2. Configure Prisma ORM",
      "id": "2.-configure-prisma-orm"
    },
    {
      "level": "h3",
      "text": "2.1. Initialize Prisma",
      "id": "2.1.-initialize-prisma"
    },
    {
      "level": "h3",
      "text": "2.2. Define a schema",
      "id": "2.2.-define-a-schema"
    },
    {
      "level": "h3",
      "text": "2.3. Set up environment variables",
      "id": "2.3.-set-up-environment-variables"
    },
    {
      "level": "h3",
      "text": "2.4. Generate Prisma Client",
      "id": "2.4.-generate-prisma-client"
    },
    {
      "level": "h3",
      "text": "2.5. Run migrations",
      "id": "2.5.-run-migrations"
    },
    {
      "level": "h2",
      "text": "3. Connect Prisma ORM to Hyperdrive",
      "id": "3.-connect-prisma-orm-to-hyperdrive"
    },
    {
      "level": "h2",
      "text": "4. Deploy your Worker",
      "id": "4.-deploy-your-worker"
    },
    {
      "level": "h2",
      "text": "Next steps",
      "id": "next-steps"
    },
    {
      "level": "h2",
      "text": "1. Allow Hyperdrive access",
      "id": "1.-allow-hyperdrive-access"
    },
    {
      "level": "h3",
      "text": "AWS Console",
      "id": "aws-console"
    },
    {
      "level": "h3",
      "text": "Retrieve the database endpoint (Aurora)",
      "id": "retrieve-the-database-endpoint-(aurora)"
    },
    {
      "level": "h3",
      "text": "Retrieve the database endpoint (RDS PostgreSQL)",
      "id": "retrieve-the-database-endpoint-(rds-postgresql)"
    },
    {
      "level": "h2",
      "text": "2. Create your user",
      "id": "2.-create-your-user"
    }
  ],
  "url": "llms-txt#postgres-3.4.5-or-later-is-recommended",
  "links": []
}