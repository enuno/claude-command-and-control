{
  "title": "Replace example.com with your registered domain, or leave as is",
  "content": "pulumi env set $E --plaintext pulumiConfig.domain example.com\nsh\n  npm install @pulumi/cloudflare\n  sh\n  added 1 package ...\n  sh\n  npm install @pulumi/cloudflare\n  sh\n  added 1 package ...\n  sh\n  echo \"pulumi_cloudflare>=5.38,<6.0.0\" >> requirements.txt\n  source venv/bin/activate\n  pip install -r requirements.txt\n  sh\n  ...Collecting pulumi-cloudflare...\n  sh\n  go get github.com/pulumi/pulumi-cloudflare/sdk/v3/go/cloudflare\n  sh\n  go: downloading github.com/pulumi/pulumi-cloudflare ...\n  xml\n  <dependency>\n      <groupId>com.pulumi</groupId>\n      <artifactId>cloudflare</artifactId>\n      <version>5.38.0</version>\n  </dependency>\n  sh\n  mvn clean install\n  sh\n  ...[INFO] BUILD SUCCESS...\n  sh\n  dotnet add package Pulumi.Cloudflare\n  sh\n  ...\n  info : Adding PackageReference for package 'Pulumi.Cloudflare' into project\n  ...\n  js\n  \"use strict\";\n  const pulumi = require(\"@pulumi/pulumi\");\n  const cloudflare = require(\"@pulumi/cloudflare\");\n\nconst config = new pulumi.Config();\n  const accountId = config.require(\"accountId\");\n  const domain = config.require(\"domain\");\n\n// Create a Cloudflare resource (Zone)\n  const zone = new cloudflare.Zone(\"my-zone\", {\n    zone: domain,\n    accountId: accountId,\n    plan: \"free\",\n    jumpStart: true,\n  });\n\nexports.zoneId = zone.id;\n  exports.nameservers = zone.nameServers;\n  exports.status = zone.status;\n  typescript\n  import * as pulumi from \"@pulumi/pulumi\";\n  import * as cloudflare from \"@pulumi/cloudflare\";\n\nconst config = new pulumi.Config();\n  const accountId = config.require(\"accountId\");\n  const domain = config.require(\"domain\");\n\n// Create a Cloudflare resource (Zone)\n  const zone = new cloudflare.Zone(\"my-zone\", {\n    zone: domain,\n    accountId: accountId,\n    plan: \"free\",\n    jumpStart: true,\n  });\n\nexport const zoneId = zone.id;\n  export const nameservers = zone.nameServers;\n  export const status = zone.status;\n  py\n  import pulumi\n  import pulumi_cloudflare as cloudflare\n\naccount_id = pulumi.Config().require(\"accountId\")\n  domain = pulumi.Config().require(\"domain\")\n\n# Create a Cloudflare resource (Zone)\n  zone = cloudflare.Zone(\"my-zone\",\n      zone=domain,\n      account_id=account_id,\n      plan=\"free\",\n      jump_start=True)\n\npulumi.export(\"zoneId\", zone.id)\n  pulumi.export('nameservers', zone.name_servers)\n  pulumi.export('status', zone.status)\n  go\n  package main\n\nimport (\n      \"github.com/pulumi/pulumi/sdk/v3/go/pulumi\"\n      cloudflare \"github.com/pulumi/pulumi-cloudflare/sdk/v3/go/cloudflare\"\n  )\n\nfunc main() {\n      pulumi.Run(func(ctx *pulumi.Context) error {\n          domain, _ := ctx.GetConfig(\"domain\")\n\n// Create a Cloudflare resource (Zone)\n          zone, err := cloudflare.NewZone(ctx, \"my-zone\", &cloudflare.ZoneArgs{\n              Zone:      pulumi.String(domain),\n              Plan:      pulumi.String(\"free\"),\n              JumpStart: pulumi.Bool(true),\n          })\n          if err != nil {\n              return err\n          }\n\nctx.Export(\"zoneId\", zone.ID())\n          ctx.Export(\"nameservers\", zone.NameServers)\n          ctx.Export(\"status\", zone.Status)\n          return nil\n      })\n  }\n  java\n  package myproject;\n\nimport com.pulumi.Pulumi;\n  import com.pulumi.Context;\n  import com.pulumi.cloudflare.ZoneArgs;\n  import com.pulumi.cloudflare.Zone;\n\npublic class App {\n      public static void main(String[] args) {\n          Pulumi.run(ctx -> {\n              var config = ctx.config();\n\nString accountId = config.require(\"accountId\");\n              String domain = config.require(\"domain\");\n\nvar zone = new Zone(\"my-zone\", ZoneArgs.builder()\n                  .zone(domain)\n                  .accountId(accountId)\n                  .plan(\"free\")\n                  .jumpStart(true)\n                  .build());\n\nctx.export(\"zoneId\", zone.id());\n              ctx.export(\"nameservers\", zone.nameServers());\n              ctx.export(\"status\", zone.status());\n          });\n      }\n  }\n  csharp\n  using System.Threading.Tasks;\n  using System.Collections.Immutable;\n  using Pulumi;\n  using Pulumi.Cloudflare;\n\nclass Program\n  {\n      static Task<int> Main() => Deployment.RunAsync<MyStack>();\n\nclass MyStack : Stack\n      {\n          public MyStack()\n          {\n              var config = new Pulumi.Config();\n              var accountId = config.Require(\"accountId\");\n              var domain = config.Require(\"domain\");\n\nvar zone = new Zone(\"my-zone\", new ZoneArgs\n              {\n                  ZoneName = domain,\n                  AccountId = accountId,\n                  Plan = \"free\",\n                  JumpStart = true\n              });\n\nthis.ZoneId = zone.Id;\n              this.Nameservers = zone.NameServers;\n              this.Status = zone.Status;\n          }\n\n[Output]\n          public Output<string> ZoneId { get; set; }\n          public Output<ImmutableArray<string>> Nameservers { get; set; }\n          public Output<string> Status { get; set; }\n      }\n  }\n  yaml\n  name: addsite-cloudflare\n  runtime: yaml\n  resources:\n    myZone:\n      type: cloudflare:Zone\n      properties:\n        zone: ${domain}\n        accountId: ${accountId}\n        plan: \"free\"\n        jumpStart: true\n\noutputs:\n    zoneId: ${myZone.id}\n    nameservers: ${exampleZone.nameServers}\n    status: ${exampleZone.status}\n  js\n  const record = new cloudflare.Record(\"my-record\", {\n    zoneId: zone.id,\n    name: domain,\n    content: \"192.0.2.1\",\n    type: \"A\",\n    proxied: true,\n  });\n  typescript\n  const record = new cloudflare.Record(\"my-record\", {\n    zoneId: zone.id,\n    name: domain,\n    content: \"192.0.2.1\",\n    type: \"A\",\n    proxied: true,\n  });\n  py\n  record = cloudflare.Record(\"my-record\",\n      zone_id=zone.id,\n      name=domain,\n      content=\"192.0.2.1\",\n      type=\"A\",\n      proxied=True\n  )\n  go\n      _, err = cloudflare.NewRecord(ctx, \"my-record\", &cloudflare.RecordArgs{\n        ZoneId:  zone.ID(),\n        Name:    pulumi.String(domain),\n        Content:   pulumi.String(\"192.0.2.1\"),\n        Type:    pulumi.String(\"A\"),\n        Proxied: pulumi.Bool(true),\n      })\n      if err != nil {\n        return err\n      }\n  java\n  // Add imports\n  import com.pulumi.cloudflare.Record;\n  import com.pulumi.cloudflare.RecordArgs;\n\n// Below the Zone resource, add\n  new Record(\"my-record\", RecordArgs.builder()\n  .zoneId(zone.id())\n  .name(domain)\n  .content(\"192.0.2.1\")\n  .type(\"A\")\n  .proxied(true)\n  .build());\n  csharp\n  new Record(\"my-record\", new RecordArgs\n  {\n      ZoneId = zone.Id,\n      Name = domain,\n      Content = \"192.0.2.1\",\n      Type = \"A\",\n      Proxied = true\n  });\n  yaml\n  myRecord:\n    type: cloudflare:Record\n    properties:\n      zoneId: ${myZone.id}\n      name: ${domain}\n      content: 192.0.2.1\n      type: A\n      proxied: true\n  sh\npulumi up --yes\nsh\nwait for the dev stack to become ready\nsh\npulumi stack output\nsh\npulumi stack output\nsh\nDOMAIN=$(pulumi config get domain)\nNS1=$(pulumi stack output nameservers | jq '.[0]' -r)\nNS2=$(pulumi stack output nameservers | jq '.[1]' -r)\nnslookup $DOMAIN $NS1\nnslookup $DOMAIN $NS2\nsh\npulumi destroy --yes\nsh\npulumi stack rm dev\njs\n\"use strict\";\n\nconst pulumi = require(\"@pulumi/pulumi\");\nconst cloudflare = require(\"@pulumi/cloudflare\");\nconst command = require(\"@pulumi/command\");\nconst path = require(\"path\");\nconst axios = require(\"axios\");\nconst https = require(\"https\");\nconst crypto = require(\"crypto\");\nconst fs = require(\"fs\");\n\n// Load configuration\nconst config = new pulumi.Config();\nconst domainName = config.require(\"domainName\");\nconst accountId = config.require(\"accountId\");\nconst apiToken = config.requireSecret(\"apiToken\");\n\n// Function to compute hash of a file\nfunction computeFileHashSync(filePath) {\n  const fileBuffer = fs.readFileSync(filePath);\n  const hash = crypto.createHash(\"sha256\");\n  hash.update(fileBuffer);\n  return hash.digest(\"hex\");\n}\n\n// Function to compute the hash of a directory\nasync function hashDirectory(dirPath) {\n  const files = await fs.promises.readdir(dirPath);\n  const fileHashes = [];\n  for (const file of files) {\n    const filePath = path.join(dirPath, file);\n    const fileStat = await fs.promises.stat(filePath);\n    if (fileStat.isFile()) {\n      const fileData = await fs.promises.readFile(filePath);\n      const hash = crypto.createHash(\"sha256\").update(fileData).digest(\"hex\");\n      fileHashes.push(hash);\n    }\n  }\n  // Combine all file hashes and hash the result to get a unique hash for the directory\n  const combinedHash = crypto\n    .createHash(\"sha256\")\n    .update(fileHashes.join(\"\"))\n    .digest(\"hex\");\n  return combinedHash;\n}\n\n// Instantiate Cloudflare provider\n// https://www.pulumi.com/registry/packages/cloudflare/\n//-----------------------------------------------------------------------------\nconst cloudflareProvider = new cloudflare.Provider(\"cloudflare\", {\n  apiToken: apiToken,\n});\n\n// Create a Cloudflare Zone\n// https://www.pulumi.com/registry/packages/cloudflare/api-docs/zone/\n//-----------------------------------------------------------------------------\nconst myZone = new cloudflare.Zone(\n  \"myZone\",\n  {\n    zone: domainName,\n    plan: \"enterprise\",\n    accountId: accountId,\n  },\n  { provider: cloudflareProvider },\n);\n\n// Create a Cloudflare Queue (used as a binding in Worker)\n// https://www.pulumi.com/registry/packages/cloudflare/api-docs/queue/\n//-----------------------------------------------------------------------------\nconst myqueue = new cloudflare.Queue(\n  \"myqueue\",\n  {\n    zoneId: myZone.id,\n    name: \"myqueue\",\n    description: \"Queue for my messages\",\n    accountId: accountId,\n  },\n  { provider: cloudflareProvider },\n);\n\n// Create a Cloudflare Queue (used as a binding in Worker)\n// https://www.pulumi.com/registry/packages/cloudflare/api-docs/queue/\n//-----------------------------------------------------------------------------\nconst myqueuedeadletter = new cloudflare.Queue(\n  \"myqueuedeadletter\",\n  {\n    zoneId: myZone.id,\n    name: \"myqueuedeadletter\",\n    description: \"Queue for messages that were not processed correctly\",\n    accountId: accountId,\n  },\n  { provider: cloudflareProvider },\n);\n\n// Create a D1 Database\n// https://www.pulumi.com/registry/packages/cloudflare/api-docs/d1database/\n//-----------------------------------------------------------------------------\nconst myD1Database = new cloudflare.D1Database(\n  \"myD1Database\",\n  {\n    accountId: accountId,\n    name: \"mydb\",\n  },\n  { provider: cloudflareProvider },\n);\n\n// Deploy Changes to D1 Schema\n// - Cloudflare Wrangler stores a list of migrations in the D1 database.\n// - To check which migrations were run, go to the Cloudflare dashboard\n//   and run \"SELECT * FROM d1_migrations\" on the console of the D1 database.\n//-----------------------------------------------------------------------------\nconst d1Dir = \"../../mydb/\";\nconst d1Migration = new command.local.Command(\n  \"d1Migration\",\n  {\n    dir: d1Dir,\n    create: `npx wrangler d1 migrations apply mydb --remote`,\n    triggers: [hashDirectory(`${d1Dir}migrations`)],\n  },\n  { dependsOn: [myD1Database] },\n);\n\n// Run 'wrangler' command\n// https://www.pulumi.com/registry/packages/command/api-docs/local/command/\n//-----------------------------------------------------------------------------\nconst workerDir = \"../../worker-test/\";\nconst workerTest = new command.local.Command(\n  \"worker-test\",\n  {\n    dir: workerDir,\n    create: \"npx wrangler deploy\",\n    triggers: [\n      // A unique trigger vector to force recreation\n      computeFileHashSync(`${workerDir}src/index.js`),\n      computeFileHashSync(`${workerDir}wrangler.toml`),\n    ],\n  },\n  { dependsOn: [myZone, myqueue, myqueuedeadletter, myD1Database] },\n);\n\n// Create \"Add\" group Service Auth Token\n//    https://www.pulumi.com/registry/packages/cloudflare/api-docs/zerotrustaccessservicetoken/\n//-----------------------------------------------------------------------------\nconst myServiceToken = new cloudflare.ZeroTrustAccessServiceToken(\n  \"myServiceToken\",\n  {\n    zoneId: myZone.id,\n    name: \"myServiceToken\",\n  },\n  { provider: cloudflareProvider },\n);\n\n// Create an Access \"Add\" Group\n// https://www.pulumi.com/registry/packages/cloudflare/api-docs/zerotrustaccessgroup/\n//-----------------------------------------------------------------------------\nconst myAccessGroup = new cloudflare.ZeroTrustAccessGroup(\n  \"myAccessGroup\",\n  {\n    accountId: accountId,\n    name: \"myAccessGroup\",\n    // Define the group criteria (e.g., email domains, identity providers, etc.)\n    // This example adds users from the specified email domain.\n    includes: [{ serviceTokens: [myServiceToken.id] }],\n  },\n  { provider: cloudflareProvider, dependsOn: [myServiceToken] },\n);\n\n// Create an Access App for \"Add\"\n// https://www.pulumi.com/registry/packages/cloudflare/api-docs/zerotrustaccessapplication/\n//-----------------------------------------------------------------------------\nconst myAccessApp = new cloudflare.ZeroTrustAccessApplication(\n  \"myAccessApp\",\n  {\n    zoneId: myZone.id,\n    name: \"myApp\",\n    domain: `myapp.${domainName}`,\n    sessionDuration: \"24h\",\n  },\n  { provider: cloudflareProvider, dependsOn: [myAccessGroup, myZone] },\n);\n\n// Create an Access App with Allow Policy for Access \"Add\" Group\n// https://www.pulumi.com/registry/packages/cloudflare/api-docs/zerotrustaccesspolicy/\n//-----------------------------------------------------------------------------\nconst myAddAccessPolicy = new cloudflare.ZeroTrustAccessPolicy(\n  \"myAccessPolicy\",\n  {\n    zoneId: myZone.id,\n    applicationId: myAccessApp.id,\n    name: \"myAccessPolicy\",\n    decision: \"allow\",\n    precedence: 1,\n    includes: [\n      {\n        groups: [myAccessGroup.id],\n      },\n    ],\n  },\n  { provider: cloudflareProvider, dependsOn: [myAccessApp] },\n);\n\n// Create a Vectorize Index\n//-----------------------------------------------------------------------------\n// Define a dynamic provider for Vectorize, since the Cloudflare Pulumi provider does not support\n// this resource yet\nconst VectorizeIndexDynamicCloudflareProvider = {\n  async create(inputs) {\n    // Create an instance of the HTTPS Agent with SSL verification disabled to avoid WARP issues\n    const httpsAgent = new https.Agent({\n      rejectUnauthorized: false,\n    });\n    const url = `https://api.cloudflare.com/client/v4/accounts/${inputs.accountId}/vectorize/v2/indexes`;\n    const data = {\n      config: { dimensions: 768, metric: \"cosine\" },\n      description: inputs.description,\n      name: inputs.name,\n    };\n    // Headers\n    const options = {\n      httpsAgent,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${inputs.apiToken}`,\n      },\n    };\n    // Make an API call to create the resource\n    const response = await axios.post(url, data, options);\n    // For now we use the Vectorize index name as id, because Vectorize does not\n    // provide an id for it\n    const resourceId = inputs.name;\n\n// Return the ID and output values\n    return {\n      id: resourceId,\n      outs: {\n        name: inputs.name,\n        accountId: inputs.accountId,\n        apiToken: inputs.apiToken,\n      },\n    };\n  },\n\nasync delete(id, props) {\n    // Create an instance of the HTTPS Agent with SSL verification disabled to avoid WARP issues\n    const httpsAgent = new https.Agent({\n      rejectUnauthorized: false,\n    });\n    const url = `https://api.cloudflare.com/client/v4/accounts/${props.accountId}/vectorize/v2/indexes/${id}`;\n    // Headers\n    const options = {\n      httpsAgent,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${props.apiToken}`,\n      },\n    };\n    // Make an API call to delete the resource\n    await axios.delete(url, options);\n  },\n\nasync update(id, oldInputs, newInputs) {\n    // Vectorize once created does not allow updates\n  },\n};\n\n// Define a dynamic resource\nclass VectorizeIndex extends pulumi.dynamic.Resource {\n  constructor(name, args, opts) {\n    super(VectorizeIndexDynamicCloudflareProvider, name, args, opts);\n  }\n}\n\n// Use the dynamic resource in your Pulumi stack\n// - Don't change properties after creation. Currently, Vectorize does not allow changes.\n// - To delete this resource, remove or comment this block of code\nconst my_vectorize_index = new VectorizeIndex(\"myvectorizeindex\", {\n  name: \"myvectorize_index\",\n  accountId: accountId,\n  namespaceId: myZone.id, // Set appropriate namespace id\n  vectorDimensions: 768, // This is an example - adjust dimensions as needed\n  apiToken: apiToken,\n});\n\n// Export relevant outputs\n// Access these outputs after Pulumi has run using:\n// $ pulumi stack output\n// $ pulumi stack output zoneId\n//-----------------------------------------------------------------------------\nexports.zoneId = myZone.id;\nexports.myqueueId = myqueue.id;\nexports.myqueuedeadletter = myqueuedeadletter.id;\nexports.myD1DatabaseId = myD1Database.id;\nexports.workerTestId = workerTest.id;\nexports.myServiceToken = myServiceToken.id;\nexports.myServiceTokenClientId = myAddServiceToken.clientId;\nexports.myServiceTokenClientSecret = myAddServiceToken.clientSecret;\nbash\npulumi stack output myServiceTokenClientSecret --show-secrets\nsh\nmkdir serverless-cloudflare\ncd serverless-cloudflare\nsh\npulumi login\nsh\n  pulumi new javascript --name serverless-cloudflare --yes\n  # wait a few seconds while the project is initialized\n  sh\n  pulumi new typescript --name serverless-cloudflare --yes\n  # wait a few seconds while the project is initialized\n  sh\n  pulumi new python --name serverless-cloudflare --yes\n  # wait a few seconds while the project is initialized\n  sh\n  pulumi new go --name serverless-cloudflare --yes\n  # wait a few seconds while the project is initialized\n  sh\n  pulumi new java --name serverless-cloudflare --yes\n  # wait a few seconds while the project is initialized\n  sh\n  pulumi new csharp --name serverless-cloudflare --yes\n  # wait a few seconds while the project is initialized\n  sh\n  pulumi new yaml --name serverless-cloudflare --yes\n  sh\npulumi up --yes",
  "code_samples": [
    {
      "code": "### f. Install the Cloudflare package\n\nYou need to install the Cloudflare package for your language of choice in order to define Cloudflare resources in your Pulumi program.\n\nInstall the Cloudflare package by running the following command:\n\n* JavaScript",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* TypeScript",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* Python",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* go",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* Java\n\n  Below are Apache Maven instructions. For other Java project managers such as Gradle, see the official [Maven repository](https://central.sonatype.com/artifact/com.pulumi/cloudflare/overview)\n\n  1. Open your `pom.xml` file.\n  2. Add the Pulumi Cloudflare dependency inside the `<dependencies>` section.",
      "language": "unknown"
    },
    {
      "code": "1. Run:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* .NET",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "* YAML\n\n  There are no dependencies to download for YAML. Skip ahead.\n\n## 2. Define Cloudflare resources in code\n\nWith the Cloudflare package installed, you can now define any [supported Cloudflare resource](https://www.pulumi.com/registry/packages/cloudflare/) in your Pulumi program. You'll define a Zone, and a DNS Record next.\n\n### a. Add a Zone\n\nA domain, or site, is known as a Zone in Cloudflare. In Pulumi, the [Zone resource](https://www.pulumi.com/registry/packages/cloudflare/api-docs/zone/) represents a Cloudflare Zone.\n\nReplace the contents of your entrypoint file with the following:\n\n* JavaScript\n\n  **Filename: `index.js`**",
      "language": "unknown"
    },
    {
      "code": "* TypeScript\n\n  **Filename: `index.ts`**",
      "language": "unknown"
    },
    {
      "code": "* Python\n\n  **Filename: `__main__.py`**",
      "language": "unknown"
    },
    {
      "code": "* go\n\n  **Filename: `main.go`**",
      "language": "unknown"
    },
    {
      "code": "* Java\n\n  **Filename: `src/main/java/myproject/App.java`**",
      "language": "unknown"
    },
    {
      "code": "* .NET\n\n  **Filename: `Program.cs`**",
      "language": "unknown"
    },
    {
      "code": "* YAML\n\n  **Filename: `Pulumi.yaml`**",
      "language": "unknown"
    },
    {
      "code": "Notice that the code also outputs several properties from the Zone resource, such as the `zoneId`, `nameservers`, and `status`, so that they can easily be accessed in subsequent steps.\n\n### b. Add a DNS Record\n\nYou will now add a DNS [Record resource](https://www.pulumi.com/registry/packages/cloudflare/api-docs/record/) to test previously configured Zone.\n\nAdd the following code snippet to your entrypoint file **after** the Zone resource definition:\n\n* JavaScript\n\n  **Filename: `index.js`**",
      "language": "unknown"
    },
    {
      "code": "* TypeScript\n\n  **Filename: `index.ts`**",
      "language": "unknown"
    },
    {
      "code": "* Python\n\n  **Filename: `__main__.py`**",
      "language": "unknown"
    },
    {
      "code": "* go\n\n  **Filename: `main.go`**",
      "language": "unknown"
    },
    {
      "code": "* Java\n\n  **Filename: `src/main/java/myproject/App.java`**",
      "language": "unknown"
    },
    {
      "code": "* .NET\n\n  **Filename: `Program.cs`**",
      "language": "unknown"
    },
    {
      "code": "* YAML\n\n  **Filename: `Pulumi.yaml`**",
      "language": "unknown"
    },
    {
      "code": "## 3. Deploy your changes\n\nNow that you have defined your resources, you can deploy the changes using the Pulumi CLI so that they are reflected in your Cloudflare account.\n\nTo deploy the changes, run:",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "## 4. Configure your DNS provider\n\nNote\n\nThis process makes Cloudflare your authoritative DNS provider, allowing your DNS queries and web traffic to be served from and protected by the Cloudflare network.\n\n[Learn more about pending domains](https://developers.cloudflare.com/dns/zone-setups/reference/domain-status/)\n\nNote\n\nIf your site is `example.com`, skip ahead to [Test your site](#5-test-your-site).\n\n### a. Obtain your nameservers\n\nOnce you have added a domain to Cloudflare, that domain will receive two assigned authoritative nameservers.\n\nTo retrieve the assigned `nameservers`, run:",
      "language": "unknown"
    },
    {
      "code": "### b. Update your registrar\n\nUpdate the nameservers at your registrar to activate Cloudflare services for your domain. The instructions are registrar-specific. You may be able to find guidance under [this consolidated list of common registrars](https://developers.cloudflare.com/dns/zone-setups/full-setup/setup/#update-your-registrar).\n\nWarning\n\nRegistrars take up to 24 hours to process nameserver changes.\n\n### c. Check your domain status\n\nOnce successfully registered, your domain `status` will change to `active`.",
      "language": "unknown"
    },
    {
      "code": "## 5. Test your site\n\nYou will run two `nslookup` commands against the Cloudflare-assigned nameservers.\n\nTo test your site, run:",
      "language": "unknown"
    },
    {
      "code": "For .NET, use `Nameservers` as the Output.\n\nConfirm your response returns the IP address(es) for your site.\n\nNote\n\nYou will not receive a valid response if you use `example.com` as your site.\n\n## 6. Clean up\n\nIn this last step, you will remove the resources and stack used throughout the tutorial.\n\n### a. Delete the resources",
      "language": "unknown"
    },
    {
      "code": "### b. Remove the stack",
      "language": "unknown"
    },
    {
      "code": "## Next steps\n\nYou have incrementally defined Cloudflare resources needed to add a site to Cloudflare. You declare the resources in your programming language of choice and let Pulumi handle the rest.\n\nTo deploy a serverless app with Pulumi, follow the [Deploy a Worker tutorial](https://developers.cloudflare.com/pulumi/tutorial/hello-world/).\n\n</page>\n\n<page>\n---\ntitle: Product compatibility · Cloudflare Privacy Gateway docs\ndescription: When using Privacy Gateway, the majority of Cloudflare products\n  will be compatible with your application.\nlastUpdated: 2024-08-13T19:56:56.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/privacy-gateway/reference/product-compatibility/\n  md: https://developers.cloudflare.com/privacy-gateway/reference/product-compatibility/index.md\n---\n\nWhen [using Privacy Gateway](https://developers.cloudflare.com/privacy-gateway/get-started/), the majority of Cloudflare products will be compatible with your application.\n\nHowever, the following products are not compatible:\n\n* [API Shield](https://developers.cloudflare.com/api-shield/): [Schema Validation](https://developers.cloudflare.com/api-shield/security/schema-validation/) and [API discovery](https://developers.cloudflare.com/api-shield/security/api-discovery/) are not possible since Cloudflare cannot see the request URLs.\n* [Cache](https://developers.cloudflare.com/cache/): Caching of application content is no longer possible since each between client and gateway is end-to-end encrypted.\n* [WAF](https://developers.cloudflare.com/waf/): Rules implemented based on request content are not supported since Cloudflare cannot see the request or response content.\n\n</page>\n\n<page>\n---\ntitle: Create different resources using Pulumi and Wrangler · Pulumi docs\ndescription: Pulumi and Wrangler can be used to create different types of resources.\nlastUpdated: 2025-10-09T15:47:46.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/pulumi/tutorial/dynamic-provider-and-wrangler/\n  md: https://developers.cloudflare.com/pulumi/tutorial/dynamic-provider-and-wrangler/index.md\n---\n\nThis example creates a zone and other resources using two different strategies:\n\n* Use Pulumi for some resources supported by the Cloudflare Pulumi provider.\n* Use Wrangler to create other types of resources.\n\nThe example code covers the creation of resources such as Workers, Zero Trust Applications, Zero Trust Policies, and D1 databases.\n\n## Wrangler usage\n\nThe code in this example shows how you can create Workers by calling Wrangler directly instead of using the resource directly supported by the Cloudflare Pulumi provider. The advantage of using this method is that you can use it for any deployment-related task such as executing D1 migrations. When you run the infrastructure as code (IaC) script, Wrangler creates or updates Workers and D1, which includes performing database migrations.\n\nIn the current example, the D1 migrations state in Pulumi only changes when the hash of the `migrations` directory changes, in which case the Pulumi command will be executed.\n\n## Dynamic resource provider for Vectorize\n\nThe example also provides an example of a dynamic resource provider for a resource that is not directly supported by the Cloudflare Pulumi provider (in this case, Vectorize).\n\n## Example code",
      "language": "unknown"
    },
    {
      "code": "## Access Pulumi exports\n\nOnce you run your Pulumi script with `pulumi up`, your resources will be created or updated.\n\nThe example script above also exports outputs that you can access from other tools. This is useful for example when integrating the Pulumi script into a deployment pipeline.\n\nYou could use a command similar to the following:",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Deploy a Worker · Pulumi docs\ndescription: In this tutorial, you will follow step-by-step instructions to\n  deploy a Hello World application using Cloudflare Workers and Pulumi\n  infrastructure as code (IaC).\nlastUpdated: 2025-10-13T13:40:40.000Z\nchatbotDeprioritize: false\ntags: JavaScript,TypeScript,Python,Go,Java,.NET,YAML\nsource_url:\n  html: https://developers.cloudflare.com/pulumi/tutorial/hello-world/\n  md: https://developers.cloudflare.com/pulumi/tutorial/hello-world/index.md\n---\n\nIn this tutorial, you will follow step-by-step instructions to deploy a Hello World application using Cloudflare Workers and Pulumi infrastructure as code (IaC) to familiarize yourself with the resource management lifecycle. In particular, you will create a Worker, a Route, and a DNS Record to access the application before cleaning up all the resources.\n\nNote\n\nYou will provision resources that qualify under free tier offerings for both Pulumi Cloud and Cloudflare.\n\n## Before you begin\n\nEnsure you have:\n\n* A Cloudflare account and API Token with permission to edit the resources in this tutorial. If you need to, sign up for a [Cloudflare account](https://www.cloudflare.com/sign-up) before continuing. Your token must have the following:\n\n  * `Account-Workers Scripts-Edit` permission\n  * `Zone-Workers Route-Edit` permission\n  * `Zone-DNS-Edit` permission\n\n* A Pulumi Cloud account. You can sign up for an [always-free individual tier](https://app.pulumi.com/signup).\n\n* The [Pulumi CLI](https://developers.cloudflare.com/pulumi/installing/) is installed on your machine.\n\n* A [Pulumi-supported programming language](https://github.com/pulumi/pulumi?tab=readme-ov-file#languages) configured. (TypeScript, JavaScript, Python, Go, .NET, Java, or use YAML)\n\n* A Cloudflare-managed domain. Complete the [Add a site tutorial](https://developers.cloudflare.com/pulumi/tutorial/add-site/) to bring your existing domain under Cloudflare.\n\n## 1. Initialize your project\n\nA Pulumi project is a collection of files in a dedicated folder that describes the infrastructure you want to create. The Pulumi project folder is identified by the required `Pulumi.yaml` file. You will use the Pulumi CLI to create and configure a new project.\n\n### a. Create a directory\n\nUse a new and empty directory for this tutorial.",
      "language": "unknown"
    },
    {
      "code": "### b. Login to Pulumi Cloud\n\n[Pulumi Cloud](https://www.pulumi.com/product/pulumi-cloud/) is a hosted service that provides a secure and scalable platform for managing your infrastructure as code. You will use it to store your Pulumi backend configurations.\n\nAt the prompt, press Enter to log into your Pulumi Cloud account via the browser. Alternatively, you may provide a [Pulumi Cloud access token](https://www.pulumi.com/docs/pulumi-cloud/access-management/access-tokens/).",
      "language": "unknown"
    },
    {
      "code": "### c. Create a new program\n\nA Pulumi program is code written in a [supported programming language](https://github.com/pulumi/pulumi?tab=readme-ov-file#languages) that defines infrastructure resources.\n\nTo create a program, select your language of choice and run the `pulumi` command:\n\n* JavaScript",
      "language": "unknown"
    },
    {
      "code": "* TypeScript",
      "language": "unknown"
    },
    {
      "code": "* Python",
      "language": "unknown"
    },
    {
      "code": "* go",
      "language": "unknown"
    },
    {
      "code": "* Java",
      "language": "unknown"
    },
    {
      "code": "* .NET",
      "language": "unknown"
    },
    {
      "code": "* YAML",
      "language": "unknown"
    },
    {
      "code": "### d. Create a stack\n\nA Pulumi [stack](https://www.pulumi.com/docs/concepts/stack/) is an instance of a Pulumi program. Stacks are independently configurable and may represent different environments (development, staging, production) or feature branches. For this tutorial, you'll use the `dev` stack.\n\nTo instantiate your `dev` stack, run:",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h3",
      "text": "f. Install the Cloudflare package",
      "id": "f.-install-the-cloudflare-package"
    },
    {
      "level": "h2",
      "text": "2. Define Cloudflare resources in code",
      "id": "2.-define-cloudflare-resources-in-code"
    },
    {
      "level": "h3",
      "text": "a. Add a Zone",
      "id": "a.-add-a-zone"
    },
    {
      "level": "h3",
      "text": "b. Add a DNS Record",
      "id": "b.-add-a-dns-record"
    },
    {
      "level": "h2",
      "text": "3. Deploy your changes",
      "id": "3.-deploy-your-changes"
    },
    {
      "level": "h2",
      "text": "4. Configure your DNS provider",
      "id": "4.-configure-your-dns-provider"
    },
    {
      "level": "h3",
      "text": "a. Obtain your nameservers",
      "id": "a.-obtain-your-nameservers"
    },
    {
      "level": "h3",
      "text": "b. Update your registrar",
      "id": "b.-update-your-registrar"
    },
    {
      "level": "h3",
      "text": "c. Check your domain status",
      "id": "c.-check-your-domain-status"
    },
    {
      "level": "h2",
      "text": "5. Test your site",
      "id": "5.-test-your-site"
    },
    {
      "level": "h2",
      "text": "6. Clean up",
      "id": "6.-clean-up"
    },
    {
      "level": "h3",
      "text": "a. Delete the resources",
      "id": "a.-delete-the-resources"
    },
    {
      "level": "h3",
      "text": "b. Remove the stack",
      "id": "b.-remove-the-stack"
    },
    {
      "level": "h2",
      "text": "Next steps",
      "id": "next-steps"
    },
    {
      "level": "h2",
      "text": "Wrangler usage",
      "id": "wrangler-usage"
    },
    {
      "level": "h2",
      "text": "Dynamic resource provider for Vectorize",
      "id": "dynamic-resource-provider-for-vectorize"
    },
    {
      "level": "h2",
      "text": "Example code",
      "id": "example-code"
    },
    {
      "level": "h2",
      "text": "Access Pulumi exports",
      "id": "access-pulumi-exports"
    },
    {
      "level": "h2",
      "text": "Before you begin",
      "id": "before-you-begin"
    },
    {
      "level": "h2",
      "text": "1. Initialize your project",
      "id": "1.-initialize-your-project"
    },
    {
      "level": "h3",
      "text": "a. Create a directory",
      "id": "a.-create-a-directory"
    },
    {
      "level": "h3",
      "text": "b. Login to Pulumi Cloud",
      "id": "b.-login-to-pulumi-cloud"
    },
    {
      "level": "h3",
      "text": "c. Create a new program",
      "id": "c.-create-a-new-program"
    },
    {
      "level": "h3",
      "text": "d. Create a stack",
      "id": "d.-create-a-stack"
    }
  ],
  "url": "llms-txt#replace-example.com-with-your-registered-domain,-or-leave-as-is",
  "links": []
}