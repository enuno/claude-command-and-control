{
  "title": "Filter using prefix and suffix. Both the conditions will be used for filtering",
  "content": "$ npx wrangler r2 bucket notification create <BUCKET_NAME> --event-type <EVENT_TYPE> --queue <QUEUE_NAME> --prefix \"<PREFIX_VALUE>\" --suffix \"<SUFFIX_VALUE>\"\njson\n{\n  \"account\": \"3f4b7e3dcab231cbfdaa90a6a28bd548\",\n  \"action\": \"CopyObject\",\n  \"bucket\": \"my-bucket\",\n  \"object\": {\n    \"key\": \"my-new-object\",\n    \"size\": 65536,\n    \"eTag\": \"c846ff7a18f28c2e262116d6e8719ef0\"\n  },\n  \"eventTime\": \"2024-05-24T19:36:44.379Z\",\n  \"copySource\": {\n    \"bucket\": \"my-bucket\",\n    \"object\": \"my-original-object\"\n  }\n}\nsh\nnpx wrangler r2 bucket lifecycle add <BUCKET_NAME> [OPTIONS]\nsh\nnpx wrangler r2 bucket lifecycle set <BUCKET_NAME> --file <FILE_PATH>\njs\nconst client = new S3({\n  endpoint: \"https://<account_id>.r2.cloudflarestorage.com\",\n  credentials: {\n    accessKeyId: \"<access_key_id>\",\n    secretAccessKey: \"<access_key_secret>\",\n  },\n  region: \"auto\",\n});\njavascript\nawait client\n  .putBucketLifecycleConfiguration({\n    Bucket: \"testBucket\",\n    LifecycleConfiguration: {\n      Rules: [\n        // Example: deleting objects on a specific date\n        // Delete 2019 documents in 2024\n        {\n          ID: \"Delete 2019 Documents\",\n          Status: \"Enabled\",\n          Filter: {\n            Prefix: \"2019/\",\n          },\n          Expiration: {\n            Date: new Date(\"2024-01-01\"),\n          },\n        },\n        // Example: transitioning objects to Infrequent Access storage by age\n        // Transition objects older than 30 days to Infrequent Access storage\n        {\n          ID: \"Transition Objects To Infrequent Access\",\n          Status: \"Enabled\",\n          Transitions: [\n            {\n              Days: 30,\n              StorageClass: \"STANDARD_IA\",\n            },\n          ],\n        },\n        // Example: deleting objects by age\n        // Delete logs older than 90 days\n        {\n          ID: \"Delete Old Logs\",\n          Status: \"Enabled\",\n          Filter: {\n            Prefix: \"logs/\",\n          },\n          Expiration: {\n            Days: 90,\n          },\n        },\n        // Example: abort all incomplete multipart uploads after a week\n        {\n          ID: \"Abort Incomplete Multipart Uploads\",\n          Status: \"Enabled\",\n          AbortIncompleteMultipartUpload: {\n            DaysAfterInitiation: 7,\n          },\n        },\n        // Example: abort user multipart uploads after a day\n        {\n          ID: \"Abort User Incomplete Multipart Uploads\",\n          Status: \"Enabled\",\n          Filter: {\n            Prefix: \"useruploads/\",\n          },\n          AbortIncompleteMultipartUpload: {\n            // For uploads matching the prefix, this rule will take precedence\n            // over the one above due to its earlier expiration.\n            DaysAfterInitiation: 1,\n          },\n        },\n      ],\n    },\n  })\n  .promise();\nsh\nnpx wrangler r2 bucket lifecycle list <BUCKET_NAME>\njs\nimport S3 from \"aws-sdk/clients/s3.js\";\n\n// Configure the S3 client to talk to R2.\nconst client = new S3({\n  endpoint: \"https://<account_id>.r2.cloudflarestorage.com\",\n  credentials: {\n    accessKeyId: \"<access_key_id>\",\n    secretAccessKey: \"<access_key_secret>\",\n  },\n  region: \"auto\",\n});\n\n// Get lifecycle configuration for bucket\nconsole.log(\n  await client\n    .getBucketLifecycleConfiguration({\n      Bucket: \"bucketName\",\n    })\n    .promise(),\n);\nsh\nnpx wrangler r2 bucket lifecycle remove <BUCKET_NAME> --id <RULE_ID>\njs\nimport S3 from \"aws-sdk/clients/s3.js\";\n\n// Configure the S3 client to talk to R2.\nconst client = new S3({\n  endpoint: \"https://<account_id>.r2.cloudflarestorage.com\",\n  credentials: {\n    accessKeyId: \"<access_key_id>\",\n    secretAccessKey: \"<access_key_secret>\",\n  },\n  region: \"auto\",\n});\n\n// Delete lifecycle configuration for bucket\nawait client\n  .deleteBucketLifecycle({\n    Bucket: \"bucketName\",\n  })\n  .promise();\nsh\naws s3api copy-object \\\n  --endpoint-url https://<ACCOUNT_ID>.r2.cloudflarestorage.com \\\n  --bucket bucket-name \\\n  --key path/to/object.txt \\\n  --copy-source /bucket-name/path/to/object.txt \\\n  --storage-class STANDARD_IA\nbash",
  "code_samples": [
    {
      "code": "For a more complete step-by-step example, refer to the [Log and store upload events in R2 with event notifications](https://developers.cloudflare.com/r2/tutorials/upload-logs-event-notifications/) example.\n\n## Event notification rules\n\nEvent notification rules determine the [event types](https://developers.cloudflare.com/r2/buckets/event-notifications/#event-types) that trigger notifications and optionally enable filtering based on object `prefix` and `suffix`. You can have up to 100 event notification rules per R2 bucket.\n\n## Event types\n\n| Event type | Description | Trigger actions |\n| - | - | - |\n| `object-create` | Triggered when new objects are created or existing objects are overwritten. | * `PutObject`\n* `CopyObject`\n* `CompleteMultipartUpload` |\n| `object-delete` | Triggered when an object is explicitly removed from the bucket. | - `DeleteObject`\n- `LifecycleDeletion` |\n\n## Message format\n\nQueue consumers receive notifications as [Messages](https://developers.cloudflare.com/queues/configuration/javascript-apis/#message). The following is an example of the body of a message that a consumer Worker will receive:",
      "language": "unknown"
    },
    {
      "code": "### Properties\n\n| Property | Type | Description |\n| - | - | - |\n| `account` | String | The Cloudflare account ID that the event is associated with. |\n| `action` | String | The type of action that triggered the event notification. Example actions include: `PutObject`, `CopyObject`, `CompleteMultipartUpload`, `DeleteObject`. |\n| `bucket` | String | The name of the bucket where the event occurred. |\n| `object` | Object | A nested object containing details about the object involved in the event. |\n| `object.key` | String | The key (or name) of the object within the bucket. |\n| `object.size` | Number | The size of the object in bytes. Note: not present for object-delete events. |\n| `object.eTag` | String | The entity tag (eTag) of the object. Note: not present for object-delete events. |\n| `eventTime` | String | The time when the action that triggered the event occurred. |\n| `copySource` | Object | A nested object containing details about the source of a copied object. Note: only present for events triggered by `CopyObject`. |\n| `copySource.bucket` | String | The bucket that contained the source object. |\n| `copySource.object` | String | The name of the source object. |\n\n## Notes\n\n* Queues [per-queue message throughput](https://developers.cloudflare.com/queues/platform/limits/) is currently 5,000 messages per second. If your workload produces more than 5,000 notifications per second, we recommend splitting notification rules across multiple queues.\n* Rules without prefix/suffix apply to all objects in the bucket.\n* Overlapping or conflicting rules that could trigger multiple notifications for the same event are not allowed. For example, if you have an `object-create` (or `PutObject` action) rule without a prefix and suffix, then adding another `object-create` (or `PutObject` action) rule with a prefix like `images/` could trigger more than one notification for a single upload, which is invalid.\n\n</page>\n\n<page>\n---\ntitle: Object lifecycles · Cloudflare R2 docs\ndescription: Object lifecycles determine the retention period of objects\n  uploaded to your bucket and allow you to specify when objects should\n  transition from Standard storage to Infrequent Access storage.\nlastUpdated: 2025-09-03T16:40:54.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/r2/buckets/object-lifecycles/\n  md: https://developers.cloudflare.com/r2/buckets/object-lifecycles/index.md\n---\n\nObject lifecycles determine the retention period of objects uploaded to your bucket and allow you to specify when objects should transition from Standard storage to Infrequent Access storage.\n\nA lifecycle configuration is a collection of lifecycle rules that define actions to apply to objects during their lifetime.\n\nFor example, you can create an object lifecycle rule to delete objects after 90 days, or you can set a rule to transition objects to Infrequent Access storage after 30 days.\n\n## Behavior\n\n* Objects will typically be removed from a bucket within 24 hours of the `x-amz-expiration` value.\n* When a lifecycle configuration is applied that deletes objects, newly uploaded objects' `x-amz-expiration` value immediately reflects the expiration based on the new rules, but existing objects may experience a delay. Most objects will be transitioned within 24 hours but may take longer depending on the number of objects in the bucket. While objects are being migrated, you may see old applied rules from the previous configuration.\n* An object is no longer billable once it has been deleted.\n* Buckets have a default lifecycle rule to expire multipart uploads seven days after initiation.\n* When an object is transitioned from Standard storage to Infrequent Access storage, a [Class A operation](https://developers.cloudflare.com/r2/pricing/#class-a-operations) is incurred.\n* When rules conflict and specify both a storage class transition and expire transition within a 24-hour period, the expire (or delete) lifecycle transition takes precedence over transitioning storage class.\n\n## Configure lifecycle rules for your bucket\n\nWhen you create an object lifecycle rule, you can specify which prefix you would like it to apply to.\n\n* Note that object lifecycles currently has a 1000 rule maximum.\n* Managing object lifecycles is a bucket-level action, and requires an API token with the [`Workers R2 Storage Write`](https://developers.cloudflare.com/r2/api/tokens/#permission-groups) permission group.\n\n### Dashboard\n\n1. In the Cloudflare dashboard, go to the **R2 object storage** page.\n\n   [Go to **Overview**](https://dash.cloudflare.com/?to=/:account/r2/overview)\n\n2. Locate and select your bucket from the list.\n\n3. From the bucket page, select **Settings**.\n\n4. Under **Object Lifecycle Rules**, select **Add rule**.\n\n5. Fill out the fields for the new rule.\n\n6. When you are done, select **Save changes**.\n\n### Wrangler\n\n1. Install [`npm`](https://docs.npmjs.com/getting-started).\n2. Install [Wrangler, the Developer Platform CLI](https://developers.cloudflare.com/workers/wrangler/install-and-update/).\n3. Log in to Wrangler with the [`wrangler login` command](https://developers.cloudflare.com/workers/wrangler/commands/#login).\n4. Add a lifecycle rule to your bucket by running the [`r2 bucket lifecycle add` command](https://developers.cloudflare.com/workers/wrangler/commands/#r2-bucket-lifecycle-add).",
      "language": "unknown"
    },
    {
      "code": "Alternatively you can set the entire lifecycle configuration for a bucket from a JSON file using the [`r2 bucket lifecycle set` command](https://developers.cloudflare.com/workers/wrangler/commands/#r2-bucket-lifecycle-set).",
      "language": "unknown"
    },
    {
      "code": "The JSON file should be in the format of the request body of the [put object lifecycle configuration API](https://developers.cloudflare.com/api/resources/r2/subresources/buckets/subresources/lifecycle/methods/update/).\n\n### S3 API\n\nBelow is an example of configuring a lifecycle configuration (a collection of lifecycle rules) with different sets of rules for different potential use cases.",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "## Get lifecycle rules for your bucket\n\n### Wrangler\n\nTo get the list of lifecycle rules associated with your bucket, run the [`r2 bucket lifecycle list` command](https://developers.cloudflare.com/workers/wrangler/commands/#r2-bucket-lifecycle-list).",
      "language": "unknown"
    },
    {
      "code": "### S3 API",
      "language": "unknown"
    },
    {
      "code": "## Delete lifecycle rules from your bucket\n\n### Dashboard\n\n1. In the Cloudflare dashboard, go to the **R2 object storage** page.\n\n   [Go to **Overview**](https://dash.cloudflare.com/?to=/:account/r2/overview)\n\n2. Locate and select your bucket from the list.\n\n3. From the bucket page, select **Settings**.\n\n4. Under **Object lifecycle rules**, select the rules you would like to delete.\n\n5. When you are done, select **Delete rule(s)**.\n\n### Wrangler\n\nTo remove a specific lifecycle rule from your bucket, run the [`r2 bucket lifecycle remove` command](https://developers.cloudflare.com/workers/wrangler/commands/#r2-bucket-lifecycle-remove).",
      "language": "unknown"
    },
    {
      "code": "### S3 API",
      "language": "unknown"
    },
    {
      "code": "</page>\n\n<page>\n---\ntitle: Public buckets · Cloudflare R2 docs\ndescription: Public Bucket is a feature that allows users to expose the contents\n  of their R2 buckets directly to the Internet. By default, buckets are never\n  publicly accessible and will always require explicit user permission to\n  enable.\nlastUpdated: 2025-10-23T19:01:53.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/r2/buckets/public-buckets/\n  md: https://developers.cloudflare.com/r2/buckets/public-buckets/index.md\n---\n\nPublic Bucket is a feature that allows users to expose the contents of their R2 buckets directly to the Internet. By default, buckets are never publicly accessible and will always require explicit user permission to enable.\n\nPublic buckets can be set up in either one of two ways:\n\n* Expose your bucket as a custom domain under your control.\n* Expose your bucket using a Cloudflare-managed `https://r2.dev` subdomain for non-production use cases.\n\nThese options can be used independently. Enabling custom domains does not require enabling `r2.dev` access.\n\nTo use features like WAF custom rules, caching, access controls, or bot management, you must configure your bucket behind a custom domain. These capabilities are not available when using the `r2.dev` development url.\n\nNote\n\nCurrently, public buckets do not let you list the bucket contents at the root of your (sub) domain.\n\n## Custom domains\n\n### Caching\n\nDomain access through a custom domain allows you to use [Cloudflare Cache](https://developers.cloudflare.com/cache/) to accelerate access to your R2 bucket.\n\nConfigure your cache to use [Smart Tiered Cache](https://developers.cloudflare.com/cache/how-to/tiered-cache/#smart-tiered-cache) to have a single upper tier data center next to your R2 bucket.\n\nNote\n\nBy default, only certain file types are cached. To cache all files in your bucket, you must set a Cache Everything page rule.\n\nFor more information on default Cache behavior and how to customize it, refer to [Default Cache Behavior](https://developers.cloudflare.com/cache/concepts/default-cache-behavior/#default-cached-file-extensions)\n\n### Access control\n\nTo restrict access to your custom domain's bucket, use Cloudflare's existing security products.\n\n* [Cloudflare Zero Trust Access](https://developers.cloudflare.com/cloudflare-one/access-controls/): Protects buckets that should only be accessible by your teammates. Refer to [Protect an R2 Bucket with Cloudflare Access](https://developers.cloudflare.com/r2/tutorials/cloudflare-access/) tutorial for more information.\n* [Cloudflare WAF Token Authentication](https://developers.cloudflare.com/waf/custom-rules/use-cases/configure-token-authentication/): Restricts access to documents, files, and media to selected users by providing them with an access token.\n\nWarning\n\nDisable public access to your [`r2.dev` subdomain](#disable-public-development-url) when using products like WAF or Cloudflare Access. If you do not disable public access, your bucket will remain publicly available through your `r2.dev` subdomain.\n\n### Minimum TLS Version & Cipher Suites\n\nTo customise the minimum TLS version or cipher suites of a custom hostname of an R2 bucket, you can issue an API call to edit [R2 custom domain settings](https://developers.cloudflare.com/api/resources/r2/subresources/buckets/subresources/domains/subresources/custom/methods/update/). You will need to add the optional `minTLS` and `ciphers` parameters to the request body. For a list of the cipher suites you can specify, refer to [Supported cipher suites](https://developers.cloudflare.com/ssl/edge-certificates/additional-options/cipher-suites/supported-cipher-suites/).\n\n## Add your domain to Cloudflare\n\nThe domain being used must have been added as a [zone](https://developers.cloudflare.com/fundamentals/concepts/accounts-and-zones/#zones) in the same account as the R2 bucket.\n\n* If your domain is already managed by Cloudflare, you can proceed to [Connect a bucket to a custom domain](https://developers.cloudflare.com/r2/buckets/public-buckets/#connect-a-bucket-to-a-custom-domain).\n* If your domain is not managed by Cloudflare, you need to set it up using a [partial (CNAME) setup](https://developers.cloudflare.com/dns/zone-setups/partial-setup/) to add it to your account.\n\nOnce the domain exists in your Cloudflare account (regardless of setup type), you can link it to your bucket.\n\n## Connect a bucket to a custom domain\n\n1. In the Cloudflare dashboard, go to the **R2 object storage** page.\n\n   [Go to **Overview**](https://dash.cloudflare.com/?to=/:account/r2/overview)\n\n2. Select your bucket.\n\n3. Select **Settings**.\n\n4. Under **Custom Domains**, select **Add**.\n\n5. Enter the domain name you want to connect to and select **Continue**.\n\n6. Review the new record that will be added to the DNS table and select **Connect Domain**.\n\nYour domain is now connected. The status takes a few minutes to change from **Initializing** to **Active**, and you may need to refresh to review the status update. If the status has not changed, select the *...* next to your bucket and select **Retry connection**.\n\nTo view the added DNS record, select **...** next to the connected domain and select **Manage DNS**.\n\nNote\n\nIf the zone is on an Enterprise plan, make sure that you [release the zone hold](https://developers.cloudflare.com/fundamentals/account/account-security/zone-holds/#release-zone-holds) before adding the custom domain.\n\nA zone hold would prevent the custom subdomain from activating.\n\n## Disable domain access\n\nDisabling a domain will turn off public access to your bucket through that domain. Access through other domains or the managed `r2.dev` subdomain are unaffected. The specified domain will also remain connected to R2 until you remove it or delete the bucket.\n\nTo disable a domain:\n\n1. In **R2**, select the bucket you want to modify.\n2. On the bucket page, Select **Settings**, go to **Custom Domains**.\n3. Next to the domain you want to disable, select **...** and **Disable domain**.\n4. The badge under **Access to Bucket** will update to **Not allowed**.\n\n## Remove domain\n\nRemoving a custom domain will disconnect it from your bucket and delete its configuration from the dashboard. Your bucket will remain publicly accessible through any other enabled access method, but the domain will no longer appear in the connected domains list.\n\nTo remove a domain:\n\n1. In **R2**, select the bucket you want to modify.\n2. On the bucket page, Select **Settings**, go to **Custom Domains**.\n3. Next to the domain you want to disable, select **...** and **Remove domain**.\n4. Select **Remove domain** in the confirmation window. This step also removes the CNAME record pointing to the domain. You can always add the domain again.\n\n## Public development URL\n\nExpose the contents of this R2 bucket to the internet through a Cloudflare-managed r2.dev subdomain. This endpoint is intended for non-production traffic.\n\nNote\n\nPublic access through `r2.dev` subdomains are rate limited and should only be used for development purposes.\n\nTo enable access management, Cache and bot management features, you must set up a custom domain when enabling public access to your bucket.\n\nAvoid creating a CNAME record pointing to the `r2.dev` subdomain. This is an **unsupported access path**, and we cannot guarantee consistent reliability or performance. For production use, [add your domain to Cloudflare](#add-your-domain-to-cloudflare) instead.\n\n### Enable public development url\n\nWhen you enable public development URL access for your bucket, its contents become available on the internet through a Cloudflare-managed `r2.dev` subdomain.\n\nTo enable access through `r2.dev` for your buckets:\n\n1. In **R2**, select the bucket you want to modify.\n2. On the bucket page, select **Settings**.\n3. Under **Public Development URL**, select **Enable**.\n4. In **Allow Public Access?**, confirm your choice by typing `allow` to confirm and select **Allow**.\n5. You can now access the bucket and its objects using the Public Bucket URL.\n\nTo verify that your bucket is publicly accessible, check that **Public URL Access** shows **Allowed** in you bucket settings.\n\n### Disable public development url\n\nDisabling public development URL access removes your bucket's exposure through the `r2.dev` subdomain. The bucket and its objects will no longer be accessible via the Public Bucket URL.\n\nIf you have connected other domains, the bucket will remain accessible for those domains.\n\nTo disable public access for your bucket:\n\n1. In **R2**, select the bucket you want to modify.\n2. On the bucket page, select **Settings**.\n3. Under **Public Development URL**, select **Disable**.\n4. In **Disallow Public Access?**, type `disallow` to confirm and select **Disallow**.\n\n</page>\n\n<page>\n---\ntitle: Storage classes · Cloudflare R2 docs\ndescription: Storage classes allow you to trade off between the cost of storage\n  and the cost of accessing data. Every object stored in R2 has an associated\n  storage class.\nlastUpdated: 2025-10-14T11:41:30.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/r2/buckets/storage-classes/\n  md: https://developers.cloudflare.com/r2/buckets/storage-classes/index.md\n---\n\nStorage classes allow you to trade off between the cost of storage and the cost of accessing data. Every object stored in R2 has an associated storage class.\n\nAll storage classes share the following characteristics:\n\n* Compatible with Workers API, S3 API, and public buckets.\n* 99.999999999% (eleven 9s) of annual durability.\n* No minimum object size.\n\n## Available storage classes\n\n| Storage class | Minimum storage duration | Data retrieval fees (processing) | Egress fees (data transfer to Internet) |\n| - | - | - | - |\n| Standard | None | None | None |\n| Infrequent Access | 30 days | Yes | None |\n\nFor more information on how storage classes impact pricing, refer to [Pricing](https://developers.cloudflare.com/r2/pricing/).\n\n### Standard storage\n\nStandard storage is designed for data that is accessed frequently. This is the default storage class for new R2 buckets unless otherwise specified.\n\n#### Example use cases\n\n* Website and application data\n* Media content (e.g., images, video)\n* Storing large datasets for analysis and processing\n* AI training data\n* Other workloads involving frequently accessed data\n\n### Infrequent Access storage\n\nInfrequent Access storage is ideal for data that is accessed less frequently. This storage class offers lower storage cost compared to Standard storage, but includes [retrieval fees](https://developers.cloudflare.com/r2/pricing/#data-retrieval) and a 30 day [minimum storage duration](https://developers.cloudflare.com/r2/pricing/#minimum-storage-duration) requirement.\n\nNote\n\nFor objects stored in Infrequent Access storage, you will be charged for the object for the minimum storage duration even if the object was deleted, moved, or replaced before the specified duration.\n\n#### Example use cases\n\n* Long-term data archiving (for example, logs and historical records needed for compliance)\n* Data backup and disaster recovery\n* Long tail user-generated content\n\n## Set default storage class for buckets\n\nBy setting the default storage class for a bucket, all objects uploaded into the bucket will automatically be assigned the selected storage class unless otherwise specified. Default storage class can be changed after bucket creation in the Dashboard.\n\nTo learn more about creating R2 buckets, refer to [Create new buckets](https://developers.cloudflare.com/r2/buckets/create-buckets/).\n\n## Set storage class for objects\n\n### Specify storage class during object upload\n\nTo learn more about how to specify the storage class for new objects, refer to the [Workers API](https://developers.cloudflare.com/r2/api/workers/) and [S3 API](https://developers.cloudflare.com/r2/api/s3/) documentation.\n\n### Use object lifecycle rules to transition objects to Infrequent Access storage\n\nNote\n\nOnce an object is stored in Infrequent Access, it cannot be transitioned to Standard Access using lifecycle policies.\n\nTo learn more about how to transition objects from Standard storage to Infrequent Access storage, refer to [Object lifecycles](https://developers.cloudflare.com/r2/buckets/object-lifecycles/).\n\n## Change storage class for objects\n\nYou can change the storage class of an object which is already stored in R2 using the [`CopyObject` API](https://docs.aws.amazon.com/AmazonS3/latest/API/API_CopyObject.html).\n\nUse the `x-amz-storage-class` header to change between `STANDARD` and `STANDARD_IA`.\n\nAn example of switching an object from `STANDARD` to `STANDARD_IA` using `aws cli` is shown below:",
      "language": "unknown"
    },
    {
      "code": "* Refer to [aws CLI](https://developers.cloudflare.com/r2/examples/aws/aws-cli/) for more information on using `aws CLI`.\n* Refer to [object-level operations](https://developers.cloudflare.com/r2/api/s3/api/#object-level-operations) for the full list of object-level API operations with R2-compatible S3 API.\n\n</page>\n\n<page>\n---\ntitle: Connect to Iceberg engines · Cloudflare R2 docs\ndescription: Find detailed setup instructions for Apache Spark and other common\n  query engines.\nlastUpdated: 2025-09-25T04:10:41.000Z\nchatbotDeprioritize: true\nsource_url:\n  html: https://developers.cloudflare.com/r2/data-catalog/config-examples/\n  md: https://developers.cloudflare.com/r2/data-catalog/config-examples/index.md\n---\n\nBelow are configuration examples to connect various Iceberg engines to [R2 Data Catalog](https://developers.cloudflare.com/r2/data-catalog/):\n\n* [Apache Trino](https://developers.cloudflare.com/r2/data-catalog/config-examples/trino/)\n* [DuckDB](https://developers.cloudflare.com/r2/data-catalog/config-examples/duckdb/)\n* [PyIceberg](https://developers.cloudflare.com/r2/data-catalog/config-examples/pyiceberg/)\n* [Snowflake](https://developers.cloudflare.com/r2/data-catalog/config-examples/snowflake/)\n* [Spark (PySpark)](https://developers.cloudflare.com/r2/data-catalog/config-examples/spark-python/)\n* [Spark (Scala)](https://developers.cloudflare.com/r2/data-catalog/config-examples/spark-scala/)\n* [StarRocks](https://developers.cloudflare.com/r2/data-catalog/config-examples/starrocks/)\n\n</page>\n\n<page>\n---\ntitle: Deleting data · Cloudflare R2 docs\ndescription: How to properly delete data from R2 Data Catalog\nlastUpdated: 2025-12-18T17:16:51.000Z\nchatbotDeprioritize: false\nsource_url:\n  html: https://developers.cloudflare.com/r2/data-catalog/deleting-data/\n  md: https://developers.cloudflare.com/r2/data-catalog/deleting-data/index.md\n---\n\n## Deleting data in R2 Data Catalog\n\nDeleting data from R2 Data Catalog or any Apache Iceberg catalog requires that operations are done in a transaction through the catalog itself. Manually deleting metadata or data files directly can lead to data catalog corruption.\n\n## Examples of enabling automatic table maintenance in R2 Data Catalog",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Event notification rules",
      "id": "event-notification-rules"
    },
    {
      "level": "h2",
      "text": "Event types",
      "id": "event-types"
    },
    {
      "level": "h2",
      "text": "Message format",
      "id": "message-format"
    },
    {
      "level": "h3",
      "text": "Properties",
      "id": "properties"
    },
    {
      "level": "h2",
      "text": "Notes",
      "id": "notes"
    },
    {
      "level": "h2",
      "text": "Behavior",
      "id": "behavior"
    },
    {
      "level": "h2",
      "text": "Configure lifecycle rules for your bucket",
      "id": "configure-lifecycle-rules-for-your-bucket"
    },
    {
      "level": "h3",
      "text": "Dashboard",
      "id": "dashboard"
    },
    {
      "level": "h3",
      "text": "Wrangler",
      "id": "wrangler"
    },
    {
      "level": "h3",
      "text": "S3 API",
      "id": "s3-api"
    },
    {
      "level": "h2",
      "text": "Get lifecycle rules for your bucket",
      "id": "get-lifecycle-rules-for-your-bucket"
    },
    {
      "level": "h3",
      "text": "Wrangler",
      "id": "wrangler"
    },
    {
      "level": "h3",
      "text": "S3 API",
      "id": "s3-api"
    },
    {
      "level": "h2",
      "text": "Delete lifecycle rules from your bucket",
      "id": "delete-lifecycle-rules-from-your-bucket"
    },
    {
      "level": "h3",
      "text": "Dashboard",
      "id": "dashboard"
    },
    {
      "level": "h3",
      "text": "Wrangler",
      "id": "wrangler"
    },
    {
      "level": "h3",
      "text": "S3 API",
      "id": "s3-api"
    },
    {
      "level": "h2",
      "text": "Custom domains",
      "id": "custom-domains"
    },
    {
      "level": "h3",
      "text": "Caching",
      "id": "caching"
    },
    {
      "level": "h3",
      "text": "Access control",
      "id": "access-control"
    },
    {
      "level": "h3",
      "text": "Minimum TLS Version & Cipher Suites",
      "id": "minimum-tls-version-&-cipher-suites"
    },
    {
      "level": "h2",
      "text": "Add your domain to Cloudflare",
      "id": "add-your-domain-to-cloudflare"
    },
    {
      "level": "h2",
      "text": "Connect a bucket to a custom domain",
      "id": "connect-a-bucket-to-a-custom-domain"
    },
    {
      "level": "h2",
      "text": "Disable domain access",
      "id": "disable-domain-access"
    },
    {
      "level": "h2",
      "text": "Remove domain",
      "id": "remove-domain"
    },
    {
      "level": "h2",
      "text": "Public development URL",
      "id": "public-development-url"
    },
    {
      "level": "h3",
      "text": "Enable public development url",
      "id": "enable-public-development-url"
    },
    {
      "level": "h3",
      "text": "Disable public development url",
      "id": "disable-public-development-url"
    },
    {
      "level": "h2",
      "text": "Available storage classes",
      "id": "available-storage-classes"
    },
    {
      "level": "h3",
      "text": "Standard storage",
      "id": "standard-storage"
    },
    {
      "level": "h3",
      "text": "Infrequent Access storage",
      "id": "infrequent-access-storage"
    },
    {
      "level": "h2",
      "text": "Set default storage class for buckets",
      "id": "set-default-storage-class-for-buckets"
    },
    {
      "level": "h2",
      "text": "Set storage class for objects",
      "id": "set-storage-class-for-objects"
    },
    {
      "level": "h3",
      "text": "Specify storage class during object upload",
      "id": "specify-storage-class-during-object-upload"
    },
    {
      "level": "h3",
      "text": "Use object lifecycle rules to transition objects to Infrequent Access storage",
      "id": "use-object-lifecycle-rules-to-transition-objects-to-infrequent-access-storage"
    },
    {
      "level": "h2",
      "text": "Change storage class for objects",
      "id": "change-storage-class-for-objects"
    },
    {
      "level": "h2",
      "text": "Deleting data in R2 Data Catalog",
      "id": "deleting-data-in-r2-data-catalog"
    },
    {
      "level": "h2",
      "text": "Examples of enabling automatic table maintenance in R2 Data Catalog",
      "id": "examples-of-enabling-automatic-table-maintenance-in-r2-data-catalog"
    }
  ],
  "url": "llms-txt#filter-using-prefix-and-suffix.-both-the-conditions-will-be-used-for-filtering",
  "links": []
}