{
  "title": "PreferredWithFallbackRoutingStrategy (/sdks/wayfinder/wayfinder-core/(routing-strategies)/preferredwithfallbackroutingstrategy)",
  "content": "Uses a preferred gateway, with a fallback strategy if the preferred gateway is not available. This is useful for builders who run their own gateways and want to use their own gateway as the preferred gateway, but also want to have a fallback strategy in case their gateway is not available.\n\nThis strategy is built using `CompositeRoutingStrategy` internally. It first attempts to ping the preferred gateway (using `PingRoutingStrategy` with `StaticRoutingStrategy`), and if that fails, it falls back to the specified fallback strategy.",
  "code_samples": [
    {
      "code": "const routingStrategy = new PreferredWithFallbackRoutingStrategy({\n  preferredGateway: 'https://permagate.io',\n  fallbackStrategy: new FastestPingRoutingStrategy({\n    timeoutMs: 500,\n  }),\n});",
      "language": "javascript"
    }
  ],
  "headings": [],
  "url": "llms-txt#preferredwithfallbackroutingstrategy-(/sdks/wayfinder/wayfinder-core/(routing-strategies)/preferredwithfallbackroutingstrategy)",
  "links": []
}