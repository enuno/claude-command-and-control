{
  "title": "Advanced Uploading with Turbo (/build/upload/advanced-uploading-with-turbo)",
  "content": "Learn how to upload data to Arweave using the **Turbo SDK** for a streamlined upload experience with multiple payment options and authentication methods.\n\n- How to install and authenticate with the Turbo SDK\n- Different authentication methods (Arweave, Ethereum, Solana, etc.)\n- How to purchase Turbo Credits\n- How to upload files, strings, binary data, and entire folders to Arweave\n- Browser and Node.js implementation examples\n- Using the versatile `upload` method for all data types\n\n- Node.js environment or modern web browser\n- Wallet for authentication (Arweave, Ethereum, Solana, etc.)\n- Basic understanding of JavaScript/TypeScript\n\n### Install the Turbo SDK\n\n### Authenticate with Your Wallet\n\nChoose your preferred authentication method:\n\n### Purchase Turbo Credits\n\n[Turbo Credits](/build/upload/turbo-credits) are the payment medium used by the Turbo Upload Service. Each Credit represents a 1:1 conversion from the upload power of the Arweave native token (AR).\n\n- **Fiat Currency**: Credit/debit cards via the [Turbo Top Up App](https://turbo-topup.com/)\n        - **Cryptocurrencies**: AR, ETH, SOL, MATIC, ARIO, USDC, KYVE, ETH (BASE)\n        - **Multiple Wallets**: Ethereum, Solana, and Arweave wallets supported\n\n### Upload Your First File\n\n### Basic File Upload\n\n### Upload with Custom Tags\n\n### Upload Binary Data\n\n### Upload Multiple Files\n\n### Upload an Entire Folder (Node.js)\n\n### Upload Multiple Files as a Folder (Browser)\n\n## Browser Implementation Examples\n\n### File Input with Drag & Drop\n\n### Check Upload Costs\n\n### Upload with Progress Tracking\n\n### Upload with Error Handling\n\n## Benefits of Using Turbo\n\n- **Versatile upload method** - Upload files, strings, binary data, or entire folders with a single method\n- **Multiple payment options** - Pay with fiat, crypto, or AR tokens\n- **Easy integration** - Simple SDK for both Node.js and browsers\n- **Automatic retry** - Built-in retry logic for failed uploads\n- **Cost transparency** - See upload costs before confirming\n- **Fast uploads** - Optimized for speed and reliability\n- **Folder support** - Upload entire directories with automatic manifest generation\n\n}\n    arrow\n  >\n    Buy Turbo Credits with fiat or crypto\n\n}>\n  Discover best practices for organizing your data\n\n}\n  >\n    Learn how to organize files with manifests",
  "code_samples": [
    {
      "code": "# For Node.js\n    npm install @ardrive/turbo-sdk\n\n    # For Yarn users\n    yarn add @ardrive/turbo-sdk",
      "language": "bash"
    },
    {
      "code": "// Load your Arweave JWK file\n            const jwk = JSON.parse(fs.readFileSync('wallet.json', 'utf-8'))\n            const turbo = await TurboFactory.authenticated({\n              privateKey: jwk, // ArweaveJWK type\n              token: 'arweave', // Default token type\n            })",
      "language": "typescript"
    },
    {
      "code": "// Your Ethereum private key (with 0x prefix)\n            const privateKey = '0x1234...' // EthPrivateKey type\n\n            // Create an Ethereum signer instance\n            const signer = new EthereumSigner(privateKey)\n            const turbo = await TurboFactory.authenticated({\n              signer,\n              token: 'ethereum',\n            })",
      "language": "typescript"
    },
    {
      "code": "// Your Solana secret key (as Uint8Array)\n            const secretKey = new Uint8Array([...]) // SolSecretKey type\n\n            const turbo = await TurboFactory.authenticated({\n              privateKey: bs58.encode(secretKey),\n              token: 'solana'\n            })",
      "language": "typescript"
    },
    {
      "code": "// Your Polygon private key (with 0x prefix)\n            const privateKey = '0x1234...' // EthPrivateKey type\n\n            // Create an Ethereum signer instance for Polygon\n            const signer = new EthereumSigner(privateKey)\n            const turbo = await TurboFactory.authenticated({\n              signer,\n              token: 'matic', // or 'pol'\n            })",
      "language": "typescript"
    },
    {
      "code": "// Your KYVE private key (hexadecimal)\n            const privateKey = '0x1234...' // KyvePrivateKey type\n\n            const turbo = await TurboFactory.authenticated({\n              privateKey,\n              token: 'kyve',\n            })",
      "language": "typescript"
    },
    {
      "code": "async function initializeTurbo() {\n              await window.arweaveWallet.connect([\n                'ACCESS_ADDRESS',\n                'ACCESS_PUBLIC_KEY',\n                'SIGN_TRANSACTIONS',\n                'SIGN_MESSAGE',\n                'SIGNATURE',\n              ])\n\n              const turbo = await TurboFactory.authenticated({\n                signer: new ArConnectSigner(window.arweaveWallet),\n              })\n            }",
      "language": "typescript"
    },
    {
      "code": "// Global variables for Wagmi config and connector\n            let config = null\n            let connector = null\n            let turboInstance = null\n\n            // Function to set up Wagmi configuration\n                          config = wagmiConfig\n              connector = wagmiConnector\n            }\n\n            // Function to initialize Turbo with Wagmi\n                          try {\n                if (!config || !connector) {\n                  throw new Error(\n                    'Wagmi config and connector not set. Call setWagmiConfig first.',\n                  )\n                }\n\n                console.log('Initializing Turbo client...')\n\n                // Create a provider that uses wagmi's signMessage\n                const provider = {\n                  getSigner: () => ({\n                    signMessage: async (message) => {\n                      const arg = message instanceof String ? message : { raw: message }\n                      const ethAccount = getAccount(config)\n                      return await signMessage(config, {\n                        message: arg,\n                        account: ethAccount.address,\n                        connector: connector,\n                      })\n                    },\n                  }),\n                }\n\n                // Create the Turbo signer\n                const signer = new InjectedEthereumSigner(provider)\n\n                // Set up the public key\n                signer.setPublicKey = async () => {\n                  const message = 'Sign this message to connect to Turbo'\n                  const ethAccount = getAccount(config)\n                  const signature = await signMessage(config, {\n                    message: message,\n                    account: ethAccount.address,\n                    connector: connector,\n                  })\n                  const hash = await hashMessage(message)\n                  const recoveredKey = await recoverPublicKey({\n                    hash,\n                    signature,\n                  })\n                  signer.publicKey = Buffer.from(toBytes(recoveredKey))\n                }\n\n                // Initialize the signer\n                await signer.setPublicKey()\n\n                turboInstance = await TurboFactory.authenticated({\n                  signer: signer,\n                  token: 'base-eth', // Can be changed to 'ethereum' or 'matic', etc.\n                })\n\n                console.log('Turbo client initialized successfully')\n                return turboInstance\n              } catch (error) {\n                console.error('Error initializing Turbo client:', error)\n                turboInstance = null\n                throw error\n              }\n            }",
      "language": "typescript"
    },
    {
      "code": "if (!window.ethereum) {\n                throw new Error('Please install MetaMask to use this application')\n              }\n\n              try {\n                const accounts = await window.ethereum.request({\n                  method: 'eth_requestAccounts',\n                })\n\n                const metaMaskProvider = window.ethereum.providers?.find(\n                  (p) => p.isMetaMask,\n                )\n                const provider = new BrowserProvider(metaMaskProvider ?? window.ethereum)\n                const signer = await provider.getSigner()\n\n                const turbo = TurboFactory.authenticated({\n                  signer: new InjectedEthereumSigner({ getSigner: () => signer }),\n                  token: 'ethereum',\n                })\n\n                return { turbo, address: accounts[0] }\n              } catch (error) {\n                console.error('Connection failed:', error)\n                throw error\n              }\n            }",
      "language": "typescript"
    },
    {
      "code": "try {\n                // Check if Phantom is installed\n                if (window.solana) {\n                  const provider = window.solana\n                  const publicKey = new PublicKey((await provider.connect()).publicKey)\n\n                  const wallet: SolanaWalletAdapter = {\n                    publicKey,\n                    signMessage: async (message: Uint8Array) => {\n                      // Call Phantom's signMessage method\n                      const { signature } = await provider.signMessage(message)\n                      return signature\n                    },\n                  }\n\n                  solanaTurboInstance = TurboFactory.authenticated({\n                    token: 'solana',\n                    walletAdapter: wallet,\n                  })\n                }\n              } catch (err) {\n                console.error(err)\n              }\n            }",
      "language": "typescript"
    },
    {
      "code": "// Initialize authenticated client\n            const turbo = await TurboFactory.authenticated({\n              privateKey: jwk\n            })\n\n            // Top up with AR tokens\n            const topUpResult = await turbo.topUpWithTokens({\n              tokenAmount: WinstonToTokenAmount(100_000_000), // 0.0001 AR\n            })",
      "language": "typescript"
    },
    {
      "code": "// Initialize authenticated client\n            const turbo = await TurboFactory.authenticated({\n              signer: new EthereumSigner(privateKey),\n              token: 'ethereum',\n            })\n\n            // Top up with ETH tokens\n            const topUpResult = await turbo.topUpWithTokens({\n              tokenAmount: 0.001, // 0.001 ETH\n            })",
      "language": "typescript"
    },
    {
      "code": "// Initialize authenticated client\n            const turbo = await TurboFactory.authenticated({\n              privateKey: bs58.encode(secretKey),\n              token: 'solana'\n            })\n\n            // Top up with SOL tokens\n            const topUpResult = await turbo.topUpWithTokens({\n              tokenAmount: 0.1, // 0.1 SOL\n            })",
      "language": "typescript"
    },
    {
      "code": "// Initialize authenticated client\n            const turbo = await TurboFactory.authenticated({\n              signer: new EthereumSigner(privateKey),\n              token: 'matic',\n            })\n\n            // Top up with MATIC tokens\n            const topUpResult = await turbo.topUpWithTokens({\n              tokenAmount: 1.0, // 1.0 MATIC\n            })",
      "language": "typescript"
    },
    {
      "code": "// Initialize authenticated client\n            const turbo = await TurboFactory.authenticated({\n              privateKey,\n              token: 'kyve',\n            })\n\n            // Top up with KYVE tokens\n            const topUpResult = await turbo.topUpWithTokens({\n              tokenAmount: 100, // 100 KYVE\n            })",
      "language": "typescript"
    },
    {
      "code": "// Upload a single file using the versatile upload method\n    const result = await turbo.upload({\n      data: file, // Can be File, Blob, Buffer, Uint8Array, ArrayBuffer, or string\n      dataItemOpts: {\n        tags: [\n          { name: \"Content-Type\", value: file.type || \"application/octet-stream\" },\n          { name: \"App-Name\", value: \"MyApp-v1.0\" },\n        ],\n      },\n    });\n\n    console.log(\"File uploaded!\", {\n      id: result.id,\n      url: `https://arweave.net/${result.id}`,\n      owner: result.owner,\n      dataCaches: result.dataCaches,\n    });",
      "language": "typescript"
    },
    {
      "code": "// Upload a single file using the versatile upload method\n    const result = await turbo.upload({\n      data: file, // Can be File, Blob, Buffer, Uint8Array, ArrayBuffer, or string\n      dataItemOpts: {\n        tags: [\n          { name: \"Content-Type\", value: file.type || \"application/octet-stream\" },\n          { name: \"App-Name\", value: \"MyApp-v1.0\" },\n        ],\n      },\n    });\n\n    console.log(\"File uploaded!\", {\n      id: result.id,\n      url: `https://arweave.net/${result.id}`,\n      owner: result.owner,\n      dataCaches: result.dataCaches,\n    });",
      "language": "typescript"
    },
    {
      "code": "const result = await turbo.upload({\n      data: file,\n      dataItemOpts: {\n        tags: [\n          { name: \"Content-Type\", value: \"application/json\" },\n          { name: \"App-Name\", value: \"MyApp-v1.0\" },\n          { name: \"App-Version\", value: \"1.0.0\" },\n          { name: \"Description\", value: \"My application data\" },\n        ],\n      },\n    });",
      "language": "typescript"
    },
    {
      "code": "// Upload a string\n    const stringResult = await turbo.upload({\n      data: \"Hello, Arweave!\",\n      dataItemOpts: {\n        tags: [\n          { name: \"Content-Type\", value: \"text/plain\" },\n          { name: \"App-Name\", value: \"MyApp-v1.0\" },\n        ],\n      },\n    });",
      "language": "typescript"
    },
    {
      "code": "// Upload a JSON object\n    const jsonData = { message: \"Hello\", timestamp: Date.now() };\n    const jsonResult = await turbo.upload({\n      data: JSON.stringify(jsonData),\n      dataItemOpts: {\n        tags: [\n          { name: \"Content-Type\", value: \"application/json\" },\n          { name: \"App-Name\", value: \"MyApp-v1.0\" },\n        ],\n      },\n    });",
      "language": "typescript"
    },
    {
      "code": "// Upload binary data\n    const binaryData = new Uint8Array([1, 2, 3, 4, 5]);\n    const binaryResult = await turbo.upload({\n      data: binaryData,\n      dataItemOpts: {\n        tags: [\n          { name: \"Content-Type\", value: \"application/octet-stream\" },\n          { name: \"App-Name\", value: \"MyApp-v1.0\" },\n        ],\n      },\n    });",
      "language": "typescript"
    },
    {
      "code": "const files = [file1, file2, file3];\n    const uploadPromises = files.map((file) =>\n      turbo.upload({\n        data: file,\n        dataItemOpts: {\n          tags: [\n            {\n              name: \"Content-Type\",\n              value: file.type || \"application/octet-stream\",\n            },\n            { name: \"App-Name\", value: \"MyApp-v1.0\" },\n          ],\n        },\n      })\n    );\n\n    const results = await Promise.all(uploadPromises);\n    console.log(\"All files uploaded!\", results);",
      "language": "typescript"
    },
    {
      "code": "const folderResult = await turbo.uploadFolder({\n      folderPath: \"./my-website\",\n      dataItemOpts: {\n        tags: [\n          { name: \"App-Name\", value: \"MyWebsite-v1.0\" },\n          { name: \"Content-Type\", value: \"application/x.arweave-manifest+json\" },\n        ],\n      },\n      manifestOptions: {\n        indexFile: \"index.html\",\n        fallbackFile: \"404.html\",\n      },\n    });\n\n    console.log(\"Folder uploaded!\", {\n      manifestId: folderResult.manifestResponse?.id,\n      fileCount: folderResult.fileResponses.length,\n      manifest: folderResult.manifest,\n    });",
      "language": "typescript"
    },
    {
      "code": "const files = [file1, file2, file3];\n    const webFolderResult = await turbo.uploadFolder({\n      files: files,\n      dataItemOpts: {\n        tags: [{ name: \"App-Name\", value: \"MyWebsite-v1.0\" }],\n      },\n      manifestOptions: {\n        indexFile: \"index.html\",\n      },\n    });",
      "language": "typescript"
    },
    {
      "code": "Turbo Upload Example\n    \n      .drop-zone {\n        border: 2px dashed #ccc;\n        border-radius: 10px;\n        padding: 20px;\n        text-align: center;\n        margin: 20px 0;\n      }\n      .drag-over {\n        border-color: #007bff;\n        background-color: #f8f9fa;\n      }\n\n      Drag and drop files here or click to select\n\n      // Your Turbo initialization code here\n      // ... (authentication code from above)\n\n      const fileInput = document.getElementById(\"file-input\");\n      const dropZone = document.getElementById(\"drop-zone\");\n\n      // File input handler\n      fileInput.addEventListener(\"change\", async (event) => {\n        const files = Array.from(event.target.files);\n        for (const file of files) {\n          await uploadFile(file);\n        }\n      });\n\n      // Drag and drop handlers\n      dropZone.addEventListener(\"dragover\", (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        dropZone.classList.add(\"drag-over\");\n      });\n\n      dropZone.addEventListener(\"dragleave\", (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        dropZone.classList.remove(\"drag-over\");\n      });\n\n      dropZone.addEventListener(\"drop\", async (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        dropZone.classList.remove(\"drag-over\");\n\n        const files = Array.from(e.dataTransfer.files);\n        for (const file of files) {\n          await uploadFile(file);\n        }\n      });\n\n      async function uploadFile(file) {\n        try {\n          const result = await turbo.upload({\n            data: file,\n            dataItemOpts: {\n              tags: [\n                {\n                  name: \"Content-Type\",\n                  value: file.type || \"application/octet-stream\",\n                },\n                { name: \"App-Name\", value: \"MyApp-v1.0\" },\n              ],\n            },\n          });\n\n          console.log(\"File uploaded!\", {\n            id: result.id,\n            url: `https://arweave.net/${result.id}`,\n            name: file.name,\n            size: file.size,\n          });\n        } catch (error) {\n          console.error(\"Upload failed:\", error);\n        }\n      }",
      "language": "html"
    },
    {
      "code": "// Get upload cost for specific file size\n    const costs = await turbo.getUploadCosts({\n      bytes: [file.size],\n    });\n\n    console.log(`Upload cost: ${costs[0].winc} Winston Credits`);\n    console.log(`USD cost: $${costs[0].usd}`);",
      "language": "typescript"
    },
    {
      "code": "// Get current balance\n    const balance = await turbo.getBalance();\n    console.log(`Available credits: ${balance.controlledWinc} Winston Credits`);",
      "language": "typescript"
    },
    {
      "code": "const result = await turbo.upload({\n      data: file,\n      dataItemOpts: {\n        tags: [\n          { name: \"Content-Type\", value: file.type || \"application/octet-stream\" },\n          { name: \"App-Name\", value: \"MyApp-v1.0\" },\n        ],\n      },\n      events: {\n        onUploadProgress: (progress) => {\n          console.log(\n            `Upload progress: ${Math.round((progress.processedBytes / progress.totalBytes) * 100)}%`\n          );\n        },\n        onSigningProgress: (progress) => {\n          console.log(\n            `Signing progress: ${Math.round((progress.processedBytes / progress.totalBytes) * 100)}%`\n          );\n        },\n      },\n    });",
      "language": "typescript"
    },
    {
      "code": "try {\n      const result = await turbo.upload({\n        data: file,\n        dataItemOpts: {\n          tags: [\n            { name: \"Content-Type\", value: file.type || \"application/octet-stream\" },\n            { name: \"App-Name\", value: \"MyApp-v1.0\" },\n          ],\n        },\n        events: {\n          onUploadError: (error) => {\n            console.error(\"Upload failed:\", error);\n          },\n          onSigningError: (error) => {\n            console.error(\"Signing failed:\", error);\n          },\n        },\n      });\n\n      console.log(\"Upload successful:\", result);\n    } catch (error) {\n      console.error(\"Upload error:\", error);\n      // Handle error appropriately\n    }",
      "language": "typescript"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "What You'll Learn",
      "id": "what-you'll-learn"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Quick Start",
      "id": "quick-start"
    },
    {
      "level": "h2",
      "text": "Uploading Files",
      "id": "uploading-files"
    },
    {
      "level": "h2",
      "text": "Browser Implementation Examples",
      "id": "browser-implementation-examples"
    },
    {
      "level": "h3",
      "text": "File Input with Drag & Drop",
      "id": "file-input-with-drag-&-drop"
    },
    {
      "level": "h2",
      "text": "Advanced Features",
      "id": "advanced-features"
    },
    {
      "level": "h2",
      "text": "Benefits of Using Turbo",
      "id": "benefits-of-using-turbo"
    },
    {
      "level": "h2",
      "text": "Ready to Upload?",
      "id": "ready-to-upload?"
    }
  ],
  "url": "llms-txt#advanced-uploading-with-turbo-(/build/upload/advanced-uploading-with-turbo)",
  "links": []
}