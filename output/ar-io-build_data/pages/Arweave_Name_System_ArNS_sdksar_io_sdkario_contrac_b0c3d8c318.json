{
  "title": "Arweave Name System (ArNS) (/sdks/ar-io-sdk/(ario-contract)/arweave-name-system-arns)",
  "content": "#### resolveArNSName()\n\nResolves an ArNS name to the underlying data id stored on the names corresponding ANT id.\n\n##### Resolving a base name\n\n##### Resolving an undername\n\nPurchases a new ArNS record with the specified name, type, processId, and duration.\n\n_Note: Requires `signer` to be provided on `ARIO.init` to sign the transaction._\n\n- `name` - _required_: the name of the ArNS record to purchase\n- `type` - _required_: the type of ArNS record to purchase\n- `processId` - _optional_: the process id of an existing ANT process. If not provided, a new ANT process using the provided `signer` will be spawned, and the ArNS record will be assigned to that process.\n- `years` - _optional_: the duration of the ArNS record in years. If not provided and `type` is `lease`, the record will be leased for 1 year. If not provided and `type` is `permabuy`, the record will be permanently registered.\n- `referrer` - _optional_: track purchase referrals for analytics (e.g. `my-app.com`)\n\nUpgrades an existing leased ArNS record to a permanent ownership. The record must be currently owned by the caller and be of type \"lease\".\n\n_Note: Requires `signer` to be provided on `ARIO.init` to sign the transaction._\n\nRetrieves the record info of the specified ArNS name.\n\n#### getArNSRecords()\n\nRetrieves all registered ArNS records of the ARIO process, paginated and sorted by the specified criteria. The `cursor` used for pagination is the last ArNS name from the previous request.\n\nAvailable `sortBy` options are any of the keys on the record object, e.g. `name`, `processId`, `endTimestamp`, `startTimestamp`, `type`, `undernames`.\n\n#### getArNSRecordsForAddress()\n\nRetrieves all registered ArNS records of the specified address according to the `ANTRegistry` access control list, paginated and sorted by the specified criteria. The `cursor` used for pagination is the last ArNS name from the previous request.\n\nAvailable `sortBy` options are any of the keys on the record object, e.g. `name`, `processId`, `endTimestamp`, `startTimestamp`, `type`, `undernames`.\n\n#### increaseUndernameLimit()\n\nIncreases the undername support of a domain up to a maximum of 10k. Domains, by default, support up to 10 undernames.\n\n_Note: Requires `signer` to be provided on `ARIO.init` to sign the transaction._\n\nExtends the lease of a registered ArNS domain, with an extension of 1-5 years depending on grace period status. Permanently registered domains cannot be extended.\n\nCalculates the price in mARIO to perform the interaction in question, eg a 'Buy-Name' interaction, where args are the specific params for that interaction.\n\n#### getCostDetails()\n\nCalculates the expanded cost details for the interaction in question, e.g a 'Buy-Name' interaction, where args are the specific params for that interaction. The fromAddress is the address that would be charged for the interaction, and fundFrom is where the funds would be taken from, either `balance`, `stakes`, or `any`.\n\n#### getDemandFactor()\n\nRetrieves the current demand factor of the network. The demand factor is a multiplier applied to the cost of ArNS interactions based on the current network demand.\n\n#### getArNSReturnedNames()\n\nRetrieves all active returned names of the ARIO process, paginated and sorted by the specified criteria. The `cursor` used for pagination is the last returned name from the previous request.\n\n#### getArNSReturnedName()\n\nRetrieves the returned name data for the specified returned name.",
  "code_samples": [
    {
      "code": "const ario = ARIO.mainnet();\nconst record = await ario.resolveArNSName({ name: 'ardrive' });",
      "language": "typescript"
    },
    {
      "code": "{\n  \"processId\": \"bh9l1cy0aksiL_x9M359faGzM_yjralacHIUo8_nQXM\",\n  \"txId\": \"kvhEUsIY5bXe0Wu2-YUFz20O078uYFzmQIO-7brv8qw\",\n  \"type\": \"lease\",\n  \"recordIndex\": 0,\n  \"undernameLimit\": 100,\n  \"owner\": \"t4Xr0_J4Iurt7caNST02cMotaz2FIbWQ4Kbj616RHl3\",\n  \"name\": \"ardrive\"\n}",
      "language": "json"
    },
    {
      "code": "const ario = ARIO.mainnet();\nconst record = await ario.resolveArNSName({ name: 'logo_ardrive' });",
      "language": "typescript"
    },
    {
      "code": "{\n  \"processId\": \"bh9l1cy0aksiL_x9M359faGzM_yjralacHIUo8_nQXM\",\n  \"txId\": \"kvhEUsIY5bXe0Wu2-YUFz20O078uYFzmQIO-7brv8qw\",\n  \"type\": \"lease\",\n  \"recordIndex\": 1,\n  \"undernameLimit\": 100,\n  \"owner\": \"t4Xr0_J4Iurt7caNST02cMotaz2FIbWQ4Kbj616RHl3\",\n  \"name\": \"ardrive\"\n}",
      "language": "json"
    },
    {
      "code": "const ario = ARIO.mainnet({ signer });\nconst record = await ario.buyRecord(\n  {\n    name: 'ardrive',\n    type: 'lease',\n    years: 1,\n    processId: 'bh9l1cy0aksiL_x9M359faGzM_yjralacHIUo8_nQXM', // optional: assign to existing ANT process\n    referrer: 'my-app.com', // optional: track purchase referrals for analytics\n  },\n  {\n    // optional tags\n    tags: [{ name: 'App-Name', value: 'ArNS-App' }],\n    onSigningProgress: (step, event) => {\n      console.log(`Signing progress: ${step}`);\n      if (step === 'spawning-ant') {\n        console.log('Spawning ant:', event);\n      }\n      if (step === 'registering-ant') {\n        console.log('Registering ant:', event);\n      }\n      if (step === 'verifying-state') {\n        console.log('Verifying state:', event);\n      }\n      if (step === 'buying-name') {\n        console.log('Buying name:', event);\n      }\n    },\n  },\n);",
      "language": "typescript"
    },
    {
      "code": "const ario = ARIO.mainnet({ signer });\nconst record = await ario.upgradeRecord(\n  {\n    name: 'ardrive',\n    referrer: 'my-app.com', // optional: track purchase referrals for analytics\n  },\n  {\n    // optional tags\n    tags: [{ name: 'App-Name', value: 'ArNS-App' }],\n  },\n);",
      "language": "typescript"
    },
    {
      "code": "const ario = ARIO.mainnet();\nconst record = await ario.getArNSRecord({ name: 'ardrive' });",
      "language": "typescript"
    },
    {
      "code": "{\n  \"processId\": \"bh9l1cy0aksiL_x9M359faGzM_yjralacHIUo8_nQXM\",\n  \"endTimestamp\": 1752256702026,\n  \"startTimestamp\": 1720720819969,\n  \"type\": \"lease\",\n  \"undernameLimit\": 100\n}",
      "language": "json"
    },
    {
      "code": "const ario = ARIO.mainnet();\n// get the newest 100 names\nconst records = await ario.getArNSRecords({\n  limit: 100,\n  sortBy: 'startTimestamp',\n  sortOrder: 'desc',\n});",
      "language": "typescript"
    },
    {
      "code": "{\n  \"items\": [\n    {\n      \"name\": \"ao\",\n      \"processId\": \"eNey-H9RB9uCdoJUvPULb35qhZVXZcEXv8xds4aHhkQ\",\n      \"purchasePrice\": 75541282285,\n      \"startTimestamp\": 1720720621424,\n      \"endTimestamp\": 1752256702026,\n      \"type\": \"permabuy\",\n      \"undernameLimit\": 10\n    },\n    {\n      \"name\": \"ardrive\",\n      \"processId\": \"bh9l1cy0aksiL_x9M359faGzM_yjralacHIUo8_nQXM\",\n      \"endTimestamp\": 1720720819969,\n      \"startTimestamp\": 1720720620813,\n      \"purchasePrice\": 75541282285,\n      \"type\": \"lease\",\n      \"undernameLimit\": 100\n    },\n    {\n      \"name\": \"arweave\",\n      \"processId\": \"bh9l1cy0aksiL_x9M359faGzM_yjralacHIUo8_nQXM\",\n      \"endTimestamp\": 1720720819969,\n      \"startTimestamp\": 1720720620800,\n      \"purchasePrice\": 75541282285,\n      \"type\": \"lease\",\n      \"undernameLimit\": 100\n    },\n    {\n      \"name\": \"ar-io\",\n      \"processId\": \"bh9l1cy0aksiL_x9M359faGzM_yjralacHIUo8_nQXM\",\n      \"endTimestamp\": 1720720819969,\n      \"startTimestamp\": 1720720619000,\n      \"purchasePrice\": 75541282285,\n      \"type\": \"lease\",\n      \"undernameLimit\": 100\n    },\n    {\n      \"name\": \"fwd\",\n      \"processId\": \"bh9l1cy0aksiL_x9M359faGzM_yjralacHIUo8_nQXM\",\n      \"endTimestamp\": 1720720819969,\n      \"startTimestamp\": 1720720220811,\n      \"purchasePrice\": 75541282285,\n      \"type\": \"lease\",\n      \"undernameLimit\": 100\n    }\n    // ...95 other records\n  ],\n  \"hasMore\": true,\n  \"nextCursor\": \"fwdresearch\",\n  \"totalItems\": 21740,\n  \"sortBy\": \"startTimestamp\",\n  \"sortOrder\": \"desc\"\n}",
      "language": "json"
    },
    {
      "code": "const ario = ARIO.mainnet();\nconst records = await ario.getArNSRecordsForAddress({\n  address: 't4Xr0_J4Iurt7caNST02cMotaz2FIbWQ4Kbj616RHl3',\n  limit: 100,\n  sortBy: 'startTimestamp',\n  sortOrder: 'desc',\n});",
      "language": "typescript"
    },
    {
      "code": "{\n  \"limit\": 1,\n  \"totalItems\": 31,\n  \"hasMore\": true,\n  \"nextCursor\": \"ardrive\",\n  \"items\": [\n    {\n      \"startTimestamp\": 1740009600000,\n      \"name\": \"ardrive\",\n      \"endTimestamp\": 1777328018367,\n      \"type\": \"permabuy\",\n      \"purchasePrice\": 0,\n      \"undernameLimit\": 100,\n      \"processId\": \"hpF0HdijWlBLFePjWX6u_-Lg3Z2E_PrP_AoaXDVs0bA\"\n    }\n  ],\n  \"sortOrder\": \"desc\",\n  \"sortBy\": \"startTimestamp\"\n}",
      "language": "json"
    },
    {
      "code": "const ario = ARIO.mainnet({ signer: new ArweaveSigner(jwk) });\nconst { id: txId } = await ario.increaseUndernameLimit(\n  {\n    name: 'ar-io',\n    qty: 420,\n    referrer: 'my-app.com', // optional: track purchase referrals for analytics\n  },\n  // optional additional tags\n  { tags: [{ name: 'App-Name', value: 'My-Awesome-App' }] },\n);",
      "language": "typescript"
    },
    {
      "code": "const ario = ARIO.mainnet({ signer: new ArweaveSigner(jwk) });\nconst { id: txId } = await ario.extendLease(\n  {\n    name: 'ar-io',\n    years: 1,\n    referrer: 'my-app.com', // optional: track purchase referrals for analytics\n  },\n  // optional additional tags\n  { tags: [{ name: 'App-Name', value: 'My-Awesome-App' }] },\n);",
      "language": "typescript"
    },
    {
      "code": "const price = await ario\n  .getTokenCost({\n    intent: 'Buy-Name',\n    name: 'ar-io',\n    type: 'permabuy',\n  })\n  .then((p) => new mARIOToken(p).toARIO()); // convert to ARIO for readability",
      "language": "typescript"
    },
    {
      "code": "1642.34",
      "language": "json"
    },
    {
      "code": "const costDetails = await ario.getCostDetails({\n  intent: 'Buy-Name',\n  fromAddress: 't4Xr0_J4Iurt7caNST02cMotaz2FIbWQ4Kbj616RHl3',\n  fundFrom: 'stakes',\n  name: 'ar-io',\n  type: 'permabuy',\n});",
      "language": "typescript"
    },
    {
      "code": "{\n  \"tokenCost\": 2384252273,\n  \"fundingPlan\": {\n    \"address\": \"t4Xr0_J4Iurt7caNST02cMotaz2FIbWQ4Kbj616RHl3\",\n    \"balance\": 0,\n    \"stakes\": {\n      \"Rc80LG6h27Y3p9TN6J5hwDeG5M51cu671YwZpU9uAVE\": {\n        \"vaults\": [],\n        \"delegatedStake\": 2384252273\n      }\n    },\n    \"shortfall\": 0\n  },\n  \"discounts\": []\n}",
      "language": "json"
    },
    {
      "code": "const ario = ARIO.mainnet();\nconst demandFactor = await ario.getDemandFactor();",
      "language": "typescript"
    },
    {
      "code": "1.05256",
      "language": "json"
    },
    {
      "code": "const ario = ARIO.mainnet();\nconst returnedNames = await ario.getArNSReturnedNames({\n  limit: 100,\n  sortBy: 'endTimestamp',\n  sortOrder: 'asc', // return the returned names ending soonest first\n});",
      "language": "typescript"
    },
    {
      "code": "{\n  \"items\": [\n    {\n      \"name\": \"permalink\",\n      \"endTimestamp\": 1730985241349,\n      \"startTimestamp\": 1729775641349,\n      \"baseFee\": 250000000,\n      \"demandFactor\": 1.05256,\n      \"initiator\": \"GaQrvEMKBpkjofgnBi_B3IgIDmY_XYelVLB6GcRGrHc\",\n      \"settings\": {\n        \"durationMs\": 1209600000,\n        \"decayRate\": 0.000000000016847809193121693,\n        \"scalingExponent\": 190,\n        \"startPriceMultiplier\": 50\n      }\n    }\n  ],\n  \"hasMore\": false,\n  \"totalItems\": 1,\n  \"sortBy\": \"endTimestamp\",\n  \"sortOrder\": \"asc\"\n}",
      "language": "json"
    },
    {
      "code": "const ario = ARIO.mainnet();\nconst returnedName = await ario.getArNSReturnedName({ name: 'permalink' });",
      "language": "typescript"
    },
    {
      "code": "{\n  \"name\": \"permalink\",\n  \"endTimestamp\": 1730985241349,\n  \"startTimestamp\": 1729775641349,\n  \"baseFee\": 250000000,\n  \"demandFactor\": 1.05256,\n  \"initiator\": \"GaQrvEMKBpkjofgnBi_B3IgIDmY_XYelVLB6GcRGrHc\",\n  \"settings\": {\n    \"durationMs\": 1209600000,\n    \"decayRate\": 0.000000000016847809193121693,\n    \"scalingExponent\": 190,\n    \"startPriceMultiplier\": 50\n  }\n}",
      "language": "json"
    }
  ],
  "headings": [],
  "url": "llms-txt#arweave-name-system-(arns)-(/sdks/ar-io-sdk/(ario-contract)/arweave-name-system-arns)",
  "links": []
}