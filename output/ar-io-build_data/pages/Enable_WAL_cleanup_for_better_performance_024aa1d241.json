{
  "title": "Enable WAL cleanup for better performance",
  "content": "ENABLE_DATA_DB_WAL_CLEANUP=true\nbash\nWEBHOOK_INDEX_FILTER=\"\"\nWEBHOOK_BLOCK_FILTER=\"\"\n```\n\nThe `WEBHOOK_INDEX_FILTER` is used to trigger a webhook when a transaction is indexed. The `WEBHOOK_BLOCK_FILTER` is used to trigger a webhook when a block is processed.\n\n- All tag names and values are base64url-decoded before matching\n- Owner addresses are automatically converted from owner public keys\n- Empty or undefined filters default to \"never match\"\n- Tag matching requires all specified tags to match\n- Attribute matching requires all specified attributes to match\n- The filter system supports nested logical operations to any depth, allowing for very precise control over what data gets processed\n\n1. **Start Simple** - Begin with basic filters and gradually add complexity\n2. **Test Thoroughly** - Use `FILTER_CHANGE_REPROCESS=true` when changing filters\n3. **Monitor Performance** - Watch system resources during processing\n4. **Document Changes** - Keep track of filter modifications and their effects\n\n1. **Regular Monitoring** - Check gateway logs for errors and warnings\n2. **Resource Cleanup** - Periodically clean up old data and logs\n3. **Filter Optimization** - Refine filters based on actual data patterns\n4. **Backup Configuration** - Keep copies of working filter configurations\n\nIf your gateway stops processing data after changing filters, check: - Filter\n  syntax is valid JSON - Required environment variables are set - Gateway has\n  been restarted after changes - System has sufficient resources\n\nNow that you understand gateway filtering, continue building your infrastructure:\n\n}\n    title=\"Set Up Monitoring\"\n    description=\"Deploy Grafana to visualize your gateway's performance metrics\"\n    href=\"/build/extensions/grafana\"\n  />\n  }\n    title=\"Add ClickHouse\"\n    description=\"Improve query performance with ClickHouse and Parquet integration\"\n    href=\"/build/extensions/clickhouse\"\n  />\n  }\n    title=\"Deploy Bundler\"\n    description=\"Accept data uploads directly through your gateway\"\n    href=\"/build/extensions/bundler\"\n  />\n  }\n    title=\"Run Compute Unit\"\n    description=\"Execute AO processes locally for maximum efficiency\"\n    href=\"/build/extensions/compute-unit\"\n  />",
  "code_samples": [
    {
      "code": "## Webhook Filters\n\nThere are also two filters available that are used to trigger webhooks. When a transaction is processed that matches one of the webhook filters, the gateway will send a webhook to the specified `WEBHOOK_TARGET_SERVERS` urls containing the transaction data.",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Webhook Filters",
      "id": "webhook-filters"
    },
    {
      "level": "h2",
      "text": "Important Notes",
      "id": "important-notes"
    },
    {
      "level": "h2",
      "text": "Best Practices",
      "id": "best-practices"
    },
    {
      "level": "h3",
      "text": "Filter Design",
      "id": "filter-design"
    },
    {
      "level": "h3",
      "text": "Maintenance",
      "id": "maintenance"
    },
    {
      "level": "h3",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h2",
      "text": "Next Steps",
      "id": "next-steps"
    }
  ],
  "url": "llms-txt#enable-wal-cleanup-for-better-performance",
  "links": []
}