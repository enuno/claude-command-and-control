{
  "title": "Using Turbo SDK with Vanilla HTML",
  "content": "**Firefox Compatibility**: Some compatibility issues have been reported with\n  the Turbo SDK in Firefox browsers. At this time the below framework examples\n  may not behave as expected in Firefox.\n\nThis guide demonstrates how to integrate the `@ardrive/turbo-sdk` directly into vanilla HTML pages using CDN imports. No build tools, bundlers, or polyfills are required - just modern ES modules support in browsers.\n\n**Note**: Vanilla HTML implementation is the simplest way to get started with\n  the Turbo SDK. It's perfect for prototyping, simple applications, or when you\n  want to avoid build complexity.\n\n- Modern browser with ES modules support (Chrome 61+, Firefox 60+, Safari 10.1+, Edge 16+)\n- Basic understanding of HTML, CSS, and JavaScript\n- HTTPS hosting for production (required for browser wallet integrations)\n\nCreate a basic HTML file with Turbo SDK integration:\n\nSelect the appropriate CDN import method for your needs:\n\n**Use esm.sh for best compatibility**: The `unpkg.com` CDN has known issues\n      with ES module exports for complex packages like Turbo SDK.\n\n**Latest Version (Recommended for Development)**\n\n**Specific Version (Recommended for Production)**\n\n**Alternative CDN Providers**\n\nConnect your browser wallet to enable file uploads:\n\n**Never expose private keys in browser applications!** Always use browser\n      wallet integrations.\n\n**Uploading with Wander**\n\n**Deprecation Notice**: The signature API used by ArConnect wallets is\n      deprecated and will be removed. Visit [Wander wallet\n      documentation](https://docs.wander.app/api/signature) for alternatives.\n\nComplete HTML page with Wander wallet integration:\n\nBrowser wallet integrations require HTTPS in production:\n\nConfigure CSP headers to allow CDN imports:\n\nImplement comprehensive error handling:\n\nOptimize for production environments:\n\n### 1. User Experience\n\n- **Loading States**: Always show loading indicators during API calls\n- **Error Recovery**: Provide clear error messages with recovery options\n- **Progress Tracking**: Show upload progress for large files\n- **Wallet Detection**: Guide users to install wallets if missing\n\n- **Never expose private keys** in browser applications\n- **Validate user inputs** before API calls\n- **Use HTTPS** for all production deployments\n- **Implement CSP headers** to prevent XSS attacks\n\n- **Cache API responses** where appropriate (rates, costs)\n- **Use specific CDN versions** in production\n- **Implement retry logic** for network failures\n- **Optimize file handling** for large uploads\n\n- **Use development endpoints** during testing\n- **Test wallet integrations** across different browsers\n- **Validate upload functionality** with small files first\n- **Monitor API rate limits** and implement backoff\n\n## Troubleshooting Common Issues\n\n### CDN Import Errors\n\nIf you encounter errors like:\n\n- `The requested module does not provide an - Module resolution failures\n\n**Solution**: Use `esm.sh` instead of `unpkg.com`:\n\n### Function Scope Issues\n\nIf onclick handlers throw `ReferenceError: function is not defined`:\n\n**Solution**: Use explicit global assignment:\n\n### Upload Result Properties\n\nIf upload results have undefined properties:\n\n**Solution**: Use original file size for display:\n\n### Upload Cost Properties\n\nIf cost calculations fail:\n\n**Solution**: Use correct cost object structure:\n\n## Testing Your Implementation\n\n### 1. Basic Functionality Test\n\n### 2. Wallet Integration Test\n\n- Connect to MetaMask/Wander wallet\n- Verify address display\n- Test small file upload ( {\n    // Actual structure:\n    {\n      processedBytes: 4326,          // number - bytes processed so far\n      totalBytes: 8652,              // number - total bytes to process\n      step: \"signing\"                // string - current step: \"signing\" or \"upload\"\n    }\n  }\n}\n```\n\n## Additional Resources\n\n- [Turbo SDK Documentation](https://docs.ardrive.io)\n- [Browser Wallet Security Guide](https://docs.wander.app)\n- [Arweave Developer Documentation](https://docs.arweave.org)\n- [CDN Import Best Practices](https://esm.sh)\n\nFor more advanced implementations, see the [Next.js](./nextjs.mdx) and [Vite](./vite.mdx) framework guides, or explore the [Turbo SDK examples](https://github.com/ardriveio/turbo-sdk) repository.",
  "code_samples": [
    {
      "code": "Turbo SDK Example\n        \n          body {\n            font-family: Arial, sans-serif;\n            max-width: 800px;\n            margin: 0 auto;\n            padding: 20px;\n          }\n          .section {\n            margin: 20px 0;\n            padding: 20px;\n            border: 1px solid #ddd;\n            border-radius: 8px;\n          }\n          .loading {\n            color: #666;\n            font-style: italic;\n          }\n          .error {\n            color: red;\n          }\n          .success {\n            color: green;\n          }\n          button {\n            background: #007cba;\n            color: white;\n            border: none;\n            padding: 10px 20px;\n            border-radius: 4px;\n            cursor: pointer;\n            margin: 5px;\n          }\n          button:hover {\n            background: #005a87;\n          }\n          button:disabled {\n            background: #ccc;\n            cursor: not-allowed;\n          }\n\n        Turbo SDK - Vanilla HTML Demo\n\n          Current Rates\n          Loading rates...\n\n          Upload File\n\n            Upload File\n\n          // Initialize Turbo client\n          const turbo = TurboFactory.unauthenticated();\n\n          // Fetch and display rates\n          async function loadRates() {\n            try {\n              const rates = await turbo.getFiatRates();\n              const ratesDiv = document.getElementById(\"rates\");\n\n              const ratesText = Object.entries(rates.fiat)\n                .map(\n                  ([currency, rate]) =>\n                    `${currency.toUpperCase()}: $${rate} per GiB`\n                )\n                .join(\"\");\n\n              ratesDiv.innerHTML = ratesText;\n            } catch (error) {\n              document.getElementById(\n                \"rates\"\n              ).innerHTML = `Error loading rates: ${error.message}`;\n            }\n          }\n\n          // Handle file upload\n          document\n            .getElementById(\"uploadForm\")\n            .addEventListener(\"submit\", async (e) => {\n              e.preventDefault();\n\n              const fileInput = document.getElementById(\"fileInput\");\n              const uploadBtn = document.getElementById(\"uploadBtn\");\n              const statusDiv = document.getElementById(\"uploadStatus\");\n\n              if (!fileInput.files.length) {\n                statusDiv.innerHTML =\n                  'Please select a file';\n                return;\n              }\n\n              const file = fileInput.files[0];\n              uploadBtn.disabled = true;\n              statusDiv.innerHTML =\n                'Preparing upload...';\n\n              try {\n                // Show upload cost first\n                const costs = await turbo.getUploadCosts({ bytes: [file.size] });\n                const cost = costs[0];\n\n                statusDiv.innerHTML = `\n                        Upload cost: ${cost.winc} winc\n                        File size: ${file.size.toLocaleString()} bytes\n                        Note: This example cannot complete uploads without wallet authentication.\n                        See wallet integration examples below for full upload functionality.\n                    `;\n              } catch (error) {\n                statusDiv.innerHTML = `Error: ${error.message}`;\n              } finally {\n                uploadBtn.disabled = false;\n              }\n            });\n\n          // Load rates on page load\n          loadRates();",
      "language": "html"
    },
    {
      "code": "",
      "language": "javascript"
    },
    {
      "code": "",
      "language": "javascript"
    },
    {
      "code": "// jsDelivr\n    \n    // SkyPack\n    \n    // unpkg.com (not recommended - has ES module issues)",
      "language": "javascript"
    },
    {
      "code": "Turbo SDK - Wander Wallet\n        \n          body {\n            font-family: Arial, sans-serif;\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            background: #f5f5f5;\n          }\n          .container {\n            background: white;\n            padding: 30px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n          }\n          .wallet-section {\n            border: 2px solid #e0e0e0;\n            border-radius: 8px;\n            padding: 20px;\n            margin: 20px 0;\n          }\n          .connected {\n            border-color: #4caf50;\n            background-color: #f9fff9;\n          }\n          button {\n            background: #000;\n            color: white;\n            border: none;\n            padding: 12px 24px;\n            border-radius: 6px;\n            cursor: pointer;\n            font-size: 16px;\n            margin: 5px;\n          }\n          button:hover {\n            background: #333;\n          }\n          button:disabled {\n            background: #ccc;\n            cursor: not-allowed;\n          }\n          .status {\n            margin: 10px 0;\n            padding: 10px;\n            border-radius: 4px;\n          }\n          .success {\n            background: #d4edda;\n            color: #155724;\n            border: 1px solid #c3e6cb;\n          }\n          .error {\n            background: #f8d7da;\n            color: #721c24;\n            border: 1px solid #f5c6cb;\n          }\n          .info {\n            background: #d1ecf1;\n            color: #0c5460;\n            border: 1px solid #bee5eb;\n          }\n\n          ‚ö° Turbo SDK + Wander Wallet\n\n            Wander Wallet Connection\n            \n              Connect your Wander wallet to upload files to Arweave using your AR\n              balance.\n\n              Connect Wander Wallet\n\n            üìÅ File Upload\n\n            Upload to Arweave\n\n          import {\n            TurboFactory,\n            ArconnectSigner,\n          } from \"https://esm.sh/@ardrive/turbo-sdk\";\n\n          let connectedAddress = null;\n          let turboClient = null;\n\n          // Connect to Wander wallet\n          async function connectWanderWallet() {\n            const statusDiv = document.getElementById(\"walletStatus\");\n            const connectBtn = document.getElementById(\"connectBtn\");\n\n            try {\n              if (!window.arweaveWallet) {\n                statusDiv.innerHTML = `\n                            \n                                Wander wallet is not installed!\n                                Install Wander Wallet\n                            \n                        `;\n                return;\n              }\n\n              connectBtn.disabled = true;\n              statusDiv.innerHTML =\n                'Connecting to Wander wallet...';\n\n              // Required permissions for Turbo SDK\n              const permissions = [\n                \"ACCESS_ADDRESS\",\n                \"ACCESS_PUBLIC_KEY\",\n                \"SIGN_TRANSACTION\",\n                \"SIGNATURE\",\n              ];\n\n              // Connect to wallet\n              await window.arweaveWallet.connect(permissions);\n\n              // Get wallet address\n              connectedAddress = await window.arweaveWallet.getActiveAddress();\n\n              // Create authenticated Turbo client\n              const signer = new ArconnectSigner(window.arweaveWallet);\n              turboClient = TurboFactory.authenticated({ signer });\n\n              // Update UI\n              document.getElementById(\"walletSection\").classList.add(\"connected\");\n              statusDiv.innerHTML = `\n                        \n                            ‚úÖ Connected to Wander Wallet\n                            Address: ${connectedAddress.slice(\n                              0,\n                              8\n                            )}...${connectedAddress.slice(-8)}\n                        \n                    `;\n              connectBtn.style.display = \"none\";\n              document.getElementById(\"uploadSection\").style.display = \"block\";\n            } catch (error) {\n              console.error(\"Wander wallet connection failed:\", error);\n              statusDiv.innerHTML = `Connection failed: ${error.message}`;\n            } finally {\n              connectBtn.disabled = false;\n            }\n          }\n\n          // Upload file function\n          async function uploadFile() {\n            const fileInput = document.getElementById(\"fileInput\");\n            const statusDiv = document.getElementById(\"uploadStatus\");\n\n            if (!fileInput.files.length) {\n              statusDiv.innerHTML =\n                'Please select a file first';\n              return;\n            }\n\n            if (!turboClient) {\n              statusDiv.innerHTML =\n                'Please connect Wander wallet first';\n              return;\n            }\n\n            const file = fileInput.files[0];\n            let uploadStartTime = Date.now();\n\n            statusDiv.innerHTML = 'Preparing upload...';\n\n            try {\n              // Get upload cost first\n              const costs = await turboClient.getUploadCosts({\n                bytes: [file.size],\n              });\n              const cost = costs[0];\n\n              statusDiv.innerHTML = `\n                        \n                            Upload cost: ${cost.winc} winc\n                            Starting upload...\n                        \n                    `;\n\n              // Upload with comprehensive progress tracking\n              const result = await turboClient.uploadFile({\n                fileStreamFactory: () => file.stream(),\n                fileSizeFactory: () => file.size,\n                dataItemOpts: {\n                  tags: [\n                    {\n                      name: \"Content-Type\",\n                      value: file.type || \"application/octet-stream\",\n                    },\n                    { name: \"App-Name\", value: \"Turbo-HTML-Wander-Demo\" },\n                    { name: \"File-Name\", value: file.name },\n                    { name: \"Upload-Timestamp\", value: new Date().toISOString() },\n                  ],\n                },\n                events: {\n                  onProgress: ({ totalBytes, processedBytes, step }) => {\n                    const percent = Math.round((processedBytes / totalBytes) * 100);\n                    const elapsed = Math.round(\n                      (Date.now() - uploadStartTime) / 1000\n                    );\n                    statusDiv.innerHTML = `\n                                    \n                                        ${step}: ${percent}%\n                                        Progress: ${processedBytes.toLocaleString()} / ${totalBytes.toLocaleString()} bytes\n                                        Elapsed: ${elapsed}s\n                                    \n                                `;\n                  },\n                  onError: ({ error, step }) => {\n                    console.error(`Error during ${step}:`, error);\n                    statusDiv.innerHTML = `Error during ${step}: ${error.message}`;\n                  },\n                },\n              });\n\n              const totalTime = Math.round((Date.now() - uploadStartTime) / 1000);\n              // Use original file size for display (result object doesn't contain size info)\n              const displayBytes = file.size;\n              statusDiv.innerHTML = `\n                        \n                            üéâ Upload Successful!\n                            Transaction ID: ${\n                              result.id\n                            }\n                            File Size: ${displayBytes.toLocaleString()} bytes\n                            Upload Time: ${totalTime}s\n                            Timestamp: ${new Date(\n                              result.timestamp\n                            ).toLocaleString()}\n                            View File: arweave.net/${result.id}\n                            Explorer: ViewBlock\n                        \n                    `;\n            } catch (error) {\n              console.error(\"Upload failed:\", error);\n              statusDiv.innerHTML = `Upload failed: ${error.message}`;\n            }\n          }\n\n          // Make functions available globally for onclick handlers\n          window.connectWanderWallet = connectWanderWallet;\n          window.uploadFile = uploadFile;",
      "language": "html"
    },
    {
      "code": "",
      "language": "html"
    },
    {
      "code": "",
      "language": "html"
    },
    {
      "code": "// Network error handling\n    async function robustApiCall(apiFunction, retries = 3) {\n      for (let i = 0; i \n            setTimeout(resolve, 1000 * Math.pow(2, i))\n          );\n        }\n      }\n    }\n\n    // Usage example\n    const rates = await robustApiCall(() => turbo.getFiatRates());",
      "language": "javascript"
    },
    {
      "code": "// Production code here",
      "language": "html"
    },
    {
      "code": "// ‚ùå Problematic\n\n// ‚úÖ Working",
      "language": "javascript"
    },
    {
      "code": "// ‚ùå Problematic\nwindow.myFunction = async function() { ... }\n\n// ‚úÖ Working\nasync function myFunction() { ... }\nwindow.myFunction = myFunction;",
      "language": "javascript"
    },
    {
      "code": "// ‚ùå Problematic - these properties don't exist in result object\nconst totalBytes = result.totalBytes || result.dataSizeBytes;\n\n// ‚úÖ Correct - use original file size\nconst displayBytes = originalFile.size;\n\n// Available result properties: id, timestamp, winc, version,\n// deadlineHeight, dataCaches, fastFinalityIndexes, public, signature, owner",
      "language": "javascript"
    },
    {
      "code": "// ‚ùå Problematic - adjustedBytes doesn't exist in cost objects\nconst cost = costs[0];\nconsole.log(`Adjusted: ${cost.adjustedBytes.toLocaleString()}`);\n\n// ‚úÖ Correct - use available properties\nconst cost = costs[0];\nconsole.log(`Cost: ${cost.winc} winc`);\nconsole.log(`File size: ${originalFile.size.toLocaleString()} bytes`);\n// Available cost properties: winc (string), adjustments (array)",
      "language": "javascript"
    },
    {
      "code": "// Test CDN import\nconsole.log(\"Testing Turbo SDK import...\");\nconst turbo = TurboFactory.unauthenticated();\nconsole.log(\"‚úÖ SDK imported successfully\");\n\n// Test rate fetching\nconst rates = await turbo.getFiatRates();\nconsole.log(\"‚úÖ Rates fetched:\", rates);",
      "language": "javascript"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Overview",
      "id": "overview"
    },
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Best Practices",
      "id": "best-practices"
    },
    {
      "level": "h3",
      "text": "1. User Experience",
      "id": "1.-user-experience"
    },
    {
      "level": "h3",
      "text": "2. Security",
      "id": "2.-security"
    },
    {
      "level": "h3",
      "text": "3. Performance",
      "id": "3.-performance"
    },
    {
      "level": "h3",
      "text": "4. Development",
      "id": "4.-development"
    },
    {
      "level": "h2",
      "text": "Troubleshooting Common Issues",
      "id": "troubleshooting-common-issues"
    },
    {
      "level": "h3",
      "text": "CDN Import Errors",
      "id": "cdn-import-errors"
    },
    {
      "level": "h3",
      "text": "Function Scope Issues",
      "id": "function-scope-issues"
    },
    {
      "level": "h3",
      "text": "Upload Result Properties",
      "id": "upload-result-properties"
    },
    {
      "level": "h3",
      "text": "Upload Cost Properties",
      "id": "upload-cost-properties"
    },
    {
      "level": "h2",
      "text": "Testing Your Implementation",
      "id": "testing-your-implementation"
    },
    {
      "level": "h3",
      "text": "1. Basic Functionality Test",
      "id": "1.-basic-functionality-test"
    },
    {
      "level": "h3",
      "text": "2. Wallet Integration Test",
      "id": "2.-wallet-integration-test"
    },
    {
      "level": "h2",
      "text": "Additional Resources",
      "id": "additional-resources"
    }
  ],
  "url": "llms-txt#using-turbo-sdk-with-vanilla-html",
  "links": []
}