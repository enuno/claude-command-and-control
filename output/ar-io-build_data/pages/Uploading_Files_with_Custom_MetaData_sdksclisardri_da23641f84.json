{
  "title": "Uploading Files with Custom MetaData (/sdks/(clis)/ardrive-cli/(working-with-files)/uploading-files-with-custom-metadata)",
  "content": "ArDrive CLI has the capability of attaching custom metadata to ArFS File and Folder MetaData Transactions during the `upload-file` command. This metadata can be applied to either the GQL tags on the MetaData Transaction and/or into the MetaData Transaction's Data JSON.\n\nAll custom metadata applied must ultimately adhere to the following JSON shapes:\n\nWhen the custom metadata is attached to the MetaData Transaction's GQL tags, they will become visible on any Arweave GQL gateway and also third party tools that read GQL data.\n\nWhen these tags are added to the MetaData Transaction's Data JSON they can be read by downloading the JSON data directly from `https://arweave.net/METADATA_TX_ID`.\n\nTo add this custom metadata to your file metadata transactions, CLI users can pass custom metadata these parameters:\n\n-   `--metadata-file path/to/json/schema`\n-   `--metadata-json '{\"key\": \"val\", \"key-2\": true, \"key-3\": 420, \"key-4\": [\"more\", 1337]}'`\n-   `--metadata-gql-tags \"Tag-Name\" \"Tag Val\"`\n\nThe `--metadata-file` will accept a file path to JSON file containing custom metadata:\n\nThis JSON schema object must contain instructions on where to put this metadata with the `metaDataJson` and `metaDataGqlTags` keys. e.g:\n\nThe `--metadata-gql-tags` parameter accepts an array of string values to be applied to the MetaData Tx GQL Tags. This method of CLI input does not support multiple tag values for a given tag name and the input must be an EVEN number of string values. (Known bug: String values starting with the `\"-\"` character are currently not supported. Use --metadata-file parameter instead.) e.g:\n\nAnd the `--metadata-json` parameter will accept a stringified JSON input. It will apply all declared JSON fields directly to the MetaData Tx's Data JSON. e.g:\n\nCustom metadata applied to files and/or folders during the `upload-file` command will be read back through all existing read commands. e.g:\n\n#### Applying Unique Custom MetaData During Bulk Workflows\n\nWith some custom scripting and the `--metadata-file` parameter, the ArDrive CLI can be used to apply custom metadata to each file individually in a bulk workflow. For example, if you choose a numbered file naming pattern you can make use of a `for` loop:",
  "code_samples": [
    {
      "code": "// GQL Tags\ntype CustomMetaDataGqlTags = Record;\n\n// Data JSON Fields\ntype CustomMetaDataJsonFields = Record;\n\n    | string\n    | number\n    | boolean\n    | null\n    | { [member: string]: JsonSerializable }\n    | JsonSerializable[];",
      "language": "ts"
    },
    {
      "code": "{ IPFS-Add: 'MY_HASH' }\n{ 'Custom Name': ['Val 1', 'Val 2'] }",
      "language": "shell"
    },
    {
      "code": "ardrive upload-file --metadata-file path/to/metadata/json # ...",
      "language": "shell"
    },
    {
      "code": "{\n    \"metaDataJson\": {\n        \"Tag-Name\": [\"Value-1\", \"Value-2\"]\n    },\n    \"metaDataGqlTags\": {\n        \"GQL Tag Name\": \"Tag Value\"\n    }\n}",
      "language": "json"
    },
    {
      "code": "upload-file --metadata-gql-tags \"Custom Tag Name\" \"Custom Value\" # ...",
      "language": "shell"
    },
    {
      "code": "upload-file --metadata-json ' { \"json field\": \"value\", \"another fields\": false } ' # ...",
      "language": "shell"
    },
    {
      "code": "ardrive file-info -f 067c4008-9cbe-422e-b697-05442f73da2b\n{\n    \"appName\": \"ArDrive-CLI\",\n    \"appVersion\": \"1.17.0\",\n    \"arFS\": \"0.11\",\n    \"contentType\": \"application/json\",\n    \"driveId\": \"967215ca-a489-494b-97ec-0dd428d7be34\",\n    \"entityType\": \"file\",\n    \"name\": \"unique-name-9718\",\n    \"txId\": \"sxg8bNu6_bbaHkJTxAINVVoz_F-LiFe6s7OnxzoJJk4\",\n    \"unixTime\": 1657655070,\n    \"size\": 262148,\n    \"lastModifiedDate\": 1655409872705,\n    \"dataTxId\": \"ublZcIff77ejl3m0uEA8lXEfnTWmSBOFoz-HibqKeyk\",\n    \"dataContentType\": \"text/plain\",\n    \"parentFolderId\": \"97bc4fb5-aca4-4ffe-938f-1285153d98ca\",\n    \"entityId\": \"067c4008-9cbe-422e-b697-05442f73da2b\",\n    \"fileId\": \"067c4008-9cbe-422e-b697-05442f73da2b\",\n    \"IPFS-Add\": \"MY_HASH\",\n    \"Tag-1\": \"Val\",\n    \"Tag-2\": \"Val\",\n    \"Tag-3\": \"Val\",\n    \"Boost\": \"1.05\"\n}",
      "language": "shell"
    },
    {
      "code": "for i in {1..5}\ndo\nardrive upload-file -F f0c58c11-430c-4383-8e54-4d864cc7e927 --local-path \"../uploads/test-file-$i.txt\" -w \"/path/to/wallet.json\" --metadata-file \"../custom/metadata-$i.json\" --dry-run > \"file-result-$i.json\"\ndone",
      "language": "shell"
    }
  ],
  "headings": [],
  "url": "llms-txt#uploading-files-with-custom-metadata-(/sdks/(clis)/ardrive-cli/(working-with-files)/uploading-files-with-custom-metadata)",
  "links": []
}