{
  "title": "Request Flow (/sdks/wayfinder/wayfinder-core/request-flow)",
  "content": "The following sequence diagram illustrates how Wayfinder processes requests:",
  "code_samples": [
    {
      "code": "sequenceDiagram\n    participant Client\n    participant Wayfinder\n    participant Gateways Provider\n    participant Routing Strategy\n    participant Selected Gateway\n    participant Verification Strategy\n    participant Trusted Gateways\n\n    Client->>Wayfinder: request('ar://example')\n    activate Wayfinder\n\n    Wayfinder->>+Gateways Provider: getGateways()\n    Gateways Provider-->>-Wayfinder: List of gateway URLs\n\n    Wayfinder->>+Routing Strategy: selectGateway() from list of gateways\n    Routing Strategy-->>-Wayfinder: Select gateway for request\n\n    Wayfinder->>+Selected Gateway: Send HTTP request to target gateway\n    Selected Gateway-->>-Wayfinder: Response with data & txId\n\n    activate Verification Strategy\n    Wayfinder->>+Verification Strategy: verifyData(responseData, txId)\n    Verification Strategy->>Wayfinder: Emit 'verification-progress' events\n    Verification Strategy->>Trusted Gateways: Request verification headers\n    Trusted Gateways-->>Verification Strategy: Return verification headers\n    Verification Strategy->>Verification Strategy: Compare computed vs trusted data\n    Verification Strategy-->>-Wayfinder: Return request data with verification result\n\n    alt Verification passed\n        Wayfinder->>Wayfinder: Emit 'verification-passed' event\n        Wayfinder-->>Client: Return verified response\n    else Verification failed\n        Wayfinder->>Wayfinder: Emit 'verification-failed' event\n        Wayfinder-->>Client: Throw verification error\n    end\n\n    deactivate Wayfinder",
      "language": "mermaid"
    }
  ],
  "headings": [],
  "url": "llms-txt#request-flow-(/sdks/wayfinder/wayfinder-core/request-flow)",
  "links": []
}